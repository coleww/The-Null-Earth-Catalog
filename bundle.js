(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var lipogram = require('lipogram')
var markov = require('@coleww/markov')
var tipots = require('this-is-probably-ok-to-say')

module.exports = function () {
  return "howdy"
}
},{"@coleww/markov":13,"lipogram":30,"this-is-probably-ok-to-say":49}],2:[function(require,module,exports){
var tipots = require('this-is-probably-ok-to-say')
module.exports = function () {
  return "howdy"
}
},{"this-is-probably-ok-to-say":49}],3:[function(require,module,exports){
var queneauBuckets = require('queneau-buckets')
var newSlang = require('new-slang')
var tipots = require('this-is-probably-ok-to-say')
module.exports = function () {
  return "howdy"
}
},{"new-slang":31,"queneau-buckets":35,"this-is-probably-ok-to-say":49}],4:[function(require,module,exports){
var isSnowball = require('is-snowball')
var tipots = require('this-is-probably-ok-to-say')
// fs.readdirSync('../corpuses') // um read all the things, pull out snowballs.

// make a snowball markov or something?
module.exports = function () {
  return "howdy"
}
},{"is-snowball":28,"this-is-probably-ok-to-say":49}],5:[function(require,module,exports){
module.exports = [
"understanding whole systems",
"shelter and land use",
"industry and craft",
"communication in a post-internet world",
"community and empathetic cooperation",
"nomadic techniques of the future",
"learning to learn",
"emergent technologies",
"generative systems",
"simulacra and simulation",
"the society of the spectacle",
"postmodernism or the logic of late capitalism",
"dadaist maneuvers in the dark"]
},{}],6:[function(require,module,exports){
module.exports = ["The chief defect of all hitherto existing materialism – that of Feuerbach included – is that the thing, reality, sensuousness, is conceived only in the form of the object or of contemplation, but not as sensuous human activity, practice, not subjectively.",
"Hence, in contradistinction to materialism, the active side was developed abstractly by idealism – which, of course, does not know real, sensuous activity as such.",
"Feuerbach wants sensuous objects, really distinct from the thought objects, but he does not conceive human activity itself as objective activity.",
"Hence, in The Essence of Christianity, he regards the theoretical attitude as the only genuinely human attitude, while practice is conceived and fixed only in its dirty-judaical manifestation.",
"Hence he does not grasp the significance of “revolutionary”, of “practical-critical”, activity.",
"The question whether objective truth can be attributed to human thinking is not a question of theory but is a practical question.",
"Man must prove the truth — i.",
"the reality and power, the this-sidedness of his thinking in practice.",
"The dispute over the reality or non-reality of thinking that is isolated from practice is a purely scholastic question.",
"The materialist doctrine concerning the changing of circumstances and upbringing forgets that circumstances are changed by men and that it is essential to educate the educator himself.",
"This doctrine must, therefore, divide society into two parts, one of which is superior to society.",
"The coincidence of the changing of circumstances and of human activity or self-changing can be conceived and rationally understood only as revolutionary practice.",
"Feuerbach starts out from the fact of religious self-alienation, of the duplication of the world into a religious world and a secular one.",
"His work consists in resolving the religious world into its secular basis.",
"But that the secular basis detaches itself from itself and establishes itself as an independent realm in the clouds can only be explained by the cleavages and self-contradictions within this secular basis.",
"The latter must, therefore, in itself be both understood in its contradiction and revolutionized in practice.",
"Thus, for instance, after the earthly family is discovered to be the secret of the holy family, the former must then itself be destroyed in theory and in practice.",
"Feuerbach, not satisfied with abstract thinking, wants contemplation; but he does not conceive sensuousness as practical, human-sensuous activity.",
"Feuerbach resolves the religious essence into the human essence.",
"But the human essence is no abstraction inherent in each single individual.",
"In its reality it is the ensemble of the social relations.",
"Feuerbach, who does not enter upon a criticism of this real essence, is consequently compelled:",
"To abstract from the historical process and to fix the religious sentiment as something by itself and to presuppose an abstract – isolated – human individual.",
"Essence, therefore, can be comprehended only as “genus”, as an internal, dumb generality which naturally unites the many individuals.",
"Feuerbach, consequently, does not see that the “religious sentiment” is itself a social product, and that the abstract individual whom he analyses belongs to a particular form of society.",
"All social life is essentially practical.",
"All mysteries which lead theory to mysticism find their rational solution in human practice and in the comprehension of this practice.",
"The highest point reached by contemplative materialism, that is, materialism which does not comprehend sensuousness as practical activity, is contemplation of single individuals and of civil society.",
"The standpoint of the old materialism is civil society; the standpoint of the new is human society, or social humanity.",
"The philosophers have only interpreted the world, in various ways; the point is to change it.",
"The wealth of those societies in which the capitalist mode of production prevails, presents itself as “an immense accumulation of commodities,”  its unit being a single commodity.",
"Our investigation must therefore begin with the analysis of a commodity.",
"A commodity is, in the first place, an object outside us, a thing that by its properties satisfies human wants of some sort or another.",
"The nature of such wants, whether, for instance, they spring from the stomach or from fancy, makes no difference.",
"Neither are we here concerned to know how the object satisfies these wants, whether directly as means of subsistence, or indirectly as means of production.",
"Every useful thing, as iron, paper, &c.",
"may be looked at from the two points of view of quality and quantity.",
"It is an assemblage of many properties, and may therefore be of use in various ways.",
"To discover the various uses of things is the work of history.",
"So also is the establishment of socially-recognized standards of measure for the quantities of these useful objects.",
"The diversity of these measures has its origin partly in the diverse nature of the objects to be measured, partly in convention.",
"The utility of a thing makes it a use value.",
"But this utility is not a thing of air.",
"Being limited by the physical properties of the commodity, it has no existence apart from that commodity.",
"A commodity, such as iron, corn, or a diamond, is therefore, so far as it is a material thing, a use value, something useful.",
"This property of a commodity is independent of the amount of labour required to appropriate its useful qualities.",
"When treating of use value, we always assume to be dealing with definite quantities, such as dozens of watches, yards of linen, or tons of iron.",
"The use values of commodities furnish the material for a special study, that of the commercial knowledge of commodities.",
"Use values become a reality only by use or consumption: they also constitute the substance of all wealth, whatever may be the social form of that wealth.",
"In the form of society we are about to consider, they are, in addition, the material depositories of exchange value.",
"Exchange value, at first sight, presents itself as a quantitative relation, as the proportion in which values in use of one sort are exchanged for those of another sort,  a relation constantly changing with time and place.",
"Hence exchange value appears to be something accidental and purely relative, and consequently an intrinsic value, i.",
"an exchange value that is inseparably connected with, inherent in commodities, seems a contradiction in terms.",
"Let us consider the matter a little more closely.",
"A given commodity, e.",
"a quarter of wheat is exchanged for x blacking, y silk, or z gold, &c.",
"in short, for other commodities in the most different proportions.",
"Instead of one exchange value, the wheat has, therefore, a great many.",
"But since x blacking, y silk, or z gold &c.",
"each represents the exchange value of one quarter of wheat, x blacking, y silk, z gold, &c.",
"must, as exchange values, be replaceable by each other, or equal to each other.",
"Therefore, first: the valid exchange values of a given commodity express something equal; secondly, exchange value, generally, is only the mode of expression, the phenomenal form, of something contained in it, yet distinguishable from it.",
"Let us take two commodities, e.",
"corn and iron.",
"The proportions in which they are exchangeable, whatever those proportions may be, can always be represented by an equation in which a given quantity of corn is equated to some quantity of iron: e.",
"1 quarter corn = x cwt.",
"iron.",
"What does this equation tell us?",
"It tells us that in two different things – in 1 quarter of corn and x cwt.",
"of iron, there exists in equal quantities something common to both.",
"The two things must therefore be equal to a third, which in itself is neither the one nor the other.",
"Each of them, so far as it is exchange value, must therefore be reducible to this third.",
"A simple geometrical illustration will make this clear.",
"In order to calculate and compare the areas of rectilinear figures, we decompose them into triangles.",
"But the area of the triangle itself is expressed by something totally different from its visible figure, namely, by half the product of the base multiplied by the altitude.",
"In the same way the exchange values of commodities must be capable of being expressed in terms of something common to them all, of which thing they represent a greater or less quantity.",
"This common “something” cannot be either a geometrical, a chemical, or any other natural property of commodities.",
"Such properties claim our attention only in so far as they affect the utility of those commodities, make them use values.",
"But the exchange of commodities is evidently an act characterised by a total abstraction from use value.",
"Then one use value is just as good as another, provided only it be present in sufficient quantity.",
"Or, as old Barbon says,",
"“one sort of wares are as good as another, if the values be equal.",
"There is no difference or distinction in things of equal value .",
"An hundred pounds’ worth of lead or iron, is of as great value as one hundred pounds’ worth of silver or gold.",
"As use values, commodities are, above all, of different qualities, but as exchange values they are merely different quantities, and consequently do not contain an atom of use value.",
"If then we leave out of consideration the use value of commodities, they have only one common property left, that of being products of labour.",
"But even the product of labour itself has undergone a change in our hands.",
"If we make abstraction from its use value, we make abstraction at the same time from the material elements and shapes that make the product a use value; we see in it no longer a table, a house, yarn, or any other useful thing.",
"Its existence as a material thing is put out of sight.",
"Neither can it any longer be regarded as the product of the labour of the joiner, the mason, the spinner, or of any other definite kind of productive labour.",
"Along with the useful qualities of the products themselves, we put out of sight both the useful character of the various kinds of labour embodied in them, and the concrete forms of that labour; there is nothing left but what is common to them all; all are reduced to one and the same sort of labour, human labour in the abstract.",
"Let us now consider the residue of each of these products; it consists of the same unsubstantial reality in each, a mere congelation of homogeneous human labour, of labour power expended without regard to the mode of its expenditure.",
"All that these things now tell us is, that human labour power has been expended in their production, that human labour is embodied in them.",
"When looked at as crystals of this social substance, common to them all, they are – Values.",
"We have seen that when commodities are exchanged, their exchange value manifests itself as something totally independent of their use value.",
"But if we abstract from their use value, there remains their Value as defined above.",
"Therefore, the common substance that manifests itself in the exchange value of commodities, whenever they are exchanged, is their value.",
"The progress of our investigation will show that exchange value is the only form in which the value of commodities can manifest itself or be expressed.",
"For the present, however, we have to consider the nature of value independently of this, its form.",
"A use value, or useful article, therefore, has value only because human labour in the abstract has been embodied or materialised in it.",
"How, then, is the magnitude of this value to be measured?",
"Plainly, by the quantity of the value-creating substance, the labour, contained in the article.",
"The quantity of labour, however, is measured by its duration, and labour time in its turn finds its standard in weeks, days, and hours.",
"Some people might think that if the value of a commodity is determined by the quantity of labour spent on it, the more idle and unskilful the labourer, the more valuable would his commodity be, because more time would be required in its production.",
"The labour, however, that forms the substance of value, is homogeneous human labour, expenditure of one uniform labour power.",
"The total labour power of society, which is embodied in the sum total of the values of all commodities produced by that society, counts here as one homogeneous mass of human labour power, composed though it be of innumerable individual units.",
"Each of these units is the same as any other, so far as it has the character of the average labour power of society, and takes effect as such; that is, so far as it requires for producing a commodity, no more time than is needed on an average, no more than is socially necessary.",
"The labour time socially necessary is that required to produce an article under the normal conditions of production, and with the average degree of skill and intensity prevalent at the time.",
"The introduction of power-looms into England probably reduced by one-half the labour required to weave a given quantity of yarn into cloth.",
"The hand-loom weavers, as a matter of fact, continued to require the same time as before; but for all that, the product of one hour of their labour represented after the change only half an hour’s social labour, and consequently fell to one-half its former value.",
"We see then that that which determines the magnitude of the value of any article is the amount of labour socially necessary, or the labour time socially necessary for its production.",
"Each individual commodity, in this connexion, is to be considered as an average sample of its class.",
"Commodities, therefore, in which equal quantities of labour are embodied, or which can be produced in the same time, have the same value.",
"The value of one commodity is to the value of any other, as the labour time necessary for the production of the one is to that necessary for the production of the other.",
"“As values, all commodities are only definite masses of congealed labour time.",
"The value of a commodity would therefore remain constant, if the labour time required for its production also remained constant.",
"But the latter changes with every variation in the productiveness of labour.",
"This productiveness is determined by various circumstances, amongst others, by the average amount of skill of the workmen, the state of science, and the degree of its practical application, the social organisation of production, the extent and capabilities of the means of production, and by physical conditions.",
"For example, the same amount of labour in favourable seasons is embodied in 8 bushels of corn, and in unfavourable, only in four.",
"The same labour extracts from rich mines more metal than from poor mines.",
"Diamonds are of very rare occurrence on the earth’s surface, and hence their discovery costs, on an average, a great deal of labour time.",
"Consequently much labour is represented in a small compass.",
"Jacob doubts whether gold has ever been paid for at its full value.",
"This applies still more to diamonds.",
"According to Eschwege, the total produce of the Brazilian diamond mines for the eighty years, ending in 1823, had not realised the price of one-and-a-half years’ average produce of the sugar and coffee plantations of the same country, although the diamonds cost much more labour, and therefore represented more value.",
"With richer mines, the same quantity of labour would embody itself in more diamonds, and their value would fall.",
"If we could succeed at a small expenditure of labour, in converting carbon into diamonds, their value might fall below that of bricks.",
"In general, the greater the productiveness of labour, the less is the labour time required for the production of an article, the less is the amount of labour crystallised in that article, and the less is its value; and vice versâ, the less the productiveness of labour, the greater is the labour time required for the production of an article, and the greater is its value.",
"The value of a commodity, therefore, varies directly as the quantity, and inversely as the productiveness, of the labour incorporated in it.",
"[A]",
"A thing can be a use value, without having value.",
"This is the case whenever its utility to man is not due to labour.",
"Such are air, virgin soil, natural meadows, &c.",
"A thing can be useful, and the product of human labour, without being a commodity.",
"Whoever directly satisfies his wants with the produce of his own labour, creates, indeed, use values, but not commodities.",
"In order to produce the latter, he must not only produce use values, but use values for others, social use values.",
"(And not only for others, without more.",
"The mediaeval peasant produced quit-rent-corn for his feudal lord and tithe-corn for his parson.",
"But neither the quit-rent-corn nor the tithe-corn became commodities by reason of the fact that they had been produced for others.",
"To become a commodity a product must be transferred to another, whom it will serve as a use value, by means of an exchange.",
"Lastly nothing can have value, without being an object of utility.",
"If the thing is useless, so is the labour contained in it; the labour does not count as labour, and therefore creates no value.",
"SECTION 2",
"THE two-fold CHARACTER OF",
"THE LABOUR EMBODIED IN COMMODITIES",
"At first sight a commodity presented itself to us as a complex of two things – use value and exchange value.",
"Later on, we saw also that labour, too, possesses the same two-fold nature; for, so far as it finds expression in value, it does not possess the same characteristics that belong to it as a creator of use values.",
"I was the first to point out and to examine critically this two-fold nature of the labour contained in commodities.",
"As this point is the pivot on which a clear comprehension of political economy turns, we must go more into detail.",
"Let us take two commodities such as a coat and 10 yards of linen, and let the former be double the value of the latter, so that, if 10 yards of linen = W, the coat = 2W.",
"The coat is a use value that satisfies a particular want.",
"Its existence is the result of a special sort of productive activity, the nature of which is determined by its aim, mode of operation, subject, means, and result.",
"The labour, whose utility is thus represented by the value in use of its product, or which manifests itself by making its product a use value, we call useful labour.",
"In this connection we consider only its useful effect.",
"As the coat and the linen are two qualitatively different use values, so also are the two forms of labour that produce them, tailoring and weaving.",
"Were these two objects not qualitatively different, not produced respectively by labour of different quality, they could not stand to each other in the relation of commodities.",
"Coats are not exchanged for coats, one use value is not exchanged for another of the same kind.",
"To all the different varieties of values in use there correspond as many different kinds of useful labour, classified according to the order, genus, species, and variety to which they belong in the social division of labour.",
"This division of labour is a necessary condition for the production of commodities, but it does not follow, conversely, that the production of commodities is a necessary condition for the division of labour.",
"In the primitive Indian community there is social division of labour, without production of commodities.",
"Or, to take an example nearer home, in every factory the labour is divided according to a system, but this division is not brought about by the operatives mutually exchanging their individual products.",
"Only such products can become commodities with regard to each other, as result from different kinds of labour, each kind being carried on independently and for the account of private individuals.",
"To resume, then: In the use value of each commodity there is contained useful labour, i.",
"productive activity of a definite kind and exercised with a definite aim.",
"Use values cannot confront each other as commodities, unless the useful labour embodied in them is qualitatively different in each of them.",
"In a community, the produce of which in general takes the form of commodities, i.",
"in a community of commodity producers, this qualitative difference between the useful forms of labour that are carried on independently of individual producers, each on their own account, develops into a complex system, a social division of labour.",
"Anyhow, whether the coat be worn by the tailor or by his customer, in either case it operates as a use value.",
"Nor is the relation between the coat and the labour that produced it altered by the circumstance that tailoring may have become a special trade, an independent branch of the social division of labour.",
"Wherever the want of clothing forced them to it, the human race made clothes for thousands of years, without a single man becoming a tailor.",
"But coats and linen, like every other element of material wealth that is not the spontaneous produce of Nature, must invariably owe their existence to a special productive activity, exercised with a definite aim, an activity that appropriates particular nature-given materials to particular human wants.",
"So far therefore as labour is a creator of use value, is useful labour, it is a necessary condition, independent of all forms of society, for the existence of the human race; it is an eternal nature-imposed necessity, without which there can be no material exchanges between man and Nature, and therefore no life.",
"The use values, coat, linen, &c.",
"the bodies of commodities, are combinations of two elements – matter and labour.",
"If we take away the useful labour expended upon them, a material substratum is always left, which is furnished by Nature without the help of man.",
"The latter can work only as Nature does, that is by changing the form of matter.",
"Nay more, in this work of changing the form he is constantly helped by natural forces.",
"We see, then, that labour is not the only source of material wealth, of use values produced by labour.",
"As William Petty puts it, labour is its father and the earth its mother.",
"Let us now pass from the commodity considered as a use value to the value of commodities.",
"By our assumption, the coat is worth twice as much as the linen.",
"But this is a mere quantitative difference, which for the present does not concern us.",
"We bear in mind, however, that if the value of the coat is double that of 10 yds of linen, 20 yds of linen must have the same value as one coat.",
"So far as they are values, the coat and the linen are things of a like substance, objective expressions of essentially identical labour.",
"But tailoring and weaving are, qualitatively, different kinds of labour.",
"There are, however, states of society in which one and the same man does tailoring and weaving alternately, in which case these two forms of labour are mere modifications of the labour of the same individual, and not special and fixed functions of different persons, just as the coat which our tailor makes one day, and the trousers which he makes another day, imply only a variation in the labour of one and the same individual.",
"Moreover, we see at a glance that, in our capitalist society, a given portion of human labour is, in accordance with the varying demand, at one time supplied in the form of tailoring, at another in the form of weaving.",
"This change may possibly not take place without friction, but take place it must.",
"Productive activity, if we leave out of sight its special form, viz.",
"the useful character of the labour, is nothing but the expenditure of human labour power.",
"Tailoring and weaving, though qualitatively different productive activities, are each a productive expenditure of human brains, nerves, and muscles, and in this sense are human labour.",
"They are but two different modes of expending human labour power.",
"Of course, this labour power, which remains the same under all its modifications, must have attained a certain pitch of development before it can be expended in a multiplicity of modes.",
"But the value of a commodity represents human labour in the abstract, the expenditure of human labour in general.",
"And just as in society, a general or a banker plays a great part, but mere man, on the other hand, a very shabby part,  so here with mere human labour.",
"It is the expenditure of simple labour power, i.",
"of the labour power which, on an average, apart from any special development, exists in the organism of every ordinary individual.",
"Simple average labour, it is true, varies in character in different countries and at different times, but in a particular society it is given.",
"Skilled labour counts only as simple labour intensified, or rather, as multiplied simple labour, a given quantity of skilled being considered equal to a greater quantity of simple labour.",
"Experience shows that this reduction is constantly being made.",
"A commodity may be the product of the most skilled labour, but its value, by equating it to the product of simple unskilled labour, represents a definite quantity of the latter labour alone.",
"The different proportions in which different sorts of labour are reduced to unskilled labour as their standard, are established by a social process that goes on behind the backs of the producers, and, consequently, appear to be fixed by custom.",
"For simplicity’s sake we shall henceforth account every kind of labour to be unskilled, simple labour; by this we do no more than save ourselves the trouble of making the reduction.",
"Just as, therefore, in viewing the coat and linen as values, we abstract from their different use values, so it is with the labour represented by those values: we disregard the difference between its useful forms, weaving and tailoring.",
"As the use values, coat and linen, are combinations of special productive activities with cloth and yarn, while the values, coat and linen, are, on the other hand, mere homogeneous congelations of undifferentiated labour, so the labour embodied in these latter values does not count by virtue of its productive relation to cloth and yarn, but only as being expenditure of human labour power.",
"Tailoring and weaving are necessary factors in the creation of the use values, coat and linen, precisely because these two kinds of labour are of different qualities; but only in so far as abstraction is made from their special qualities, only in so far as both possess the same quality of being human labour, do tailoring and weaving form the substance of the values of the same articles.",
"Coats and linen, however, are not merely values, but values of definite magnitude, and according to our assumption, the coat is worth twice as much as the ten yards of linen.",
"Whence this difference in their values?",
"It is owing to the fact that the linen contains only half as much labour as the coat, and consequently, that in the production of the latter, labour power must have been expended during twice the time necessary for the production of the former.",
"While, therefore, with reference to use value, the labour contained in a commodity counts only qualitatively, with reference to value it counts only quantitatively, and must first be reduced to human labour pure and simple.",
"In the former case, it is a question of How and What, in the latter of How much?",
"How long a time?",
"Since the magnitude of the value of a commodity represents only the quantity of labour embodied in it, it follows that all commodities, when taken in certain proportions, must be equal in value.",
"If the productive power of all the different sorts of useful labour required for the production of a coat remains unchanged, the sum of the values of the coats produced increases with their number.",
"If one coat represents x days’ labour, two coats represent 2x days’ labour, and so on.",
"But assume that the duration of the labour necessary for the production of a coat becomes doubled or halved.",
"In the first case one coat is worth as much as two coats were before; in the second case, two coats are only worth as much as one was before, although in both cases one coat renders the same service as before, and the useful labour embodied in it remains of the same quality.",
"But the quantity of labour spent on its production has altered.",
"An increase in the quantity of use values is an increase of material wealth.",
"With two coats two men can be clothed, with one coat only one man.",
"Nevertheless, an increased quantity of material wealth may correspond to a simultaneous fall in the magnitude of its value.",
"This antagonistic movement has its origin in the two-fold character of labour.",
"Productive power has reference, of course, only to labour of some useful concrete form, the efficacy of any special productive activity during a given time being dependent on its productiveness.",
"Useful labour becomes, therefore, a more or less abundant source of products, in proportion to the rise or fall of its productiveness.",
"On the other hand, no change in this productiveness affects the labour represented by value.",
"Since productive power is an attribute of the concrete useful forms of labour, of course it can no longer have any bearing on that labour, so soon as we make abstraction from those concrete useful forms.",
"However then productive power may vary, the same labour, exercised during equal periods of time, always yields equal amounts of value.",
"But it will yield, during equal periods of time, different quantities of values in use; more, if the productive power rise, fewer, if it fall.",
"The same change in productive power, which increases the fruitfulness of labour, and, in consequence, the quantity of use values produced by that labour, will diminish the total value of this increased quantity of use values, provided such change shorten the total labour time necessary for their production; and vice versâ.",
"On the one hand all labour is, speaking physiologically, an expenditure of human labour power, and in its character of identical abstract human labour, it creates and forms the value of commodities.",
"On the other hand, all labour is the expenditure of human labour power in a special form and with a definite aim, and in this, its character of concrete useful labour, it produces use values.",
"SECTION 3",
"THE FORM OF VALUE OR EXCHANGE VALUE",
"Commodities come into the world in the shape of use values, articles, or goods, such as iron, linen, corn, &c.",
"This is their plain, homely, bodily form.",
"They are, however, commodities, only because they are something two-fold, both objects of utility, and, at the same time, depositories of value.",
"They manifest themselves therefore as commodities, or have the form of commodities, only in so far as they have two forms, a physical or natural form, and a value form.",
"The reality of the value of commodities differs in this respect from Dame Quickly, that we don’t know “where to have it.",
"The value of commodities is the very opposite of the coarse materiality of their substance, not an atom of matter enters into its composition.",
"Turn and examine a single commodity, by itself, as we will, yet in so far as it remains an object of value, it seems impossible to grasp it.",
"If, however, we bear in mind that the value of commodities has a purely social reality, and that they acquire this reality only in so far as they are expressions or embodiments of one identical social substance, viz.",
"human labour, it follows as a matter of course, that value can only manifest itself in the social relation of commodity to commodity.",
"In fact we started from exchange value, or the exchange relation of commodities, in order to get at the value that lies hidden behind it.",
"We must now return to this form under which value first appeared to us.",
"Every one knows, if he knows nothing else, that commodities have a value form common to them all, and presenting a marked contrast with the varied bodily forms of their use values.",
"I mean their money form.",
"Here, however, a task is set us, the performance of which has never yet even been attempted by bourgeois economy, the task of tracing the genesis of this money form, of developing the expression of value implied in the value relation of commodities, from its simplest, almost imperceptible outline, to the dazzling money-form.",
"By doing this we shall, at the same time, solve the riddle presented by money.",
"The simplest value-relation is evidently that of one commodity to some one other commodity of a different kind.",
"Hence the relation between the values of two commodities supplies us with the simplest expression of the value of a single commodity.",
"Elementary or Accidental Form Of Value",
"x commodity A = y commodity B, or",
"x commodity A is worth y commodity B.",
"20 yards of linen = 1 coat, or",
"20 Yards of linen are worth 1 coat.",
"The two poles of the expression of value.",
"Relative form and Equivalent form",
"The whole mystery of the form of value lies hidden in this elementary form.",
"Its analysis, therefore, is our real difficulty.",
"Here two different kinds of commodities (in our example the linen and the coat), evidently play two different parts.",
"The linen expresses its value in the coat; the coat serves as the material in which that value is expressed.",
"The former plays an active, the latter a passive, part.",
"The value of the linen is represented as relative value, or appears in relative form.",
"The coat officiates as equivalent, or appears in equivalent form.",
"The relative form and the equivalent form are two intimately connected, mutually dependent and inseparable elements of the expression of value; but, at the same time, are mutually exclusive, antagonistic extremes – i.",
"poles of the same expression.",
"They are allotted respectively to the two different commodities brought into relation by that expression.",
"It is not possible to express the value of linen in linen.",
"20 yards of linen = 20 yards of linen is no expression of value.",
"On the contrary, such an equation merely says that 20 yards of linen are nothing else than 20 yards of linen, a definite quantity of the use value linen.",
"The value of the linen can therefore be expressed only relatively – i.",
"in some other commodity.",
"The relative form of the value of the linen presupposes, therefore, the presence of some other commodity – here the coat – under the form of an equivalent.",
"On the other hand, the commodity that figures as the equivalent cannot at the same time assume the relative form.",
"That second commodity is not the one whose value is expressed.",
"Its function is merely to serve as the material in which the value of the first commodity is expressed.",
"No doubt, the expression 20 yards of linen = 1 coat, or 20 yards of linen are worth 1 coat, implies the opposite relation.",
"1 coat = 20 yards of linen, or 1 coat is worth 20 yards of linen.",
"But, in that case, I must reverse the equation, in order to express the value of the coat relatively; and so soon as I do that the linen becomes the equivalent instead of the coat.",
"A single commodity cannot, therefore, simultaneously assume, in the same expression of value, both forms.",
"The very polarity of these forms makes them mutually exclusive.",
"Whether, then, a commodity assumes the relative form, or the opposite equivalent form, depends entirely upon its accidental position in the expression of value – that is, upon whether it is the commodity whose value is being expressed or the commodity in which value is being expressed.",
"The Relative Form of value",
"(a.",
"The nature and import of this form",
"In order to discover how the elementary expression of the value of a commodity lies hidden in the value relation of two commodities, we must, in the first place, consider the latter entirely apart from its quantitative aspect.",
"The usual mode of procedure is generally the reverse, and in the value relation nothing is seen but the proportion between definite quantities of two different sorts of commodities that are considered equal to each other.",
"It is apt to be forgotten that the magnitudes of different things can be compared quantitatively, only when those magnitudes are expressed in terms of the same unit.",
"It is only as expressions of such a unit that they are of the same denomination, and therefore commensurable.",
"Whether 20 yards of linen = 1 coat or = 20 coats or = x coats – that is, whether a given quantity of linen is worth few or many coats, every such statement implies that the linen and coats, as magnitudes of value, are expressions of the same unit, things of the same kind.",
"Linen = coat is the basis of the equation.",
"But the two commodities whose identity of quality is thus assumed, do not play the same part.",
"It is only the value of the linen that is expressed.",
"And how?",
"By its reference to the coat as its equivalent, as something that can be exchanged for it.",
"In this relation the coat is the mode of existence of value, is value embodied, for only as such is it the same as the linen.",
"On the other hand, the linen’s own value comes to the front, receives independent expression, for it is only as being value that it is comparable with the coat as a thing of equal value, or exchangeable with the coat.",
"To borrow an illustration from chemistry, butyric acid is a different substance from propyl formate.",
"Yet both are made up of the same chemical substances, carbon (C), hydrogen (H), and oxygen (O), and that, too, in like proportions – namely, C4H8O2.",
"If now we equate butyric acid to propyl formate, then, in the first place, propyl formate would be, in this relation, merely a form of existence of C4H8O2; and in the second place, we should be stating that butyric acid also consists of C4H8O2.",
"Therefore, by thus equating the two substances, expression would be given to their chemical composition, while their different physical forms would be neglected.",
"If we say that, as values, commodities are mere congelations of human labour, we reduce them by our analysis, it is true, to the abstraction, value; but we ascribe to this value no form apart from their bodily form.",
"It is otherwise in the value relation of one commodity to another.",
"Here, the one stands forth in its character of value by reason of its relation to the other.",
"By making the coat the equivalent of the linen, we equate the labour embodied in the former to that in the latter.",
"Now, it is true that the tailoring, which makes the coat, is concrete labour of a different sort from the weaving which makes the linen.",
"But the act of equating it to the weaving, reduces the tailoring to that which is really equal in the two kinds of labour, to their common character of human labour.",
"In this roundabout way, then, the fact is expressed, that weaving also, in so far as it weaves value, has nothing to distinguish it from tailoring, and, consequently, is abstract human labour.",
"It is the expression of equivalence between different sorts of commodities that alone brings into relief the specific character of value-creating labour, and this it does by actually reducing the different varieties of labour embodied in the different kinds of commodities to their common quality of human labour in the abstract.",
"There is, however, something else required beyond the expression of the specific character of the labour of which the value of the linen consists.",
"Human labour power in motion, or human labour, creates value, but is not itself value.",
"It becomes value only in its congealed state, when embodied in the form of some object.",
"In order to express the value of the linen as a congelation of human labour, that value must be expressed as having objective existence, as being a something materially different from the linen itself, and yet a something common to the linen and all other commodities.",
"The problem is already solved.",
"When occupying the position of equivalent in the equation of value, the coat ranks qualitatively as the equal of the linen, as something of the same kind, because it is value.",
"In this position it is a thing in which we see nothing but value, or whose palpable bodily form represents value.",
"Yet the coat itself, the body of the commodity, coat, is a mere use value.",
"A coat as such no more tells us it is value, than does the first piece of linen we take hold of.",
"This shows that when placed in value-relation to the linen, the coat signifies more than when out of that relation, just as many a man strutting about in a gorgeous uniform counts for more than when in mufti.",
"In the production of the coat, human labour power, in the shape of tailoring, must have been actually expended.",
"Human labour is therefore accumulated in it.",
"In this aspect the coat is a depository of value, but though worn to a thread, it does not let this fact show through.",
"And as equivalent of the linen in the value equation, it exists under this aspect alone, counts therefore as embodied value, as a body that is value.",
"A, for instance, cannot be “your majesty” to B, unless at the same time majesty in B’s eyes assumes the bodily form of A, and, what is more, with every new father of the people, changes its features, hair, and many other things besides.",
"Hence, in the value equation, in which the coat is the equivalent of the linen, the coat officiates as the form of value.",
"The value of the commodity linen is expressed by the bodily form of the commodity coat, the value of one by the use value of the other.",
"As a use value, the linen is something palpably different from the coat; as value, it is the same as the coat, and now has the appearance of a coat.",
"Thus the linen acquires a value form different from its physical form.",
"The fact that it is value, is made manifest by its equality with the coat, just as the sheep’s nature of a Christian is shown in his resemblance to the Lamb of God.",
"We see, then, all that our analysis of the value of commodities has already told us, is told us by the linen itself, so soon as it comes into communication with another commodity, the coat.",
"Only it betrays its thoughts in that language with which alone it is familiar, the language of commodities.",
"In order to tell us that its own value is created by labour in its abstract character of human labour, it says that the coat, in so far as it is worth as much as the linen, and therefore is value, consists of the same labour as the linen.",
"In order to inform us that its sublime reality as value is not the same as its buckram body, it says that value has the appearance of a coat, and consequently that so far as the linen is value, it and the coat are as like as two peas.",
"We may here remark, that the language of commodities has, besides Hebrew, many other more or less correct dialects.",
"The German “Wertsein,” to be worth, for instance, expresses in a less striking manner than the Romance verbs “valere,” “valer,” “valoir,” that the equating of commodity B to commodity A, is commodity A’s own mode of expressing its value.",
"Paris vaut bien une messe.",
"[Paris is certainly worth a mass]",
"By means, therefore, of the value-relation expressed in our equation, the bodily form of commodity B becomes the value form of commodity A, or the body of commodity B acts as a mirror to the value of commodity A.",
"By putting itself in relation with commodity B, as value in propriâ personâ, as the matter of which human labour is made up, the commodity A converts the value in use, B, into the substance in which to express its, A’s, own value.",
"The value of A, thus expressed in the use value of B, has taken the form of relative value.",
"(b.",
"Quantitative determination of Relative value",
"Every commodity, whose value it is intended to express, is a useful object of given quantity, as 15 bushels of corn, or 100 lbs of coffee.",
"And a given quantity of any commodity contains a definite quantity of human labour.",
"The value form must therefore not only express value generally, but also value in definite quantity.",
"Therefore, in the value relation of commodity A to commodity B, of the linen to the coat, not only is the latter, as value in general, made the equal in quality of the linen, but a definite quantity of coat (1 coat) is made the equivalent of a definite quantity (20 yards) of linen.",
"The equation, 20 yards of linen = 1 coat, or 20 yards of linen are worth one coat, implies that the same quantity of value substance (congealed labour) is embodied in both; that the two commodities have each cost the same amount of labour of the same quantity of labour time.",
"But the labour time necessary for the production of 20 yards of linen or 1 coat varies with every change in the productiveness of weaving or tailoring.",
"We have now to consider the influence of such changes on the quantitative aspect of the relative expression of value.",
"Let the value of the linen vary,  that of the coat remaining constant.",
"If, say in consequence of the exhaustion of flax-growing soil, the labour time necessary for the production of the linen be doubled, the value of the linen will also be doubled.",
"Instead of the equation, 20 yards of linen = 1 coat, we should have 20 yards of linen = 2 coats, since 1 coat would now contain only half the labour time embodied in 20 yards of linen.",
"If, on the other hand, in consequence, say, of improved looms, this labour time be reduced by one-half, the value of the linen would fall by one-half.",
"Consequently, we should have 20 yards of linen = ½ coat.",
"The relative value of commodity A, i.",
"its value expressed in commodity B, rises and falls directly as the value of A, the value of B being supposed constant.",
"II.",
"Let the value of the linen remain constant, while the value of the coat varies.",
"If, under these circumstances, in consequence, for instance, of a poor crop of wool, the labour time necessary for the production of a coat becomes doubled, we have instead of 20 yards of linen = 1 coat, 20 yards of linen = ½ coat.",
"If, on the other hand, the value of the coat sinks by one-half, then 20 yards of linen = 2 coats.",
"Hence, if the value of commodity A remain constant, its relative value expressed in commodity B rises and falls inversely as the value of B.",
"If we compare the different cases in I and II, we see that the same change of magnitude in relative value may arise from totally opposite causes.",
"Thus, the equation, 20 yards of linen = 1 coat, becomes 20 yards of linen = 2 coats, either, because the value of the linen has doubled, or because the value of the coat has fallen by one-half; and it becomes 20 yards of linen = ½ coat, either, because the value of the linen has fallen by one-half, or because the value of the coat has doubled.",
"III.",
"Let the quantities of labour time respectively necessary for the production of the linen and the coat vary simultaneously in the same direction and in the same proportion.",
"In this case 20 yards of linen continue equal to 1 coat, however much their values may have altered.",
"Their change of value is seen as soon as they are compared with a third commodity, whose value has remained constant.",
"If the values of all commodities rose or fell simultaneously, and in the same proportion, their relative values would remain unaltered.",
"Their real change of value would appear from the diminished or increased quantity of commodities produced in a given time.",
"IV.",
"The labour time respectively necessary for the production of the linen and the coat, and therefore the value of these commodities may simultaneously vary in the same direction, but at unequal rates or in opposite directions, or in other ways.",
"The effect of all these possible different variations, on the relative value of a commodity, may be deduced from the results of I, II, and III.",
"Thus real changes in the magnitude of value are neither unequivocally nor exhaustively reflected in their relative expression, that is, in the equation expressing the magnitude of relative value.",
"The relative value of a commodity may vary, although its value remains constant.",
"Its relative value may remain constant, although its value varies; and finally, simultaneous variations in the magnitude of value and in that of its relative expression by no means necessarily correspond in amount.",
"The Equivalent form of value",
"We have seen that commodity A (the linen), by expressing its value in the use value of a commodity differing in kind (the coat), at the same time impresses upon the latter a specific form of value, namely that of the equivalent.",
"The commodity linen manifests its quality of having a value by the fact that the coat, without having assumed a value form different from its bodily form, is equated to the linen.",
"The fact that the latter therefore has a value is expressed by saying that the coat is directly exchangeable with it.",
"Therefore, when we say that a commodity is in the equivalent form, we express the fact that it is directly exchangeable with other commodities.",
"When one commodity, such as a coat, serves as the equivalent of another, such as linen, and coats consequently acquire the characteristic property of being directly exchangeable with linen, we are far from knowing in what proportion the two are exchangeable.",
"The value of the linen being given in magnitude, that proportion depends on the value of the coat.",
"Whether the coat serves as the equivalent and the linen as relative value, or the linen as the equivalent and the coat as relative value, the magnitude of the coat’s value is determined, independently of its value form, by the labour time necessary for its production.",
"But whenever the coat assumes in the equation of value, the position of equivalent, its value acquires no quantitative expression; on the contrary, the commodity coat now figures only as a definite quantity of some article.",
"For instance, 40 yards of linen are worth – what?",
"2 coats.",
"Because the commodity coat here plays the part of equivalent, because the use-value coat, as opposed to the linen, figures as an embodiment of value, therefore a definite number of coats suffices to express the definite quantity of value in the linen.",
"Two coats may therefore express the quantity of value of 40 yards of linen, but they can never express the quantity of their own value.",
"A superficial observation of this fact, namely, that in the equation of value, the equivalent figures exclusively as a simple quantity of some article, of some use value, has misled Bailey, as also many others, both before and after him, into seeing, in the expression of value, merely a quantitative relation.",
"The truth being, that when a commodity acts as equivalent, no quantitative determination of its value is expressed.",
"The first peculiarity that strikes us, in considering the form of the equivalent, is this: use value becomes the form of manifestation, the phenomenal form of its opposite, value.",
"The bodily form of the commodity becomes its value form.",
"But, mark well, that this quid pro quo exists in the case of any commodity B, only when some other commodity A enters into a value relation with it, and then only within the limits of this relation.",
"Since no commodity can stand in the relation of equivalent to itself, and thus turn its own bodily shape into the expression of its own value, every commodity is compelled to choose some other commodity for its equivalent, and to accept the use value, that is to say, the bodily shape of that other commodity as the form of its own value.",
"One of the measures that we apply to commodities as material substances, as use values, will serve to illustrate this point.",
"A sugar-loaf being a body, is heavy, and therefore has weight: but we can neither see nor touch this weight.",
"We then take various pieces of iron, whose weight has been determined beforehand.",
"The iron, as iron, is no more the form of manifestation of weight, than is the sugar-loaf.",
"Nevertheless, in order to express the sugar-loaf as so much weight, we put it into a weight-relation with the iron.",
"In this relation, the iron officiates as a body representing nothing but weight.",
"A certain quantity of iron therefore serves as the measure of the weight of the sugar, and represents, in relation to the sugar-loaf, weight embodied, the form of manifestation of weight.",
"This part is played by the iron only within this relation, into which the sugar or any other body, whose weight has to be determined, enters with the iron.",
"Were they not both heavy, they could not enter into this relation, and the one could therefore not serve as the expression of the weight of the other.",
"When we throw both into the scales, we see in reality, that as weight they are both the same, and that, therefore, when taken in proper proportions, they have the same weight.",
"Just as the substance iron, as a measure of weight, represents in relation to the sugar-loaf weight alone, so, in our expression of value, the material object, coat, in relation to the linen, represents value alone.",
"Here, however, the analogy ceases.",
"The iron, in the expression of the weight of the sugar-loaf, represents a natural property common to both bodies, namely their weight; but the coat, in the expression of value of the linen, represents a non-natural property of both, something purely social, namely, their value.",
"Since the relative form of value of a commodity – the linen, for example – expresses the value of that commodity, as being something wholly different from its substance and properties, as being, for instance, coat-like, we see that this expression itself indicates that some social relation lies at the bottom of it.",
"With the equivalent form it is just the contrary.",
"The very essence of this form is that the material commodity itself – the coat – just as it is, expresses value, and is endowed with the form of value by Nature itself.",
"Of course this holds good only so long as the value relation exists, in which the coat stands in the position of equivalent to the linen.",
"Since, however, the properties of a thing are not the result of its relations to other things, but only manifest themselves in such relations, the coat seems to be endowed with its equivalent form, its property of being directly exchangeable, just as much by Nature as it is endowed with the property of being heavy, or the capacity to keep us warm.",
"Hence the enigmatical character of the equivalent form which escapes the notice of the bourgeois political economist, until this form, completely developed, confronts him in the shape of money.",
"He then seeks to explain away the mystical character of gold and silver, by substituting for them less dazzling commodities, and by reciting, with ever renewed satisfaction, the catalogue of all possible commodities which at one time or another have played the part of equivalent.",
"He has not the least suspicion that the most simple expression of value, such as 20 yds of linen = 1 coat, already propounds the riddle of the equivalent form for our solution.",
"The body of the commodity that serves as the equivalent, figures as the materialisation of human labour in the abstract, and is at the same time the product of some specifically useful concrete labour.",
"This concrete labour becomes, therefore, the medium for expressing abstract human labour.",
"If on the one hand the coat ranks as nothing but the embodiment of abstract human labour, so, on the other hand, the tailoring which is actually embodied in it, counts as nothing but the form under which that abstract labour is realised.",
"In the expression of value of the linen, the utility of the tailoring consists, not in making clothes, but in making an object, which we at once recognise to be Value, and therefore to be a congelation of labour, but of labour indistinguishable from that realised in the value of the linen.",
"In order to act as such a mirror of value, the labour of tailoring must reflect nothing besides its own abstract quality of being human labour generally.",
"In tailoring, as well as in weaving, human labour power is expended.",
"Both, therefore, possess the general property of being human labour, and may, therefore, in certain cases, such as in the production of value, have to be considered under this aspect alone.",
"There is nothing mysterious in this.",
"But in the expression of value there is a complete turn of the tables.",
"For instance, how is the fact to be expressed that weaving creates the value of the linen, not by virtue of being weaving, as such, but by reason of its general property of being human labour?",
"Simply by opposing to weaving that other particular form of concrete labour (in this instance tailoring), which produces the equivalent of the product of weaving.",
"Just as the coat in its bodily form became a direct expression of value, so now does tailoring, a concrete form of labour, appear as the direct and palpable embodiment of human labour generally.",
"Hence, the second peculiarity of the equivalent form is, that concrete labour becomes the form under which its opposite, abstract human labour, manifests itself.",
"But because this concrete labour, tailoring in our case, ranks as, and is directly identified with, undifferentiated human labour, it also ranks as identical with any other sort of labour, and therefore with that embodied in the linen.",
"Consequently, although, like all other commodity-producing labour, it is the labour of private individuals, yet, at the same time, it ranks as labour directly social in its character.",
"This is the reason why it results in a product directly exchangeable with other commodities.",
"We have then a third peculiarity of the equivalent form, namely, that the labour of private individuals takes the form of its opposite, labour directly social in its form.",
"The two latter peculiarities of the equivalent form will become more intelligible if we go back to the great thinker who was the first to analyse so many forms, whether of thought, society, or Nature, and amongst them also the form of value.",
"I mean Aristotle.",
"In the first place, he clearly enunciates that the money form of commodities is only the further development of the simple form of value – i.",
"of the expression of the value of one commodity in some other commodity taken at random; for he says:",
"5 beds = 1 house (clinai pente anti oiciaς)",
"is not to be distinguished from",
"5 beds = so much money.",
"(clinai pente anti .",
"oson ai pente clinai)",
"He further sees that the value relation which gives rise to this expression makes it necessary that the house should qualitatively be made the equal of the bed, and that, without such an equalisation, these two clearly different things could not be compared with each other as commensurable quantities.",
"“Exchange,” he says, “cannot take place without equality, and equality not without commensurability",
"(out isothς mh oushς snmmetriaς).",
"Here, however, he comes to a stop, and gives up the further analysis of the form of value.",
"“It is, however, in reality, impossible (th men oun alhqeia adunaton), that such unlike things can be commensurable” – i.",
"qualitatively equal.",
"Such an equalisation can only be something foreign to their real nature, consequently only “a makeshift for practical purposes.",
"Aristotle therefore, himself, tells us what barred the way to his further analysis; it was the absence of any concept of value.",
"What is that equal something, that common substance, which admits of the value of the beds being expressed by a house?",
"Such a thing, in truth, cannot exist, says Aristotle.",
"And why not?",
"Compared with the beds, the house does represent something equal to them, in so far as it represents what is really equal, both in the beds and the house.",
"And that is – human labour.",
"There was, however, an important fact which prevented Aristotle from seeing that, to attribute value to commodities, is merely a mode of expressing all labour as equal human labour, and consequently as labour of equal quality.",
"Greek society was founded upon slavery, and had, therefore, for its natural basis, the inequality of men and of their labour powers.",
"The secret of the expression of value, namely, that all kinds of labour are equal and equivalent, because, and so far as they are human labour in general, cannot be deciphered, until the notion of human equality has already acquired the fixity of a popular prejudice.",
"This, however, is possible only in a society in which the great mass of the produce of labour takes the form of commodities, in which, consequently, the dominant relation between man and man, is that of owners of commodities.",
"The brilliancy of Aristotle’s genius is shown by this alone, that he discovered, in the expression of the value of commodities, a relation of equality.",
"The peculiar conditions of the society in which he lived, alone prevented him from discovering what, “in truth,” was at the bottom of this equality.",
"The Elementary Form of value considered as a whole",
"The elementary form of value of a commodity is contained in the equation, expressing its value relation to another commodity of a different kind, or in its exchange relation to the same.",
"The value of commodity A, is qualitatively expressed, by the fact that commodity B is directly exchangeable with it.",
"Its value is quantitatively expressed by the fact, that a definite quantity of B is exchangeable with a definite quantity of A.",
"In other words, the value of a commodity obtains independent and definite expression, by taking the form of exchange value.",
"When, at the beginning of this chapter, we said, in common parlance, that a commodity is both a use value and an exchange value, we were, accurately speaking, wrong.",
"A commodity is a use value or object of utility, and a value.",
"It manifests itself as this two-fold thing, that it is, as soon as its value assumes an independent form – viz.",
"the form of exchange value.",
"It never assumes this form when isolated, but only when placed in a value or exchange relation with another commodity of a different kind.",
"When once we know this, such a mode of expression does no harm; it simply serves as an abbreviation.",
"Our analysis has shown, that the form or expression of the value of a commodity originates in the nature of value, and not that value and its magnitude originate in the mode of their expression as exchange value.",
"This, however, is the delusion as well of the mercantilists and their recent revivers, Ferrier, Ganilh,  and others, as also of their antipodes, the modern bagmen of Free-trade, such as Bastiat.",
"The mercantilists lay special stress on the qualitative aspect of the expression of value, and consequently on the equivalent form of commodities, which attains its full perfection in money.",
"The modern hawkers of Free-trade, who must get rid of their article at any price, on the other hand, lay most stress on the quantitative aspect of the relative form of value.",
"For them there consequently exists neither value, nor magnitude of value, anywhere except in its expression by means of the exchange relation of commodities, that is, in the daily list of prices current.",
"Macleod, who has taken upon himself to dress up the confused ideas of Lombard Street in the most learned finery, is a successful cross between the superstitious mercantilists, and the enlightened Free-trade bagmen.",
"A close scrutiny of the expression of the value of A in terms of B, contained in the equation expressing the value relation of A to B, has shown us that, within that relation, the bodily form of A figures only as a use value, the bodily form of B only as the form or aspect of value.",
"The opposition or contrast existing internally in each commodity between use value and value, is, therefore, made evident externally by two commodities being placed in such relation to each other, that the commodity whose value it is sought to express, figures directly as a mere use value, while the commodity in which that value is to be expressed, figures directly as mere exchange value.",
"Hence the elementary form of value of a commodity is the elementary form in which the contrast contained in that commodity, between use value and value, becomes apparent.",
"Every product of labour is, in all states of society, a use value; but it is only at a definite historical epoch in a society’s development that such a product becomes a commodity, viz.",
"at the epoch when the labour spent on the production of a useful article becomes expressed as one of the objective qualities of that article, i.",
"as its value.",
"It therefore follows that the elementary value form is also the primitive form under which a product of labour appears historically as a commodity, and that the gradual transformation of such products into commodities, proceeds pari passu with the development of the value form.",
"We perceive, at first sight, the deficiencies of the elementary form of value: it is a mere germ, which must undergo a series of metamorphoses before it can ripen into the price form.",
"The expression of the value of commodity A in terms of any other commodity B, merely distinguishes the value from the use value of A, and therefore places A merely in a relation of exchange with a single different commodity, B; but it is still far from expressing A’s qualitative equality, and quantitative proportionality, to all commodities.",
"To the elementary relative value form of a commodity, there corresponds the single equivalent form of one other commodity.",
"Thus, in the relative expression of value of the linen, the coat assumes the form of equivalent, or of being directly exchangeable, only in relation to a single commodity, the linen.",
"Nevertheless, the elementary form of value passes by an easy transition into a more complete form.",
"It is true that by means of the elementary form, the value of a commodity A, becomes expressed in terms of one, and only one, other commodity.",
"But that one may be a commodity of any kind, coat, iron, corn, or anything else.",
"Therefore, according as A is placed in relation with one or the other, we get for one and the same commodity, different elementary expressions of value.",
"The number of such possible expressions is limited only by the number of the different kinds of commodities distinct from it.",
"The isolated expression of A’s value, is therefore convertible into a series, prolonged to any length, of the different elementary expressions of that value.",
"Total or Expanded Form of value",
"z Com.",
"A = u Com.",
"B or = v Com.",
"C or = w Com.",
"D or = Com.",
"E or = &c.",
"(20 yards of linen = 1 coat or = 10 lbs tea or = 40 lbs.",
"coffee or",
"1 quarter corn or = 2 ounces gold or = ½ ton iron or = &c.",
"The Expanded Relative form of value",
"The value of a single commodity, the linen, for example, is now expressed in terms of numberless other elements of the world of commodities.",
"Every other commodity now becomes a mirror of the linen’s value.",
"It is thus, that for the first time, this value shows itself in its true light as a congelation of undifferentiated human labour.",
"For the labour that creates it, now stands expressly revealed, as labour that ranks equally with every other sort of human labour, no matter what its form, whether tailoring, ploughing, mining, &c.",
"and no matter, therefore, whether it is realised in coats, corn, iron, or gold.",
"The linen, by virtue of the form of its value, now stands in a social relation, no longer with only one other kind of commodity, but with the whole world of commodities.",
"As a commodity, it is a citizen of that world.",
"At the same time, the interminable series of value equations implies, that as regards the value of a commodity, it is a matter of indifference under what particular form, or kind, of use value it appears.",
"In the first form, 20 yds of linen = 1 coat, it might, for ought that otherwise appears, be pure accident, that these two commodities are exchangeable in definite quantities.",
"In the second form, on the contrary, we perceive at once the background that determines, and is essentially different from, this accidental appearance.",
"The value of the linen remains unaltered in magnitude, whether expressed in coats, coffee, or iron, or in numberless different commodities, the property of as many different owners.",
"The accidental relation between two individual commodity-owners disappears.",
"It becomes plain, that it is not the exchange of commodities which regulates the magnitude of their value; but, on the contrary, that it is the magnitude of their value which controls their exchange proportions.",
"The particular Equivalent form",
"Each commodity, such as, coat, tea, corn, iron, &c.",
"figures in the expression of value of the linen, as an equivalent, and, consequently, as a thing that is value.",
"The bodily form of each of these commodities figures now as a particular equivalent form, one out of many.",
"In the same way the manifold concrete useful kinds of labour, embodied in these different commodities, rank now as so many different forms of the realisation, or manifestation, of undifferentiated human labour.",
"Defects of the Total or Expanded form of value",
"In the first place, the relative expression of value is incomplete because the series representing it is interminable.",
"The chain of which each equation of value is a link, is liable at any moment to be lengthened by each new kind of commodity that comes into existence and furnishes the material for a fresh expression of value.",
"In the second place, it is a many-coloured mosaic of disparate and independent expressions of value.",
"And lastly, if, as must be the case, the relative value of each commodity in turn, becomes expressed in this expanded form, we get for each of them a relative value form, different in every case, and consisting of an interminable series of expressions of value.",
"The defects of the expanded relative value form are reflected in the corresponding equivalent form.",
"Since the bodily form of each single commodity is one particular equivalent form amongst numberless others, we have, on the whole, nothing but fragmentary equivalent forms, each excluding the others.",
"In the same way, also, the special, concrete, useful kind of labour embodied in each particular equivalent, is presented only as a particular kind of labour, and therefore not as an exhaustive representative of human labour generally.",
"The latter, indeed, gains adequate manifestation in the totality of its manifold, particular, concrete forms.",
"But, in that case, its expression in an infinite series is ever incomplete and deficient in unity.",
"The expanded relative value form is, however, nothing but the sum of the elementary relative expressions or equations of the first kind, such as:",
"20 yards of linen = 1 coat",
"20 yards of linen = 10 lbs of tea, etc.",
"Each of these implies the corresponding inverted equation,",
"1 coat = 20 yards of linen",
"10 lbs of tea = 20 yards of linen, etc.",
"In fact, when a person exchanges his linen for many other commodities, and thus expresses its value in a series of other commodities, it necessarily follows, that the various owners of the latter exchange them for the linen, and consequently express the value of their various commodities in one and the same third commodity, the linen.",
"If then, we reverse the series, 20 yards of linen = 1 coat or = 10 lbs of tea, etc.",
"that is to say, if we give expression to the converse relation already implied in the series, we get,",
"The General Form of Value",
"1 coat",
"10  lbs of tea",
"40  lbs of coffee",
"1 quarter of corn",
"2 ounces of gold",
"a ton of iron",
"x Commodity A, etc.",
"20 yards of linen",
"The altered character of the form of value",
"All commodities now express their value (1) in an elementary form, because in a single commodity; (2) with unity, because in one and the same commodity.",
"This form of value is elementary and the same for all, therefore general.",
"The forms A and B were fit only to express the value of a commodity as something distinct from its use value or material form.",
"The first form, A, furnishes such equations as the following: – 1 coat = 20 yards of linen, 10 lbs of tea = ½ a ton of iron.",
"The value of the coat is equated to linen, that of the tea to iron.",
"But to be equated to linen, and again to iron, is to be as different as are linen and iron.",
"This form, it is plain, occurs practically only in the first beginning, when the products of labour are converted into commodities by accidental and occasional exchanges.",
"The second form, B, distinguishes, in a more adequate manner than the first, the value of a commodity from its use value, for the value of the coat is there placed in contrast under all possible shapes with the bodily form of the coat; it is equated to linen, to iron, to tea, in short, to everything else, only not to itself, the coat.",
"On the other hand, any general expression of value common to all is directly excluded; for, in the equation of value of each commodity, all other commodities now appear only under the form of equivalents.",
"The expanded form of value comes into actual existence for the first time so soon as a particular product of labour, such as cattle, is no longer exceptionally, but habitually, exchanged for various other commodities.",
"The third and lastly developed form expresses the values of the whole world of commodities in terms of a single commodity set apart for the purpose, namely, the linen, and thus represents to us their values by means of their equality with linen.",
"The value of every commodity is now, by being equated to linen, not only differentiated from its own use value, but from all other use values generally, and is, by that very fact, expressed as that which is common to all commodities.",
"By this form, commodities are, for the first time, effectively brought into relation with one another as values, or made to appear as exchange values.",
"The two earlier forms either express the value of each commodity in terms of a single commodity of a different kind, or in a series of many such commodities.",
"In both cases, it is, so to say, the special business of each single commodity to find an expression for its value, and this it does without the help of the others.",
"These others, with respect to the former, play the passive parts of equivalents.",
"The general form of value, C, results from the joint action of the whole world of commodities, and from that alone.",
"A commodity can acquire a general expression of its value only by all other commodities, simultaneously with it, expressing their values in the same equivalent; and every new commodity must follow suit.",
"It thus becomes evident that since the existence of commodities as values is purely social, this social existence can be expressed by the totality of their social relations alone, and consequently that the form of their value must be a socially recognised form.",
"All commodities being equated to linen now appear not only as qualitatively equal as values generally, but also as values whose magnitudes are capable of comparison.",
"By expressing the magnitudes of their values in one and the same material, the linen, those magnitudes are also compared with each other.",
"For instance, 10 lbs of tea = 20 yards of linen, and 40 lbs of coffee = 20 yards of linen.",
"Therefore, 10 lbs of tea = 40 lbs of coffee.",
"In other words, there is contained in 1 lb of coffee only one-fourth as much substance of value – labour – as is contained in 1 lb of tea.",
"The general form of relative value, embracing the whole world of commodities, converts the single commodity that is excluded from the rest, and made to play the part of equivalent – here the linen – into the universal equivalent.",
"The bodily form of the linen is now the form assumed in common by the values of all commodities; it therefore becomes directly exchangeable with all and every of them.",
"The substance linen becomes the visible incarnation, the social chrysalis state of every kind of human labour.",
"Weaving, which is the labour of certain private individuals producing a particular article, linen, acquires in consequence a social character, the character of equality with all other kinds of labour.",
"The innumerable equations of which the general form of value is composed, equate in turn the labour embodied in the linen to that embodied in every other commodity, and they thus convert weaving into the general form of manifestation of undifferentiated human labour.",
"In this manner the labour realised in the values of commodities is presented not only under its negative aspect, under which abstraction is made from every concrete form and useful property of actual work, but its own positive nature is made to reveal itself expressly.",
"The general value form is the reduction of all kinds of actual labour to their common character of being human labour generally, of being the expenditure of human labour power.",
"The general value form, which represents all products of labour as mere congelations of undifferentiated human labour, shows by its very structure that it is the social resumé of the world of commodities.",
"That form consequently makes it indisputably evident that in the world of commodities the character possessed by all labour of being human labour constitutes its specific social character.",
"The Interdependent Development of the Relative Form of Value, and of the Equivalent Form",
"The degree of development of the relative form of value corresponds to that of the equivalent form.",
"But we must bear in mind that the development of the latter is only the expression and result of the development of the former.",
"The primary or isolated relative form of value of one commodity converts some other commodity into an isolated equivalent.",
"The expanded form of relative value, which is the expression of the value of one commodity in terms of all other commodities, endows those other commodities with the character of particular equivalents differing in kind.",
"And lastly, a particular kind of commodity acquires the character of universal equivalent, because all other commodities make it the material in which they uniformly express their value.",
"The antagonism between the relative form of value and the equivalent form, the two poles of the value form, is developed concurrently with that form itself.",
"The first form, 20 yds of linen = one coat, already contains this antagonism, without as yet fixing it.",
"According as we read this equation forwards or backwards, the parts played by the linen and the coat are different.",
"In the one case the relative value of the linen is expressed in the coat, in the other case the relative value of the coat is expressed in the linen.",
"In this first form of value, therefore, it is difficult to grasp the polar contrast.",
"Form B shows that only one single commodity at a time can completely expand its relative value, and that it acquires this expanded form only because, and in so far as, all other commodities are, with respect to it, equivalents.",
"Here we cannot reverse the equation, as we can the equation 20 yds of linen = 1 coat, without altering its general character, and converting it from the expanded form of value into the general form of value.",
"Finally, the form C gives to the world of commodities a general social relative form of value, because, and in so far as, thereby all commodities, with the exception of one, are excluded from the equivalent form.",
"A single commodity, the linen, appears therefore to have acquired the character of direct exchangeability with every other commodity because, and in so far as, this character is denied to every other commodity.",
"The commodity that figures as universal equivalent, is, on the other hand, excluded from the relative value form.",
"If the linen, or any other commodity serving as universal equivalent, were, at the same time, to share in the relative form of value, it would have to serve as its own equivalent.",
"We should then have 20 yds of linen = 20 yds of linen; this tautology expresses neither value, nor magnitude of value.",
"In order to express the relative value of the universal equivalent, we must rather reverse the form C.",
"This equivalent has no relative form of value in common with other commodities, but its value is relatively expressed by a never ending series of other commodities.",
"Thus, the expanded form of relative value, or form B, now shows itself as the specific form of relative value for the equivalent commodity.",
"Transition from the General form of value to the Money form",
"The universal equivalent form is a form of value in general.",
"It can, therefore, be assumed by any commodity.",
"On the other hand, if a commodity be found to have assumed the universal equivalent form (form C), this is only because and in so far as it has been excluded from the rest of all other commodities as their equivalent, and that by their own act.",
"And from the moment that this exclusion becomes finally restricted to one particular commodity, from that moment only, the general form of relative value of the world of commodities obtains real consistence and general social validity.",
"The particular commodity, with whose bodily form the equivalent form is thus socially identified, now becomes the money commodity, or serves as money.",
"It becomes the special social function of that commodity, and consequently its social monopoly, to play within the world of commodities the part of the universal equivalent.",
"Amongst the commodities which, in form B, figure as particular equivalents of the linen, and, in form C, express in common their relative values in linen, this foremost place has been attained by one in particular – namely, gold.",
"If, then, in form C we replace the linen by gold, we get,",
"The Money-Form",
"20  yards of linen  =",
"1 coat  =",
"10  lbs of tea  =",
"40  lbs of coffee =",
"1 quarter of corn =",
"2 ounces of gold  =",
"a ton of iron =",
"x Commodity A =",
"2 ounces of gold",
"In passing from form A to form B, and from the latter to form C, the changes are fundamental.",
"On the other hand, there is no difference between forms C and D, except that, in the latter, gold has assumed the equivalent form in the place of linen.",
"Gold is in form D, what linen was in form C – the universal equivalent.",
"The progress consists in this alone, that the character of direct and universal exchangeability – in other words, that the universal equivalent form – has now, by social custom, become finally identified with the substance, gold.",
"Gold is now money with reference to all other commodities only because it was previously, with reference to them, a simple commodity.",
"Like all other commodities, it was also capable of serving as an equivalent, either as simple equivalent in isolated exchanges, or as particular equivalent by the side of others.",
"Gradually it began to serve, within varying limits, as universal equivalent.",
"So soon as it monopolises this position in the expression of value for the world of commodities, it becomes the money commodity, and then, and not till then, does form D become distinct from form C, and the general form of value become changed into the money form.",
"The elementary expression of the relative value of a single commodity, such as linen, in terms of the commodity, such as gold, that plays the part of money, is the price form of that commodity.",
"The price form of the linen is therefore",
"20 yards of linen = 2 ounces of gold, or, if 2 ounces of gold when",
"coined are £2, 20 yards of linen = £2.",
"The difficulty in forming a concept of the money form, consists in clearly comprehending the universal equivalent form, and as a necessary corollary, the general form of value, form C.",
"The latter is deducible from form B, the expanded form of value, the essential component element of which, we saw, is form A, 20 yards of linen = 1 coat or x commodity A = y commodity B.",
"The simple commodity form is therefore the germ of the money form.",
"SECTION 4",
"THE FETISHISM OF COMMODITIES",
"AND THE SECRET THEREOF",
"A commodity appears, at first sight, a very trivial thing, and easily understood.",
"Its analysis shows that it is, in reality, a very queer thing, abounding in metaphysical subtleties and theological niceties.",
"So far as it is a value in use, there is nothing mysterious about it, whether we consider it from the point of view that by its properties it is capable of satisfying human wants, or from the point that those properties are the product of human labour.",
"It is as clear as noon-day, that man, by his industry, changes the forms of the materials furnished by Nature, in such a way as to make them useful to him.",
"The form of wood, for instance, is altered, by making a table out of it.",
"Yet, for all that, the table continues to be that common, every-day thing, wood.",
"But, so soon as it steps forth as a commodity, it is changed into something transcendent.",
"It not only stands with its feet on the ground, but, in relation to all other commodities, it stands on its head, and evolves out of its wooden brain grotesque ideas, far more wonderful than “table-turning” ever was.",
"[26a]",
"The mystical character of commodities does not originate, therefore, in their use value.",
"Just as little does it proceed from the nature of the determining factors of value.",
"For, in the first place, however varied the useful kinds of labour, or productive activities, may be, it is a physiological fact, that they are functions of the human organism, and that each such function, whatever may be its nature or form, is essentially the expenditure of human brain, nerves, muscles, &c.",
"Secondly, with regard to that which forms the ground-work for the quantitative determination of value, namely, the duration of that expenditure, or the quantity of labour, it is quite clear that there is a palpable difference between its quantity and quality.",
"In all states of society, the labour time that it costs to produce the means of subsistence, must necessarily be an object of interest to mankind, though not of equal interest in different stages of development.",
"And lastly, from the moment that men in any way work for one another, their labour assumes a social form.",
"Whence, then, arises the enigmatical character of the product of labour, so soon as it assumes the form of commodities?",
"Clearly from this form itself.",
"The equality of all sorts of human labour is expressed objectively by their products all being equally values; the measure of the expenditure of labour power by the duration of that expenditure, takes the form of the quantity of value of the products of labour; and finally the mutual relations of the producers, within which the social character of their labour affirms itself, take the form of a social relation between the products.",
"A commodity is therefore a mysterious thing, simply because in it the social character of men’s labour appears to them as an objective character stamped upon the product of that labour; because the relation of the producers to the sum total of their own labour is presented to them as a social relation, existing not between themselves, but between the products of their labour.",
"This is the reason why the products of labour become commodities, social things whose qualities are at the same time perceptible and imperceptible by the senses.",
"In the same way the light from an object is perceived by us not as the subjective excitation of our optic nerve, but as the objective form of something outside the eye itself.",
"But, in the act of seeing, there is at all events, an actual passage of light from one thing to another, from the external object to the eye.",
"There is a physical relation between physical things.",
"But it is different with commodities.",
"There, the existence of the things quâ commodities, and the value relation between the products of labour which stamps them as commodities, have absolutely no connection with their physical properties and with the material relations arising therefrom.",
"There it is a definite social relation between men, that assumes, in their eyes, the fantastic form of a relation between things.",
"In order, therefore, to find an analogy, we must have recourse to the mist-enveloped regions of the religious world.",
"In that world the productions of the human brain appear as independent beings endowed with life, and entering into relation both with one another and the human race.",
"So it is in the world of commodities with the products of men’s hands.",
"This I call the Fetishism which attaches itself to the products of labour, so soon as they are produced as commodities, and which is therefore inseparable from the production of commodities.",
"This Fetishism of commodities has its origin, as the foregoing analysis has already shown, in the peculiar social character of the labour that produces them.",
"As a general rule, articles of utility become commodities, only because they are products of the labour of private individuals or groups of individuals who carry on their work independently of each other.",
"The sum total of the labour of all these private individuals forms the aggregate labour of society.",
"Since the producers do not come into social contact with each other until they exchange their products, the specific social character of each producer’s labour does not show itself except in the act of exchange.",
"In other words, the labour of the individual asserts itself as a part of the labour of society, only by means of the relations which the act of exchange establishes directly between the products, and indirectly, through them, between the producers.",
"To the latter, therefore, the relations connecting the labour of one individual with that of the rest appear, not as direct social relations between individuals at work, but as what they really are, material relations between persons and social relations between things.",
"It is only by being exchanged that the products of labour acquire, as values, one uniform social status, distinct from their varied forms of existence as objects of utility.",
"This division of a product into a useful thing and a value becomes practically important, only when exchange has acquired such an extension that useful articles are produced for the purpose of being exchanged, and their character as values has therefore to be taken into account, beforehand, during production.",
"From this moment the labour of the individual producer acquires socially a two-fold character.",
"On the one hand, it must, as a definite useful kind of labour, satisfy a definite social want, and thus hold its place as part and parcel of the collective labour of all, as a branch of a social division of labour that has sprung up spontaneously.",
"On the other hand, it can satisfy the manifold wants of the individual producer himself, only in so far as the mutual exchangeability of all kinds of useful private labour is an established social fact, and therefore the private useful labour of each producer ranks on an equality with that of all others.",
"The equalisation of the most different kinds of labour can be the result only of an abstraction from their inequalities, or of reducing them to their common denominator, viz.",
"expenditure of human labour power or human labour in the abstract.",
"The two-fold social character of the labour of the individual appears to him, when reflected in his brain, only under those forms which are impressed upon that labour in every-day practice by the exchange of products.",
"In this way, the character that his own labour possesses of being socially useful takes the form of the condition, that the product must be not only useful, but useful for others, and the social character that his particular labour has of being the equal of all other particular kinds of labour, takes the form that all the physically different articles that are the products of labour, have one common quality, viz.",
"that of having value.",
"Hence, when we bring the products of our labour into relation with each other as values, it is not because we see in these articles the material receptacles of homogeneous human labour.",
"Quite the contrary: whenever, by an exchange, we equate as values our different products, by that very act, we also equate, as human labour, the different kinds of labour expended upon them.",
"We are not aware of this, nevertheless we do it.",
"Value, therefore, does not stalk about with a label describing what it is.",
"It is value, rather, that converts every product into a social hieroglyphic.",
"Later on, we try to decipher the hieroglyphic, to get behind the secret of our own social products; for to stamp an object of utility as a value, is just as much a social product as language.",
"The recent scientific discovery, that the products of labour, so far as they are values, are but material expressions of the human labour spent in their production, marks, indeed, an epoch in the history of the development of the human race, but, by no means, dissipates the mist through which the social character of labour appears to us to be an objective character of the products themselves.",
"The fact, that in the particular form of production with which we are dealing, viz.",
"the production of commodities, the specific social character of private labour carried on independently, consists in the equality of every kind of that labour, by virtue of its being human labour, which character, therefore, assumes in the product the form of value – this fact appears to the producers, notwithstanding the discovery above referred to, to be just as real and final, as the fact, that, after the discovery by science of the component gases of air, the atmosphere itself remained unaltered.",
"What, first of all, practically concerns producers when they make an exchange, is the question, how much of some other product they get for their own?",
"In what proportions the products are exchangeable?",
"When these proportions have, by custom, attained a certain stability, they appear to result from the nature of the products, so that, for instance, one ton of iron and two ounces of gold appear as naturally to be of equal value as a pound of gold and a pound of iron in spite of their different physical and chemical qualities appear to be of equal weight.",
"The character of having value, when once impressed upon products, obtains fixity only by reason of their acting and re-acting upon each other as quantities of value.",
"These quantities vary continually, independently of the will, foresight and action of the producers.",
"To them, their own social action takes the form of the action of objects, which rule the producers instead of being ruled by them.",
"It requires a fully developed production of commodities before, from accumulated experience alone, the scientific conviction springs up, that all the different kinds of private labour, which are carried on independently of each other, and yet as spontaneously developed branches of the social division of labour, are continually being reduced to the quantitative proportions in which society requires them.",
"And why?",
"Because, in the midst of all the accidental and ever fluctuating exchange relations between the products, the labour time socially necessary for their production forcibly asserts itself like an over-riding law of Nature.",
"The law of gravity thus asserts itself when a house falls about our ears.",
"The determination of the magnitude of value by labour time is therefore a secret, hidden under the apparent fluctuations in the relative values of commodities.",
"Its discovery, while removing all appearance of mere accidentality from the determination of the magnitude of the values of products, yet in no way alters the mode in which that determination takes place.",
"Man’s reflections on the forms of social life, and consequently, also, his scientific analysis of those forms, take a course directly opposite to that of their actual historical development.",
"He begins, post festum, with the results of the process of development ready to hand before him.",
"The characters that stamp products as commodities, and whose establishment is a necessary preliminary to the circulation of commodities, have already acquired the stability of natural, self-understood forms of social life, before man seeks to decipher, not their historical character, for in his eyes they are immutable, but their meaning.",
"Consequently it was the analysis of the prices of commodities that alone led to the determination of the magnitude of value, and it was the common expression of all commodities in money that alone led to the establishment of their characters as values.",
"It is, however, just this ultimate money form of the world of commodities that actually conceals, instead of disclosing, the social character of private labour, and the social relations between the individual producers.",
"When I state that coats or boots stand in a relation to linen, because it is the universal incarnation of abstract human labour, the absurdity of the statement is self-evident.",
"Nevertheless, when the producers of coats and boots compare those articles with linen, or, what is the same thing, with gold or silver, as the universal equivalent, they express the relation between their own private labour and the collective labour of society in the same absurd form.",
"The categories of bourgeois economy consist of such like forms.",
"They are forms of thought expressing with social validity the conditions and relations of a definite, historically determined mode of production, viz.",
"the production of commodities.",
"The whole mystery of commodities, all the magic and necromancy that surrounds the products of labour as long as they take the form of commodities, vanishes therefore, so soon as we come to other forms of production.",
"Since Robinson Crusoe’s experiences are a favourite theme with political economists,  let us take a look at him on his island.",
"Moderate though he be, yet some few wants he has to satisfy, and must therefore do a little useful work of various sorts, such as making tools and furniture, taming goats, fishing and hunting.",
"Of his prayers and the like we take no account, since they are a source of pleasure to him, and he looks upon them as so much recreation.",
"In spite of the variety of his work, he knows that his labour, whatever its form, is but the activity of one and the same Robinson, and consequently, that it consists of nothing but different modes of human labour.",
"Necessity itself compels him to apportion his time accurately between his different kinds of work.",
"Whether one kind occupies a greater space in his general activity than another, depends on the difficulties, greater or less as the case may be, to be overcome in attaining the useful effect aimed at.",
"This our friend Robinson soon learns by experience, and having rescued a watch, ledger, and pen and ink from the wreck, commences, like a true-born Briton, to keep a set of books.",
"His stock-book contains a list of the objects of utility that belong to him, of the operations necessary for their production; and lastly, of the labour time that definite quantities of those objects have, on an average, cost him.",
"All the relations between Robinson and the objects that form this wealth of his own creation, are here so simple and clear as to be intelligible without exertion, even to Mr.",
"Sedley Taylor.",
"And yet those relations contain all that is essential to the determination of value.",
"Let us now transport ourselves from Robinson’s island bathed in light to the European middle ages shrouded in darkness.",
"Here, instead of the independent man, we find everyone dependent, serfs and lords, vassals and suzerains, laymen and clergy.",
"Personal dependence here characterises the social relations of production just as much as it does the other spheres of life organised on the basis of that production.",
"But for the very reason that personal dependence forms the ground-work of society, there is no necessity for labour and its products to assume a fantastic form different from their reality.",
"They take the shape, in the transactions of society, of services in kind and payments in kind.",
"Here the particular and natural form of labour, and not, as in a society based on production of commodities, its general abstract form is the immediate social form of labour.",
"Compulsory labour is just as properly measured by time, as commodity-producing labour; but every serf knows that what he expends in the service of his lord, is a definite quantity of his own personal labour power.",
"The tithe to be rendered to the priest is more matter of fact than his blessing.",
"No matter, then, what we may think of the parts played by the different classes of people themselves in this society, the social relations between individuals in the performance of their labour, appear at all events as their own mutual personal relations, and are not disguised under the shape of social relations between the products of labour.",
"For an example of labour in common or directly associated labour, we have no occasion to go back to that spontaneously developed form which we find on the threshold of the history of all civilised races.",
"We have one close at hand in the patriarchal industries of a peasant family, that produces corn, cattle, yarn, linen, and clothing for home use.",
"These different articles are, as regards the family, so many products of its labour, but as between themselves, they are not commodities.",
"The different kinds of labour, such as tillage, cattle tending, spinning, weaving and making clothes, which result in the various products, are in themselves, and such as they are, direct social functions, because functions of the family, which, just as much as a society based on the production of commodities, possesses a spontaneously developed system of division of labour.",
"The distribution of the work within the family, and the regulation of the labour time of the several members, depend as well upon differences of age and sex as upon natural conditions varying with the seasons.",
"The labour power of each individual, by its very nature, operates in this case merely as a definite portion of the whole labour power of the family, and therefore, the measure of the expenditure of individual labour power by its duration, appears here by its very nature as a social character of their labour.",
"Let us now picture to ourselves, by way of change, a community of free individuals, carrying on their work with the means of production in common, in which the labour power of all the different individuals is consciously applied as the combined labour power of the community.",
"All the characteristics of Robinson’s labour are here repeated, but with this difference, that they are social, instead of individual.",
"Everything produced by him was exclusively the result of his own personal labour, and therefore simply an object of use for himself.",
"The total product of our community is a social product.",
"One portion serves as fresh means of production and remains social.",
"But another portion is consumed by the members as means of subsistence.",
"A distribution of this portion amongst them is consequently necessary.",
"The mode of this distribution will vary with the productive organisation of the community, and the degree of historical development attained by the producers.",
"We will assume, but merely for the sake of a parallel with the production of commodities, that the share of each individual producer in the means of subsistence is determined by his labour time.",
"Labour time would, in that case, play a double part.",
"Its apportionment in accordance with a definite social plan maintains the proper proportion between the different kinds of work to be done and the various wants of the community.",
"On the other hand, it also serves as a measure of the portion of the common labour borne by each individual, and of his share in the part of the total product destined for individual consumption.",
"The social relations of the individual producers, with regard both to their labour and to its products, are in this case perfectly simple and intelligible, and that with regard not only to production but also to distribution.",
"The religious world is but the reflex of the real world.",
"And for a society based upon the production of commodities, in which the producers in general enter into social relations with one another by treating their products as commodities and values, whereby they reduce their individual private labour to the standard of homogeneous human labour – for such a society, Christianity with its cultus of abstract man, more especially in its bourgeois developments, Protestantism, Deism, &c.",
"is the most fitting form of religion.",
"In the ancient Asiatic and other ancient modes of production, we find that the conversion of products into commodities, and therefore the conversion of men into producers of commodities, holds a subordinate place, which, however, increases in importance as the primitive communities approach nearer and nearer to their dissolution.",
"Trading nations, properly so called, exist in the ancient world only in its interstices, like the gods of Epicurus in the Intermundia, or like Jews in the pores of Polish society.",
"Those ancient social organisms of production are, as compared with bourgeois society, extremely simple and transparent.",
"But they are founded either on the immature development of man individually, who has not yet severed the umbilical cord that unites him with his fellowmen in a primitive tribal community, or upon direct relations of subjection.",
"They can arise and exist only when the development of the productive power of labour has not risen beyond a low stage, and when, therefore, the social relations within the sphere of material life, between man and man, and between man and Nature, are correspondingly narrow.",
"This narrowness is reflected in the ancient worship of Nature, and in the other elements of the popular religions.",
"The religious reflex of the real world can, in any case, only then finally vanish, when the practical relations of every-day life offer to man none but perfectly intelligible and reasonable relations with regard to his fellowmen and to Nature.",
"The life-process of society, which is based on the process of material production, does not strip off its mystical veil until it is treated as production by freely associated men, and is consciously regulated by them in accordance with a settled plan.",
"This, however, demands for society a certain material ground-work or set of conditions of existence which in their turn are the spontaneous product of a long and painful process of development.",
"Political Economy has indeed analysed, however incompletely,  value and its magnitude, and has discovered what lies beneath these forms.",
"But it has never once asked the question why labour is represented by the value of its product and labour time by the magnitude of that value.",
"These formulæ, which bear it stamped upon them in unmistakable letters that they belong to a state of society, in which the process of production has the mastery over man, instead of being controlled by him, such formulæ appear to the bourgeois intellect to be as much a self-evident necessity imposed by Nature as productive labour itself.",
"Hence forms of social production that preceded the bourgeois form, are treated by the bourgeoisie in much the same way as the Fathers of the Church treated pre-Christian religions.",
"To what extent some economists are misled by the Fetishism inherent in commodities, or by the objective appearance of the social characteristics of labour, is shown, amongst other ways, by the dull and tedious quarrel over the part played by Nature in the formation of exchange value.",
"Since exchange value is a definite social manner of expressing the amount of labour bestowed upon an object, Nature has no more to do with it, than it has in fixing the course of exchange.",
"The mode of production in which the product takes the form of a commodity, or is produced directly for exchange, is the most general and most embryonic form of bourgeois production.",
"It therefore makes its appearance at an early date in history, though not in the same predominating and characteristic manner as now-a-days.",
"Hence its Fetish character is comparatively easy to be seen through.",
"But when we come to more concrete forms, even this appearance of simplicity vanishes.",
"Whence arose the illusions of the monetary system?",
"To it gold and silver, when serving as money, did not represent a social relation between producers, but were natural objects with strange social properties.",
"And modern economy, which looks down with such disdain on the monetary system, does not its superstition come out as clear as noon-day, whenever it treats of capital?",
"How long is it since economy discarded the physiocratic illusion, that rents grow out of the soil and not out of society?",
"But not to anticipate, we will content ourselves with yet another example relating to the commodity form.",
"Could commodities themselves speak, they would say: Our use value may be a thing that interests men.",
"It is no part of us as objects.",
"What, however, does belong to us as objects, is our value.",
"Our natural intercourse as commodities proves it.",
"In the eyes of each other we are nothing but exchange values.",
"Now listen how those commodities speak through the mouth of the economist.",
"“Value” – (i.",
"exchange value) “is a property of things, riches” – (i.",
"use value) “of man.",
"Value, in this sense, necessarily implies exchanges, riches do not.",
"“Riches” (use value) “are the attribute of men, value is the attribute of commodities.",
"A man or a community is rich, a pearl or a diamond is valuable.",
"A pearl or a diamond is valuable as a pearl or a diamond.",
"So far no chemist has ever discovered exchange value either in a pearl or a diamond.",
"The economic discoverers of this chemical element, who by-the-bye lay special claim to critical acumen, find however that the use value of objects belongs to them independently of their material properties, while their value, on the other hand, forms a part of them as objects.",
"What confirms them in this view, is the peculiar circumstance that the use value of objects is realised without exchange, by means of a direct relation between the objects and man, while, on the other hand, their value is realised only by exchange, that is, by means of a social process.",
"Who fails here to call to mind our good friend, Dogberry, who informs neighbour Seacoal, that, “To be a well-favoured man is the gift of fortune; but reading and writing comes by Nature."]
},{}],7:[function(require,module,exports){
module.exports = ["access to tools",
"the height of privilege",
"trust no one",
"there is no authority but yourself",
"question everything",
"the truth is out there",
"i want to believe",
"may the force be with you",
"let us pray",
"zen and the art of website maintenance",
"bobbing for apples",
"diary of a monster",
"skittles and apocalyptic social movements"]
},{}],8:[function(require,module,exports){
module.exports = ["I remember when we broke up the first time",
"We hadn't seen each other in a month",
"When you said you needed space. (What?)",
"Then you come around again and say",
"Remember how that lasted for a day?",
"Ooh, we called it off again last night",
"But ooh, this time I'm telling you, I'm telling you",
"We are never ever ever getting back together,",
"You go talk to your friends, talk to my friends, talk to me",
"But we are never ever ever ever getting back together",
"Like, ever...",
"I'm really gonna miss you picking fights",
"And me falling for it screaming that I'm right",
"And you would hide away and find your peace of mind",
"With some indie record that's much cooler than mine",
"Ooh, you called me up again tonight",
"We are never, ever, ever getting back together",
"You go talk to your friends, talk to my friends, talk to me (talk to me)",
"Ooh, yeah, ooh yeah, ooh yeah",
"Oh oh oh",
"I used to think that we were forever ever",
"No!",
"We are never ever ever getting back together",
"We, ooh, getting back together, ohhh,",
"We, ooh, getting back together",
"It feels like a perfect night to dress up like hipsters",
"And make fun of our exes, uh uh, uh uh.",
"It feels like a perfect night for breakfast at midnight",
"To fall in love with strangers, uh uh, uh uh.",
"Yeah,",
"We're happy, free, confused, and lonely at the same time",
"It's miserable and magical.",
"Oh, yeah",
"Tonight's the night when we forget about the deadlines",
"It's time",
"Uh oh!",
"I don't know about you",
"But I'm feeling 22",
"Everything will be alright",
"If you keep me next to you",
"You don't know about me",
"But I'll bet you want to",
"If we just keep dancing like we're",
"22, ooh-ooh",
"It seems like one of those nights,",
"This place is too crowded.",
"Too many cool kids, uh uh, uh uh (who's Taylor Swift anyway, ew?)",
"We ditch the whole scene and end up dreaming",
"Instead of sleeping.",
"We're happy, free, confused, and lonely in the best way",
"Tonight's the night when we forget about the heartbreaks",
"Uh oh! (hey!)",
"Everything will be alright (alright)",
"22, ooh-ooh (oh, oh, oh)",
"It feels like one of those nights,",
"We ditch the whole scene.",
"We won't be sleeping.",
"You look like bad news.",
"I gotta have you,",
"I gotta have you.",
"Ooh-ooh",
"Ooh-ooh, ye-e-e-e-eah, hey",
"I don't know about you (I don't know about you)",
"You don't know about me (you don't know about me)",
"22, ooh-ooh, yeah, yeah",
"22, ooh-ooh, yeah, yeah, yeah",
"We ditch the whole scene",
"We won't be sleeping",
"You look like bad news,",
"Loving him is like driving a new Maserati down a dead-end street",
"Faster than the wind, passionate as sin, ending so suddenly",
"Loving him is like trying to change your mind once you're already flying through the free fall",
"Like the colors in autumn, so bright just before they lose it all",
"Losing him was blue like I'd never known",
"Missing him was dark grey all alone",
"Forgetting him was like trying to know somebody you never met",
"But loving him was red",
"Loving him was red",
"Touching him was like realizing all you ever wanted was right there in front of you",
"Memorizing him was as easy as knowing all the words to your old favorite song",
"Fighting with him was like trying to solve a crossword and realizing there's no right answer",
"Regretting him was like wishing you never found out that love could be that strong",
"Oh, red",
"Burning red",
"Remembering him comes in flashbacks and echoes",
"Tell myself it's time now, gotta let go",
"But moving on from him is impossible",
"When I still see it all in my head",
"In burning red",
"Burning, it was red",
"Oh, losing him was blue like I'd never known",
"'Cause loving him was red",
"Yeah, yeah, red",
"We're burning red",
"And that's why he's spinnin' 'round in my head",
"Comes back to me, burning red",
"Yeah, yeah",
"His love was like driving a new Maserati down a dead-end street",
"I think--I think when it's all over,",
"It just comes back in flashes, you know?",
"It's like a kaleidoscope of memories.",
"It just all comes back. But he never does.",
"I think part of me knew the second I saw him that this would happen.",
"It's not really anything he said or anything he did,",
"It was the feeling that came along with it.",
"And the crazy thing is I don't know if I'm ever gonna feel that way again.",
"But I don't know if I should.",
"I knew his world moved too fast and burned too bright.",
"But I just thought, how can the devil be pulling you toward someone who looks so much like an angel when he smiles at you?",
"Maybe he knew that when he saw me.",
"I guess I just lost my balance.",
"I think that the worst part of it all wasn't losing him.",
"It was losing me.",
"Once upon a time a few mistakes ago",
"I was in your sights, you got me alone",
"You found me, you found me, you found me",
"I guess you didn't care, and I guess I liked that",
"And when I fell hard you took a step back",
"Without me, without me, without me",
"And he's long gone when he's next to me",
"And I realize the blame is on me",
"'Cause I knew you were trouble when you walked in",
"So shame on me now",
"Flew me to places I'd never been",
"'Til you put me down, oh",
"I knew you were trouble when you walked in",
"Now I'm lying on the cold hard ground",
"Oh, oh, trouble, trouble, trouble",
"No apologies. He'll never see you cry,",
"Pretends he doesn't know that he's the reason why.",
"You're drowning, you're drowning, you're drowning.",
"Now I heard you moved on from whispers on the street",
"A new notch in your belt is all I'll ever be",
"And now I see, now I see, now I see",
"He was long gone when he met me",
"And I realize the joke is on me, yeah!",
"And the saddest fear comes creeping in",
"That you never loved me or her, or anyone, or anything, yeah",
"I knew you were trouble when you walked in (you were right there, you were right there)",
"Trouble, trouble, trouble",
"I stay out too late",
"Got nothing in my brain",
"That's what people say, mmm-mmm",
"But I can't make them stay",
"At least that's what people say, mmm-mmm",
"But I keep cruising",
"Can't stop, won't stop moving",
"It's like I got this music",
"In my mind",
"'Cause the players gonna play, play, play, play, play",
"And the haters gonna hate, hate, hate, hate, hate",
"Baby, I'm just gonna shake, shake, shake, shake, shake",
"I shake it off, I shake it off",
"Heart-breakers gonna break, break, break, break, break",
"And the fakers gonna fake, fake, fake, fake, fake",
"I never miss a beat",
"I'm lightning on my feet",
"And that's what they don't see, mmm-mmm",
"That's what they don't see, mmm-mmm",
"I'm dancing on my own (dancing on my own)",
"I make the moves up as I go (moves up as I go)",
"And that's what they don't know, mmm-mmm",
"That's what they don't know, mmm-mmm",
"Can't stop, won't stop grooving",
"Shake it off, I shake it off,",
"I, I, I shake it off, I shake it off,",
"I, I, I shake it off, I shake it off",
"Hey, hey, hey",
"Just think while you've been getting down and out about the liars and the dirty, dirty cheats of the world,",
"You could've been getting down to this sick beat.",
"My ex-man brought his new girlfriend",
"And to the fella over there with the hella good hair",
"Won't you come on over, baby? We can shake, shake, shake",
"Yeah ohhh",
"And the haters gonna hate, hate, hate, hate, hate (haters gonna hate)",
"I'm just gonna shake, shake, shake, shake, shake",
"Heart-breakers gonna break, break, break, break, break (mmmm)",
"And the fakers gonna fake, fake, fake, fake, fake (and fake, and fake, and fake)",
"I, I, I shake it off, I shake it off (you've got to),",
"'Cause, baby, now we got bad blood",
"You know it used to be mad love",
"So take a look what you've done",
"Hey",
"Now we got problems",
"And I don't think we can solve them",
"You made a really deep cut",
"And, baby, now we got bad blood",
"Did you have to do this? I was thinking that you could be trusted",
"Did you have to ruin what was shiny? Now it's all rusted",
"Did you have to hit me, where I'm weak? Baby, I couldn't breathe",
"And rub it in so deep, salt in the wound like you're laughing right at me",
"Oh, it's so sad to think about the good times, you and I",
"Did you think we'd be fine? Still got scars on my back from your knife",
"So don't think it's in the past, these kinda wounds they last and they last.",
"Now did you think it all through? All these things will catch up to you",
"And time can heal but this won't, so if you're coming my way, just don't",
"Band-aids don't fix bullet holes",
"You say sorry just for show",
"If you live like that, you live with ghosts (ghosts)",
"Band-aids don't fix bullet holes (hey)",
"You say sorry just for show (hey)",
"If you live like that, you live with ghosts (hey)",
"If you love like that blood runs cold",
"You know it used to be mad love (mad love)",
"And I don't think we can solve them (think we can solve them)",
"(Hey)",
"So take a look what you've done (look what you've done)",
"Midnight,",
"You come and pick me up, no headlights",
"A long drive,",
"Could end in burning flames or paradise",
"Fade into view, oh, it's been a while since I have even heard from you (heard from you)",
"I should just tell you to leave 'cause I",
"Know exactly where it leads but I",
"Watch us go 'round and 'round each time",
"You got that James Dean daydream look in your eye",
"And I got that red lip classic thing that you like",
"And when we go crashing down, we come back every time",
"'Cause we never go out of style",
"We never go out of style",
"You got that long hair, slicked back, white t-shirt",
"And I got that good girl faith and a tight little skirt",
"We never go out of style.",
"So it goes",
"He can't keep his wild eyes on the road",
"Takes me home",
"Lights are off, he's taking off his coat, hmm, yeah.",
"'Cause you got that James Dean daydream look in your eye",
"And I got that good girl faith and a tight little skirt (tight little skirt)",
"Take me home",
"Just take me home, yeah.",
"Just take me home",
"(out of style)",
"I was reminiscing just the other day,",
"While having coffee all alone and Lord, it took me away.",
"Back to a first-glance feeling on New York Time.",
"Back when you fit in my poems like a perfect rhyme.",
"Yeah, you skipped the conversation when you already know.",
"I left a note on the door with a joke we’d made,",
"And that was the first day.",
"And darling, it was good never looking down.",
"And right there where we stood was holy ground.",
"Spinning like a girl in a brand new dress,",
"We had this big wide city all to ourselves.",
"We blocked the noise with the sound of ‘I need you’,",
"And for the first time I had something to lose,",
"And I guess we fell apart in the usual way.",
"And the story’s got dust on every page,",
"But sometimes I wonder how you think about it now.",
"And I see your face in every crowd.",
"Cause darling, it was good never looking down.",
"Tonight I’m gonna dance for all that we’ve been through.",
"But I don’t wanna dance if I’m not dancing with you.",
"Tonight I’m gonna dance like you were in this room.",
"But I don’t wanna dance if I’m not dancing with you,",
"It was good never looking down.",
"I still remember the look on your face",
"Lit through the darkness at 1:58",
"The words that you whispered",
"For just us to know",
"You told me you loved me",
"So why did you go away?",
"Away",
"I do recall now the smell of the rain",
"Fresh on the pavement",
"I ran off the plane",
"That July 9th",
"The beat of your heart",
"It jumps through your shirt",
"I can still feel your arms",
"But now I'll go sit on the floor",
"Wearing your clothes",
"All that I know is",
"I don't know how to be something you miss",
"I never thought we'd have a last kiss",
"Never imagined we'd end like this",
"Your name, forever the name on my lips",
"I do remember the swing of your step",
"The life of the party, you're showing off again",
"And I roll my eyes and then",
"You pull me in",
"I'm not much for dancing",
"But for you I did",
"Because I love your handshake, meeting my father",
"I love how you walk with your hands in your pockets",
"How you kissed me when I was in the middle of saying something",
"There's not a day I don't miss those rude interruptions",
"And I'll go sit on the floor",
"Never thought we'd have a last kiss",
"So I'll watch your life in pictures like I used to watch you sleep",
"And I feel you forget me like I used to feel you breathe",
"And I keep up with our old friends just to ask them how you are",
"Hope it's nice where you are",
"And I hope the sun shines",
"And it's a beautiful day",
"And something reminds you",
"You wish you had stayed",
"You can plan for a change in weather and time",
"But I never planned on you changing your mind",
"So I'll go sit on the floor",
"Just like our last kiss",
"Forever the name on my lips",
"Just like our last...",
"You're on the phone with your girlfriend",
"She's upset, she's going off about something that you said",
"'Cause she doesn't get your humor like I do.",
"I'm in the room, it's a typical Tuesday night.",
"I'm listening to the kind of music she doesn't like.",
"And she'll never know your story like I do.",
"But she wears short skirts",
"I wear t-shirts",
"She's cheer captain",
"And I'm on the bleachers",
"Dreaming about the day when you wake up and find",
"That what you're looking for has been here the whole time.",
"If you could see",
"That I'm the one",
"Who understands you.",
"Been here all along.",
"So, why can't you see",
"You belong with me,",
"You belong with me.",
"Walk in the streets with you in your worn out jeans",
"I can't help thinking this is how it ought to be.",
"Laughing on a park bench thinking to myself,",
"And you've got a smile",
"That could light up this whole town.",
"I haven't seen it in a while",
"Since she brought you down.",
"You say you're fine I know you better than that.",
"Hey, what you doing with a girl like that?",
"She wears high heels,",
"I wear sneakers.",
"She's cheer captain,",
"And I'm on the bleachers.",
"Who understands you,",
"Standing by and waiting at your backdoor.",
"All this time how could you not know, baby?",
"[Instrumental]",
"Oh, I remember you driving to my house",
"In the middle of the night.",
"I'm the one who makes you laugh",
"When you know you're 'bout to cry.",
"I know your favorite songs,",
"And you tell me about your dreams.",
"Think I know where you belong,",
"Think I know it's with me.",
"Can't you see",
"Who understands you?",
"Have you ever thought just maybe",
"You belong with me?",
"Nice to meet you, where you been?",
"I could show you incredible things",
"Magic, madness, heaven, sin",
"Saw you there and I thought",
"Oh my God, look at that face",
"You look like my next mistake",
"Love's a game, wanna play?",
"New money, suit and tie",
"I can read you like a magazine",
"Ain't it funny, rumors fly",
"And I know you heard about me",
"So hey, let's be friends",
"I'm dying to see how this one ends",
"Grab your passport and my hand",
"I can make the bad guys good for a weekend",
"So it's gonna be forever",
"Or it's gonna go down in flames",
"You can tell me when it's over",
"If the high was worth the pain",
"Got a long list of ex-lovers",
"They'll tell you I'm insane",
"'Cause you know I love the players",
"And you love the game",
"'Cause we're young and we're reckless",
"We'll take this way too far",
"It'll leave you breathless",
"Or with a nasty scar",
"But I've got a blank space, baby",
"And I'll write your name",
"Cherry lips, crystal skies",
"Stolen kisses, pretty lies",
"You're the King, baby, I'm your Queen",
"Find out what you want",
"Be that girl for a month",
"Wait, the worst is yet to come, oh no",
"Screaming, crying, perfect storms",
"I can make all the tables turn",
"Rose garden filled with thorns",
"Keep you second guessing like",
"I get drunk on jealousy",
"But you'll come back each time you leave",
"'Cause, darling, I'm a nightmare dressed like a daydream",
"Boys only want love if it's torture",
"Don't say I didn't say, I didn't warn ya",
"You stand with your hand on my waist line",
"It's a scene and we're out here in plain sight",
"I can hear them whisper as we pass by",
"It's a bad sign, bad sign",
"Something happens when everybody finds out",
"See the vultures circling dark clouds",
"Love's a fragile little flame, it could burn out",
"It could burn out",
"Cause they got the cages, they got the boxes",
"And guns",
"They are the hunters, we are the foxes",
"And we run",
"Baby, I know places we won't be found",
"And they'll be chasing their tails tryin' to track us down",
"Cause I, I know places we can hide",
"I know places, I know places",
"Lights flash and we'll run for the fences",
"Let them say what they want, we won't hear it",
"Loose lips sink ships all the damn time",
"Not this time",
"Just grab my hand and don't ever drop it",
"My love",
"I know places",
"They take their shots, but we're bulletproof",
"And you know for me, it's always you",
"In the dead of night, your eyes so green",
"And I know for you, it's always me"]
},{}],9:[function(require,module,exports){

var makeSubtitle = require('./subtitle')
var pick = require('pick-random')
module.exports = function () {
    var coverPage = document.createElement('section')
    coverPage.className = 'cover page'
    var title = document.createElement('div')
    title.className = 'cover--title'
    title.textContent = 'THE NULL EARTH CATALOG'
    coverPage.appendChild(title)
    var subtitle = document.createElement('div')
    subtitle.className = 'cover--subtitle'
    subtitle.textContent = makeSubtitle()
    coverPage.appendChild(subtitle)

    var earths =    [
        "./imgs/earth_from_space/PROC-earth from space0.jpg",
        "./imgs/earth_from_space/PROC-earth from space1.jpg",
        "./imgs/earth_from_space/PROC-earth from space11.png",
        "./imgs/earth_from_space/PROC-earth from space12.jpg",
        "./imgs/earth_from_space/PROC-earth from space13.jpg",
        "./imgs/earth_from_space/PROC-earth from space14.jpg",
        "./imgs/earth_from_space/PROC-earth from space15.jpg",
        "./imgs/earth_from_space/PROC-earth from space16.jpg",
        "./imgs/earth_from_space/PROC-earth from space17.jpg",
        "./imgs/earth_from_space/PROC-earth from space18.jpg",
        "./imgs/earth_from_space/PROC-earth from space19.jpg",
        "./imgs/earth_from_space/PROC-earth from space2.jpg",
        "./imgs/earth_from_space/PROC-earth from space20.jpg",
        "./imgs/earth_from_space/PROC-earth from space21.jpg",
        "./imgs/earth_from_space/PROC-earth from space22.jpg",
        "./imgs/earth_from_space/PROC-earth from space23.jpg",
        "./imgs/earth_from_space/PROC-earth from space24.jpg",
        "./imgs/earth_from_space/PROC-earth from space3.jpg",
        "./imgs/earth_from_space/PROC-earth from space4.jpg",
        "./imgs/earth_from_space/PROC-earth from space5.jpg",
        "./imgs/earth_from_space/PROC-earth from space6.jpg",
        "./imgs/earth_from_space/PROC-earth from space7.jpg",
        "./imgs/earth_from_space/PROC-earth from space8.jpg",
        "./imgs/earth_from_space/PROC-earth from space9.jpg",
        "./imgs/earth_from_space/demo.jpg"
      ]
    var imgPath = pick(earths)[0]
    var theEarth = document.createElement('img')
    theEarth.className = 'cover--img'
    theEarth.src = imgPath
    coverPage.appendChild(theEarth)

    var season = pick(['SUMMER', 'FALL', 'WINTER', 'SPRING', 'PRE-WINTER', 'POST-SUMMER', 'EARLY-SPRING', 'TRUST FALLS'])[0]
    var a = (Math.random() < 0.66) ? '1' : '2'
    var b = (a == '2') ? '0' : ((Math.random() < 0.8) ? '9' : ~~(Math.random() * 10))
    var c = (a == '2') ? ((Math.random() < 0.6) ? 0 : 1) : ~~(Math.random() * 10)
    var d = ~~(Math.random() * 10)
    var year = a + b + c + d
    var edition = document.createElement('div')
    edition.className = 'cover--edition'
    edition.textContent = season + ', ' + year
    coverPage.appendChild(edition)
    return coverPage
}
},{"./subtitle":59,"pick-random":32}],10:[function(require,module,exports){
module.exports = [
  [
    "./imgs/ableton_live/PROC-ableton live1.jpg",
    "./imgs/ableton_live/PROC-ableton live2.png",
    "./imgs/ableton_live/PROC-ableton live4.png",
    "./imgs/ableton_live/PROC-ableton live6.jpg",
    "./imgs/ableton_live/PROC-ableton live8.png"
  ],
  [
    "./imgs/airplane_emergency_diagram/PROC-airplane emergency diagram0.jpg",
    "./imgs/airplane_emergency_diagram/PROC-airplane emergency diagram1.jpg",
    "./imgs/airplane_emergency_diagram/PROC-airplane emergency diagram2.jpg",
    "./imgs/airplane_emergency_diagram/PROC-airplane emergency diagram4.jpg",
    "./imgs/airplane_emergency_diagram/PROC-airplane emergency diagram5.jpg",
    "./imgs/airplane_emergency_diagram/PROC-airplane emergency diagram6.jpg",
    "./imgs/airplane_emergency_diagram/PROC-airplane emergency diagram7.jpg",
    "./imgs/airplane_emergency_diagram/PROC-airplane emergency diagram8.jpg",
    "./imgs/airplane_emergency_diagram/PROC-airplane emergency diagram9.jpg"
  ],
  [
    "./imgs/baking_tips/PROC-baking tips0.jpg",
    "./imgs/baking_tips/PROC-baking tips2.jpg",
    "./imgs/baking_tips/PROC-baking tips3.jpg",
    "./imgs/baking_tips/PROC-baking tips4.jpg",
    "./imgs/baking_tips/PROC-baking tips5.jpg",
    "./imgs/baking_tips/PROC-baking tips6.jpg",
    "./imgs/baking_tips/PROC-baking tips8.jpg",
    "./imgs/baking_tips/PROC-baking tips9.jpg"
  ],
  [
    "./imgs/band_camp/PROC-band camp3.jpg",
    "./imgs/band_camp/PROC-band camp4.jpg",
    "./imgs/band_camp/PROC-band camp5.png",
    "./imgs/band_camp/PROC-band camp6.png",
    "./imgs/band_camp/PROC-band camp7.png",
    "./imgs/band_camp/PROC-band camp8.png"
  ],
  [
    "./imgs/bicycle_repair/PROC-bicycle repair5.jpg",
    "./imgs/bicycle_repair/PROC-bicycle repair6.jpg",
    "./imgs/bicycle_repair/PROC-bicycle repair7.jpg",
    "./imgs/bicycle_repair/PROC-bicycle repair8.jpg",
    "./imgs/bicycle_repair/PROC-bicycle repair9.png"
  ],
  [
    "./imgs/boombox_manual/PROC-boombox manual0.jpg",
    "./imgs/boombox_manual/PROC-boombox manual1.jpg",
    "./imgs/boombox_manual/PROC-boombox manual2.jpg",
    "./imgs/boombox_manual/PROC-boombox manual3.jpg",
    "./imgs/boombox_manual/PROC-boombox manual4.jpg",
    "./imgs/boombox_manual/PROC-boombox manual5.jpg",
    "./imgs/boombox_manual/PROC-boombox manual6.jpg",
    "./imgs/boombox_manual/PROC-boombox manual7.jpg",
    "./imgs/boombox_manual/PROC-boombox manual8.jpg",
    "./imgs/boombox_manual/PROC-boombox manual9.jpg"
  ],
  [
    "./imgs/buckminster_fuller_domes/PROC-buckminster fuller domes0.jpg",
    "./imgs/buckminster_fuller_domes/PROC-buckminster fuller domes1.jpg",
    "./imgs/buckminster_fuller_domes/PROC-buckminster fuller domes2.jpg",
    "./imgs/buckminster_fuller_domes/PROC-buckminster fuller domes3.jpg",
    "./imgs/buckminster_fuller_domes/PROC-buckminster fuller domes4.jpg",
    "./imgs/buckminster_fuller_domes/PROC-buckminster fuller domes5.jpg",
    "./imgs/buckminster_fuller_domes/PROC-buckminster fuller domes6.jpg",
    "./imgs/buckminster_fuller_domes/PROC-buckminster fuller domes7.jpg",
    "./imgs/buckminster_fuller_domes/PROC-buckminster fuller domes8.jpg",
    "./imgs/buckminster_fuller_domes/PROC-buckminster fuller domes9.jpg"
  ],
  [
    "./imgs/car_engine/PROC-car engine0.png",
    "./imgs/car_engine/PROC-car engine1.jpg",
    "./imgs/car_engine/PROC-car engine2.jpg",
    "./imgs/car_engine/PROC-car engine3.jpg",
    "./imgs/car_engine/PROC-car engine4.jpg",
    "./imgs/car_engine/PROC-car engine5.jpg",
    "./imgs/car_engine/PROC-car engine6.jpg",
    "./imgs/car_engine/PROC-car engine7.jpg",
    "./imgs/car_engine/PROC-car engine8.jpg"
  ],
  [
    "./imgs/circuit_bending/PROC-circuit bending0.jpg",
    "./imgs/circuit_bending/PROC-circuit bending2.jpg",
    "./imgs/circuit_bending/PROC-circuit bending3.jpg",
    "./imgs/circuit_bending/PROC-circuit bending4.jpg",
    "./imgs/circuit_bending/PROC-circuit bending5.jpg",
    "./imgs/circuit_bending/PROC-circuit bending8.jpg"
  ],
  [
    "./imgs/clocks_and_watches/PROC-clocks and watches0.jpg",
    "./imgs/clocks_and_watches/PROC-clocks and watches1.jpg",
    "./imgs/clocks_and_watches/PROC-clocks and watches2.jpg",
    "./imgs/clocks_and_watches/PROC-clocks and watches3.jpg",
    "./imgs/clocks_and_watches/PROC-clocks and watches4.jpg",
    "./imgs/clocks_and_watches/PROC-clocks and watches5.jpg",
    "./imgs/clocks_and_watches/PROC-clocks and watches6.jpg",
    "./imgs/clocks_and_watches/PROC-clocks and watches7.jpg",
    "./imgs/clocks_and_watches/PROC-clocks and watches8.jpg",
    "./imgs/clocks_and_watches/PROC-clocks and watches9.jpg"
  ],
  [
    "./imgs/cnn/PROC-cnn5.jpg",
    "./imgs/cnn/PROC-cnn7.jpg",
    "./imgs/cnn/PROC-cnn9.jpg"
  ],
  [
    "./imgs/color_by_number/PROC-color by number0.jpg",
    "./imgs/color_by_number/PROC-color by number1.jpg",
    "./imgs/color_by_number/PROC-color by number2.png",
    "./imgs/color_by_number/PROC-color by number3.jpg",
    "./imgs/color_by_number/PROC-color by number5.jpg",
    "./imgs/color_by_number/PROC-color by number6.jpg",
    "./imgs/color_by_number/PROC-color by number7.jpg",
    "./imgs/color_by_number/PROC-color by number8.jpg",
    "./imgs/color_by_number/PROC-color by number9.jpg"
  ],
  [
    "./imgs/cowboy_techniques/PROC-cowboy techniques0.jpg",
    "./imgs/cowboy_techniques/PROC-cowboy techniques1.jpg",
    "./imgs/cowboy_techniques/PROC-cowboy techniques2.jpg",
    "./imgs/cowboy_techniques/PROC-cowboy techniques3.jpg",
    "./imgs/cowboy_techniques/PROC-cowboy techniques4.jpg",
    "./imgs/cowboy_techniques/PROC-cowboy techniques5.jpg",
    "./imgs/cowboy_techniques/PROC-cowboy techniques6.jpg",
    "./imgs/cowboy_techniques/PROC-cowboy techniques7.jpg",
    "./imgs/cowboy_techniques/PROC-cowboy techniques9.jpg"
  ],
  [
    "./imgs/crass/PROC-crass0.png",
    "./imgs/crass/PROC-crass2.jpg",
    "./imgs/crass/PROC-crass4.png",
    "./imgs/crass/PROC-crass6.jpg",
    "./imgs/crass/PROC-crass8.jpg"
  ],
  [
    "./imgs/dadaist_poem/PROC-dadaist poem0.jpg",
    "./imgs/dadaist_poem/PROC-dadaist poem1.jpg",
    "./imgs/dadaist_poem/PROC-dadaist poem2.jpg",
    "./imgs/dadaist_poem/PROC-dadaist poem3.jpg",
    "./imgs/dadaist_poem/PROC-dadaist poem4.jpg",
    "./imgs/dadaist_poem/PROC-dadaist poem5.jpg",
    "./imgs/dadaist_poem/PROC-dadaist poem6.jpg",
    "./imgs/dadaist_poem/PROC-dadaist poem7.jpg",
    "./imgs/dadaist_poem/PROC-dadaist poem9.jpg"
  ],
  [
    "./imgs/diablo_two/PROC-diablo two2.jpg",
    "./imgs/diablo_two/PROC-diablo two3.jpg",
    "./imgs/diablo_two/PROC-diablo two5.jpg",
    "./imgs/diablo_two/PROC-diablo two6.png",
    "./imgs/diablo_two/PROC-diablo two7.jpg",
    "./imgs/diablo_two/PROC-diablo two8.jpg"
  ],

  [
    "./imgs/emacs/PROC-emacs0.png",
    "./imgs/emacs/PROC-emacs2.png",
    "./imgs/emacs/PROC-emacs4.png",
    "./imgs/emacs/PROC-emacs6.png",
    "./imgs/emacs/PROC-emacs8.png"
  ],
  [
    "./imgs/facebook_ui_failure/PROC-facebook ui failure2.png",
    "./imgs/facebook_ui_failure/PROC-facebook ui failure3.jpg",
    "./imgs/facebook_ui_failure/PROC-facebook ui failure4.jpg",
    "./imgs/facebook_ui_failure/PROC-facebook ui failure5.jpg",
    "./imgs/facebook_ui_failure/PROC-facebook ui failure6.jpg",
    "./imgs/facebook_ui_failure/PROC-facebook ui failure7.jpg",
    "./imgs/facebook_ui_failure/PROC-facebook ui failure8.jpg",
    "./imgs/facebook_ui_failure/PROC-facebook ui failure9.jpg"
  ],
  [
    "./imgs/farming_tactics/PROC-farming tactics0.jpg",
    "./imgs/farming_tactics/PROC-farming tactics1.jpg",
    "./imgs/farming_tactics/PROC-farming tactics2.jpg",
    "./imgs/farming_tactics/PROC-farming tactics3.jpg",
    "./imgs/farming_tactics/PROC-farming tactics4.jpg",
    "./imgs/farming_tactics/PROC-farming tactics5.jpg",
    "./imgs/farming_tactics/PROC-farming tactics6.jpg",
    "./imgs/farming_tactics/PROC-farming tactics7.jpg",
    "./imgs/farming_tactics/PROC-farming tactics8.jpg",
    "./imgs/farming_tactics/PROC-farming tactics9.jpg"
  ],
  [
    "./imgs/fashion/PROC-fashion0.jpg",
    "./imgs/fashion/PROC-fashion1.jpg",
    "./imgs/fashion/PROC-fashion2.jpg",
    "./imgs/fashion/PROC-fashion3.png",
    "./imgs/fashion/PROC-fashion4.png",
    "./imgs/fashion/PROC-fashion5.png",
    "./imgs/fashion/PROC-fashion6.png",
    "./imgs/fashion/PROC-fashion7.png",
    "./imgs/fashion/PROC-fashion8.jpg",
    "./imgs/fashion/PROC-fashion9.jpg"
  ],
  [
    "./imgs/final_fantasy_seven_fight/PROC-final fantasy seven fight1.jpg",
    "./imgs/final_fantasy_seven_fight/PROC-final fantasy seven fight2.jpg",
    "./imgs/final_fantasy_seven_fight/PROC-final fantasy seven fight7.jpg",
    "./imgs/final_fantasy_seven_fight/PROC-final fantasy seven fight9.jpg"
  ],
  [
    "./imgs/ghostbusters_marshmallow/PROC-ghostbusters marshmallow0.jpg",
    "./imgs/ghostbusters_marshmallow/PROC-ghostbusters marshmallow2.jpg",
    "./imgs/ghostbusters_marshmallow/PROC-ghostbusters marshmallow4.jpg",
    "./imgs/ghostbusters_marshmallow/PROC-ghostbusters marshmallow8.jpg"
  ],
  [
    "./imgs/goosebumps/PROC-goosebumps0.jpg",
    "./imgs/goosebumps/PROC-goosebumps1.jpg"
  ],
  [
    "./imgs/guitar_lessons/PROC-guitar lessons1.png",
    "./imgs/guitar_lessons/PROC-guitar lessons2.png",
    "./imgs/guitar_lessons/PROC-guitar lessons3.png",
    "./imgs/guitar_lessons/PROC-guitar lessons4.png",
    "./imgs/guitar_lessons/PROC-guitar lessons7.jpg"
  ],
  [
    "./imgs/hockey_stick_graphs/PROC-hockey stick graphs0.jpg",
    "./imgs/hockey_stick_graphs/PROC-hockey stick graphs1.jpg",
    "./imgs/hockey_stick_graphs/PROC-hockey stick graphs2.jpeg",
    "./imgs/hockey_stick_graphs/PROC-hockey stick graphs4.jpg",
    "./imgs/hockey_stick_graphs/PROC-hockey stick graphs5.jpg",
    "./imgs/hockey_stick_graphs/PROC-hockey stick graphs8.png",
    "./imgs/hockey_stick_graphs/PROC-hockey stick graphs9.jpg"
  ],
  [
    "./imgs/how_to_fish/PROC-how to fish0.png",
    "./imgs/how_to_fish/PROC-how to fish1.png",
    "./imgs/how_to_fish/PROC-how to fish2.jpg",
    "./imgs/how_to_fish/PROC-how to fish3.png",
    "./imgs/how_to_fish/PROC-how to fish4.png",
    "./imgs/how_to_fish/PROC-how to fish8.jpg",
    "./imgs/how_to_fish/PROC-how to fish9.jpg"
  ],
  [
    "./imgs/how_to_set_a_table/PROC-how to set a table0.png",
    "./imgs/how_to_set_a_table/PROC-how to set a table1.png",
    "./imgs/how_to_set_a_table/PROC-how to set a table2.png",
    "./imgs/how_to_set_a_table/PROC-how to set a table3.png",
    "./imgs/how_to_set_a_table/PROC-how to set a table4.png",
    "./imgs/how_to_set_a_table/PROC-how to set a table5.png",
    "./imgs/how_to_set_a_table/PROC-how to set a table8.png",
    "./imgs/how_to_set_a_table/PROC-how to set a table9.png"
  ],
  [
    "./imgs/huge_bongs/PROC-huge bongs0.jpg",
    "./imgs/huge_bongs/PROC-huge bongs2.jpg",
    "./imgs/huge_bongs/PROC-huge bongs4.jpg",
    "./imgs/huge_bongs/PROC-huge bongs9.jpg"
  ],
  [
    "./imgs/javascript/PROC-javascript1.png",
    "./imgs/javascript/PROC-javascript2.jpg",
    "./imgs/javascript/PROC-javascript3.jpg",
    "./imgs/javascript/PROC-javascript4.jpg",
    "./imgs/javascript/PROC-javascript5.jpg",
    "./imgs/javascript/PROC-javascript6.jpg",
    "./imgs/javascript/PROC-javascript7.png",
    "./imgs/javascript/PROC-javascript8.png",
    "./imgs/javascript/PROC-javascript9.png"
  ],
  [
    "./imgs/kardashians/PROC-kardashians7.jpg",
    "./imgs/kardashians/PROC-kardashians8.jpg"
  ],
  [
    "./imgs/katamari_damacy/PROC-katamari damacy2.jpg",
    "./imgs/katamari_damacy/PROC-katamari damacy4.jpg",
    "./imgs/katamari_damacy/PROC-katamari damacy6.jpg",
    "./imgs/katamari_damacy/PROC-katamari damacy7.jpg",
    "./imgs/katamari_damacy/PROC-katamari damacy9.jpg"
  ],
  [
    "./imgs/kingdom_hearts/PROC-kingdom hearts4.png",
    "./imgs/kingdom_hearts/PROC-kingdom hearts6.png",
    "./imgs/kingdom_hearts/PROC-kingdom hearts8.png",
    "./imgs/kingdom_hearts/PROC-kingdom hearts9.jpg"
  ],
  [
    "./imgs/magic_the_gathering/PROC-magic the gathering0.jpg",
    "./imgs/magic_the_gathering/PROC-magic the gathering1.jpg",
    "./imgs/magic_the_gathering/PROC-magic the gathering2.jpg",
    "./imgs/magic_the_gathering/PROC-magic the gathering6.jpg",
    "./imgs/magic_the_gathering/PROC-magic the gathering7.jpg",
    "./imgs/magic_the_gathering/PROC-magic the gathering8.jpg",
    "./imgs/magic_the_gathering/PROC-magic the gathering9.jpg"
  ],
  [
    "./imgs/make_up_tips/PROC-make up tips0.jpg",
    "./imgs/make_up_tips/PROC-make up tips1.jpg",
    "./imgs/make_up_tips/PROC-make up tips2.jpg",
    "./imgs/make_up_tips/PROC-make up tips3.jpg",
    "./imgs/make_up_tips/PROC-make up tips4.jpg",
    "./imgs/make_up_tips/PROC-make up tips5.jpg",
    "./imgs/make_up_tips/PROC-make up tips6.jpg",
    "./imgs/make_up_tips/PROC-make up tips7.jpg",
    "./imgs/make_up_tips/PROC-make up tips8.jpg",
    "./imgs/make_up_tips/PROC-make up tips9.jpg"
  ],
  [
    "./imgs/marcel_duchamp_readymades/PROC-marcel duchamp readymades0.jpg",
    "./imgs/marcel_duchamp_readymades/PROC-marcel duchamp readymades1.png",
    "./imgs/marcel_duchamp_readymades/PROC-marcel duchamp readymades2.jpg",
    "./imgs/marcel_duchamp_readymades/PROC-marcel duchamp readymades3.jpg",
    "./imgs/marcel_duchamp_readymades/PROC-marcel duchamp readymades4.png",
    "./imgs/marcel_duchamp_readymades/PROC-marcel duchamp readymades5.png",
    "./imgs/marcel_duchamp_readymades/PROC-marcel duchamp readymades6.jpg",
    "./imgs/marcel_duchamp_readymades/PROC-marcel duchamp readymades7.jpg",
    "./imgs/marcel_duchamp_readymades/PROC-marcel duchamp readymades8.jpg",
    "./imgs/marcel_duchamp_readymades/PROC-marcel duchamp readymades9.jpg"
  ],
  [
    "./imgs/mathematics/PROC-mathematics0.jpg",
    "./imgs/mathematics/PROC-mathematics1.jpg",
    "./imgs/mathematics/PROC-mathematics2.jpg",
    "./imgs/mathematics/PROC-mathematics4.jpg",
    "./imgs/mathematics/PROC-mathematics5.jpg",
    "./imgs/mathematics/PROC-mathematics6.jpg",
    "./imgs/mathematics/PROC-mathematics7.jpg",
    "./imgs/mathematics/PROC-mathematics8.jpg",
    "./imgs/mathematics/PROC-mathematics9.jpg"
  ],
  [
    "./imgs/modular_synthesizers/PROC-modular synthesizers0.jpg",
    "./imgs/modular_synthesizers/PROC-modular synthesizers1.jpg",
    "./imgs/modular_synthesizers/PROC-modular synthesizers2.jpg",
    "./imgs/modular_synthesizers/PROC-modular synthesizers4.jpg",
    "./imgs/modular_synthesizers/PROC-modular synthesizers6.jpg",
    "./imgs/modular_synthesizers/PROC-modular synthesizers7.jpg",
    "./imgs/modular_synthesizers/PROC-modular synthesizers8.jpg",
    "./imgs/modular_synthesizers/PROC-modular synthesizers9.jpg"
  ],
  [
    "./imgs/nba_jam_on_fire/PROC-nba jam on fire1.jpg",
    "./imgs/nba_jam_on_fire/PROC-nba jam on fire3.jpg",
    "./imgs/nba_jam_on_fire/PROC-nba jam on fire4.jpg",
    "./imgs/nba_jam_on_fire/PROC-nba jam on fire5.jpg",
    "./imgs/nba_jam_on_fire/PROC-nba jam on fire6.jpg",
    "./imgs/nba_jam_on_fire/PROC-nba jam on fire7.jpg",
    "./imgs/nba_jam_on_fire/PROC-nba jam on fire8.jpg"
  ],
  [
    "./imgs/philosophers/PROC-philosophers0.jpg",
    "./imgs/philosophers/PROC-philosophers1.jpg",
    "./imgs/philosophers/PROC-philosophers2.jpg",
    "./imgs/philosophers/PROC-philosophers3.jpg",
    "./imgs/philosophers/PROC-philosophers4.jpg",
    "./imgs/philosophers/PROC-philosophers5.jpg",
    "./imgs/philosophers/PROC-philosophers6.jpg",
    "./imgs/philosophers/PROC-philosophers7.jpg",
    "./imgs/philosophers/PROC-philosophers8.jpg",
    "./imgs/philosophers/PROC-philosophers9.jpg"
  ],
  [
    "./imgs/pokemon_blue/PROC-pokemon blue0.jpg",
    "./imgs/pokemon_blue/PROC-pokemon blue1.jpg",
    "./imgs/pokemon_blue/PROC-pokemon blue2.jpg",
    "./imgs/pokemon_blue/PROC-pokemon blue3.jpg",
    "./imgs/pokemon_blue/PROC-pokemon blue4.jpg",
    "./imgs/pokemon_blue/PROC-pokemon blue5.jpg",
    "./imgs/pokemon_blue/PROC-pokemon blue6.jpg",
    "./imgs/pokemon_blue/PROC-pokemon blue7.jpg",
    "./imgs/pokemon_blue/PROC-pokemon blue8.jpg",
    "./imgs/pokemon_blue/PROC-pokemon blue9.png"
  ],
  [
    "./imgs/power_rangers_megazord/PROC-power rangers megazord0.jpg",
    "./imgs/power_rangers_megazord/PROC-power rangers megazord1.jpg",
    "./imgs/power_rangers_megazord/PROC-power rangers megazord2.jpg",
    "./imgs/power_rangers_megazord/PROC-power rangers megazord3.jpg",
    "./imgs/power_rangers_megazord/PROC-power rangers megazord4.jpg",
    "./imgs/power_rangers_megazord/PROC-power rangers megazord5.jpg",
    "./imgs/power_rangers_megazord/PROC-power rangers megazord6.jpg",
    "./imgs/power_rangers_megazord/PROC-power rangers megazord7.jpg",
    "./imgs/power_rangers_megazord/PROC-power rangers megazord8.jpg",
    "./imgs/power_rangers_megazord/PROC-power rangers megazord9.jpg"
  ],
  [
    "./imgs/rez_ps2/PROC-rez ps22.jpg"
  ],
  [
    "./imgs/richard_serra_sculptures/PROC-richard serra sculptures0.jpg",
    "./imgs/richard_serra_sculptures/PROC-richard serra sculptures1.jpg",
    "./imgs/richard_serra_sculptures/PROC-richard serra sculptures2.jpg",
    "./imgs/richard_serra_sculptures/PROC-richard serra sculptures3.jpg",
    "./imgs/richard_serra_sculptures/PROC-richard serra sculptures4.jpg",
    "./imgs/richard_serra_sculptures/PROC-richard serra sculptures5.jpg",
    "./imgs/richard_serra_sculptures/PROC-richard serra sculptures6.jpg",
    "./imgs/richard_serra_sculptures/PROC-richard serra sculptures7.jpg",
    "./imgs/richard_serra_sculptures/PROC-richard serra sculptures8.jpg",
    "./imgs/richard_serra_sculptures/PROC-richard serra sculptures9.jpg"
  ],
  [
    "./imgs/science_fiction_art/PROC-science fiction art0.jpg",
    "./imgs/science_fiction_art/PROC-science fiction art1.jpg",
    "./imgs/science_fiction_art/PROC-science fiction art2.jpg",
    "./imgs/science_fiction_art/PROC-science fiction art3.jpg",
    "./imgs/science_fiction_art/PROC-science fiction art4.jpg",
    "./imgs/science_fiction_art/PROC-science fiction art5.jpg",
    "./imgs/science_fiction_art/PROC-science fiction art6.jpg",
    "./imgs/science_fiction_art/PROC-science fiction art7.jpg",
    "./imgs/science_fiction_art/PROC-science fiction art8.jpg",
    "./imgs/science_fiction_art/PROC-science fiction art9.jpg"
  ],
  [
    "./imgs/snorkeling_safety/PROC-snorkeling safety0.png",
    "./imgs/snorkeling_safety/PROC-snorkeling safety1.jpg",
    "./imgs/snorkeling_safety/PROC-snorkeling safety4.jpg",
    "./imgs/snorkeling_safety/PROC-snorkeling safety5.jpg",
    "./imgs/snorkeling_safety/PROC-snorkeling safety6.jpg",
    "./imgs/snorkeling_safety/PROC-snorkeling safety7.jpg",
    "./imgs/snorkeling_safety/PROC-snorkeling safety8.jpg",
    "./imgs/snorkeling_safety/PROC-snorkeling safety9.jpg"
  ],
  [
    "./imgs/sol_lewitt_wall_drawings/PROC-sol lewitt wall drawings0.jpg",
    "./imgs/sol_lewitt_wall_drawings/PROC-sol lewitt wall drawings1.jpg",
    "./imgs/sol_lewitt_wall_drawings/PROC-sol lewitt wall drawings2.jpg",
    "./imgs/sol_lewitt_wall_drawings/PROC-sol lewitt wall drawings3.jpg",
    "./imgs/sol_lewitt_wall_drawings/PROC-sol lewitt wall drawings4.jpg",
    "./imgs/sol_lewitt_wall_drawings/PROC-sol lewitt wall drawings5.jpg",
    "./imgs/sol_lewitt_wall_drawings/PROC-sol lewitt wall drawings6.jpg",
    "./imgs/sol_lewitt_wall_drawings/PROC-sol lewitt wall drawings7.jpg",
    "./imgs/sol_lewitt_wall_drawings/PROC-sol lewitt wall drawings8.jpg",
    "./imgs/sol_lewitt_wall_drawings/PROC-sol lewitt wall drawings9.jpg"
  ],
  [
    "./imgs/sp_505_sampler/PROC-sp 505 sampler0.jpg",
    "./imgs/sp_505_sampler/PROC-sp 505 sampler1.jpg",
    "./imgs/sp_505_sampler/PROC-sp 505 sampler2.jpg",
    "./imgs/sp_505_sampler/PROC-sp 505 sampler3.jpg",
    "./imgs/sp_505_sampler/PROC-sp 505 sampler4.jpg",
    "./imgs/sp_505_sampler/PROC-sp 505 sampler5.jpg",
    "./imgs/sp_505_sampler/PROC-sp 505 sampler6.jpg",
    "./imgs/sp_505_sampler/PROC-sp 505 sampler7.jpg",
    "./imgs/sp_505_sampler/PROC-sp 505 sampler8.jpg",
    "./imgs/sp_505_sampler/PROC-sp 505 sampler9.jpg"
  ],
  [
    "./imgs/star_wars/PROC-star wars3.jpg",
    "./imgs/star_wars/PROC-star wars7.jpg",
    "./imgs/star_wars/PROC-star wars8.jpg"
  ],
  [
    "./imgs/superhero/PROC-superhero0.png",
    "./imgs/superhero/PROC-superhero6.jpg",
    "./imgs/superhero/PROC-superhero7.jpg",
    "./imgs/superhero/PROC-superhero8.jpg",
    "./imgs/superhero/PROC-superhero9.jpg"
  ],
  [
    "./imgs/swimming_with_dolphins/PROC-swimming with dolphins0.jpg",
    "./imgs/swimming_with_dolphins/PROC-swimming with dolphins1.jpg",
    "./imgs/swimming_with_dolphins/PROC-swimming with dolphins2.jpg",
    "./imgs/swimming_with_dolphins/PROC-swimming with dolphins3.jpg",
    "./imgs/swimming_with_dolphins/PROC-swimming with dolphins4.jpg",
    "./imgs/swimming_with_dolphins/PROC-swimming with dolphins5.jpg",
    "./imgs/swimming_with_dolphins/PROC-swimming with dolphins6.jpg",
    "./imgs/swimming_with_dolphins/PROC-swimming with dolphins7.jpg",
    "./imgs/swimming_with_dolphins/PROC-swimming with dolphins8.jpg",
    "./imgs/swimming_with_dolphins/PROC-swimming with dolphins9.jpg"
  ],
  [
    "./imgs/toejam_and_earl/PROC-toejam and earl0.jpg",
    "./imgs/toejam_and_earl/PROC-toejam and earl1.png",
    "./imgs/toejam_and_earl/PROC-toejam and earl2.png",
    "./imgs/toejam_and_earl/PROC-toejam and earl3.png",
    "./imgs/toejam_and_earl/PROC-toejam and earl4.jpeg",
    "./imgs/toejam_and_earl/PROC-toejam and earl5.jpeg",
    "./imgs/toejam_and_earl/PROC-toejam and earl6.png",
    "./imgs/toejam_and_earl/PROC-toejam and earl7.png",
    "./imgs/toejam_and_earl/PROC-toejam and earl8.png",
    "./imgs/toejam_and_earl/PROC-toejam and earl9.png"
  ],
  [
    "./imgs/tofu_recipe/PROC-tofu recipe0.jpg",
    "./imgs/tofu_recipe/PROC-tofu recipe1.jpg",
    "./imgs/tofu_recipe/PROC-tofu recipe2.jpg",
    "./imgs/tofu_recipe/PROC-tofu recipe4.jpg",
    "./imgs/tofu_recipe/PROC-tofu recipe5.jpg",
    "./imgs/tofu_recipe/PROC-tofu recipe7.jpg",
    "./imgs/tofu_recipe/PROC-tofu recipe8.jpg",
    "./imgs/tofu_recipe/PROC-tofu recipe9.jpg"
  ],
  [
    "./imgs/transformer_faces/PROC-transformer faces0.jpg",
    "./imgs/transformer_faces/PROC-transformer faces1.jpg",
    "./imgs/transformer_faces/PROC-transformer faces4.jpg",
    "./imgs/transformer_faces/PROC-transformer faces5.jpg",
    "./imgs/transformer_faces/PROC-transformer faces6.jpg",
    "./imgs/transformer_faces/PROC-transformer faces7.jpg",
    "./imgs/transformer_faces/PROC-transformer faces8.jpg"
  ],
  [
    "./imgs/worst_google_doodles/PROC-worst google doodles3.jpg",
    "./imgs/worst_google_doodles/PROC-worst google doodles4.jpg",
    "./imgs/worst_google_doodles/PROC-worst google doodles6.jpg",
    "./imgs/worst_google_doodles/PROC-worst google doodles7.jpg",
    "./imgs/worst_google_doodles/PROC-worst google doodles9.jpg"
  ]
]
},{}],11:[function(require,module,exports){
var catalog = document.createElement('div')
catalog.className = 'catalog'
var section = require('./section')
var topics = require('./toc')()
var uses = require('./uses')()


var pick = require('pick-random')
var imageMap = require('./imageMap')



var coverPage = require('./coverPage')()
catalog.appendChild(coverPage)

var tocPage = require('./tocPage')(topics)
catalog.appendChild(tocPage)

var usePage = require('./usePage')(uses)
catalog.appendChild(usePage)





// var sections = topics.forEach(function (topic, i) {
//   catalog.appendChild(section(topic, i + 1, topics))
// })

// make index? glossary? closing page?



document.body.appendChild(catalog)

},{"./coverPage":9,"./imageMap":10,"./section":58,"./toc":60,"./tocPage":61,"./usePage":62,"./uses":63,"pick-random":32}],12:[function(require,module,exports){
var q = require('queneau-buckets')()


var texts = require('./corpuses/TOC')
.concat(require('./corpuses/subtitles'))
.concat(require('./corpuses/marx'))
.concat(require('./corpuses/ts1989'))
q.seed(texts)

module.exports = function () {
  return [q.fill(5 + (~~Math.random() * 7)),
  q.fill(5 + (~~Math.random() * 12)),
  q.fill(5 + (~~Math.random() * 18)),
  q.fill(5 + (~~Math.random() * 15)),
  q.fill(5 + (~~Math.random() * 12)),
  q.fill(5 + (~~Math.random() * 7)),
  q.fill(5 + (~~Math.random() * 3))].join('. ')
}

},{"./corpuses/TOC":5,"./corpuses/marx":6,"./corpuses/subtitles":7,"./corpuses/ts1989":8,"queneau-buckets":35}],13:[function(require,module,exports){
(function (Buffer){
var EventEmitter = require('events').EventEmitter;
var deck = require('deck');
var Lazy = require('lazy');
var Hash = require('hashish');

module.exports = function (order) {
    if (!order) order = 2;
    var db = {};
    var self = {};
    
    self.seed = function (seed, cb) {
        if (seed instanceof EventEmitter) {
            Lazy(seed).lines.forEach(self.seed);
            
            if (cb) {
                seed.on('error', cb);
                seed.on('end', cb);
            }
        }
        else {
            var text = (Buffer.isBuffer(seed) ? seed.toString() : seed)
            var words = text.split(/\s+/);
            var links = [];
            
            for (var i = 0; i < words.length; i += order) {
                var link = words.slice(i, i + order).join(' ');
                links.push(link);
            }
            
            if (links.length <= 1) {
                if (cb) cb(null);
                return;
            }
            
            for (var i = 1; i < links.length; i++) {
                var word = links[i-1];
                var cword = clean(word);
                var next = links[i];
                var cnext = clean(next);
                
                var node = Hash.has(db, cword)
                    ? db[cword]
                    : {
                        count : 0,
                        words : {},
                        next : {},
                        prev : {},
                    }
                ;
                db[cword] = node;
                
                node.count ++;
                node.words[word] = (
                    Hash.has(node.words, word) ? node.words[word] : 0
                ) + 1;
                node.next[cnext] = (
                    Hash.has(node.next, cnext) ? node.next[cnext] : 0
                ) + 1
                if (i > 1) {
                    var prev = clean(links[i-2]);
                    node.prev[prev] = (
                        Hash.has(node.prev, prev) ? node.prev[prev] : 0
                    ) + 1;
                }
                else {
                    node.prev[''] = (node.prev[''] || 0) + 1;
                }
            }
            
            if (!Hash.has(db, cnext)) db[cnext] = {
                count : 1,
                words : {},
                next : { '' : 0 },
                prev : {},
            };
            var n = db[cnext];
            n.words[next] = (Hash.has(n.words, next) ? n.words[next] : 0) + 1;
            n.prev[cword] = (Hash.has(n.prev, cword) ? n.prev[cword] : 0) + 1;
            n.next[''] = (n.next[''] || 0) + 1;
            
            if (cb) cb(null);
        }
    };
    
    self.search = function (text) {
        var words = text.split(/\s+/);
        
        // find a starting point...
        var start = null;
        var groups = {};
        for (var i = 0; i < words.length; i += order) {
            var word = clean(words.slice(i, i + order).join(' '));
            if (Hash.has(db, word)) groups[word] = db[word].count;
        }
        
        return deck.pick(groups);
    };
    
    self.pick = function () {
        return deck.pick(Object.keys(db))
    };
    
    self.next = function (cur) {
        if (!cur || !db[cur]) return undefined;
        
        var next = deck.pick(db[cur].next);
        return next && {
            key : next,
            word : deck.pick(db[next].words),
        } || undefined;
    };
    
    self.prev = function (cur) {
        if (!cur || !db[cur]) return undefined;
        
        var prev = deck.pick(db[cur].prev);
        return prev && {
            key : prev,
            word : deck.pick(db[prev].words),
        } || undefined;
    };
    
    self.forward = function (cur, limit) {
        var res = [];
        while (cur && !limit || res.length < limit) {
            var next = self.next(cur);
            if (!next) break;
            cur = next.key;
            res.push(next.word);
        }
        
        return res;
    };
    
    self.backward = function (cur, limit) {
        var res = [];
        while (cur && !limit || res.length < limit) {
            var prev = self.prev(cur);
            if (!prev) break;
            cur = prev.key;
            res.unshift(prev.word);
        }
        
        return res;
    };
    
    self.fill = function (cur, limit) {
        var res = [ deck.pick(db[cur].words) ];
        if (!res[0]) return [];
        if (limit && res.length >= limit) return res;;
        
        var pcur = cur;
        var ncur = cur;
        
        while (pcur || ncur) {
            if (pcur) {
                var prev = self.prev(pcur);
                pcur = null;
                if (prev) {
                    pcur = prev.key;
                    res.unshift(prev.word);
                    if (limit && res.length >= limit) break;
                }
            }
            
            if (ncur) {
                var next = self.next(ncur);
                ncur = null;
                if (next) {
                    ncur = next.key;
                    res.push(next.word);
                    if (limit && res.length >= limit) break;
                }
            }
        }
        
        return res;
    };
    
    self.respond = function (text, limit) {
        var cur = self.search(text) || self.pick();
        return self.fill(cur, limit);
    };
    
    self.word = function (cur) {
        return db[cur] && deck.pick(db[cur].words);
    };
    
    return self;
};

function clean (s) {
    return s
        .toLowerCase()
        .replace(/[^a-z\d]+/g, '_')
        .replace(/^_/, '')
        .replace(/_$/, '')
    ;
}

}).call(this,{"isBuffer":require("../../is-buffer/index.js")})

},{"../../is-buffer/index.js":27,"deck":14,"events":23,"hashish":15,"lazy":17}],14:[function(require,module,exports){
var exports = module.exports = function (xs) {
    if (typeof xs !== 'object') { // of which Arrays are
        throw new TypeError('Must be an Array or an object');
    }
    
    return Object.keys(exports).reduce(function (acc, name) {
        acc[name] = exports[name].bind(null, xs);
        return acc;
    }, {});
};

exports.shuffle = function (xs) {
    if (Array.isArray(xs)) {
        // uniform shuffle
        var res = xs.slice();
        for (var i = res.length - 1; i >= 0; i--) {
            var n = Math.floor(Math.random() * i);
            var t = res[i];
            res[i] = res[n];
            res[n] = t;
        }
        return res;
    }
    else if (typeof xs === 'object') {
        // weighted shuffle
        var weights = Object.keys(xs).reduce(function (acc, key) {
            acc[key] = xs[key];
            return acc;
        }, {});
        
        var ret = [];
        
        while (Object.keys(weights).length > 0) {
            var key = exports.pick(weights);
            delete weights[key];
            ret.push(key);
        }
        
        return ret;
    }
    else {
        throw new TypeError('Must be an Array or an object');
    }
};

exports.pick = function (xs) {
    if (Array.isArray(xs)) {
        // uniform sample
        return xs[Math.floor(Math.random() * xs.length)];
    }
    else if (typeof xs === 'object') {
        // weighted sample
        var weights = exports.normalize(xs);
        if (!weights) return undefined;
        
        var n = Math.random();
        var threshold = 0;
        var keys = Object.keys(weights);
        
        for (var i = 0; i < keys.length; i++) {
            threshold += weights[keys[i]];
            if (n < threshold) return keys[i];
        }
        throw new Error('Exceeded threshold. Something is very wrong.');
    }
    else {
        throw new TypeError('Must be an Array or an object');
    }
};

exports.normalize = function (weights) {
    if (typeof weights !== 'object' || Array.isArray(weights)) {
        throw 'Not an object'
    }
    
    var keys = Object.keys(weights);
    if (keys.length === 0) return undefined;
    
    var total = keys.reduce(function (sum, key) {
        var x = weights[key];
        if (x < 0) {
            throw new Error('Negative weight encountered at key ' + key);
        }
        else if (typeof x !== 'number') {
            throw new TypeError('Number expected, got ' + typeof x);
        }
        else {
            return sum + x;
        }
    }, 0);
    
    return total === 1
        ? weights
        : keys.reduce(function (acc, key) {
            acc[key] = weights[key] / total;
            return acc;
        }, {})
    ;
};

},{}],15:[function(require,module,exports){
module.exports = Hash;
var Traverse = require('traverse');

function Hash (hash, xs) {
    if (Array.isArray(hash) && Array.isArray(xs)) {
        var to = Math.min(hash.length, xs.length);
        var acc = {};
        for (var i = 0; i < to; i++) {
            acc[hash[i]] = xs[i];
        }
        return Hash(acc);
    }
    
    if (hash === undefined) return Hash({});
    
    var self = {
        map : function (f) {
            var acc = { __proto__ : hash.__proto__ };
            Object.keys(hash).forEach(function (key) {
                acc[key] = f.call(self, hash[key], key);
            });
            return Hash(acc);
        },
        forEach : function (f) {
            Object.keys(hash).forEach(function (key) {
                f.call(self, hash[key], key);
            });
            return self;
        },
        filter : function (f) {
            var acc = { __proto__ : hash.__proto__ };
            Object.keys(hash).forEach(function (key) {
                if (f.call(self, hash[key], key)) {
                    acc[key] = hash[key];
                }
            });
            return Hash(acc);
        },
        detect : function (f) {
            for (var key in hash) {
                if (f.call(self, hash[key], key)) {
                    return hash[key];
                }
            }
            return undefined;
        },
        reduce : function (f, acc) {
            var keys = Object.keys(hash);
            if (acc === undefined) acc = keys.shift();
            keys.forEach(function (key) {
                acc = f.call(self, acc, hash[key], key);
            });
            return acc;
        },
        some : function (f) {
            for (var key in hash) {
                if (f.call(self, hash[key], key)) return true;
            }
            return false;
        },
        update : function (obj) {
            if (arguments.length > 1) {
                self.updateAll([].slice.call(arguments));
            }
            else {
                Object.keys(obj).forEach(function (key) {
                    hash[key] = obj[key];
                });
            }
            return self;
        },
        updateAll : function (xs) {
            xs.filter(Boolean).forEach(function (x) {
                self.update(x);
            });
            return self;
        },
        merge : function (obj) {
            if (arguments.length > 1) {
                return self.copy.updateAll([].slice.call(arguments));
            }
            else {
                return self.copy.update(obj);
            }
        },
        mergeAll : function (xs) {
            return self.copy.updateAll(xs);
        },
        has : function (key) { // only operates on enumerables
            return Array.isArray(key)
                ? key.every(function (k) { return self.has(k) })
                : self.keys.indexOf(key.toString()) >= 0;
        },
        valuesAt : function (keys) {
            return Array.isArray(keys)
                ? keys.map(function (key) { return hash[key] })
                : hash[keys]
            ;
        },
        tap : function (f) {
            f.call(self, hash);
            return self;
        },
        extract : function (keys) {
            var acc = {};
            keys.forEach(function (key) {
                acc[key] = hash[key];
            });
            return Hash(acc);
        },
        exclude : function (keys) {
            return self.filter(function (_, key) {
                return keys.indexOf(key) < 0
            });
        },
        end : hash,
        items : hash
    };
    
    var props = {
        keys : function () { return Object.keys(hash) },
        values : function () {
            return Object.keys(hash).map(function (key) { return hash[key] });
        },
        compact : function () {
            return self.filter(function (x) { return x !== undefined });
        },
        clone : function () { return Hash(Hash.clone(hash)) },
        copy : function () { return Hash(Hash.copy(hash)) },
        length : function () { return Object.keys(hash).length },
        size : function () { return self.length }
    };
    
    if (Object.defineProperty) {
        // es5-shim has an Object.defineProperty but it throws for getters
        try {
            for (var key in props) {
                Object.defineProperty(self, key, { get : props[key] });
            }
        }
        catch (err) {
            for (var key in props) {
                if (key !== 'clone' && key !== 'copy' && key !== 'compact') {
                    // ^ those keys use Hash() so can't call them without
                    // a stack overflow
                    self[key] = props[key]();
                }
            }
        }
    }
    else if (self.__defineGetter__) {
        for (var key in props) {
            self.__defineGetter__(key, props[key]);
        }
    }
    else {
        // non-lazy version for browsers that suck >_<
        for (var key in props) {
            self[key] = props[key]();
        }
    }
    
    return self;
};

// deep copy
Hash.clone = function (ref) {
    return Traverse.clone(ref);
};

// shallow copy
Hash.copy = function (ref) {
    var hash = { __proto__ : ref.__proto__ };
    Object.keys(ref).forEach(function (key) {
        hash[key] = ref[key];
    });
    return hash;
};

Hash.map = function (ref, f) {
    return Hash(ref).map(f).items;
};

Hash.forEach = function (ref, f) {
    Hash(ref).forEach(f);
};

Hash.filter = function (ref, f) {
    return Hash(ref).filter(f).items;
};

Hash.detect = function (ref, f) {
    return Hash(ref).detect(f);
};

Hash.reduce = function (ref, f, acc) {
    return Hash(ref).reduce(f, acc);
};

Hash.some = function (ref, f) {
    return Hash(ref).some(f);
};

Hash.update = function (a /*, b, c, ... */) {
    var args = Array.prototype.slice.call(arguments, 1);
    var hash = Hash(a);
    return hash.update.apply(hash, args).items;
};

Hash.merge = function (a /*, b, c, ... */) {
    var args = Array.prototype.slice.call(arguments, 1);
    var hash = Hash(a);
    return hash.merge.apply(hash, args).items;
};

Hash.has = function (ref, key) {
    return Hash(ref).has(key);
};

Hash.valuesAt = function (ref, keys) {
    return Hash(ref).valuesAt(keys);
};

Hash.tap = function (ref, f) {
    return Hash(ref).tap(f).items;
};

Hash.extract = function (ref, keys) {
    return Hash(ref).extract(keys).items;
};

Hash.exclude = function (ref, keys) {
    return Hash(ref).exclude(keys).items;
};

Hash.concat = function (xs) {
    var hash = Hash({});
    xs.forEach(function (x) { hash.update(x) });
    return hash.items;
};

Hash.zip = function (xs, ys) {
    return Hash(xs, ys).items;
};

// .length is already defined for function prototypes
Hash.size = function (ref) {
    return Hash(ref).size;
};

Hash.compact = function (ref) {
    return Hash(ref).compact.items;
};

},{"traverse":16}],16:[function(require,module,exports){
var traverse = module.exports = function (obj) {
    return new Traverse(obj);
};

function Traverse (obj) {
    this.value = obj;
}

Traverse.prototype.get = function (ps) {
    var node = this.value;
    for (var i = 0; i < ps.length; i ++) {
        var key = ps[i];
        if (!node || !hasOwnProperty.call(node, key)) {
            node = undefined;
            break;
        }
        node = node[key];
    }
    return node;
};

Traverse.prototype.has = function (ps) {
    var node = this.value;
    for (var i = 0; i < ps.length; i ++) {
        var key = ps[i];
        if (!node || !hasOwnProperty.call(node, key)) {
            return false;
        }
        node = node[key];
    }
    return true;
};

Traverse.prototype.set = function (ps, value) {
    var node = this.value;
    for (var i = 0; i < ps.length - 1; i ++) {
        var key = ps[i];
        if (!hasOwnProperty.call(node, key)) node[key] = {};
        node = node[key];
    }
    node[ps[i]] = value;
    return value;
};

Traverse.prototype.map = function (cb) {
    return walk(this.value, cb, true);
};

Traverse.prototype.forEach = function (cb) {
    this.value = walk(this.value, cb, false);
    return this.value;
};

Traverse.prototype.reduce = function (cb, init) {
    var skip = arguments.length === 1;
    var acc = skip ? this.value : init;
    this.forEach(function (x) {
        if (!this.isRoot || !skip) {
            acc = cb.call(this, acc, x);
        }
    });
    return acc;
};

Traverse.prototype.paths = function () {
    var acc = [];
    this.forEach(function (x) {
        acc.push(this.path); 
    });
    return acc;
};

Traverse.prototype.nodes = function () {
    var acc = [];
    this.forEach(function (x) {
        acc.push(this.node);
    });
    return acc;
};

Traverse.prototype.clone = function () {
    var parents = [], nodes = [];
    
    return (function clone (src) {
        for (var i = 0; i < parents.length; i++) {
            if (parents[i] === src) {
                return nodes[i];
            }
        }
        
        if (typeof src === 'object' && src !== null) {
            var dst = copy(src);
            
            parents.push(src);
            nodes.push(dst);
            
            forEach(objectKeys(src), function (key) {
                dst[key] = clone(src[key]);
            });
            
            parents.pop();
            nodes.pop();
            return dst;
        }
        else {
            return src;
        }
    })(this.value);
};

function walk (root, cb, immutable) {
    var path = [];
    var parents = [];
    var alive = true;
    
    return (function walker (node_) {
        var node = immutable ? copy(node_) : node_;
        var modifiers = {};
        
        var keepGoing = true;
        
        var state = {
            node : node,
            node_ : node_,
            path : [].concat(path),
            parent : parents[parents.length - 1],
            parents : parents,
            key : path.slice(-1)[0],
            isRoot : path.length === 0,
            level : path.length,
            circular : null,
            update : function (x, stopHere) {
                if (!state.isRoot) {
                    state.parent.node[state.key] = x;
                }
                state.node = x;
                if (stopHere) keepGoing = false;
            },
            'delete' : function (stopHere) {
                delete state.parent.node[state.key];
                if (stopHere) keepGoing = false;
            },
            remove : function (stopHere) {
                if (isArray(state.parent.node)) {
                    state.parent.node.splice(state.key, 1);
                }
                else {
                    delete state.parent.node[state.key];
                }
                if (stopHere) keepGoing = false;
            },
            keys : null,
            before : function (f) { modifiers.before = f },
            after : function (f) { modifiers.after = f },
            pre : function (f) { modifiers.pre = f },
            post : function (f) { modifiers.post = f },
            stop : function () { alive = false },
            block : function () { keepGoing = false }
        };
        
        if (!alive) return state;
        
        function updateState() {
            if (typeof state.node === 'object' && state.node !== null) {
                if (!state.keys || state.node_ !== state.node) {
                    state.keys = objectKeys(state.node)
                }
                
                state.isLeaf = state.keys.length == 0;
                
                for (var i = 0; i < parents.length; i++) {
                    if (parents[i].node_ === node_) {
                        state.circular = parents[i];
                        break;
                    }
                }
            }
            else {
                state.isLeaf = true;
                state.keys = null;
            }
            
            state.notLeaf = !state.isLeaf;
            state.notRoot = !state.isRoot;
        }
        
        updateState();
        
        // use return values to update if defined
        var ret = cb.call(state, state.node);
        if (ret !== undefined && state.update) state.update(ret);
        
        if (modifiers.before) modifiers.before.call(state, state.node);
        
        if (!keepGoing) return state;
        
        if (typeof state.node == 'object'
        && state.node !== null && !state.circular) {
            parents.push(state);
            
            updateState();
            
            forEach(state.keys, function (key, i) {
                path.push(key);
                
                if (modifiers.pre) modifiers.pre.call(state, state.node[key], key);
                
                var child = walker(state.node[key]);
                if (immutable && hasOwnProperty.call(state.node, key)) {
                    state.node[key] = child.node;
                }
                
                child.isLast = i == state.keys.length - 1;
                child.isFirst = i == 0;
                
                if (modifiers.post) modifiers.post.call(state, child);
                
                path.pop();
            });
            parents.pop();
        }
        
        if (modifiers.after) modifiers.after.call(state, state.node);
        
        return state;
    })(root).node;
}

function copy (src) {
    if (typeof src === 'object' && src !== null) {
        var dst;
        
        if (isArray(src)) {
            dst = [];
        }
        else if (isDate(src)) {
            dst = new Date(src.getTime ? src.getTime() : src);
        }
        else if (isRegExp(src)) {
            dst = new RegExp(src);
        }
        else if (isError(src)) {
            dst = { message: src.message };
        }
        else if (isBoolean(src)) {
            dst = new Boolean(src);
        }
        else if (isNumber(src)) {
            dst = new Number(src);
        }
        else if (isString(src)) {
            dst = new String(src);
        }
        else if (Object.create && Object.getPrototypeOf) {
            dst = Object.create(Object.getPrototypeOf(src));
        }
        else if (src.constructor === Object) {
            dst = {};
        }
        else {
            var proto =
                (src.constructor && src.constructor.prototype)
                || src.__proto__
                || {}
            ;
            var T = function () {};
            T.prototype = proto;
            dst = new T;
        }
        
        forEach(objectKeys(src), function (key) {
            dst[key] = src[key];
        });
        return dst;
    }
    else return src;
}

var objectKeys = Object.keys || function keys (obj) {
    var res = [];
    for (var key in obj) res.push(key)
    return res;
};

function toS (obj) { return Object.prototype.toString.call(obj) }
function isDate (obj) { return toS(obj) === '[object Date]' }
function isRegExp (obj) { return toS(obj) === '[object RegExp]' }
function isError (obj) { return toS(obj) === '[object Error]' }
function isBoolean (obj) { return toS(obj) === '[object Boolean]' }
function isNumber (obj) { return toS(obj) === '[object Number]' }
function isString (obj) { return toS(obj) === '[object String]' }

var isArray = Array.isArray || function isArray (xs) {
    return Object.prototype.toString.call(xs) === '[object Array]';
};

var forEach = function (xs, fn) {
    if (xs.forEach) return xs.forEach(fn)
    else for (var i = 0; i < xs.length; i++) {
        fn(xs[i], i, xs);
    }
};

forEach(objectKeys(Traverse.prototype), function (key) {
    traverse[key] = function (obj) {
        var args = [].slice.call(arguments, 1);
        var t = new Traverse(obj);
        return t[key].apply(t, args);
    };
});

var hasOwnProperty = Object.hasOwnProperty || function (obj, key) {
    return key in obj;
};

},{}],17:[function(require,module,exports){
(function (process,Buffer){
var EventEmitter = require('events').EventEmitter;
var util = require('util');
var stream = require('stream');

function Lazy(em, opts) {
    if (!(this instanceof Lazy)) return new Lazy(em, opts);
    EventEmitter.call(this);
    var self = this;


    self.once = function (name, f) {
        self.on(name, function g () {
            self.removeListener(name, g);
            f.apply(this, arguments);
        });
    }

    if (!opts) opts = {};
    var dataName = opts.data || 'data';
    var pipeName = opts.pipe || 'pipe';
    var endName = opts.pipe || 'end';

    if (pipeName != endName) {
        var piped = false;
        self.once(pipeName, function () { piped = true });
        self.once(endName, function () {
            if (!piped) self.emit(pipeName);
        });
    }

    self.push = function (x) {
        self.emit(dataName, x);
    }

    self.end = function () {
        self.emit(endName);
    }

    if (em && em.on) {
        em.on(endName, function () {
            self.emit(endName);
        });
        self.on(pipeName, function () {
            em.emit(pipeName);
        });
        // Check for v0.10 or Greater (Stream2 has Duplex type)
        if (stream.Duplex && em instanceof(stream)) {
            em.on('readable', function () {
                var x = em.read();
                self.emit(dataName, x);
            });
        } else {
            // Old Stream1 or Event support
            em.on(dataName, function (x) {
                self.emit(dataName, x);
            });
        }
    }

    function newLazy (g, h, l) {
        if (!g) {
            g = function () {
                return true;
            };
        }
        if (!h) {
            h = function (x) {
                return x;
            };
        }
        var lazy = new Lazy(null, opts, l);
        self.on(dataName, function (x, y) {
            if (g.call(lazy, x)) {
                lazy.emit(dataName, h(x), y);
            }
        });
        self.once(pipeName, function () {
            lazy.emit(pipeName);
        });
        return lazy;
    }

    self.filter = function (f) {
        return newLazy(function (x) {
            return f(x);
        });
    }

    self.forEach = function (f) {
        return newLazy(function (x) {
            f(x);
            return true;
        });
    }

    self.map = function (f) {
        return newLazy(
            function () { return true },
            function (x) { return f(x) }
        );
    }

    self.head = function (f) {
        var lazy = newLazy();
        lazy.on(dataName, function g (x) {
            f(x)
            lazy.removeListener(dataName, g)
        })
    }

    self.tail = function () {
        var skip = true;
        return newLazy(function () {
            if (skip) {
                skip = false;
                return false;
            }
            return true;
        });
    }

    self.skip = function (n) {
        return newLazy(function () {
            if (n > 0) {
                n--;
                return false;
            }
            return true;
        });
    }

    self.take = function (n) {
        return newLazy(function () {
            if (n == 0) self.emit(pipeName);
            return n-- > 0;
        });
    }

    self.takeWhile = function (f) {
        var cond = true;
        return newLazy(function (x) {
            if (cond && f(x)) return true;
            cond = false;
            self.emit(pipeName);
            return false;
        });
    }

    self.foldr = function (op, i, f) {
        var acc = i;
        var lazy = newLazy();
        lazy.on(dataName, function g (x) {
            acc = op(x, acc);
        });
        lazy.once(pipeName, function () {
            f(acc);
        });
    }

    self.sum = function (f) {
        return self.foldr(function (x, acc) { return x + acc }, 0, f);
    }

    self.product = function (f) {
        return self.foldr(function (x, acc) { return x*acc }, 1, f);
    }

    self.join = function (f) {
        var data = []
        var lazy = newLazy(function (x) {
            data.push(x);
            return true;
        });
        lazy.once(pipeName, function () { f(data) });
        return self;
    }

    self.bucket = function (init, f) {
        var lazy = new Lazy(null, opts);
        var yieldTo = function (x) {
            lazy.emit(dataName, x);
        };

        var acc = init;

        self.on(dataName, function (x) {
            acc = f.call(yieldTo, acc, x);
        });

        self.once(pipeName, function () {
            lazy.emit(pipeName);
        });

        // flush on end event
        self.once(endName, function () {
            var finalBuffer = mergeBuffers(acc);
            if (finalBuffer) {
                yieldTo(finalBuffer);
            }
        });

        return lazy;
    }

    // Streams that use this should emit strings or buffers only
    self.__defineGetter__('lines', function () {
        return self.bucket([], function (chunkArray, chunk) {
            var newline = '\n'.charCodeAt(0), lastNewLineIndex = 0;
            if (typeof chunk === 'string') chunk = new Buffer(chunk);
        if (chunk){
            	for (var i = 0; i < chunk.length; i++) {
                	if (chunk[i] === newline) {
                    	// If we have content from the current chunk to append to our buffers, do it.
                    		if (i > 0) {
                        		chunkArray.push(chunk.slice(lastNewLineIndex, i));
                    		}

                    		// Wrap all our buffers and emit it.
                    		this(mergeBuffers(chunkArray));
                    		lastNewLineIndex = i + 1;
                	}
            }
	    }

            if (lastNewLineIndex > 0) {
                // New line found in the chunk, push the remaining part of the buffer.
                if (lastNewLineIndex < chunk.length) {
                    chunkArray.push(chunk.slice(lastNewLineIndex));
                }
            } else {
                // No new line found, push the whole buffer.
                if (chunk && chunk.length) {
                    chunkArray.push(chunk);
                }
            }
            return chunkArray;
        });
    });
}

Lazy.range = function () {
    var args = arguments;
    var step = 1;
    var infinite = false;

    if (args.length == 1 && typeof args[0] == 'number') {
        var i = 0, j = args[0];
    }
    else if (args.length == 1 && typeof args[0] == 'string') { // 'start[,next]..[end]'
        var arg = args[0];
        var startOpen = false, endClosed = false;
        if (arg[0] == '(' || arg[0] == '[') {
            if (arg[0] == '(') startOpen = true;
            arg = arg.slice(1);
        }
        if (arg.slice(-1) == ']') endClosed = true;

        var parts = arg.split('..');
        if (parts.length != 2)
            throw new Error("single argument range takes 'start..' or 'start..end' or 'start,next..end'");

        if (parts[1] == '') { // 'start..'
            var i = parts[0];
            infinite = true;
        }
        else { // 'start[,next]..end'
            var progression = parts[0].split(',');
            if (progression.length == 1) { // start..end
                var i = parts[0], j = parts[1];
            }
            else { // 'start,next..end'
                var i = progression[0], j = parts[1];
                step = Math.abs(progression[1]-i);
            }
        }

        i = parseInt(i, 10);
        j = parseInt(j, 10);

        if (startOpen) {
            if (infinite || i < j) i++;
            else i--;
        }

        if (endClosed) {
            if (i < j) j++;
            else j--;
        }
    }
    else if (args.length == 2 || args.length == 3) { // start, end[, step]
        var i = args[0], j = args[1];
        if (args.length == 3) {
            var step = args[2];
        }
    }
    else {
        throw new Error("range takes 1, 2 or 3 arguments");
    }
    var lazy = new Lazy;
    var stopInfinite = false;
    lazy.on('pipe', function () {
        stopInfinite = true;
    });
    if (infinite) {
        process.nextTick(function g () {
            if (stopInfinite) return;
            lazy.emit('data', i++);
            process.nextTick(g);
        });
    }
    else {
        process.nextTick(function () {
            if (i < j) {
                for (; i<j; i+=step) {
                    lazy.emit('data', i)
                }
            }
            else {
                for (; i>j; i-=step) {
                    lazy.emit('data', i)
                }
            }
            lazy.emit('end');
        });
    }
    return lazy;
}

var mergeBuffers = function mergeBuffers(buffers) {
  // We expect buffers to be a non-empty Array
  if (!buffers || !Array.isArray(buffers) || !buffers.length) return;

  var finalBufferLength, finalBuffer, currentBuffer, currentSize = 0;

  // Sum all the buffers lengths
  finalBufferLength = buffers.reduce(function(left, right) { return (left.length||left) + (right.length||right); }, 0);
  finalBuffer = new Buffer(finalBufferLength);
  while(buffers.length) {
    currentBuffer = buffers.shift();
    currentBuffer.copy(finalBuffer, currentSize);
    currentSize += currentBuffer.length;
  }

  return finalBuffer;
}


util.inherits(Lazy, EventEmitter);
module.exports = Lazy;

}).call(this,require('_process'),require("buffer").Buffer)

},{"_process":34,"buffer":20,"events":23,"stream":47,"util":57}],18:[function(require,module,exports){
var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';

;(function (exports) {
	'use strict';

  var Arr = (typeof Uint8Array !== 'undefined')
    ? Uint8Array
    : Array

	var PLUS   = '+'.charCodeAt(0)
	var SLASH  = '/'.charCodeAt(0)
	var NUMBER = '0'.charCodeAt(0)
	var LOWER  = 'a'.charCodeAt(0)
	var UPPER  = 'A'.charCodeAt(0)
	var PLUS_URL_SAFE = '-'.charCodeAt(0)
	var SLASH_URL_SAFE = '_'.charCodeAt(0)

	function decode (elt) {
		var code = elt.charCodeAt(0)
		if (code === PLUS ||
		    code === PLUS_URL_SAFE)
			return 62 // '+'
		if (code === SLASH ||
		    code === SLASH_URL_SAFE)
			return 63 // '/'
		if (code < NUMBER)
			return -1 //no match
		if (code < NUMBER + 10)
			return code - NUMBER + 26 + 26
		if (code < UPPER + 26)
			return code - UPPER
		if (code < LOWER + 26)
			return code - LOWER + 26
	}

	function b64ToByteArray (b64) {
		var i, j, l, tmp, placeHolders, arr

		if (b64.length % 4 > 0) {
			throw new Error('Invalid string. Length must be a multiple of 4')
		}

		// the number of equal signs (place holders)
		// if there are two placeholders, than the two characters before it
		// represent one byte
		// if there is only one, then the three characters before it represent 2 bytes
		// this is just a cheap hack to not do indexOf twice
		var len = b64.length
		placeHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0

		// base64 is 4/3 + up to two characters of the original data
		arr = new Arr(b64.length * 3 / 4 - placeHolders)

		// if there are placeholders, only get up to the last complete 4 chars
		l = placeHolders > 0 ? b64.length - 4 : b64.length

		var L = 0

		function push (v) {
			arr[L++] = v
		}

		for (i = 0, j = 0; i < l; i += 4, j += 3) {
			tmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))
			push((tmp & 0xFF0000) >> 16)
			push((tmp & 0xFF00) >> 8)
			push(tmp & 0xFF)
		}

		if (placeHolders === 2) {
			tmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)
			push(tmp & 0xFF)
		} else if (placeHolders === 1) {
			tmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)
			push((tmp >> 8) & 0xFF)
			push(tmp & 0xFF)
		}

		return arr
	}

	function uint8ToBase64 (uint8) {
		var i,
			extraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes
			output = "",
			temp, length

		function encode (num) {
			return lookup.charAt(num)
		}

		function tripletToBase64 (num) {
			return encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)
		}

		// go through the array every three bytes, we'll deal with trailing stuff later
		for (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {
			temp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])
			output += tripletToBase64(temp)
		}

		// pad the end with zeros, but make sure to not forget the extra bytes
		switch (extraBytes) {
			case 1:
				temp = uint8[uint8.length - 1]
				output += encode(temp >> 2)
				output += encode((temp << 4) & 0x3F)
				output += '=='
				break
			case 2:
				temp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])
				output += encode(temp >> 10)
				output += encode((temp >> 4) & 0x3F)
				output += encode((temp << 2) & 0x3F)
				output += '='
				break
		}

		return output
	}

	exports.toByteArray = b64ToByteArray
	exports.fromByteArray = uint8ToBase64
}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))

},{}],19:[function(require,module,exports){

},{}],20:[function(require,module,exports){
(function (global){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */

var base64 = require('base64-js')
var ieee754 = require('ieee754')
var isArray = require('is-array')

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50
Buffer.poolSize = 8192 // not used by this implementation

var rootParent = {}

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Safari 5-7 lacks support for changing the `Object.prototype.constructor` property
 *     on objects.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

function typedArraySupport () {
  function Bar () {}
  try {
    var arr = new Uint8Array(1)
    arr.foo = function () { return 42 }
    arr.constructor = Bar
    return arr.foo() === 42 && // typed array instances can be augmented
        arr.constructor === Bar && // constructor can be set
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

/**
 * Class: Buffer
 * =============
 *
 * The Buffer constructor returns instances of `Uint8Array` that are augmented
 * with function properties for all the node `Buffer` API functions. We use
 * `Uint8Array` so that square bracket notation works as expected -- it returns
 * a single octet.
 *
 * By augmenting the instances, we can avoid modifying the `Uint8Array`
 * prototype.
 */
function Buffer (arg) {
  if (!(this instanceof Buffer)) {
    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.
    if (arguments.length > 1) return new Buffer(arg, arguments[1])
    return new Buffer(arg)
  }

  this.length = 0
  this.parent = undefined

  // Common case.
  if (typeof arg === 'number') {
    return fromNumber(this, arg)
  }

  // Slightly less common case.
  if (typeof arg === 'string') {
    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')
  }

  // Unusual.
  return fromObject(this, arg)
}

function fromNumber (that, length) {
  that = allocate(that, length < 0 ? 0 : checked(length) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < length; i++) {
      that[i] = 0
    }
  }
  return that
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'

  // Assumption: byteLength() return value is always < kMaxLength.
  var length = byteLength(string, encoding) | 0
  that = allocate(that, length)

  that.write(string, encoding)
  return that
}

function fromObject (that, object) {
  if (Buffer.isBuffer(object)) return fromBuffer(that, object)

  if (isArray(object)) return fromArray(that, object)

  if (object == null) {
    throw new TypeError('must start with number, buffer, array or string')
  }

  if (typeof ArrayBuffer !== 'undefined') {
    if (object.buffer instanceof ArrayBuffer) {
      return fromTypedArray(that, object)
    }
    if (object instanceof ArrayBuffer) {
      return fromArrayBuffer(that, object)
    }
  }

  if (object.length) return fromArrayLike(that, object)

  return fromJsonObject(that, object)
}

function fromBuffer (that, buffer) {
  var length = checked(buffer.length) | 0
  that = allocate(that, length)
  buffer.copy(that, 0, 0, length)
  return that
}

function fromArray (that, array) {
  var length = checked(array.length) | 0
  that = allocate(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

// Duplicate of fromArray() to keep fromArray() monomorphic.
function fromTypedArray (that, array) {
  var length = checked(array.length) | 0
  that = allocate(that, length)
  // Truncating the elements is probably not what people expect from typed
  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior
  // of the old Buffer constructor.
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array) {
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    array.byteLength
    that = Buffer._augment(new Uint8Array(array))
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromTypedArray(that, new Uint8Array(array))
  }
  return that
}

function fromArrayLike (that, array) {
  var length = checked(array.length) | 0
  that = allocate(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.
// Returns a zero-length buffer for inputs that don't conform to the spec.
function fromJsonObject (that, object) {
  var array
  var length = 0

  if (object.type === 'Buffer' && isArray(object.data)) {
    array = object.data
    length = checked(array.length) | 0
  }
  that = allocate(that, length)

  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
}

function allocate (that, length) {
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = Buffer._augment(new Uint8Array(length))
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that.length = length
    that._isBuffer = true
  }

  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1
  if (fromPool) that.parent = rootParent

  return that
}

function checked (length) {
  // Note: cannot use `length < kMaxLength` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (subject, encoding) {
  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)

  var buf = new Buffer(subject, encoding)
  delete buf.parent
  return buf
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  var i = 0
  var len = Math.min(x, y)
  while (i < len) {
    if (a[i] !== b[i]) break

    ++i
  }

  if (i !== len) {
    x = a[i]
    y = b[i]
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'binary':
    case 'base64':
    case 'raw':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')

  if (list.length === 0) {
    return new Buffer(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; i++) {
      length += list[i].length
    }
  }

  var buf = new Buffer(length)
  var pos = 0
  for (i = 0; i < list.length; i++) {
    var item = list[i]
    item.copy(buf, pos)
    pos += item.length
  }
  return buf
}

function byteLength (string, encoding) {
  if (typeof string !== 'string') string = '' + string

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'binary':
      // Deprecated
      case 'raw':
      case 'raws':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

// pre-set for values that may exist in the future
Buffer.prototype.length = undefined
Buffer.prototype.parent = undefined

function slowToString (encoding, start, end) {
  var loweredCase = false

  start = start | 0
  end = end === undefined || end === Infinity ? this.length : end | 0

  if (!encoding) encoding = 'utf8'
  if (start < 0) start = 0
  if (end > this.length) end = this.length
  if (end <= start) return ''

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'binary':
        return binarySlice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return 0
  return Buffer.compare(this, b)
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset) {
  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff
  else if (byteOffset < -0x80000000) byteOffset = -0x80000000
  byteOffset >>= 0

  if (this.length === 0) return -1
  if (byteOffset >= this.length) return -1

  // Negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)

  if (typeof val === 'string') {
    if (val.length === 0) return -1 // special case: looking for empty string always fails
    return String.prototype.indexOf.call(this, val, byteOffset)
  }
  if (Buffer.isBuffer(val)) {
    return arrayIndexOf(this, val, byteOffset)
  }
  if (typeof val === 'number') {
    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {
      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)
    }
    return arrayIndexOf(this, [ val ], byteOffset)
  }

  function arrayIndexOf (arr, val, byteOffset) {
    var foundIndex = -1
    for (var i = 0; byteOffset + i < arr.length; i++) {
      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex
      } else {
        foundIndex = -1
      }
    }
    return -1
  }

  throw new TypeError('val must be string, number or Buffer')
}

// `get` is deprecated
Buffer.prototype.get = function get (offset) {
  console.log('.get() is deprecated. Access using array indexes instead.')
  return this.readUInt8(offset)
}

// `set` is deprecated
Buffer.prototype.set = function set (v, offset) {
  console.log('.set() is deprecated. Access using array indexes instead.')
  return this.writeUInt8(v, offset)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new Error('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; i++) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) throw new Error('Invalid hex string')
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function binaryWrite (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    var swap = encoding
    encoding = offset
    offset = length | 0
    length = swap
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'binary':
        return binaryWrite(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; i++) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function binarySlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; i++) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; i++) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = Buffer._augment(this.subarray(start, end))
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; i++) {
      newBuf[i] = this[i + start]
    }
  }

  if (newBuf.length) newBuf.parent = this.parent || this

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('value is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = value < 0 ? 1 : 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = value < 0 ? 1 : 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (value > max || value < min) throw new RangeError('value is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('index out of range')
  if (offset < 0) throw new RangeError('index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; i--) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; i++) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    target._set(this.subarray(start, start + len), targetStart)
  }

  return len
}

// fill(value, start=0, end=buffer.length)
Buffer.prototype.fill = function fill (value, start, end) {
  if (!value) value = 0
  if (!start) start = 0
  if (!end) end = this.length

  if (end < start) throw new RangeError('end < start')

  // Fill 0 bytes; we're done
  if (end === start) return
  if (this.length === 0) return

  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')
  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')

  var i
  if (typeof value === 'number') {
    for (i = start; i < end; i++) {
      this[i] = value
    }
  } else {
    var bytes = utf8ToBytes(value.toString())
    var len = bytes.length
    for (i = start; i < end; i++) {
      this[i] = bytes[i % len]
    }
  }

  return this
}

/**
 * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.
 * Added in Node 0.12. Only available in browsers that support ArrayBuffer.
 */
Buffer.prototype.toArrayBuffer = function toArrayBuffer () {
  if (typeof Uint8Array !== 'undefined') {
    if (Buffer.TYPED_ARRAY_SUPPORT) {
      return (new Buffer(this)).buffer
    } else {
      var buf = new Uint8Array(this.length)
      for (var i = 0, len = buf.length; i < len; i += 1) {
        buf[i] = this[i]
      }
      return buf.buffer
    }
  } else {
    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')
  }
}

// HELPER FUNCTIONS
// ================

var BP = Buffer.prototype

/**
 * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods
 */
Buffer._augment = function _augment (arr) {
  arr.constructor = Buffer
  arr._isBuffer = true

  // save reference to original Uint8Array set method before overwriting
  arr._set = arr.set

  // deprecated
  arr.get = BP.get
  arr.set = BP.set

  arr.write = BP.write
  arr.toString = BP.toString
  arr.toLocaleString = BP.toString
  arr.toJSON = BP.toJSON
  arr.equals = BP.equals
  arr.compare = BP.compare
  arr.indexOf = BP.indexOf
  arr.copy = BP.copy
  arr.slice = BP.slice
  arr.readUIntLE = BP.readUIntLE
  arr.readUIntBE = BP.readUIntBE
  arr.readUInt8 = BP.readUInt8
  arr.readUInt16LE = BP.readUInt16LE
  arr.readUInt16BE = BP.readUInt16BE
  arr.readUInt32LE = BP.readUInt32LE
  arr.readUInt32BE = BP.readUInt32BE
  arr.readIntLE = BP.readIntLE
  arr.readIntBE = BP.readIntBE
  arr.readInt8 = BP.readInt8
  arr.readInt16LE = BP.readInt16LE
  arr.readInt16BE = BP.readInt16BE
  arr.readInt32LE = BP.readInt32LE
  arr.readInt32BE = BP.readInt32BE
  arr.readFloatLE = BP.readFloatLE
  arr.readFloatBE = BP.readFloatBE
  arr.readDoubleLE = BP.readDoubleLE
  arr.readDoubleBE = BP.readDoubleBE
  arr.writeUInt8 = BP.writeUInt8
  arr.writeUIntLE = BP.writeUIntLE
  arr.writeUIntBE = BP.writeUIntBE
  arr.writeUInt16LE = BP.writeUInt16LE
  arr.writeUInt16BE = BP.writeUInt16BE
  arr.writeUInt32LE = BP.writeUInt32LE
  arr.writeUInt32BE = BP.writeUInt32BE
  arr.writeIntLE = BP.writeIntLE
  arr.writeIntBE = BP.writeIntBE
  arr.writeInt8 = BP.writeInt8
  arr.writeInt16LE = BP.writeInt16LE
  arr.writeInt16BE = BP.writeInt16BE
  arr.writeInt32LE = BP.writeInt32LE
  arr.writeInt32BE = BP.writeInt32BE
  arr.writeFloatLE = BP.writeFloatLE
  arr.writeFloatBE = BP.writeFloatBE
  arr.writeDoubleLE = BP.writeDoubleLE
  arr.writeDoubleBE = BP.writeDoubleBE
  arr.fill = BP.fill
  arr.inspect = BP.inspect
  arr.toArrayBuffer = BP.toArrayBuffer

  return arr
}

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; i++) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; i++) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; i++) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; i++) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"base64-js":18,"ieee754":24,"is-array":26}],21:[function(require,module,exports){
module.exports = function (string) {
  return string.charAt(0).toUpperCase() + string.substring(1);
}

module.exports.words = function (string) {
  return string.replace(/(^|[^a-zA-Z\u00C0-\u017F'])([a-zA-Z\u00C0-\u017F])/g, function (m) {
    return m.toUpperCase()
  })
}

},{}],22:[function(require,module,exports){
(function (Buffer){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

function isBuffer(arg) {
  return Buffer.isBuffer(arg);
}
exports.isBuffer = isBuffer;

function objectToString(o) {
  return Object.prototype.toString.call(o);
}
}).call(this,{"isBuffer":require("../../is-buffer/index.js")})

},{"../../is-buffer/index.js":27}],23:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

function EventEmitter() {
  this._events = this._events || {};
  this._maxListeners = this._maxListeners || undefined;
}
module.exports = EventEmitter;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
EventEmitter.defaultMaxListeners = 10;

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function(n) {
  if (!isNumber(n) || n < 0 || isNaN(n))
    throw TypeError('n must be a positive number');
  this._maxListeners = n;
  return this;
};

EventEmitter.prototype.emit = function(type) {
  var er, handler, len, args, i, listeners;

  if (!this._events)
    this._events = {};

  // If there is no 'error' event listener then throw.
  if (type === 'error') {
    if (!this._events.error ||
        (isObject(this._events.error) && !this._events.error.length)) {
      er = arguments[1];
      if (er instanceof Error) {
        throw er; // Unhandled 'error' event
      }
      throw TypeError('Uncaught, unspecified "error" event.');
    }
  }

  handler = this._events[type];

  if (isUndefined(handler))
    return false;

  if (isFunction(handler)) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
  } else if (isObject(handler)) {
    args = Array.prototype.slice.call(arguments, 1);
    listeners = handler.slice();
    len = listeners.length;
    for (i = 0; i < len; i++)
      listeners[i].apply(this, args);
  }

  return true;
};

EventEmitter.prototype.addListener = function(type, listener) {
  var m;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events)
    this._events = {};

  // To avoid recursion in the case that type === "newListener"! Before
  // adding it to the listeners, first emit "newListener".
  if (this._events.newListener)
    this.emit('newListener', type,
              isFunction(listener.listener) ?
              listener.listener : listener);

  if (!this._events[type])
    // Optimize the case of one listener. Don't need the extra array object.
    this._events[type] = listener;
  else if (isObject(this._events[type]))
    // If we've already got an array, just append.
    this._events[type].push(listener);
  else
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];

  // Check for listener leak
  if (isObject(this._events[type]) && !this._events[type].warned) {
    if (!isUndefined(this._maxListeners)) {
      m = this._maxListeners;
    } else {
      m = EventEmitter.defaultMaxListeners;
    }

    if (m && m > 0 && this._events[type].length > m) {
      this._events[type].warned = true;
      console.error('(node) warning: possible EventEmitter memory ' +
                    'leak detected. %d listeners added. ' +
                    'Use emitter.setMaxListeners() to increase limit.',
                    this._events[type].length);
      if (typeof console.trace === 'function') {
        // not supported in IE 10
        console.trace();
      }
    }
  }

  return this;
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.once = function(type, listener) {
  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  var fired = false;

  function g() {
    this.removeListener(type, g);

    if (!fired) {
      fired = true;
      listener.apply(this, arguments);
    }
  }

  g.listener = listener;
  this.on(type, g);

  return this;
};

// emits a 'removeListener' event iff the listener was removed
EventEmitter.prototype.removeListener = function(type, listener) {
  var list, position, length, i;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events || !this._events[type])
    return this;

  list = this._events[type];
  length = list.length;
  position = -1;

  if (list === listener ||
      (isFunction(list.listener) && list.listener === listener)) {
    delete this._events[type];
    if (this._events.removeListener)
      this.emit('removeListener', type, listener);

  } else if (isObject(list)) {
    for (i = length; i-- > 0;) {
      if (list[i] === listener ||
          (list[i].listener && list[i].listener === listener)) {
        position = i;
        break;
      }
    }

    if (position < 0)
      return this;

    if (list.length === 1) {
      list.length = 0;
      delete this._events[type];
    } else {
      list.splice(position, 1);
    }

    if (this._events.removeListener)
      this.emit('removeListener', type, listener);
  }

  return this;
};

EventEmitter.prototype.removeAllListeners = function(type) {
  var key, listeners;

  if (!this._events)
    return this;

  // not listening for removeListener, no need to emit
  if (!this._events.removeListener) {
    if (arguments.length === 0)
      this._events = {};
    else if (this._events[type])
      delete this._events[type];
    return this;
  }

  // emit removeListener for all listeners on all events
  if (arguments.length === 0) {
    for (key in this._events) {
      if (key === 'removeListener') continue;
      this.removeAllListeners(key);
    }
    this.removeAllListeners('removeListener');
    this._events = {};
    return this;
  }

  listeners = this._events[type];

  if (isFunction(listeners)) {
    this.removeListener(type, listeners);
  } else if (listeners) {
    // LIFO order
    while (listeners.length)
      this.removeListener(type, listeners[listeners.length - 1]);
  }
  delete this._events[type];

  return this;
};

EventEmitter.prototype.listeners = function(type) {
  var ret;
  if (!this._events || !this._events[type])
    ret = [];
  else if (isFunction(this._events[type]))
    ret = [this._events[type]];
  else
    ret = this._events[type].slice();
  return ret;
};

EventEmitter.prototype.listenerCount = function(type) {
  if (this._events) {
    var evlistener = this._events[type];

    if (isFunction(evlistener))
      return 1;
    else if (evlistener)
      return evlistener.length;
  }
  return 0;
};

EventEmitter.listenerCount = function(emitter, type) {
  return emitter.listenerCount(type);
};

function isFunction(arg) {
  return typeof arg === 'function';
}

function isNumber(arg) {
  return typeof arg === 'number';
}

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}

function isUndefined(arg) {
  return arg === void 0;
}

},{}],24:[function(require,module,exports){
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}

},{}],25:[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],26:[function(require,module,exports){

/**
 * isArray
 */

var isArray = Array.isArray;

/**
 * toString
 */

var str = Object.prototype.toString;

/**
 * Whether or not the given `val`
 * is an array.
 *
 * example:
 *
 *        isArray([]);
 *        // > true
 *        isArray(arguments);
 *        // > false
 *        isArray('');
 *        // > false
 *
 * @param {mixed} val
 * @return {bool}
 */

module.exports = isArray || function (val) {
  return !! val && '[object Array]' == str.call(val);
};

},{}],27:[function(require,module,exports){
/**
 * Determine if an object is Buffer
 *
 * Author:   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * License:  MIT
 *
 * `npm install is-buffer`
 */

module.exports = function (obj) {
  return !!(obj != null &&
    (obj._isBuffer || // For Safari 5-7 (missing Object.prototype.constructor)
      (obj.constructor &&
      typeof obj.constructor.isBuffer === 'function' &&
      obj.constructor.isBuffer(obj))
    ))
}

},{}],28:[function(require,module,exports){
module.exports = function(text, reverse){
  return text.split(" ").every(function(word, i, arr){
    var last = i ? arr[i - 1].length : false
    var curr = word.length
    var diff = reverse ? last - curr : curr - last
    return !(last && diff !== 1)
  })
}

},{}],29:[function(require,module,exports){
module.exports = Array.isArray || function (arr) {
  return Object.prototype.toString.call(arr) == '[object Array]';
};

},{}],30:[function(require,module,exports){
module.exports = function(string, _c){
  var result = true
  var constraint

  if(Array.isArray(_c)){
    constraint = _c
  } else if (_c){
    constraint = ['b', 'd', 'f', 'g', 'h', 'j', 'k', 'l', 'p', 'q', 't', 'y']
  }

  var letters = string.toLowerCase().split("").filter(function(el){return el.match(/[a-z]/)})

  var map = {}

  letters.forEach(function(letter){
    map[letter] = true
  })

  if(constraint){
    constraint.every(function(letter){
      return map[letter] ? result = false : true
    })
  } else {
    result = 'abcdefghijklmnopqrstuvwxyz'.split("").filter(function(letter){return !map[letter]})
    if(!result.length) result = false
  }
  return result;
}

},{}],31:[function(require,module,exports){
var conversionMap = {
  ough: 'ewe',
  ant: 'aunt',
  end: 'ihnd',
  and: 'uhn',
  ent: 'ind',
  lan: 'lown',
  ast: 'inst',
  ou: 'oo',
  ow: 'au',
  il: 'iliil',
  ag: 'ack',
  ew: 'eeoo'
}

module.exports = function(text, lev, conv){
  var newStr = text
  var level = lev !== undefined ? lev : 0.5
  var conversions = conv !== undefined ? conv : conversionMap
  Object.keys(conversions).forEach(function(substr){
    if(newStr.indexOf(substr) !== -1 && Math.random() < level){
      newStr = newStr.replace(new RegExp(substr, 'g'), conversions[substr])
    }
  })
  return newStr
}

module.exports.conversions = conversionMap
},{}],32:[function(require,module,exports){
'use strict';
module.exports = function (data, options) {
	options = options || {};
	data = data.slice();

	var count = Number(options.count) || 1;
	var ret = [];

	if (!Array.isArray(data)) {
		throw new TypeError('Expected an array as the first argument');
	}

	if (count >= data.length) {
		throw new Error('options.count must be lower than the number of picks');
	}

	while (count--) {
		ret.push(data.splice(Math.floor(Math.random() * data.length), 1)[0]);
	}

	return ret;
};

},{}],33:[function(require,module,exports){
(function (process){
'use strict';
module.exports = nextTick;

function nextTick(fn) {
  var args = new Array(arguments.length - 1);
  var i = 0;
  while (i < args.length) {
    args[i++] = arguments[i];
  }
  process.nextTick(function afterTick() {
    fn.apply(null, args);
  });
}

}).call(this,require('_process'))

},{"_process":34}],34:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = setTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    clearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        setTimeout(drainQueue, 0);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],35:[function(require,module,exports){
var pick = require('pick-random')
module.exports = function () {
  return {
    a: [],
    b: [],
    c: [],
    seed: function (ls) {
      var that = this
      ls.forEach(function (l) {
        // for each line
        var ws = l.split(' ')
        // put the first word in a bucket
        that.a.push(ws.shift())
        // last word in c bucket
        if (ws.length) that.c.push(ws.pop())
        // and everything else in the b bucket.
        if (ws.length) that.b.push(ws.join(' '))
      })
      return this
    },
    fill: function (length) {
      // if user passes 0, umm, undefined!
      if (length) {
        // we start with a random word from the a bucket
        var res = [pick(this.a)]
        // then we pick a random middle thing and split it up
        var mid = pick(this.b)[0].split(' ')
        // as long as we have stuff from the middle thing,
        // and our res is not one less than the target length...
        while (res.length < length - 1 && mid.length) {
          // we push the next word from our middle thing
          res.push(mid.shift())
          // if the middle thing is depleted, we pick a new one.
          // if the buckets are insufficiently filled this might error out. i should fix that sometime
          if (!mid.length) mid = pick(this.b)[0].split(' ')
        }
        // if the user wants length > 2, pop an ending thing from the c bucket on the end
        if (length > 1) res.push(pick(this.c))
        // return the generated string
        return res.join(' ')
      }
    }
  }
}

},{"pick-random":36}],36:[function(require,module,exports){
arguments[4][32][0].apply(exports,arguments)
},{"dup":32}],37:[function(require,module,exports){
module.exports = require("./lib/_stream_duplex.js")

},{"./lib/_stream_duplex.js":38}],38:[function(require,module,exports){
// a duplex stream is just a stream that is both readable and writable.
// Since JS doesn't have multiple prototypal inheritance, this class
// prototypally inherits from Readable, and then parasitically from
// Writable.

'use strict';

/*<replacement>*/
var objectKeys = Object.keys || function (obj) {
  var keys = [];
  for (var key in obj) keys.push(key);
  return keys;
}
/*</replacement>*/


module.exports = Duplex;

/*<replacement>*/
var processNextTick = require('process-nextick-args');
/*</replacement>*/



/*<replacement>*/
var util = require('core-util-is');
util.inherits = require('inherits');
/*</replacement>*/

var Readable = require('./_stream_readable');
var Writable = require('./_stream_writable');

util.inherits(Duplex, Readable);

var keys = objectKeys(Writable.prototype);
for (var v = 0; v < keys.length; v++) {
  var method = keys[v];
  if (!Duplex.prototype[method])
    Duplex.prototype[method] = Writable.prototype[method];
}

function Duplex(options) {
  if (!(this instanceof Duplex))
    return new Duplex(options);

  Readable.call(this, options);
  Writable.call(this, options);

  if (options && options.readable === false)
    this.readable = false;

  if (options && options.writable === false)
    this.writable = false;

  this.allowHalfOpen = true;
  if (options && options.allowHalfOpen === false)
    this.allowHalfOpen = false;

  this.once('end', onend);
}

// the no-half-open enforcer
function onend() {
  // if we allow half-open state, or if the writable side ended,
  // then we're ok.
  if (this.allowHalfOpen || this._writableState.ended)
    return;

  // no more data can be written.
  // But allow more writes to happen in this tick.
  processNextTick(onEndNT, this);
}

function onEndNT(self) {
  self.end();
}

function forEach (xs, f) {
  for (var i = 0, l = xs.length; i < l; i++) {
    f(xs[i], i);
  }
}

},{"./_stream_readable":40,"./_stream_writable":42,"core-util-is":22,"inherits":25,"process-nextick-args":33}],39:[function(require,module,exports){
// a passthrough stream.
// basically just the most minimal sort of Transform stream.
// Every written chunk gets output as-is.

'use strict';

module.exports = PassThrough;

var Transform = require('./_stream_transform');

/*<replacement>*/
var util = require('core-util-is');
util.inherits = require('inherits');
/*</replacement>*/

util.inherits(PassThrough, Transform);

function PassThrough(options) {
  if (!(this instanceof PassThrough))
    return new PassThrough(options);

  Transform.call(this, options);
}

PassThrough.prototype._transform = function(chunk, encoding, cb) {
  cb(null, chunk);
};

},{"./_stream_transform":41,"core-util-is":22,"inherits":25}],40:[function(require,module,exports){
(function (process){
'use strict';

module.exports = Readable;

/*<replacement>*/
var processNextTick = require('process-nextick-args');
/*</replacement>*/


/*<replacement>*/
var isArray = require('isarray');
/*</replacement>*/


/*<replacement>*/
var Buffer = require('buffer').Buffer;
/*</replacement>*/

Readable.ReadableState = ReadableState;

var EE = require('events');

/*<replacement>*/
var EElistenerCount = function(emitter, type) {
  return emitter.listeners(type).length;
};
/*</replacement>*/



/*<replacement>*/
var Stream;
(function (){try{
  Stream = require('st' + 'ream');
}catch(_){}finally{
  if (!Stream)
    Stream = require('events').EventEmitter;
}}())
/*</replacement>*/

var Buffer = require('buffer').Buffer;

/*<replacement>*/
var util = require('core-util-is');
util.inherits = require('inherits');
/*</replacement>*/



/*<replacement>*/
var debugUtil = require('util');
var debug;
if (debugUtil && debugUtil.debuglog) {
  debug = debugUtil.debuglog('stream');
} else {
  debug = function () {};
}
/*</replacement>*/

var StringDecoder;

util.inherits(Readable, Stream);

function ReadableState(options, stream) {
  var Duplex = require('./_stream_duplex');

  options = options || {};

  // object stream flag. Used to make read(n) ignore n and to
  // make all the buffer merging and length checks go away
  this.objectMode = !!options.objectMode;

  if (stream instanceof Duplex)
    this.objectMode = this.objectMode || !!options.readableObjectMode;

  // the point at which it stops calling _read() to fill the buffer
  // Note: 0 is a valid value, means "don't call _read preemptively ever"
  var hwm = options.highWaterMark;
  var defaultHwm = this.objectMode ? 16 : 16 * 1024;
  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;

  // cast to ints.
  this.highWaterMark = ~~this.highWaterMark;

  this.buffer = [];
  this.length = 0;
  this.pipes = null;
  this.pipesCount = 0;
  this.flowing = null;
  this.ended = false;
  this.endEmitted = false;
  this.reading = false;

  // a flag to be able to tell if the onwrite cb is called immediately,
  // or on a later tick.  We set this to true at first, because any
  // actions that shouldn't happen until "later" should generally also
  // not happen before the first write call.
  this.sync = true;

  // whenever we return null, then we set a flag to say
  // that we're awaiting a 'readable' event emission.
  this.needReadable = false;
  this.emittedReadable = false;
  this.readableListening = false;

  // Crypto is kind of old and crusty.  Historically, its default string
  // encoding is 'binary' so we have to make this configurable.
  // Everything else in the universe uses 'utf8', though.
  this.defaultEncoding = options.defaultEncoding || 'utf8';

  // when piping, we only care about 'readable' events that happen
  // after read()ing all the bytes and not getting any pushback.
  this.ranOut = false;

  // the number of writers that are awaiting a drain event in .pipe()s
  this.awaitDrain = 0;

  // if true, a maybeReadMore has been scheduled
  this.readingMore = false;

  this.decoder = null;
  this.encoding = null;
  if (options.encoding) {
    if (!StringDecoder)
      StringDecoder = require('string_decoder/').StringDecoder;
    this.decoder = new StringDecoder(options.encoding);
    this.encoding = options.encoding;
  }
}

function Readable(options) {
  var Duplex = require('./_stream_duplex');

  if (!(this instanceof Readable))
    return new Readable(options);

  this._readableState = new ReadableState(options, this);

  // legacy
  this.readable = true;

  if (options && typeof options.read === 'function')
    this._read = options.read;

  Stream.call(this);
}

// Manually shove something into the read() buffer.
// This returns true if the highWaterMark has not been hit yet,
// similar to how Writable.write() returns true if you should
// write() some more.
Readable.prototype.push = function(chunk, encoding) {
  var state = this._readableState;

  if (!state.objectMode && typeof chunk === 'string') {
    encoding = encoding || state.defaultEncoding;
    if (encoding !== state.encoding) {
      chunk = new Buffer(chunk, encoding);
      encoding = '';
    }
  }

  return readableAddChunk(this, state, chunk, encoding, false);
};

// Unshift should *always* be something directly out of read()
Readable.prototype.unshift = function(chunk) {
  var state = this._readableState;
  return readableAddChunk(this, state, chunk, '', true);
};

Readable.prototype.isPaused = function() {
  return this._readableState.flowing === false;
};

function readableAddChunk(stream, state, chunk, encoding, addToFront) {
  var er = chunkInvalid(state, chunk);
  if (er) {
    stream.emit('error', er);
  } else if (chunk === null) {
    state.reading = false;
    onEofChunk(stream, state);
  } else if (state.objectMode || chunk && chunk.length > 0) {
    if (state.ended && !addToFront) {
      var e = new Error('stream.push() after EOF');
      stream.emit('error', e);
    } else if (state.endEmitted && addToFront) {
      var e = new Error('stream.unshift() after end event');
      stream.emit('error', e);
    } else {
      if (state.decoder && !addToFront && !encoding)
        chunk = state.decoder.write(chunk);

      if (!addToFront)
        state.reading = false;

      // if we want the data now, just emit it.
      if (state.flowing && state.length === 0 && !state.sync) {
        stream.emit('data', chunk);
        stream.read(0);
      } else {
        // update the buffer info.
        state.length += state.objectMode ? 1 : chunk.length;
        if (addToFront)
          state.buffer.unshift(chunk);
        else
          state.buffer.push(chunk);

        if (state.needReadable)
          emitReadable(stream);
      }

      maybeReadMore(stream, state);
    }
  } else if (!addToFront) {
    state.reading = false;
  }

  return needMoreData(state);
}


// if it's past the high water mark, we can push in some more.
// Also, if we have no data yet, we can stand some
// more bytes.  This is to work around cases where hwm=0,
// such as the repl.  Also, if the push() triggered a
// readable event, and the user called read(largeNumber) such that
// needReadable was set, then we ought to push more, so that another
// 'readable' event will be triggered.
function needMoreData(state) {
  return !state.ended &&
         (state.needReadable ||
          state.length < state.highWaterMark ||
          state.length === 0);
}

// backwards compatibility.
Readable.prototype.setEncoding = function(enc) {
  if (!StringDecoder)
    StringDecoder = require('string_decoder/').StringDecoder;
  this._readableState.decoder = new StringDecoder(enc);
  this._readableState.encoding = enc;
  return this;
};

// Don't raise the hwm > 8MB
var MAX_HWM = 0x800000;
function computeNewHighWaterMark(n) {
  if (n >= MAX_HWM) {
    n = MAX_HWM;
  } else {
    // Get the next highest power of 2
    n--;
    n |= n >>> 1;
    n |= n >>> 2;
    n |= n >>> 4;
    n |= n >>> 8;
    n |= n >>> 16;
    n++;
  }
  return n;
}

function howMuchToRead(n, state) {
  if (state.length === 0 && state.ended)
    return 0;

  if (state.objectMode)
    return n === 0 ? 0 : 1;

  if (n === null || isNaN(n)) {
    // only flow one buffer at a time
    if (state.flowing && state.buffer.length)
      return state.buffer[0].length;
    else
      return state.length;
  }

  if (n <= 0)
    return 0;

  // If we're asking for more than the target buffer level,
  // then raise the water mark.  Bump up to the next highest
  // power of 2, to prevent increasing it excessively in tiny
  // amounts.
  if (n > state.highWaterMark)
    state.highWaterMark = computeNewHighWaterMark(n);

  // don't have that much.  return null, unless we've ended.
  if (n > state.length) {
    if (!state.ended) {
      state.needReadable = true;
      return 0;
    } else {
      return state.length;
    }
  }

  return n;
}

// you can override either this method, or the async _read(n) below.
Readable.prototype.read = function(n) {
  debug('read', n);
  var state = this._readableState;
  var nOrig = n;

  if (typeof n !== 'number' || n > 0)
    state.emittedReadable = false;

  // if we're doing read(0) to trigger a readable event, but we
  // already have a bunch of data in the buffer, then just trigger
  // the 'readable' event and move on.
  if (n === 0 &&
      state.needReadable &&
      (state.length >= state.highWaterMark || state.ended)) {
    debug('read: emitReadable', state.length, state.ended);
    if (state.length === 0 && state.ended)
      endReadable(this);
    else
      emitReadable(this);
    return null;
  }

  n = howMuchToRead(n, state);

  // if we've ended, and we're now clear, then finish it up.
  if (n === 0 && state.ended) {
    if (state.length === 0)
      endReadable(this);
    return null;
  }

  // All the actual chunk generation logic needs to be
  // *below* the call to _read.  The reason is that in certain
  // synthetic stream cases, such as passthrough streams, _read
  // may be a completely synchronous operation which may change
  // the state of the read buffer, providing enough data when
  // before there was *not* enough.
  //
  // So, the steps are:
  // 1. Figure out what the state of things will be after we do
  // a read from the buffer.
  //
  // 2. If that resulting state will trigger a _read, then call _read.
  // Note that this may be asynchronous, or synchronous.  Yes, it is
  // deeply ugly to write APIs this way, but that still doesn't mean
  // that the Readable class should behave improperly, as streams are
  // designed to be sync/async agnostic.
  // Take note if the _read call is sync or async (ie, if the read call
  // has returned yet), so that we know whether or not it's safe to emit
  // 'readable' etc.
  //
  // 3. Actually pull the requested chunks out of the buffer and return.

  // if we need a readable event, then we need to do some reading.
  var doRead = state.needReadable;
  debug('need readable', doRead);

  // if we currently have less than the highWaterMark, then also read some
  if (state.length === 0 || state.length - n < state.highWaterMark) {
    doRead = true;
    debug('length less than watermark', doRead);
  }

  // however, if we've ended, then there's no point, and if we're already
  // reading, then it's unnecessary.
  if (state.ended || state.reading) {
    doRead = false;
    debug('reading or ended', doRead);
  }

  if (doRead) {
    debug('do read');
    state.reading = true;
    state.sync = true;
    // if the length is currently zero, then we *need* a readable event.
    if (state.length === 0)
      state.needReadable = true;
    // call internal read method
    this._read(state.highWaterMark);
    state.sync = false;
  }

  // If _read pushed data synchronously, then `reading` will be false,
  // and we need to re-evaluate how much data we can return to the user.
  if (doRead && !state.reading)
    n = howMuchToRead(nOrig, state);

  var ret;
  if (n > 0)
    ret = fromList(n, state);
  else
    ret = null;

  if (ret === null) {
    state.needReadable = true;
    n = 0;
  }

  state.length -= n;

  // If we have nothing in the buffer, then we want to know
  // as soon as we *do* get something into the buffer.
  if (state.length === 0 && !state.ended)
    state.needReadable = true;

  // If we tried to read() past the EOF, then emit end on the next tick.
  if (nOrig !== n && state.ended && state.length === 0)
    endReadable(this);

  if (ret !== null)
    this.emit('data', ret);

  return ret;
};

function chunkInvalid(state, chunk) {
  var er = null;
  if (!(Buffer.isBuffer(chunk)) &&
      typeof chunk !== 'string' &&
      chunk !== null &&
      chunk !== undefined &&
      !state.objectMode) {
    er = new TypeError('Invalid non-string/buffer chunk');
  }
  return er;
}


function onEofChunk(stream, state) {
  if (state.ended) return;
  if (state.decoder) {
    var chunk = state.decoder.end();
    if (chunk && chunk.length) {
      state.buffer.push(chunk);
      state.length += state.objectMode ? 1 : chunk.length;
    }
  }
  state.ended = true;

  // emit 'readable' now to make sure it gets picked up.
  emitReadable(stream);
}

// Don't emit readable right away in sync mode, because this can trigger
// another read() call => stack overflow.  This way, it might trigger
// a nextTick recursion warning, but that's not so bad.
function emitReadable(stream) {
  var state = stream._readableState;
  state.needReadable = false;
  if (!state.emittedReadable) {
    debug('emitReadable', state.flowing);
    state.emittedReadable = true;
    if (state.sync)
      processNextTick(emitReadable_, stream);
    else
      emitReadable_(stream);
  }
}

function emitReadable_(stream) {
  debug('emit readable');
  stream.emit('readable');
  flow(stream);
}


// at this point, the user has presumably seen the 'readable' event,
// and called read() to consume some data.  that may have triggered
// in turn another _read(n) call, in which case reading = true if
// it's in progress.
// However, if we're not ended, or reading, and the length < hwm,
// then go ahead and try to read some more preemptively.
function maybeReadMore(stream, state) {
  if (!state.readingMore) {
    state.readingMore = true;
    processNextTick(maybeReadMore_, stream, state);
  }
}

function maybeReadMore_(stream, state) {
  var len = state.length;
  while (!state.reading && !state.flowing && !state.ended &&
         state.length < state.highWaterMark) {
    debug('maybeReadMore read 0');
    stream.read(0);
    if (len === state.length)
      // didn't get any data, stop spinning.
      break;
    else
      len = state.length;
  }
  state.readingMore = false;
}

// abstract method.  to be overridden in specific implementation classes.
// call cb(er, data) where data is <= n in length.
// for virtual (non-string, non-buffer) streams, "length" is somewhat
// arbitrary, and perhaps not very meaningful.
Readable.prototype._read = function(n) {
  this.emit('error', new Error('not implemented'));
};

Readable.prototype.pipe = function(dest, pipeOpts) {
  var src = this;
  var state = this._readableState;

  switch (state.pipesCount) {
    case 0:
      state.pipes = dest;
      break;
    case 1:
      state.pipes = [state.pipes, dest];
      break;
    default:
      state.pipes.push(dest);
      break;
  }
  state.pipesCount += 1;
  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);

  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&
              dest !== process.stdout &&
              dest !== process.stderr;

  var endFn = doEnd ? onend : cleanup;
  if (state.endEmitted)
    processNextTick(endFn);
  else
    src.once('end', endFn);

  dest.on('unpipe', onunpipe);
  function onunpipe(readable) {
    debug('onunpipe');
    if (readable === src) {
      cleanup();
    }
  }

  function onend() {
    debug('onend');
    dest.end();
  }

  // when the dest drains, it reduces the awaitDrain counter
  // on the source.  This would be more elegant with a .once()
  // handler in flow(), but adding and removing repeatedly is
  // too slow.
  var ondrain = pipeOnDrain(src);
  dest.on('drain', ondrain);

  var cleanedUp = false;
  function cleanup() {
    debug('cleanup');
    // cleanup event handlers once the pipe is broken
    dest.removeListener('close', onclose);
    dest.removeListener('finish', onfinish);
    dest.removeListener('drain', ondrain);
    dest.removeListener('error', onerror);
    dest.removeListener('unpipe', onunpipe);
    src.removeListener('end', onend);
    src.removeListener('end', cleanup);
    src.removeListener('data', ondata);

    cleanedUp = true;

    // if the reader is waiting for a drain event from this
    // specific writer, then it would cause it to never start
    // flowing again.
    // So, if this is awaiting a drain, then we just call it now.
    // If we don't know, then assume that we are waiting for one.
    if (state.awaitDrain &&
        (!dest._writableState || dest._writableState.needDrain))
      ondrain();
  }

  src.on('data', ondata);
  function ondata(chunk) {
    debug('ondata');
    var ret = dest.write(chunk);
    if (false === ret) {
      // If the user unpiped during `dest.write()`, it is possible
      // to get stuck in a permanently paused state if that write
      // also returned false.
      if (state.pipesCount === 1 &&
          state.pipes[0] === dest &&
          src.listenerCount('data') === 1 &&
          !cleanedUp) {
        debug('false write response, pause', src._readableState.awaitDrain);
        src._readableState.awaitDrain++;
      }
      src.pause();
    }
  }

  // if the dest has an error, then stop piping into it.
  // however, don't suppress the throwing behavior for this.
  function onerror(er) {
    debug('onerror', er);
    unpipe();
    dest.removeListener('error', onerror);
    if (EElistenerCount(dest, 'error') === 0)
      dest.emit('error', er);
  }
  // This is a brutally ugly hack to make sure that our error handler
  // is attached before any userland ones.  NEVER DO THIS.
  if (!dest._events || !dest._events.error)
    dest.on('error', onerror);
  else if (isArray(dest._events.error))
    dest._events.error.unshift(onerror);
  else
    dest._events.error = [onerror, dest._events.error];


  // Both close and finish should trigger unpipe, but only once.
  function onclose() {
    dest.removeListener('finish', onfinish);
    unpipe();
  }
  dest.once('close', onclose);
  function onfinish() {
    debug('onfinish');
    dest.removeListener('close', onclose);
    unpipe();
  }
  dest.once('finish', onfinish);

  function unpipe() {
    debug('unpipe');
    src.unpipe(dest);
  }

  // tell the dest that it's being piped to
  dest.emit('pipe', src);

  // start the flow if it hasn't been started already.
  if (!state.flowing) {
    debug('pipe resume');
    src.resume();
  }

  return dest;
};

function pipeOnDrain(src) {
  return function() {
    var state = src._readableState;
    debug('pipeOnDrain', state.awaitDrain);
    if (state.awaitDrain)
      state.awaitDrain--;
    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {
      state.flowing = true;
      flow(src);
    }
  };
}


Readable.prototype.unpipe = function(dest) {
  var state = this._readableState;

  // if we're not piping anywhere, then do nothing.
  if (state.pipesCount === 0)
    return this;

  // just one destination.  most common case.
  if (state.pipesCount === 1) {
    // passed in one, but it's not the right one.
    if (dest && dest !== state.pipes)
      return this;

    if (!dest)
      dest = state.pipes;

    // got a match.
    state.pipes = null;
    state.pipesCount = 0;
    state.flowing = false;
    if (dest)
      dest.emit('unpipe', this);
    return this;
  }

  // slow case. multiple pipe destinations.

  if (!dest) {
    // remove all.
    var dests = state.pipes;
    var len = state.pipesCount;
    state.pipes = null;
    state.pipesCount = 0;
    state.flowing = false;

    for (var i = 0; i < len; i++)
      dests[i].emit('unpipe', this);
    return this;
  }

  // try to find the right one.
  var i = indexOf(state.pipes, dest);
  if (i === -1)
    return this;

  state.pipes.splice(i, 1);
  state.pipesCount -= 1;
  if (state.pipesCount === 1)
    state.pipes = state.pipes[0];

  dest.emit('unpipe', this);

  return this;
};

// set up data events if they are asked for
// Ensure readable listeners eventually get something
Readable.prototype.on = function(ev, fn) {
  var res = Stream.prototype.on.call(this, ev, fn);

  // If listening to data, and it has not explicitly been paused,
  // then call resume to start the flow of data on the next tick.
  if (ev === 'data' && false !== this._readableState.flowing) {
    this.resume();
  }

  if (ev === 'readable' && this.readable) {
    var state = this._readableState;
    if (!state.readableListening) {
      state.readableListening = true;
      state.emittedReadable = false;
      state.needReadable = true;
      if (!state.reading) {
        processNextTick(nReadingNextTick, this);
      } else if (state.length) {
        emitReadable(this, state);
      }
    }
  }

  return res;
};
Readable.prototype.addListener = Readable.prototype.on;

function nReadingNextTick(self) {
  debug('readable nexttick read 0');
  self.read(0);
}

// pause() and resume() are remnants of the legacy readable stream API
// If the user uses them, then switch into old mode.
Readable.prototype.resume = function() {
  var state = this._readableState;
  if (!state.flowing) {
    debug('resume');
    state.flowing = true;
    resume(this, state);
  }
  return this;
};

function resume(stream, state) {
  if (!state.resumeScheduled) {
    state.resumeScheduled = true;
    processNextTick(resume_, stream, state);
  }
}

function resume_(stream, state) {
  if (!state.reading) {
    debug('resume read 0');
    stream.read(0);
  }

  state.resumeScheduled = false;
  stream.emit('resume');
  flow(stream);
  if (state.flowing && !state.reading)
    stream.read(0);
}

Readable.prototype.pause = function() {
  debug('call pause flowing=%j', this._readableState.flowing);
  if (false !== this._readableState.flowing) {
    debug('pause');
    this._readableState.flowing = false;
    this.emit('pause');
  }
  return this;
};

function flow(stream) {
  var state = stream._readableState;
  debug('flow', state.flowing);
  if (state.flowing) {
    do {
      var chunk = stream.read();
    } while (null !== chunk && state.flowing);
  }
}

// wrap an old-style stream as the async data source.
// This is *not* part of the readable stream interface.
// It is an ugly unfortunate mess of history.
Readable.prototype.wrap = function(stream) {
  var state = this._readableState;
  var paused = false;

  var self = this;
  stream.on('end', function() {
    debug('wrapped end');
    if (state.decoder && !state.ended) {
      var chunk = state.decoder.end();
      if (chunk && chunk.length)
        self.push(chunk);
    }

    self.push(null);
  });

  stream.on('data', function(chunk) {
    debug('wrapped data');
    if (state.decoder)
      chunk = state.decoder.write(chunk);

    // don't skip over falsy values in objectMode
    if (state.objectMode && (chunk === null || chunk === undefined))
      return;
    else if (!state.objectMode && (!chunk || !chunk.length))
      return;

    var ret = self.push(chunk);
    if (!ret) {
      paused = true;
      stream.pause();
    }
  });

  // proxy all the other methods.
  // important when wrapping filters and duplexes.
  for (var i in stream) {
    if (this[i] === undefined && typeof stream[i] === 'function') {
      this[i] = function(method) { return function() {
        return stream[method].apply(stream, arguments);
      }; }(i);
    }
  }

  // proxy certain important events.
  var events = ['error', 'close', 'destroy', 'pause', 'resume'];
  forEach(events, function(ev) {
    stream.on(ev, self.emit.bind(self, ev));
  });

  // when we try to consume some more bytes, simply unpause the
  // underlying stream.
  self._read = function(n) {
    debug('wrapped _read', n);
    if (paused) {
      paused = false;
      stream.resume();
    }
  };

  return self;
};


// exposed for testing purposes only.
Readable._fromList = fromList;

// Pluck off n bytes from an array of buffers.
// Length is the combined lengths of all the buffers in the list.
function fromList(n, state) {
  var list = state.buffer;
  var length = state.length;
  var stringMode = !!state.decoder;
  var objectMode = !!state.objectMode;
  var ret;

  // nothing in the list, definitely empty.
  if (list.length === 0)
    return null;

  if (length === 0)
    ret = null;
  else if (objectMode)
    ret = list.shift();
  else if (!n || n >= length) {
    // read it all, truncate the array.
    if (stringMode)
      ret = list.join('');
    else if (list.length === 1)
      ret = list[0];
    else
      ret = Buffer.concat(list, length);
    list.length = 0;
  } else {
    // read just some of it.
    if (n < list[0].length) {
      // just take a part of the first list item.
      // slice is the same for buffers and strings.
      var buf = list[0];
      ret = buf.slice(0, n);
      list[0] = buf.slice(n);
    } else if (n === list[0].length) {
      // first list is a perfect match
      ret = list.shift();
    } else {
      // complex case.
      // we have enough to cover it, but it spans past the first buffer.
      if (stringMode)
        ret = '';
      else
        ret = new Buffer(n);

      var c = 0;
      for (var i = 0, l = list.length; i < l && c < n; i++) {
        var buf = list[0];
        var cpy = Math.min(n - c, buf.length);

        if (stringMode)
          ret += buf.slice(0, cpy);
        else
          buf.copy(ret, c, 0, cpy);

        if (cpy < buf.length)
          list[0] = buf.slice(cpy);
        else
          list.shift();

        c += cpy;
      }
    }
  }

  return ret;
}

function endReadable(stream) {
  var state = stream._readableState;

  // If we get here before consuming all the bytes, then that is a
  // bug in node.  Should never happen.
  if (state.length > 0)
    throw new Error('endReadable called on non-empty stream');

  if (!state.endEmitted) {
    state.ended = true;
    processNextTick(endReadableNT, state, stream);
  }
}

function endReadableNT(state, stream) {
  // Check that we didn't get one last unshift.
  if (!state.endEmitted && state.length === 0) {
    state.endEmitted = true;
    stream.readable = false;
    stream.emit('end');
  }
}

function forEach (xs, f) {
  for (var i = 0, l = xs.length; i < l; i++) {
    f(xs[i], i);
  }
}

function indexOf (xs, x) {
  for (var i = 0, l = xs.length; i < l; i++) {
    if (xs[i] === x) return i;
  }
  return -1;
}

}).call(this,require('_process'))

},{"./_stream_duplex":38,"_process":34,"buffer":20,"core-util-is":22,"events":23,"inherits":25,"isarray":29,"process-nextick-args":33,"string_decoder/":48,"util":19}],41:[function(require,module,exports){
// a transform stream is a readable/writable stream where you do
// something with the data.  Sometimes it's called a "filter",
// but that's not a great name for it, since that implies a thing where
// some bits pass through, and others are simply ignored.  (That would
// be a valid example of a transform, of course.)
//
// While the output is causally related to the input, it's not a
// necessarily symmetric or synchronous transformation.  For example,
// a zlib stream might take multiple plain-text writes(), and then
// emit a single compressed chunk some time in the future.
//
// Here's how this works:
//
// The Transform stream has all the aspects of the readable and writable
// stream classes.  When you write(chunk), that calls _write(chunk,cb)
// internally, and returns false if there's a lot of pending writes
// buffered up.  When you call read(), that calls _read(n) until
// there's enough pending readable data buffered up.
//
// In a transform stream, the written data is placed in a buffer.  When
// _read(n) is called, it transforms the queued up data, calling the
// buffered _write cb's as it consumes chunks.  If consuming a single
// written chunk would result in multiple output chunks, then the first
// outputted bit calls the readcb, and subsequent chunks just go into
// the read buffer, and will cause it to emit 'readable' if necessary.
//
// This way, back-pressure is actually determined by the reading side,
// since _read has to be called to start processing a new chunk.  However,
// a pathological inflate type of transform can cause excessive buffering
// here.  For example, imagine a stream where every byte of input is
// interpreted as an integer from 0-255, and then results in that many
// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in
// 1kb of data being output.  In this case, you could write a very small
// amount of input, and end up with a very large amount of output.  In
// such a pathological inflating mechanism, there'd be no way to tell
// the system to stop doing the transform.  A single 4MB write could
// cause the system to run out of memory.
//
// However, even in such a pathological case, only a single written chunk
// would be consumed, and then the rest would wait (un-transformed) until
// the results of the previous transformed chunk were consumed.

'use strict';

module.exports = Transform;

var Duplex = require('./_stream_duplex');

/*<replacement>*/
var util = require('core-util-is');
util.inherits = require('inherits');
/*</replacement>*/

util.inherits(Transform, Duplex);


function TransformState(stream) {
  this.afterTransform = function(er, data) {
    return afterTransform(stream, er, data);
  };

  this.needTransform = false;
  this.transforming = false;
  this.writecb = null;
  this.writechunk = null;
}

function afterTransform(stream, er, data) {
  var ts = stream._transformState;
  ts.transforming = false;

  var cb = ts.writecb;

  if (!cb)
    return stream.emit('error', new Error('no writecb in Transform class'));

  ts.writechunk = null;
  ts.writecb = null;

  if (data !== null && data !== undefined)
    stream.push(data);

  if (cb)
    cb(er);

  var rs = stream._readableState;
  rs.reading = false;
  if (rs.needReadable || rs.length < rs.highWaterMark) {
    stream._read(rs.highWaterMark);
  }
}


function Transform(options) {
  if (!(this instanceof Transform))
    return new Transform(options);

  Duplex.call(this, options);

  this._transformState = new TransformState(this);

  // when the writable side finishes, then flush out anything remaining.
  var stream = this;

  // start out asking for a readable event once data is transformed.
  this._readableState.needReadable = true;

  // we have implemented the _read method, and done the other things
  // that Readable wants before the first _read call, so unset the
  // sync guard flag.
  this._readableState.sync = false;

  if (options) {
    if (typeof options.transform === 'function')
      this._transform = options.transform;

    if (typeof options.flush === 'function')
      this._flush = options.flush;
  }

  this.once('prefinish', function() {
    if (typeof this._flush === 'function')
      this._flush(function(er) {
        done(stream, er);
      });
    else
      done(stream);
  });
}

Transform.prototype.push = function(chunk, encoding) {
  this._transformState.needTransform = false;
  return Duplex.prototype.push.call(this, chunk, encoding);
};

// This is the part where you do stuff!
// override this function in implementation classes.
// 'chunk' is an input chunk.
//
// Call `push(newChunk)` to pass along transformed output
// to the readable side.  You may call 'push' zero or more times.
//
// Call `cb(err)` when you are done with this chunk.  If you pass
// an error, then that'll put the hurt on the whole operation.  If you
// never call cb(), then you'll never get another chunk.
Transform.prototype._transform = function(chunk, encoding, cb) {
  throw new Error('not implemented');
};

Transform.prototype._write = function(chunk, encoding, cb) {
  var ts = this._transformState;
  ts.writecb = cb;
  ts.writechunk = chunk;
  ts.writeencoding = encoding;
  if (!ts.transforming) {
    var rs = this._readableState;
    if (ts.needTransform ||
        rs.needReadable ||
        rs.length < rs.highWaterMark)
      this._read(rs.highWaterMark);
  }
};

// Doesn't matter what the args are here.
// _transform does all the work.
// That we got here means that the readable side wants more data.
Transform.prototype._read = function(n) {
  var ts = this._transformState;

  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {
    ts.transforming = true;
    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);
  } else {
    // mark that we need a transform, so that any data that comes in
    // will get processed, now that we've asked for it.
    ts.needTransform = true;
  }
};


function done(stream, er) {
  if (er)
    return stream.emit('error', er);

  // if there's nothing in the write buffer, then that means
  // that nothing more will ever be provided
  var ws = stream._writableState;
  var ts = stream._transformState;

  if (ws.length)
    throw new Error('calling transform done when ws.length != 0');

  if (ts.transforming)
    throw new Error('calling transform done when still transforming');

  return stream.push(null);
}

},{"./_stream_duplex":38,"core-util-is":22,"inherits":25}],42:[function(require,module,exports){
// A bit simpler than readable streams.
// Implement an async ._write(chunk, encoding, cb), and it'll handle all
// the drain event emission and buffering.

'use strict';

module.exports = Writable;

/*<replacement>*/
var processNextTick = require('process-nextick-args');
/*</replacement>*/


/*<replacement>*/
var Buffer = require('buffer').Buffer;
/*</replacement>*/

Writable.WritableState = WritableState;


/*<replacement>*/
var util = require('core-util-is');
util.inherits = require('inherits');
/*</replacement>*/


/*<replacement>*/
var internalUtil = {
  deprecate: require('util-deprecate')
};
/*</replacement>*/



/*<replacement>*/
var Stream;
(function (){try{
  Stream = require('st' + 'ream');
}catch(_){}finally{
  if (!Stream)
    Stream = require('events').EventEmitter;
}}())
/*</replacement>*/

var Buffer = require('buffer').Buffer;

util.inherits(Writable, Stream);

function nop() {}

function WriteReq(chunk, encoding, cb) {
  this.chunk = chunk;
  this.encoding = encoding;
  this.callback = cb;
  this.next = null;
}

function WritableState(options, stream) {
  var Duplex = require('./_stream_duplex');

  options = options || {};

  // object stream flag to indicate whether or not this stream
  // contains buffers or objects.
  this.objectMode = !!options.objectMode;

  if (stream instanceof Duplex)
    this.objectMode = this.objectMode || !!options.writableObjectMode;

  // the point at which write() starts returning false
  // Note: 0 is a valid value, means that we always return false if
  // the entire buffer is not flushed immediately on write()
  var hwm = options.highWaterMark;
  var defaultHwm = this.objectMode ? 16 : 16 * 1024;
  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;

  // cast to ints.
  this.highWaterMark = ~~this.highWaterMark;

  this.needDrain = false;
  // at the start of calling end()
  this.ending = false;
  // when end() has been called, and returned
  this.ended = false;
  // when 'finish' is emitted
  this.finished = false;

  // should we decode strings into buffers before passing to _write?
  // this is here so that some node-core streams can optimize string
  // handling at a lower level.
  var noDecode = options.decodeStrings === false;
  this.decodeStrings = !noDecode;

  // Crypto is kind of old and crusty.  Historically, its default string
  // encoding is 'binary' so we have to make this configurable.
  // Everything else in the universe uses 'utf8', though.
  this.defaultEncoding = options.defaultEncoding || 'utf8';

  // not an actual buffer we keep track of, but a measurement
  // of how much we're waiting to get pushed to some underlying
  // socket or file.
  this.length = 0;

  // a flag to see when we're in the middle of a write.
  this.writing = false;

  // when true all writes will be buffered until .uncork() call
  this.corked = 0;

  // a flag to be able to tell if the onwrite cb is called immediately,
  // or on a later tick.  We set this to true at first, because any
  // actions that shouldn't happen until "later" should generally also
  // not happen before the first write call.
  this.sync = true;

  // a flag to know if we're processing previously buffered items, which
  // may call the _write() callback in the same tick, so that we don't
  // end up in an overlapped onwrite situation.
  this.bufferProcessing = false;

  // the callback that's passed to _write(chunk,cb)
  this.onwrite = function(er) {
    onwrite(stream, er);
  };

  // the callback that the user supplies to write(chunk,encoding,cb)
  this.writecb = null;

  // the amount that is being written when _write is called.
  this.writelen = 0;

  this.bufferedRequest = null;
  this.lastBufferedRequest = null;

  // number of pending user-supplied write callbacks
  // this must be 0 before 'finish' can be emitted
  this.pendingcb = 0;

  // emit prefinish if the only thing we're waiting for is _write cbs
  // This is relevant for synchronous Transform streams
  this.prefinished = false;

  // True if the error was already emitted and should not be thrown again
  this.errorEmitted = false;
}

WritableState.prototype.getBuffer = function writableStateGetBuffer() {
  var current = this.bufferedRequest;
  var out = [];
  while (current) {
    out.push(current);
    current = current.next;
  }
  return out;
};

(function (){try {
Object.defineProperty(WritableState.prototype, 'buffer', {
  get: internalUtil.deprecate(function() {
    return this.getBuffer();
  }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' +
     'instead.')
});
}catch(_){}}());


function Writable(options) {
  var Duplex = require('./_stream_duplex');

  // Writable ctor is applied to Duplexes, though they're not
  // instanceof Writable, they're instanceof Readable.
  if (!(this instanceof Writable) && !(this instanceof Duplex))
    return new Writable(options);

  this._writableState = new WritableState(options, this);

  // legacy.
  this.writable = true;

  if (options) {
    if (typeof options.write === 'function')
      this._write = options.write;

    if (typeof options.writev === 'function')
      this._writev = options.writev;
  }

  Stream.call(this);
}

// Otherwise people can pipe Writable streams, which is just wrong.
Writable.prototype.pipe = function() {
  this.emit('error', new Error('Cannot pipe. Not readable.'));
};


function writeAfterEnd(stream, cb) {
  var er = new Error('write after end');
  // TODO: defer error events consistently everywhere, not just the cb
  stream.emit('error', er);
  processNextTick(cb, er);
}

// If we get something that is not a buffer, string, null, or undefined,
// and we're not in objectMode, then that's an error.
// Otherwise stream chunks are all considered to be of length=1, and the
// watermarks determine how many objects to keep in the buffer, rather than
// how many bytes or characters.
function validChunk(stream, state, chunk, cb) {
  var valid = true;

  if (!(Buffer.isBuffer(chunk)) &&
      typeof chunk !== 'string' &&
      chunk !== null &&
      chunk !== undefined &&
      !state.objectMode) {
    var er = new TypeError('Invalid non-string/buffer chunk');
    stream.emit('error', er);
    processNextTick(cb, er);
    valid = false;
  }
  return valid;
}

Writable.prototype.write = function(chunk, encoding, cb) {
  var state = this._writableState;
  var ret = false;

  if (typeof encoding === 'function') {
    cb = encoding;
    encoding = null;
  }

  if (Buffer.isBuffer(chunk))
    encoding = 'buffer';
  else if (!encoding)
    encoding = state.defaultEncoding;

  if (typeof cb !== 'function')
    cb = nop;

  if (state.ended)
    writeAfterEnd(this, cb);
  else if (validChunk(this, state, chunk, cb)) {
    state.pendingcb++;
    ret = writeOrBuffer(this, state, chunk, encoding, cb);
  }

  return ret;
};

Writable.prototype.cork = function() {
  var state = this._writableState;

  state.corked++;
};

Writable.prototype.uncork = function() {
  var state = this._writableState;

  if (state.corked) {
    state.corked--;

    if (!state.writing &&
        !state.corked &&
        !state.finished &&
        !state.bufferProcessing &&
        state.bufferedRequest)
      clearBuffer(this, state);
  }
};

Writable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {
  // node::ParseEncoding() requires lower case.
  if (typeof encoding === 'string')
    encoding = encoding.toLowerCase();
  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64',
'ucs2', 'ucs-2','utf16le', 'utf-16le', 'raw']
.indexOf((encoding + '').toLowerCase()) > -1))
    throw new TypeError('Unknown encoding: ' + encoding);
  this._writableState.defaultEncoding = encoding;
};

function decodeChunk(state, chunk, encoding) {
  if (!state.objectMode &&
      state.decodeStrings !== false &&
      typeof chunk === 'string') {
    chunk = new Buffer(chunk, encoding);
  }
  return chunk;
}

// if we're already writing something, then just put this
// in the queue, and wait our turn.  Otherwise, call _write
// If we return false, then we need a drain event, so set that flag.
function writeOrBuffer(stream, state, chunk, encoding, cb) {
  chunk = decodeChunk(state, chunk, encoding);

  if (Buffer.isBuffer(chunk))
    encoding = 'buffer';
  var len = state.objectMode ? 1 : chunk.length;

  state.length += len;

  var ret = state.length < state.highWaterMark;
  // we must ensure that previous needDrain will not be reset to false.
  if (!ret)
    state.needDrain = true;

  if (state.writing || state.corked) {
    var last = state.lastBufferedRequest;
    state.lastBufferedRequest = new WriteReq(chunk, encoding, cb);
    if (last) {
      last.next = state.lastBufferedRequest;
    } else {
      state.bufferedRequest = state.lastBufferedRequest;
    }
  } else {
    doWrite(stream, state, false, len, chunk, encoding, cb);
  }

  return ret;
}

function doWrite(stream, state, writev, len, chunk, encoding, cb) {
  state.writelen = len;
  state.writecb = cb;
  state.writing = true;
  state.sync = true;
  if (writev)
    stream._writev(chunk, state.onwrite);
  else
    stream._write(chunk, encoding, state.onwrite);
  state.sync = false;
}

function onwriteError(stream, state, sync, er, cb) {
  --state.pendingcb;
  if (sync)
    processNextTick(cb, er);
  else
    cb(er);

  stream._writableState.errorEmitted = true;
  stream.emit('error', er);
}

function onwriteStateUpdate(state) {
  state.writing = false;
  state.writecb = null;
  state.length -= state.writelen;
  state.writelen = 0;
}

function onwrite(stream, er) {
  var state = stream._writableState;
  var sync = state.sync;
  var cb = state.writecb;

  onwriteStateUpdate(state);

  if (er)
    onwriteError(stream, state, sync, er, cb);
  else {
    // Check if we're actually ready to finish, but don't emit yet
    var finished = needFinish(state);

    if (!finished &&
        !state.corked &&
        !state.bufferProcessing &&
        state.bufferedRequest) {
      clearBuffer(stream, state);
    }

    if (sync) {
      processNextTick(afterWrite, stream, state, finished, cb);
    } else {
      afterWrite(stream, state, finished, cb);
    }
  }
}

function afterWrite(stream, state, finished, cb) {
  if (!finished)
    onwriteDrain(stream, state);
  state.pendingcb--;
  cb();
  finishMaybe(stream, state);
}

// Must force callback to be called on nextTick, so that we don't
// emit 'drain' before the write() consumer gets the 'false' return
// value, and has a chance to attach a 'drain' listener.
function onwriteDrain(stream, state) {
  if (state.length === 0 && state.needDrain) {
    state.needDrain = false;
    stream.emit('drain');
  }
}


// if there's something in the buffer waiting, then process it
function clearBuffer(stream, state) {
  state.bufferProcessing = true;
  var entry = state.bufferedRequest;

  if (stream._writev && entry && entry.next) {
    // Fast case, write everything using _writev()
    var buffer = [];
    var cbs = [];
    while (entry) {
      cbs.push(entry.callback);
      buffer.push(entry);
      entry = entry.next;
    }

    // count the one we are adding, as well.
    // TODO(isaacs) clean this up
    state.pendingcb++;
    state.lastBufferedRequest = null;
    doWrite(stream, state, true, state.length, buffer, '', function(err) {
      for (var i = 0; i < cbs.length; i++) {
        state.pendingcb--;
        cbs[i](err);
      }
    });

    // Clear buffer
  } else {
    // Slow case, write chunks one-by-one
    while (entry) {
      var chunk = entry.chunk;
      var encoding = entry.encoding;
      var cb = entry.callback;
      var len = state.objectMode ? 1 : chunk.length;

      doWrite(stream, state, false, len, chunk, encoding, cb);
      entry = entry.next;
      // if we didn't call the onwrite immediately, then
      // it means that we need to wait until it does.
      // also, that means that the chunk and cb are currently
      // being processed, so move the buffer counter past them.
      if (state.writing) {
        break;
      }
    }

    if (entry === null)
      state.lastBufferedRequest = null;
  }
  state.bufferedRequest = entry;
  state.bufferProcessing = false;
}

Writable.prototype._write = function(chunk, encoding, cb) {
  cb(new Error('not implemented'));
};

Writable.prototype._writev = null;

Writable.prototype.end = function(chunk, encoding, cb) {
  var state = this._writableState;

  if (typeof chunk === 'function') {
    cb = chunk;
    chunk = null;
    encoding = null;
  } else if (typeof encoding === 'function') {
    cb = encoding;
    encoding = null;
  }

  if (chunk !== null && chunk !== undefined)
    this.write(chunk, encoding);

  // .end() fully uncorks
  if (state.corked) {
    state.corked = 1;
    this.uncork();
  }

  // ignore unnecessary end() calls.
  if (!state.ending && !state.finished)
    endWritable(this, state, cb);
};


function needFinish(state) {
  return (state.ending &&
          state.length === 0 &&
          state.bufferedRequest === null &&
          !state.finished &&
          !state.writing);
}

function prefinish(stream, state) {
  if (!state.prefinished) {
    state.prefinished = true;
    stream.emit('prefinish');
  }
}

function finishMaybe(stream, state) {
  var need = needFinish(state);
  if (need) {
    if (state.pendingcb === 0) {
      prefinish(stream, state);
      state.finished = true;
      stream.emit('finish');
    } else {
      prefinish(stream, state);
    }
  }
  return need;
}

function endWritable(stream, state, cb) {
  state.ending = true;
  finishMaybe(stream, state);
  if (cb) {
    if (state.finished)
      processNextTick(cb);
    else
      stream.once('finish', cb);
  }
  state.ended = true;
}

},{"./_stream_duplex":38,"buffer":20,"core-util-is":22,"events":23,"inherits":25,"process-nextick-args":33,"util-deprecate":55}],43:[function(require,module,exports){
module.exports = require("./lib/_stream_passthrough.js")

},{"./lib/_stream_passthrough.js":39}],44:[function(require,module,exports){
var Stream = (function (){
  try {
    return require('st' + 'ream'); // hack to fix a circular dependency issue when used with browserify
  } catch(_){}
}());
exports = module.exports = require('./lib/_stream_readable.js');
exports.Stream = Stream || exports;
exports.Readable = exports;
exports.Writable = require('./lib/_stream_writable.js');
exports.Duplex = require('./lib/_stream_duplex.js');
exports.Transform = require('./lib/_stream_transform.js');
exports.PassThrough = require('./lib/_stream_passthrough.js');

},{"./lib/_stream_duplex.js":38,"./lib/_stream_passthrough.js":39,"./lib/_stream_readable.js":40,"./lib/_stream_transform.js":41,"./lib/_stream_writable.js":42}],45:[function(require,module,exports){
module.exports = require("./lib/_stream_transform.js")

},{"./lib/_stream_transform.js":41}],46:[function(require,module,exports){
module.exports = require("./lib/_stream_writable.js")

},{"./lib/_stream_writable.js":42}],47:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

module.exports = Stream;

var EE = require('events').EventEmitter;
var inherits = require('inherits');

inherits(Stream, EE);
Stream.Readable = require('readable-stream/readable.js');
Stream.Writable = require('readable-stream/writable.js');
Stream.Duplex = require('readable-stream/duplex.js');
Stream.Transform = require('readable-stream/transform.js');
Stream.PassThrough = require('readable-stream/passthrough.js');

// Backwards-compat with node 0.4.x
Stream.Stream = Stream;



// old-style streams.  Note that the pipe method (the only relevant
// part of this class) is overridden in the Readable class.

function Stream() {
  EE.call(this);
}

Stream.prototype.pipe = function(dest, options) {
  var source = this;

  function ondata(chunk) {
    if (dest.writable) {
      if (false === dest.write(chunk) && source.pause) {
        source.pause();
      }
    }
  }

  source.on('data', ondata);

  function ondrain() {
    if (source.readable && source.resume) {
      source.resume();
    }
  }

  dest.on('drain', ondrain);

  // If the 'end' option is not supplied, dest.end() will be called when
  // source gets the 'end' or 'close' events.  Only dest.end() once.
  if (!dest._isStdio && (!options || options.end !== false)) {
    source.on('end', onend);
    source.on('close', onclose);
  }

  var didOnEnd = false;
  function onend() {
    if (didOnEnd) return;
    didOnEnd = true;

    dest.end();
  }


  function onclose() {
    if (didOnEnd) return;
    didOnEnd = true;

    if (typeof dest.destroy === 'function') dest.destroy();
  }

  // don't leave dangling pipes when there are errors.
  function onerror(er) {
    cleanup();
    if (EE.listenerCount(this, 'error') === 0) {
      throw er; // Unhandled stream error in pipe.
    }
  }

  source.on('error', onerror);
  dest.on('error', onerror);

  // remove all the event listeners that were added.
  function cleanup() {
    source.removeListener('data', ondata);
    dest.removeListener('drain', ondrain);

    source.removeListener('end', onend);
    source.removeListener('close', onclose);

    source.removeListener('error', onerror);
    dest.removeListener('error', onerror);

    source.removeListener('end', cleanup);
    source.removeListener('close', cleanup);

    dest.removeListener('close', cleanup);
  }

  source.on('end', cleanup);
  source.on('close', cleanup);

  dest.on('close', cleanup);

  dest.emit('pipe', source);

  // Allow for unix-like usage: A.pipe(B).pipe(C)
  return dest;
};

},{"events":23,"inherits":25,"readable-stream/duplex.js":37,"readable-stream/passthrough.js":43,"readable-stream/readable.js":44,"readable-stream/transform.js":45,"readable-stream/writable.js":46}],48:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var Buffer = require('buffer').Buffer;

var isBufferEncoding = Buffer.isEncoding
  || function(encoding) {
       switch (encoding && encoding.toLowerCase()) {
         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;
         default: return false;
       }
     }


function assertEncoding(encoding) {
  if (encoding && !isBufferEncoding(encoding)) {
    throw new Error('Unknown encoding: ' + encoding);
  }
}

// StringDecoder provides an interface for efficiently splitting a series of
// buffers into a series of JS strings without breaking apart multi-byte
// characters. CESU-8 is handled as part of the UTF-8 encoding.
//
// @TODO Handling all encodings inside a single object makes it very difficult
// to reason about this code, so it should be split up in the future.
// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code
// points as used by CESU-8.
var StringDecoder = exports.StringDecoder = function(encoding) {
  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');
  assertEncoding(encoding);
  switch (this.encoding) {
    case 'utf8':
      // CESU-8 represents each of Surrogate Pair by 3-bytes
      this.surrogateSize = 3;
      break;
    case 'ucs2':
    case 'utf16le':
      // UTF-16 represents each of Surrogate Pair by 2-bytes
      this.surrogateSize = 2;
      this.detectIncompleteChar = utf16DetectIncompleteChar;
      break;
    case 'base64':
      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.
      this.surrogateSize = 3;
      this.detectIncompleteChar = base64DetectIncompleteChar;
      break;
    default:
      this.write = passThroughWrite;
      return;
  }

  // Enough space to store all bytes of a single character. UTF-8 needs 4
  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).
  this.charBuffer = new Buffer(6);
  // Number of bytes received for the current incomplete multi-byte character.
  this.charReceived = 0;
  // Number of bytes expected for the current incomplete multi-byte character.
  this.charLength = 0;
};


// write decodes the given buffer and returns it as JS string that is
// guaranteed to not contain any partial multi-byte characters. Any partial
// character found at the end of the buffer is buffered up, and will be
// returned when calling write again with the remaining bytes.
//
// Note: Converting a Buffer containing an orphan surrogate to a String
// currently works, but converting a String to a Buffer (via `new Buffer`, or
// Buffer#write) will replace incomplete surrogates with the unicode
// replacement character. See https://codereview.chromium.org/121173009/ .
StringDecoder.prototype.write = function(buffer) {
  var charStr = '';
  // if our last write ended with an incomplete multibyte character
  while (this.charLength) {
    // determine how many remaining bytes this buffer has to offer for this char
    var available = (buffer.length >= this.charLength - this.charReceived) ?
        this.charLength - this.charReceived :
        buffer.length;

    // add the new bytes to the char buffer
    buffer.copy(this.charBuffer, this.charReceived, 0, available);
    this.charReceived += available;

    if (this.charReceived < this.charLength) {
      // still not enough chars in this buffer? wait for more ...
      return '';
    }

    // remove bytes belonging to the current character from the buffer
    buffer = buffer.slice(available, buffer.length);

    // get the character that was split
    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);

    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character
    var charCode = charStr.charCodeAt(charStr.length - 1);
    if (charCode >= 0xD800 && charCode <= 0xDBFF) {
      this.charLength += this.surrogateSize;
      charStr = '';
      continue;
    }
    this.charReceived = this.charLength = 0;

    // if there are no more bytes in this buffer, just emit our char
    if (buffer.length === 0) {
      return charStr;
    }
    break;
  }

  // determine and set charLength / charReceived
  this.detectIncompleteChar(buffer);

  var end = buffer.length;
  if (this.charLength) {
    // buffer the incomplete character bytes we got
    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);
    end -= this.charReceived;
  }

  charStr += buffer.toString(this.encoding, 0, end);

  var end = charStr.length - 1;
  var charCode = charStr.charCodeAt(end);
  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character
  if (charCode >= 0xD800 && charCode <= 0xDBFF) {
    var size = this.surrogateSize;
    this.charLength += size;
    this.charReceived += size;
    this.charBuffer.copy(this.charBuffer, size, 0, size);
    buffer.copy(this.charBuffer, 0, 0, size);
    return charStr.substring(0, end);
  }

  // or just emit the charStr
  return charStr;
};

// detectIncompleteChar determines if there is an incomplete UTF-8 character at
// the end of the given buffer. If so, it sets this.charLength to the byte
// length that character, and sets this.charReceived to the number of bytes
// that are available for this character.
StringDecoder.prototype.detectIncompleteChar = function(buffer) {
  // determine how many bytes we have to check at the end of this buffer
  var i = (buffer.length >= 3) ? 3 : buffer.length;

  // Figure out if one of the last i bytes of our buffer announces an
  // incomplete char.
  for (; i > 0; i--) {
    var c = buffer[buffer.length - i];

    // See http://en.wikipedia.org/wiki/UTF-8#Description

    // 110XXXXX
    if (i == 1 && c >> 5 == 0x06) {
      this.charLength = 2;
      break;
    }

    // 1110XXXX
    if (i <= 2 && c >> 4 == 0x0E) {
      this.charLength = 3;
      break;
    }

    // 11110XXX
    if (i <= 3 && c >> 3 == 0x1E) {
      this.charLength = 4;
      break;
    }
  }
  this.charReceived = i;
};

StringDecoder.prototype.end = function(buffer) {
  var res = '';
  if (buffer && buffer.length)
    res = this.write(buffer);

  if (this.charReceived) {
    var cr = this.charReceived;
    var buf = this.charBuffer;
    var enc = this.encoding;
    res += buf.slice(0, cr).toString(enc);
  }

  return res;
};

function passThroughWrite(buffer) {
  return buffer.toString(this.encoding);
}

function utf16DetectIncompleteChar(buffer) {
  this.charReceived = buffer.length % 2;
  this.charLength = this.charReceived ? 2 : 0;
}

function base64DetectIncompleteChar(buffer) {
  this.charReceived = buffer.length % 3;
  this.charLength = this.charReceived ? 3 : 0;
}

},{"buffer":20}],49:[function(require,module,exports){

var isCool = require('iscool')()

module.exports = function (str) {
  return str.split('\W').every(function (word) {
    return !!word ? isCool(word) : true
  })
}

},{"iscool":51}],50:[function(require,module,exports){
var Immutable = require('immutable');

// Everything in the lists should be lowercase. Potential matches will also 
// be converted to lowercase.

var lists = {
  // falsePositivesList should contain only the singular forms of the words, 
  // words will be singularized before being checked against this list.
  falsePositives: [
    'rt',
    'http',
    'haha',
    'adv',
    'san',
    'tri',
    'asa',
    'att',
    'io',
    'imo',
    'pl',
    'dr',
    'ala',
    'ama'
  ],
  extendedBlacklist: [
    'negro',
    'negroes',
    'chink',
    'chinks',
    'gook',
    'gooks',
    'nigger',
    'niggers',
    'nigga',
    'niggas',
    'spic',
    'spics',
    'rape',
    'rapes',
    'rapist',
    'rapists',
    'bombing',
    'bombings',
    'shootings',
    'shooting',
    'miscarriage',
    'coon',
    'transgender', // OK normally, not OK as a noun.
    'swastika',
    'nazi',
    'nazis',
    'nazidom',
    'holocaust',
    'islamist',
    'jihadist',
    'klan',
    'blackface',
    'abuser',
    'n-word',
    'darky',
    'darkies',
    'crip',
    'crips',
    'cripple',
    'cripples',
    'pedophile',
    'pedophilia',
    'cancer',
    'seizure',
    'eulogy',
    'lynching',
    'slaveowner',
    'slaveowners',
    'condolence',
    'condolences',
    'RIP',
    'molestation',
    'molestations',
    'molester',
    'molesters',
    'triggering',
    'trigger'
  ],
  tragedyModeBlacklist: [
    'gaza',
    'israel',
    'palestine',
    'invasion',
    'horror',
    'genocide',
    'explosion',
    'assault',
    'hamas',
    'bomb',
    'plane',
    'death',
    'missile',
    'crash',
    'suicide',
    'airstrike',
    'brigadier',
    'idf',
    'isis',
    'mourner',
    'mourners',
    'iraq',
    'accident',
    'ebola',
    'depression',
    'asphyxiation',
    'ferguson',
    'beheading',
    'foley',
    'gun',
    'rip',
    'chokehold',
    'coroner',
    'eric',
    'garner',
    'torture',
    'torturer',
    'ukraine',
    'donetsk',
    'jihad',
    'grieving',
    'walter',
    'scott',
    'cop',
    'police',
    'officer',
    'nepal',
    'earthquake',
    'katmandu',
    'Durbar',
    'wreckage',
    'carnage',
    'riot',
    'rioting',
    'baltimore',
    'freddie',
    'gray',
    'derailment',
    'amtrak',
    'train',
    'philadelphia',

    'rev',
    // 'sharonda',
    // 'coleman',
    'singleton',

    // 'cynthia',
    'hurd',

    // 'susie',
    // 'jackson',

    'ethel',
    'lance',

    // 'depayne',
    // 'middleton',
    // 'doctor',

    // 'clementa',
    // 'pinckney',

    // 'tywanza',
    // 'sanders',
    'sander',

    'daniel',
    // 'simmons',
    'simmon',

    // 'myra',
    // 'thompson',

    'ame',
    'emanuel',
    'victim',
    'charleston',
    'columbia',
    'racist',
    'supremacist',
    'racism',
    'supremacy',
    'dylann',
    'roof',
    'murder',
    'murderer',
    'whiteness',
    'rhodesian',
    'rhodesia',
    'funeral',
    'arson',
    'firebombing',
    'killed',

    'cameraman',
    'virginia'
  ],
  whitelist: [
  ]
};

// TODO: Differentiate between words not cool to say vs. words not cool to
// respond to.

module.exports = Immutable.Map(lists);

},{"immutable":52}],51:[function(require,module,exports){
var defaultLists = require('./defaultlists');
var wordfilter = require('wordfilter');

wordfilter.removeWord('crip');

function createIsCool(opts) {
  var falsePositives = defaultLists.get('falsePositives');
  var extendedBlacklist = defaultLists.get('extendedBlacklist');
  var tragedyModeBlacklist = defaultLists.get('tragedyModeBlacklist');
  var whitelist = defaultLists.get('whitelist');
  var customBlacklist;
  var customWhitelist;
  var tragedyHappenedRecently = true;
  var logger;

  if (typeof opts === 'object') {
    if (opts.logger) {
      logger = opts.logger;
    }
    if (opts.falsePositives) {
      falsePositives = opts.falsePositives;
    }
    if (opts.extendedBlacklist) {
      extendedBlacklist = opts.extendedBlacklist;
    }
    if (opts.customBlacklist) {
      customBlacklist = opts.customBlacklist;
    }
    if (opts.tragedyModeBlacklist) {
      tragedyModeBlacklist = opts.tragedyModeBlacklist;
    }
    if ('tragedyHappenedRecently' in opts) {
      tragedyHappenedRecently = opts.tragedyHappenedRecently;
    }
    customWhitelist = opts.customWhitelist;
  }
  else if (typeof opts === 'string') {
    throw new TypeError('iscool constructor function expected an options object but received ' + opts);
  }

  function isCool(word) {
    var normalizedWord = word.toLowerCase();
    
    if (whitelist.indexOf(normalizedWord) !== -1) {
      return true;
    }
    else if (customWhitelist && customWhitelist.indexOf(normalizedWord) !== -1) {
      return true;
    }

    var cool = (falsePositives.indexOf(normalizedWord) === -1);

    if (cool) {
      cool = (extendedBlacklist.indexOf(normalizedWord) === -1);
    }

    if (cool) {
      cool = !wordfilter.blacklisted(normalizedWord);
    }

    if (cool && customBlacklist) {
      cool = (customBlacklist.indexOf(normalizedWord) === -1);
    }

    if (cool && tragedyHappenedRecently) {
      cool = (tragedyModeBlacklist.indexOf(normalizedWord) === -1);
    }

    if (!cool && logger) {
      logger.log('Uncool word: ' + word);
    }

    return cool;
  }

  return isCool;
}

module.exports = createIsCool;

},{"./defaultlists":50,"wordfilter":54}],52:[function(require,module,exports){
/**
 *  Copyright (c) 2014-2015, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the BSD-style license found in the
 *  LICENSE file in the root directory of this source tree. An additional grant
 *  of patent rights can be found in the PATENTS file in the same directory.
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  global.Immutable = factory()
}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;

  function createClass(ctor, superClass) {
    if (superClass) {
      ctor.prototype = Object.create(superClass.prototype);
    }
    ctor.prototype.constructor = ctor;
  }

  // Used for setting prototype methods that IE8 chokes on.
  var DELETE = 'delete';

  // Constants describing the size of trie nodes.
  var SHIFT = 5; // Resulted in best performance after ______?
  var SIZE = 1 << SHIFT;
  var MASK = SIZE - 1;

  // A consistent shared value representing "not set" which equals nothing other
  // than itself, and nothing that could be provided externally.
  var NOT_SET = {};

  // Boolean references, Rough equivalent of `bool &`.
  var CHANGE_LENGTH = { value: false };
  var DID_ALTER = { value: false };

  function MakeRef(ref) {
    ref.value = false;
    return ref;
  }

  function SetRef(ref) {
    ref && (ref.value = true);
  }

  // A function which returns a value representing an "owner" for transient writes
  // to tries. The return value will only ever equal itself, and will not equal
  // the return of any subsequent call of this function.
  function OwnerID() {}

  // http://jsperf.com/copy-array-inline
  function arrCopy(arr, offset) {
    offset = offset || 0;
    var len = Math.max(0, arr.length - offset);
    var newArr = new Array(len);
    for (var ii = 0; ii < len; ii++) {
      newArr[ii] = arr[ii + offset];
    }
    return newArr;
  }

  function ensureSize(iter) {
    if (iter.size === undefined) {
      iter.size = iter.__iterate(returnTrue);
    }
    return iter.size;
  }

  function wrapIndex(iter, index) {
    // This implements "is array index" which the ECMAString spec defines as:
    //     A String property name P is an array index if and only if
    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal
    //     to 2^32−1.
    // However note that we're currently calling ToNumber() instead of ToUint32()
    // which should be improved in the future, as floating point numbers should
    // not be accepted as an array index.
    if (typeof index !== 'number') {
      var numIndex = +index;
      if ('' + numIndex !== index) {
        return NaN;
      }
      index = numIndex;
    }
    return index < 0 ? ensureSize(iter) + index : index;
  }

  function returnTrue() {
    return true;
  }

  function wholeSlice(begin, end, size) {
    return (begin === 0 || (size !== undefined && begin <= -size)) &&
      (end === undefined || (size !== undefined && end >= size));
  }

  function resolveBegin(begin, size) {
    return resolveIndex(begin, size, 0);
  }

  function resolveEnd(end, size) {
    return resolveIndex(end, size, size);
  }

  function resolveIndex(index, size, defaultIndex) {
    return index === undefined ?
      defaultIndex :
      index < 0 ?
        Math.max(0, size + index) :
        size === undefined ?
          index :
          Math.min(size, index);
  }

  function Iterable(value) {
      return isIterable(value) ? value : Seq(value);
    }


  createClass(KeyedIterable, Iterable);
    function KeyedIterable(value) {
      return isKeyed(value) ? value : KeyedSeq(value);
    }


  createClass(IndexedIterable, Iterable);
    function IndexedIterable(value) {
      return isIndexed(value) ? value : IndexedSeq(value);
    }


  createClass(SetIterable, Iterable);
    function SetIterable(value) {
      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);
    }



  function isIterable(maybeIterable) {
    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);
  }

  function isKeyed(maybeKeyed) {
    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);
  }

  function isIndexed(maybeIndexed) {
    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);
  }

  function isAssociative(maybeAssociative) {
    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);
  }

  function isOrdered(maybeOrdered) {
    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);
  }

  Iterable.isIterable = isIterable;
  Iterable.isKeyed = isKeyed;
  Iterable.isIndexed = isIndexed;
  Iterable.isAssociative = isAssociative;
  Iterable.isOrdered = isOrdered;

  Iterable.Keyed = KeyedIterable;
  Iterable.Indexed = IndexedIterable;
  Iterable.Set = SetIterable;


  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';
  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';
  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';
  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';

  /* global Symbol */

  var ITERATE_KEYS = 0;
  var ITERATE_VALUES = 1;
  var ITERATE_ENTRIES = 2;

  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;
  var FAUX_ITERATOR_SYMBOL = '@@iterator';

  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;


  function src_Iterator__Iterator(next) {
      this.next = next;
    }

    src_Iterator__Iterator.prototype.toString = function() {
      return '[Iterator]';
    };


  src_Iterator__Iterator.KEYS = ITERATE_KEYS;
  src_Iterator__Iterator.VALUES = ITERATE_VALUES;
  src_Iterator__Iterator.ENTRIES = ITERATE_ENTRIES;

  src_Iterator__Iterator.prototype.inspect =
  src_Iterator__Iterator.prototype.toSource = function () { return this.toString(); }
  src_Iterator__Iterator.prototype[ITERATOR_SYMBOL] = function () {
    return this;
  };


  function iteratorValue(type, k, v, iteratorResult) {
    var value = type === 0 ? k : type === 1 ? v : [k, v];
    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {
      value: value, done: false
    });
    return iteratorResult;
  }

  function iteratorDone() {
    return { value: undefined, done: true };
  }

  function hasIterator(maybeIterable) {
    return !!getIteratorFn(maybeIterable);
  }

  function isIterator(maybeIterator) {
    return maybeIterator && typeof maybeIterator.next === 'function';
  }

  function getIterator(iterable) {
    var iteratorFn = getIteratorFn(iterable);
    return iteratorFn && iteratorFn.call(iterable);
  }

  function getIteratorFn(iterable) {
    var iteratorFn = iterable && (
      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||
      iterable[FAUX_ITERATOR_SYMBOL]
    );
    if (typeof iteratorFn === 'function') {
      return iteratorFn;
    }
  }

  function isArrayLike(value) {
    return value && typeof value.length === 'number';
  }

  createClass(Seq, Iterable);
    function Seq(value) {
      return value === null || value === undefined ? emptySequence() :
        isIterable(value) ? value.toSeq() : seqFromValue(value);
    }

    Seq.of = function(/*...values*/) {
      return Seq(arguments);
    };

    Seq.prototype.toSeq = function() {
      return this;
    };

    Seq.prototype.toString = function() {
      return this.__toString('Seq {', '}');
    };

    Seq.prototype.cacheResult = function() {
      if (!this._cache && this.__iterateUncached) {
        this._cache = this.entrySeq().toArray();
        this.size = this._cache.length;
      }
      return this;
    };

    // abstract __iterateUncached(fn, reverse)

    Seq.prototype.__iterate = function(fn, reverse) {
      return seqIterate(this, fn, reverse, true);
    };

    // abstract __iteratorUncached(type, reverse)

    Seq.prototype.__iterator = function(type, reverse) {
      return seqIterator(this, type, reverse, true);
    };



  createClass(KeyedSeq, Seq);
    function KeyedSeq(value) {
      return value === null || value === undefined ?
        emptySequence().toKeyedSeq() :
        isIterable(value) ?
          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :
          keyedSeqFromValue(value);
    }

    KeyedSeq.prototype.toKeyedSeq = function() {
      return this;
    };



  createClass(IndexedSeq, Seq);
    function IndexedSeq(value) {
      return value === null || value === undefined ? emptySequence() :
        !isIterable(value) ? indexedSeqFromValue(value) :
        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();
    }

    IndexedSeq.of = function(/*...values*/) {
      return IndexedSeq(arguments);
    };

    IndexedSeq.prototype.toIndexedSeq = function() {
      return this;
    };

    IndexedSeq.prototype.toString = function() {
      return this.__toString('Seq [', ']');
    };

    IndexedSeq.prototype.__iterate = function(fn, reverse) {
      return seqIterate(this, fn, reverse, false);
    };

    IndexedSeq.prototype.__iterator = function(type, reverse) {
      return seqIterator(this, type, reverse, false);
    };



  createClass(SetSeq, Seq);
    function SetSeq(value) {
      return (
        value === null || value === undefined ? emptySequence() :
        !isIterable(value) ? indexedSeqFromValue(value) :
        isKeyed(value) ? value.entrySeq() : value
      ).toSetSeq();
    }

    SetSeq.of = function(/*...values*/) {
      return SetSeq(arguments);
    };

    SetSeq.prototype.toSetSeq = function() {
      return this;
    };



  Seq.isSeq = isSeq;
  Seq.Keyed = KeyedSeq;
  Seq.Set = SetSeq;
  Seq.Indexed = IndexedSeq;

  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';

  Seq.prototype[IS_SEQ_SENTINEL] = true;



  // #pragma Root Sequences

  createClass(ArraySeq, IndexedSeq);
    function ArraySeq(array) {
      this._array = array;
      this.size = array.length;
    }

    ArraySeq.prototype.get = function(index, notSetValue) {
      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;
    };

    ArraySeq.prototype.__iterate = function(fn, reverse) {
      var array = this._array;
      var maxIndex = array.length - 1;
      for (var ii = 0; ii <= maxIndex; ii++) {
        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {
          return ii + 1;
        }
      }
      return ii;
    };

    ArraySeq.prototype.__iterator = function(type, reverse) {
      var array = this._array;
      var maxIndex = array.length - 1;
      var ii = 0;
      return new src_Iterator__Iterator(function() 
        {return ii > maxIndex ?
          iteratorDone() :
          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}
      );
    };



  createClass(ObjectSeq, KeyedSeq);
    function ObjectSeq(object) {
      var keys = Object.keys(object);
      this._object = object;
      this._keys = keys;
      this.size = keys.length;
    }

    ObjectSeq.prototype.get = function(key, notSetValue) {
      if (notSetValue !== undefined && !this.has(key)) {
        return notSetValue;
      }
      return this._object[key];
    };

    ObjectSeq.prototype.has = function(key) {
      return this._object.hasOwnProperty(key);
    };

    ObjectSeq.prototype.__iterate = function(fn, reverse) {
      var object = this._object;
      var keys = this._keys;
      var maxIndex = keys.length - 1;
      for (var ii = 0; ii <= maxIndex; ii++) {
        var key = keys[reverse ? maxIndex - ii : ii];
        if (fn(object[key], key, this) === false) {
          return ii + 1;
        }
      }
      return ii;
    };

    ObjectSeq.prototype.__iterator = function(type, reverse) {
      var object = this._object;
      var keys = this._keys;
      var maxIndex = keys.length - 1;
      var ii = 0;
      return new src_Iterator__Iterator(function()  {
        var key = keys[reverse ? maxIndex - ii : ii];
        return ii++ > maxIndex ?
          iteratorDone() :
          iteratorValue(type, key, object[key]);
      });
    };

  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;


  createClass(IterableSeq, IndexedSeq);
    function IterableSeq(iterable) {
      this._iterable = iterable;
      this.size = iterable.length || iterable.size;
    }

    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var iterable = this._iterable;
      var iterator = getIterator(iterable);
      var iterations = 0;
      if (isIterator(iterator)) {
        var step;
        while (!(step = iterator.next()).done) {
          if (fn(step.value, iterations++, this) === false) {
            break;
          }
        }
      }
      return iterations;
    };

    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {
      if (reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      var iterable = this._iterable;
      var iterator = getIterator(iterable);
      if (!isIterator(iterator)) {
        return new src_Iterator__Iterator(iteratorDone);
      }
      var iterations = 0;
      return new src_Iterator__Iterator(function()  {
        var step = iterator.next();
        return step.done ? step : iteratorValue(type, iterations++, step.value);
      });
    };



  createClass(IteratorSeq, IndexedSeq);
    function IteratorSeq(iterator) {
      this._iterator = iterator;
      this._iteratorCache = [];
    }

    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var iterator = this._iterator;
      var cache = this._iteratorCache;
      var iterations = 0;
      while (iterations < cache.length) {
        if (fn(cache[iterations], iterations++, this) === false) {
          return iterations;
        }
      }
      var step;
      while (!(step = iterator.next()).done) {
        var val = step.value;
        cache[iterations] = val;
        if (fn(val, iterations++, this) === false) {
          break;
        }
      }
      return iterations;
    };

    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {
      if (reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      var iterator = this._iterator;
      var cache = this._iteratorCache;
      var iterations = 0;
      return new src_Iterator__Iterator(function()  {
        if (iterations >= cache.length) {
          var step = iterator.next();
          if (step.done) {
            return step;
          }
          cache[iterations] = step.value;
        }
        return iteratorValue(type, iterations, cache[iterations++]);
      });
    };




  // # pragma Helper functions

  function isSeq(maybeSeq) {
    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);
  }

  var EMPTY_SEQ;

  function emptySequence() {
    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));
  }

  function keyedSeqFromValue(value) {
    var seq =
      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :
      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :
      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :
      typeof value === 'object' ? new ObjectSeq(value) :
      undefined;
    if (!seq) {
      throw new TypeError(
        'Expected Array or iterable object of [k, v] entries, '+
        'or keyed object: ' + value
      );
    }
    return seq;
  }

  function indexedSeqFromValue(value) {
    var seq = maybeIndexedSeqFromValue(value);
    if (!seq) {
      throw new TypeError(
        'Expected Array or iterable object of values: ' + value
      );
    }
    return seq;
  }

  function seqFromValue(value) {
    var seq = maybeIndexedSeqFromValue(value) ||
      (typeof value === 'object' && new ObjectSeq(value));
    if (!seq) {
      throw new TypeError(
        'Expected Array or iterable object of values, or keyed object: ' + value
      );
    }
    return seq;
  }

  function maybeIndexedSeqFromValue(value) {
    return (
      isArrayLike(value) ? new ArraySeq(value) :
      isIterator(value) ? new IteratorSeq(value) :
      hasIterator(value) ? new IterableSeq(value) :
      undefined
    );
  }

  function seqIterate(seq, fn, reverse, useKeys) {
    var cache = seq._cache;
    if (cache) {
      var maxIndex = cache.length - 1;
      for (var ii = 0; ii <= maxIndex; ii++) {
        var entry = cache[reverse ? maxIndex - ii : ii];
        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {
          return ii + 1;
        }
      }
      return ii;
    }
    return seq.__iterateUncached(fn, reverse);
  }

  function seqIterator(seq, type, reverse, useKeys) {
    var cache = seq._cache;
    if (cache) {
      var maxIndex = cache.length - 1;
      var ii = 0;
      return new src_Iterator__Iterator(function()  {
        var entry = cache[reverse ? maxIndex - ii : ii];
        return ii++ > maxIndex ?
          iteratorDone() :
          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);
      });
    }
    return seq.__iteratorUncached(type, reverse);
  }

  createClass(Collection, Iterable);
    function Collection() {
      throw TypeError('Abstract');
    }


  createClass(KeyedCollection, Collection);function KeyedCollection() {}

  createClass(IndexedCollection, Collection);function IndexedCollection() {}

  createClass(SetCollection, Collection);function SetCollection() {}


  Collection.Keyed = KeyedCollection;
  Collection.Indexed = IndexedCollection;
  Collection.Set = SetCollection;

  /**
   * An extension of the "same-value" algorithm as [described for use by ES6 Map
   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)
   *
   * NaN is considered the same as NaN, however -0 and 0 are considered the same
   * value, which is different from the algorithm described by
   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).
   *
   * This is extended further to allow Objects to describe the values they
   * represent, by way of `valueOf` or `equals` (and `hashCode`).
   *
   * Note: because of this extension, the key equality of Immutable.Map and the
   * value equality of Immutable.Set will differ from ES6 Map and Set.
   *
   * ### Defining custom values
   *
   * The easiest way to describe the value an object represents is by implementing
   * `valueOf`. For example, `Date` represents a value by returning a unix
   * timestamp for `valueOf`:
   *
   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...
   *     var date2 = new Date(1234567890000);
   *     date1.valueOf(); // 1234567890000
   *     assert( date1 !== date2 );
   *     assert( Immutable.is( date1, date2 ) );
   *
   * Note: overriding `valueOf` may have other implications if you use this object
   * where JavaScript expects a primitive, such as implicit string coercion.
   *
   * For more complex types, especially collections, implementing `valueOf` may
   * not be performant. An alternative is to implement `equals` and `hashCode`.
   *
   * `equals` takes another object, presumably of similar type, and returns true
   * if the it is equal. Equality is symmetrical, so the same result should be
   * returned if this and the argument are flipped.
   *
   *     assert( a.equals(b) === b.equals(a) );
   *
   * `hashCode` returns a 32bit integer number representing the object which will
   * be used to determine how to store the value object in a Map or Set. You must
   * provide both or neither methods, one must not exist without the other.
   *
   * Also, an important relationship between these methods must be upheld: if two
   * values are equal, they *must* return the same hashCode. If the values are not
   * equal, they might have the same hashCode; this is called a hash collision,
   * and while undesirable for performance reasons, it is acceptable.
   *
   *     if (a.equals(b)) {
   *       assert( a.hashCode() === b.hashCode() );
   *     }
   *
   * All Immutable collections implement `equals` and `hashCode`.
   *
   */
  function is(valueA, valueB) {
    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {
      return true;
    }
    if (!valueA || !valueB) {
      return false;
    }
    if (typeof valueA.valueOf === 'function' &&
        typeof valueB.valueOf === 'function') {
      valueA = valueA.valueOf();
      valueB = valueB.valueOf();
      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {
        return true;
      }
      if (!valueA || !valueB) {
        return false;
      }
    }
    if (typeof valueA.equals === 'function' &&
        typeof valueB.equals === 'function' &&
        valueA.equals(valueB)) {
      return true;
    }
    return false;
  }

  function fromJS(json, converter) {
    return converter ?
      fromJSWith(converter, json, '', {'': json}) :
      fromJSDefault(json);
  }

  function fromJSWith(converter, json, key, parentJSON) {
    if (Array.isArray(json)) {
      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));
    }
    if (isPlainObj(json)) {
      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));
    }
    return json;
  }

  function fromJSDefault(json) {
    if (Array.isArray(json)) {
      return IndexedSeq(json).map(fromJSDefault).toList();
    }
    if (isPlainObj(json)) {
      return KeyedSeq(json).map(fromJSDefault).toMap();
    }
    return json;
  }

  function isPlainObj(value) {
    return value && (value.constructor === Object || value.constructor === undefined);
  }

  var src_Math__imul =
    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?
    Math.imul :
    function imul(a, b) {
      a = a | 0; // int
      b = b | 0; // int
      var c = a & 0xffff;
      var d = b & 0xffff;
      // Shift by 0 fixes the sign on the high part.
      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int
    };

  // v8 has an optimization for storing 31-bit signed numbers.
  // Values which have either 00 or 11 as the high order bits qualify.
  // This function drops the highest order bit in a signed number, maintaining
  // the sign bit.
  function smi(i32) {
    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);
  }

  function hash(o) {
    if (o === false || o === null || o === undefined) {
      return 0;
    }
    if (typeof o.valueOf === 'function') {
      o = o.valueOf();
      if (o === false || o === null || o === undefined) {
        return 0;
      }
    }
    if (o === true) {
      return 1;
    }
    var type = typeof o;
    if (type === 'number') {
      var h = o | 0;
      if (h !== o) {
        h ^= o * 0xFFFFFFFF;
      }
      while (o > 0xFFFFFFFF) {
        o /= 0xFFFFFFFF;
        h ^= o;
      }
      return smi(h);
    }
    if (type === 'string') {
      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);
    }
    if (typeof o.hashCode === 'function') {
      return o.hashCode();
    }
    return hashJSObj(o);
  }

  function cachedHashString(string) {
    var hash = stringHashCache[string];
    if (hash === undefined) {
      hash = hashString(string);
      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {
        STRING_HASH_CACHE_SIZE = 0;
        stringHashCache = {};
      }
      STRING_HASH_CACHE_SIZE++;
      stringHashCache[string] = hash;
    }
    return hash;
  }

  // http://jsperf.com/hashing-strings
  function hashString(string) {
    // This is the hash from JVM
    // The hash code for a string is computed as
    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],
    // where s[i] is the ith character of the string and n is the length of
    // the string. We "mod" the result to make it between 0 (inclusive) and 2^31
    // (exclusive) by dropping high bits.
    var hash = 0;
    for (var ii = 0; ii < string.length; ii++) {
      hash = 31 * hash + string.charCodeAt(ii) | 0;
    }
    return smi(hash);
  }

  function hashJSObj(obj) {
    var hash;
    if (usingWeakMap) {
      hash = weakMap.get(obj);
      if (hash !== undefined) {
        return hash;
      }
    }

    hash = obj[UID_HASH_KEY];
    if (hash !== undefined) {
      return hash;
    }

    if (!canDefineProperty) {
      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];
      if (hash !== undefined) {
        return hash;
      }

      hash = getIENodeHash(obj);
      if (hash !== undefined) {
        return hash;
      }
    }

    hash = ++objHashUID;
    if (objHashUID & 0x40000000) {
      objHashUID = 0;
    }

    if (usingWeakMap) {
      weakMap.set(obj, hash);
    } else if (isExtensible !== undefined && isExtensible(obj) === false) {
      throw new Error('Non-extensible objects are not allowed as keys.');
    } else if (canDefineProperty) {
      Object.defineProperty(obj, UID_HASH_KEY, {
        'enumerable': false,
        'configurable': false,
        'writable': false,
        'value': hash
      });
    } else if (obj.propertyIsEnumerable !== undefined &&
               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {
      // Since we can't define a non-enumerable property on the object
      // we'll hijack one of the less-used non-enumerable properties to
      // save our hash on it. Since this is a function it will not show up in
      // `JSON.stringify` which is what we want.
      obj.propertyIsEnumerable = function() {
        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);
      };
      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;
    } else if (obj.nodeType !== undefined) {
      // At this point we couldn't get the IE `uniqueID` to use as a hash
      // and we couldn't use a non-enumerable property to exploit the
      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node
      // itself.
      obj[UID_HASH_KEY] = hash;
    } else {
      throw new Error('Unable to set a non-enumerable property on object.');
    }

    return hash;
  }

  // Get references to ES5 object methods.
  var isExtensible = Object.isExtensible;

  // True if Object.defineProperty works as expected. IE8 fails this test.
  var canDefineProperty = (function() {
    try {
      Object.defineProperty({}, '@', {});
      return true;
    } catch (e) {
      return false;
    }
  }());

  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it
  // and avoid memory leaks from the IE cloneNode bug.
  function getIENodeHash(node) {
    if (node && node.nodeType > 0) {
      switch (node.nodeType) {
        case 1: // Element
          return node.uniqueID;
        case 9: // Document
          return node.documentElement && node.documentElement.uniqueID;
      }
    }
  }

  // If possible, use a WeakMap.
  var usingWeakMap = typeof WeakMap === 'function';
  var weakMap;
  if (usingWeakMap) {
    weakMap = new WeakMap();
  }

  var objHashUID = 0;

  var UID_HASH_KEY = '__immutablehash__';
  if (typeof Symbol === 'function') {
    UID_HASH_KEY = Symbol(UID_HASH_KEY);
  }

  var STRING_HASH_CACHE_MIN_STRLEN = 16;
  var STRING_HASH_CACHE_MAX_SIZE = 255;
  var STRING_HASH_CACHE_SIZE = 0;
  var stringHashCache = {};

  function invariant(condition, error) {
    if (!condition) throw new Error(error);
  }

  function assertNotInfinite(size) {
    invariant(
      size !== Infinity,
      'Cannot perform this action with an infinite size.'
    );
  }

  createClass(ToKeyedSequence, KeyedSeq);
    function ToKeyedSequence(indexed, useKeys) {
      this._iter = indexed;
      this._useKeys = useKeys;
      this.size = indexed.size;
    }

    ToKeyedSequence.prototype.get = function(key, notSetValue) {
      return this._iter.get(key, notSetValue);
    };

    ToKeyedSequence.prototype.has = function(key) {
      return this._iter.has(key);
    };

    ToKeyedSequence.prototype.valueSeq = function() {
      return this._iter.valueSeq();
    };

    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;
      var reversedSequence = reverseFactory(this, true);
      if (!this._useKeys) {
        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};
      }
      return reversedSequence;
    };

    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;
      var mappedSequence = mapFactory(this, mapper, context);
      if (!this._useKeys) {
        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};
      }
      return mappedSequence;
    };

    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      var ii;
      return this._iter.__iterate(
        this._useKeys ?
          function(v, k)  {return fn(v, k, this$0)} :
          ((ii = reverse ? resolveSize(this) : 0),
            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),
        reverse
      );
    };

    ToKeyedSequence.prototype.__iterator = function(type, reverse) {
      if (this._useKeys) {
        return this._iter.__iterator(type, reverse);
      }
      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);
      var ii = reverse ? resolveSize(this) : 0;
      return new src_Iterator__Iterator(function()  {
        var step = iterator.next();
        return step.done ? step :
          iteratorValue(type, reverse ? --ii : ii++, step.value, step);
      });
    };

  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;


  createClass(ToIndexedSequence, IndexedSeq);
    function ToIndexedSequence(iter) {
      this._iter = iter;
      this.size = iter.size;
    }

    ToIndexedSequence.prototype.includes = function(value) {
      return this._iter.includes(value);
    };

    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      var iterations = 0;
      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);
    };

    ToIndexedSequence.prototype.__iterator = function(type, reverse) {
      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);
      var iterations = 0;
      return new src_Iterator__Iterator(function()  {
        var step = iterator.next();
        return step.done ? step :
          iteratorValue(type, iterations++, step.value, step)
      });
    };



  createClass(ToSetSequence, SetSeq);
    function ToSetSequence(iter) {
      this._iter = iter;
      this.size = iter.size;
    }

    ToSetSequence.prototype.has = function(key) {
      return this._iter.includes(key);
    };

    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);
    };

    ToSetSequence.prototype.__iterator = function(type, reverse) {
      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);
      return new src_Iterator__Iterator(function()  {
        var step = iterator.next();
        return step.done ? step :
          iteratorValue(type, step.value, step.value, step);
      });
    };



  createClass(FromEntriesSequence, KeyedSeq);
    function FromEntriesSequence(entries) {
      this._iter = entries;
      this.size = entries.size;
    }

    FromEntriesSequence.prototype.entrySeq = function() {
      return this._iter.toSeq();
    };

    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      return this._iter.__iterate(function(entry ) {
        // Check if entry exists first so array access doesn't throw for holes
        // in the parent iteration.
        if (entry) {
          validateEntry(entry);
          var indexedIterable = isIterable(entry);
          return fn(
            indexedIterable ? entry.get(1) : entry[1],
            indexedIterable ? entry.get(0) : entry[0],
            this$0
          );
        }
      }, reverse);
    };

    FromEntriesSequence.prototype.__iterator = function(type, reverse) {
      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);
      return new src_Iterator__Iterator(function()  {
        while (true) {
          var step = iterator.next();
          if (step.done) {
            return step;
          }
          var entry = step.value;
          // Check if entry exists first so array access doesn't throw for holes
          // in the parent iteration.
          if (entry) {
            validateEntry(entry);
            var indexedIterable = isIterable(entry);
            return iteratorValue(
              type,
              indexedIterable ? entry.get(0) : entry[0],
              indexedIterable ? entry.get(1) : entry[1],
              step
            );
          }
        }
      });
    };


  ToIndexedSequence.prototype.cacheResult =
  ToKeyedSequence.prototype.cacheResult =
  ToSetSequence.prototype.cacheResult =
  FromEntriesSequence.prototype.cacheResult =
    cacheResultThrough;


  function flipFactory(iterable) {
    var flipSequence = makeSequence(iterable);
    flipSequence._iter = iterable;
    flipSequence.size = iterable.size;
    flipSequence.flip = function()  {return iterable};
    flipSequence.reverse = function () {
      var reversedSequence = iterable.reverse.apply(this); // super.reverse()
      reversedSequence.flip = function()  {return iterable.reverse()};
      return reversedSequence;
    };
    flipSequence.has = function(key ) {return iterable.includes(key)};
    flipSequence.includes = function(key ) {return iterable.has(key)};
    flipSequence.cacheResult = cacheResultThrough;
    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;
      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);
    }
    flipSequence.__iteratorUncached = function(type, reverse) {
      if (type === ITERATE_ENTRIES) {
        var iterator = iterable.__iterator(type, reverse);
        return new src_Iterator__Iterator(function()  {
          var step = iterator.next();
          if (!step.done) {
            var k = step.value[0];
            step.value[0] = step.value[1];
            step.value[1] = k;
          }
          return step;
        });
      }
      return iterable.__iterator(
        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,
        reverse
      );
    }
    return flipSequence;
  }


  function mapFactory(iterable, mapper, context) {
    var mappedSequence = makeSequence(iterable);
    mappedSequence.size = iterable.size;
    mappedSequence.has = function(key ) {return iterable.has(key)};
    mappedSequence.get = function(key, notSetValue)  {
      var v = iterable.get(key, NOT_SET);
      return v === NOT_SET ?
        notSetValue :
        mapper.call(context, v, key, iterable);
    };
    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;
      return iterable.__iterate(
        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},
        reverse
      );
    }
    mappedSequence.__iteratorUncached = function (type, reverse) {
      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);
      return new src_Iterator__Iterator(function()  {
        var step = iterator.next();
        if (step.done) {
          return step;
        }
        var entry = step.value;
        var key = entry[0];
        return iteratorValue(
          type,
          key,
          mapper.call(context, entry[1], key, iterable),
          step
        );
      });
    }
    return mappedSequence;
  }


  function reverseFactory(iterable, useKeys) {
    var reversedSequence = makeSequence(iterable);
    reversedSequence._iter = iterable;
    reversedSequence.size = iterable.size;
    reversedSequence.reverse = function()  {return iterable};
    if (iterable.flip) {
      reversedSequence.flip = function () {
        var flipSequence = flipFactory(iterable);
        flipSequence.reverse = function()  {return iterable.flip()};
        return flipSequence;
      };
    }
    reversedSequence.get = function(key, notSetValue) 
      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};
    reversedSequence.has = function(key )
      {return iterable.has(useKeys ? key : -1 - key)};
    reversedSequence.includes = function(value ) {return iterable.includes(value)};
    reversedSequence.cacheResult = cacheResultThrough;
    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;
      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);
    };
    reversedSequence.__iterator =
      function(type, reverse)  {return iterable.__iterator(type, !reverse)};
    return reversedSequence;
  }


  function filterFactory(iterable, predicate, context, useKeys) {
    var filterSequence = makeSequence(iterable);
    if (useKeys) {
      filterSequence.has = function(key ) {
        var v = iterable.get(key, NOT_SET);
        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);
      };
      filterSequence.get = function(key, notSetValue)  {
        var v = iterable.get(key, NOT_SET);
        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?
          v : notSetValue;
      };
    }
    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;
      var iterations = 0;
      iterable.__iterate(function(v, k, c)  {
        if (predicate.call(context, v, k, c)) {
          iterations++;
          return fn(v, useKeys ? k : iterations - 1, this$0);
        }
      }, reverse);
      return iterations;
    };
    filterSequence.__iteratorUncached = function (type, reverse) {
      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);
      var iterations = 0;
      return new src_Iterator__Iterator(function()  {
        while (true) {
          var step = iterator.next();
          if (step.done) {
            return step;
          }
          var entry = step.value;
          var key = entry[0];
          var value = entry[1];
          if (predicate.call(context, value, key, iterable)) {
            return iteratorValue(type, useKeys ? key : iterations++, value, step);
          }
        }
      });
    }
    return filterSequence;
  }


  function countByFactory(iterable, grouper, context) {
    var groups = src_Map__Map().asMutable();
    iterable.__iterate(function(v, k)  {
      groups.update(
        grouper.call(context, v, k, iterable),
        0,
        function(a ) {return a + 1}
      );
    });
    return groups.asImmutable();
  }


  function groupByFactory(iterable, grouper, context) {
    var isKeyedIter = isKeyed(iterable);
    var groups = (isOrdered(iterable) ? OrderedMap() : src_Map__Map()).asMutable();
    iterable.__iterate(function(v, k)  {
      groups.update(
        grouper.call(context, v, k, iterable),
        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}
      );
    });
    var coerce = iterableClass(iterable);
    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});
  }


  function sliceFactory(iterable, begin, end, useKeys) {
    var originalSize = iterable.size;

    // Sanitize begin & end using this shorthand for ToInt32(argument)
    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32
    if (begin !== undefined) {
      begin = begin | 0;
    }
    if (end !== undefined) {
      end = end | 0;
    }

    if (wholeSlice(begin, end, originalSize)) {
      return iterable;
    }

    var resolvedBegin = resolveBegin(begin, originalSize);
    var resolvedEnd = resolveEnd(end, originalSize);

    // begin or end will be NaN if they were provided as negative numbers and
    // this iterable's size is unknown. In that case, cache first so there is
    // a known size and these do not resolve to NaN.
    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {
      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);
    }

    // Note: resolvedEnd is undefined when the original sequence's length is
    // unknown and this slice did not supply an end and should contain all
    // elements after resolvedBegin.
    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.
    var resolvedSize = resolvedEnd - resolvedBegin;
    var sliceSize;
    if (resolvedSize === resolvedSize) {
      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;
    }

    var sliceSeq = makeSequence(iterable);

    // If iterable.size is undefined, the size of the realized sliceSeq is
    // unknown at this point unless the number of items to slice is 0
    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;

    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {
      sliceSeq.get = function (index, notSetValue) {
        index = wrapIndex(this, index);
        return index >= 0 && index < sliceSize ?
          iterable.get(index + resolvedBegin, notSetValue) :
          notSetValue;
      }
    }

    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;
      if (sliceSize === 0) {
        return 0;
      }
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var skipped = 0;
      var isSkipping = true;
      var iterations = 0;
      iterable.__iterate(function(v, k)  {
        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {
          iterations++;
          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&
                 iterations !== sliceSize;
        }
      });
      return iterations;
    };

    sliceSeq.__iteratorUncached = function(type, reverse) {
      if (sliceSize !== 0 && reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      // Don't bother instantiating parent iterator if taking 0.
      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);
      var skipped = 0;
      var iterations = 0;
      return new src_Iterator__Iterator(function()  {
        while (skipped++ < resolvedBegin) {
          iterator.next();
        }
        if (++iterations > sliceSize) {
          return iteratorDone();
        }
        var step = iterator.next();
        if (useKeys || type === ITERATE_VALUES) {
          return step;
        } else if (type === ITERATE_KEYS) {
          return iteratorValue(type, iterations - 1, undefined, step);
        } else {
          return iteratorValue(type, iterations - 1, step.value[1], step);
        }
      });
    }

    return sliceSeq;
  }


  function takeWhileFactory(iterable, predicate, context) {
    var takeSequence = makeSequence(iterable);
    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var iterations = 0;
      iterable.__iterate(function(v, k, c) 
        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}
      );
      return iterations;
    };
    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;
      if (reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);
      var iterating = true;
      return new src_Iterator__Iterator(function()  {
        if (!iterating) {
          return iteratorDone();
        }
        var step = iterator.next();
        if (step.done) {
          return step;
        }
        var entry = step.value;
        var k = entry[0];
        var v = entry[1];
        if (!predicate.call(context, v, k, this$0)) {
          iterating = false;
          return iteratorDone();
        }
        return type === ITERATE_ENTRIES ? step :
          iteratorValue(type, k, v, step);
      });
    };
    return takeSequence;
  }


  function skipWhileFactory(iterable, predicate, context, useKeys) {
    var skipSequence = makeSequence(iterable);
    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;
      if (reverse) {
        return this.cacheResult().__iterate(fn, reverse);
      }
      var isSkipping = true;
      var iterations = 0;
      iterable.__iterate(function(v, k, c)  {
        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {
          iterations++;
          return fn(v, useKeys ? k : iterations - 1, this$0);
        }
      });
      return iterations;
    };
    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;
      if (reverse) {
        return this.cacheResult().__iterator(type, reverse);
      }
      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);
      var skipping = true;
      var iterations = 0;
      return new src_Iterator__Iterator(function()  {
        var step, k, v;
        do {
          step = iterator.next();
          if (step.done) {
            if (useKeys || type === ITERATE_VALUES) {
              return step;
            } else if (type === ITERATE_KEYS) {
              return iteratorValue(type, iterations++, undefined, step);
            } else {
              return iteratorValue(type, iterations++, step.value[1], step);
            }
          }
          var entry = step.value;
          k = entry[0];
          v = entry[1];
          skipping && (skipping = predicate.call(context, v, k, this$0));
        } while (skipping);
        return type === ITERATE_ENTRIES ? step :
          iteratorValue(type, k, v, step);
      });
    };
    return skipSequence;
  }


  function concatFactory(iterable, values) {
    var isKeyedIterable = isKeyed(iterable);
    var iters = [iterable].concat(values).map(function(v ) {
      if (!isIterable(v)) {
        v = isKeyedIterable ?
          keyedSeqFromValue(v) :
          indexedSeqFromValue(Array.isArray(v) ? v : [v]);
      } else if (isKeyedIterable) {
        v = KeyedIterable(v);
      }
      return v;
    }).filter(function(v ) {return v.size !== 0});

    if (iters.length === 0) {
      return iterable;
    }

    if (iters.length === 1) {
      var singleton = iters[0];
      if (singleton === iterable ||
          isKeyedIterable && isKeyed(singleton) ||
          isIndexed(iterable) && isIndexed(singleton)) {
        return singleton;
      }
    }

    var concatSeq = new ArraySeq(iters);
    if (isKeyedIterable) {
      concatSeq = concatSeq.toKeyedSeq();
    } else if (!isIndexed(iterable)) {
      concatSeq = concatSeq.toSetSeq();
    }
    concatSeq = concatSeq.flatten(true);
    concatSeq.size = iters.reduce(
      function(sum, seq)  {
        if (sum !== undefined) {
          var size = seq.size;
          if (size !== undefined) {
            return sum + size;
          }
        }
      },
      0
    );
    return concatSeq;
  }


  function flattenFactory(iterable, depth, useKeys) {
    var flatSequence = makeSequence(iterable);
    flatSequence.__iterateUncached = function(fn, reverse) {
      var iterations = 0;
      var stopped = false;
      function flatDeep(iter, currentDepth) {var this$0 = this;
        iter.__iterate(function(v, k)  {
          if ((!depth || currentDepth < depth) && isIterable(v)) {
            flatDeep(v, currentDepth + 1);
          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {
            stopped = true;
          }
          return !stopped;
        }, reverse);
      }
      flatDeep(iterable, 0);
      return iterations;
    }
    flatSequence.__iteratorUncached = function(type, reverse) {
      var iterator = iterable.__iterator(type, reverse);
      var stack = [];
      var iterations = 0;
      return new src_Iterator__Iterator(function()  {
        while (iterator) {
          var step = iterator.next();
          if (step.done !== false) {
            iterator = stack.pop();
            continue;
          }
          var v = step.value;
          if (type === ITERATE_ENTRIES) {
            v = v[1];
          }
          if ((!depth || stack.length < depth) && isIterable(v)) {
            stack.push(iterator);
            iterator = v.__iterator(type, reverse);
          } else {
            return useKeys ? step : iteratorValue(type, iterations++, v, step);
          }
        }
        return iteratorDone();
      });
    }
    return flatSequence;
  }


  function flatMapFactory(iterable, mapper, context) {
    var coerce = iterableClass(iterable);
    return iterable.toSeq().map(
      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}
    ).flatten(true);
  }


  function interposeFactory(iterable, separator) {
    var interposedSequence = makeSequence(iterable);
    interposedSequence.size = iterable.size && iterable.size * 2 -1;
    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;
      var iterations = 0;
      iterable.__iterate(function(v, k) 
        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&
        fn(v, iterations++, this$0) !== false},
        reverse
      );
      return iterations;
    };
    interposedSequence.__iteratorUncached = function(type, reverse) {
      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);
      var iterations = 0;
      var step;
      return new src_Iterator__Iterator(function()  {
        if (!step || iterations % 2) {
          step = iterator.next();
          if (step.done) {
            return step;
          }
        }
        return iterations % 2 ?
          iteratorValue(type, iterations++, separator) :
          iteratorValue(type, iterations++, step.value, step);
      });
    };
    return interposedSequence;
  }


  function sortFactory(iterable, comparator, mapper) {
    if (!comparator) {
      comparator = defaultComparator;
    }
    var isKeyedIterable = isKeyed(iterable);
    var index = 0;
    var entries = iterable.toSeq().map(
      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}
    ).toArray();
    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(
      isKeyedIterable ?
      function(v, i)  { entries[i].length = 2; } :
      function(v, i)  { entries[i] = v[1]; }
    );
    return isKeyedIterable ? KeyedSeq(entries) :
      isIndexed(iterable) ? IndexedSeq(entries) :
      SetSeq(entries);
  }


  function maxFactory(iterable, comparator, mapper) {
    if (!comparator) {
      comparator = defaultComparator;
    }
    if (mapper) {
      var entry = iterable.toSeq()
        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})
        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});
      return entry && entry[0];
    } else {
      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});
    }
  }

  function maxCompare(comparator, a, b) {
    var comp = comparator(b, a);
    // b is considered the new max if the comparator declares them equal, but
    // they are not equal and b is in fact a nullish value.
    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;
  }


  function zipWithFactory(keyIter, zipper, iters) {
    var zipSequence = makeSequence(keyIter);
    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();
    // Note: this a generic base implementation of __iterate in terms of
    // __iterator which may be more generically useful in the future.
    zipSequence.__iterate = function(fn, reverse) {
      /* generic:
      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);
      var step;
      var iterations = 0;
      while (!(step = iterator.next()).done) {
        iterations++;
        if (fn(step.value[1], step.value[0], this) === false) {
          break;
        }
      }
      return iterations;
      */
      // indexed:
      var iterator = this.__iterator(ITERATE_VALUES, reverse);
      var step;
      var iterations = 0;
      while (!(step = iterator.next()).done) {
        if (fn(step.value, iterations++, this) === false) {
          break;
        }
      }
      return iterations;
    };
    zipSequence.__iteratorUncached = function(type, reverse) {
      var iterators = iters.map(function(i )
        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}
      );
      var iterations = 0;
      var isDone = false;
      return new src_Iterator__Iterator(function()  {
        var steps;
        if (!isDone) {
          steps = iterators.map(function(i ) {return i.next()});
          isDone = steps.some(function(s ) {return s.done});
        }
        if (isDone) {
          return iteratorDone();
        }
        return iteratorValue(
          type,
          iterations++,
          zipper.apply(null, steps.map(function(s ) {return s.value}))
        );
      });
    };
    return zipSequence
  }


  // #pragma Helper Functions

  function reify(iter, seq) {
    return isSeq(iter) ? seq : iter.constructor(seq);
  }

  function validateEntry(entry) {
    if (entry !== Object(entry)) {
      throw new TypeError('Expected [K, V] tuple: ' + entry);
    }
  }

  function resolveSize(iter) {
    assertNotInfinite(iter.size);
    return ensureSize(iter);
  }

  function iterableClass(iterable) {
    return isKeyed(iterable) ? KeyedIterable :
      isIndexed(iterable) ? IndexedIterable :
      SetIterable;
  }

  function makeSequence(iterable) {
    return Object.create(
      (
        isKeyed(iterable) ? KeyedSeq :
        isIndexed(iterable) ? IndexedSeq :
        SetSeq
      ).prototype
    );
  }

  function cacheResultThrough() {
    if (this._iter.cacheResult) {
      this._iter.cacheResult();
      this.size = this._iter.size;
      return this;
    } else {
      return Seq.prototype.cacheResult.call(this);
    }
  }

  function defaultComparator(a, b) {
    return a > b ? 1 : a < b ? -1 : 0;
  }

  function forceIterator(keyPath) {
    var iter = getIterator(keyPath);
    if (!iter) {
      // Array might not be iterable in this environment, so we need a fallback
      // to our wrapped type.
      if (!isArrayLike(keyPath)) {
        throw new TypeError('Expected iterable or array-like: ' + keyPath);
      }
      iter = getIterator(Iterable(keyPath));
    }
    return iter;
  }

  createClass(src_Map__Map, KeyedCollection);

    // @pragma Construction

    function src_Map__Map(value) {
      return value === null || value === undefined ? emptyMap() :
        isMap(value) && !isOrdered(value) ? value :
        emptyMap().withMutations(function(map ) {
          var iter = KeyedIterable(value);
          assertNotInfinite(iter.size);
          iter.forEach(function(v, k)  {return map.set(k, v)});
        });
    }

    src_Map__Map.prototype.toString = function() {
      return this.__toString('Map {', '}');
    };

    // @pragma Access

    src_Map__Map.prototype.get = function(k, notSetValue) {
      return this._root ?
        this._root.get(0, undefined, k, notSetValue) :
        notSetValue;
    };

    // @pragma Modification

    src_Map__Map.prototype.set = function(k, v) {
      return updateMap(this, k, v);
    };

    src_Map__Map.prototype.setIn = function(keyPath, v) {
      return this.updateIn(keyPath, NOT_SET, function()  {return v});
    };

    src_Map__Map.prototype.remove = function(k) {
      return updateMap(this, k, NOT_SET);
    };

    src_Map__Map.prototype.deleteIn = function(keyPath) {
      return this.updateIn(keyPath, function()  {return NOT_SET});
    };

    src_Map__Map.prototype.update = function(k, notSetValue, updater) {
      return arguments.length === 1 ?
        k(this) :
        this.updateIn([k], notSetValue, updater);
    };

    src_Map__Map.prototype.updateIn = function(keyPath, notSetValue, updater) {
      if (!updater) {
        updater = notSetValue;
        notSetValue = undefined;
      }
      var updatedValue = updateInDeepMap(
        this,
        forceIterator(keyPath),
        notSetValue,
        updater
      );
      return updatedValue === NOT_SET ? undefined : updatedValue;
    };

    src_Map__Map.prototype.clear = function() {
      if (this.size === 0) {
        return this;
      }
      if (this.__ownerID) {
        this.size = 0;
        this._root = null;
        this.__hash = undefined;
        this.__altered = true;
        return this;
      }
      return emptyMap();
    };

    // @pragma Composition

    src_Map__Map.prototype.merge = function(/*...iters*/) {
      return mergeIntoMapWith(this, undefined, arguments);
    };

    src_Map__Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);
      return mergeIntoMapWith(this, merger, iters);
    };

    src_Map__Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);
      return this.updateIn(
        keyPath,
        emptyMap(),
        function(m ) {return typeof m.merge === 'function' ?
          m.merge.apply(m, iters) :
          iters[iters.length - 1]}
      );
    };

    src_Map__Map.prototype.mergeDeep = function(/*...iters*/) {
      return mergeIntoMapWith(this, deepMerger(undefined), arguments);
    };

    src_Map__Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);
      return mergeIntoMapWith(this, deepMerger(merger), iters);
    };

    src_Map__Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);
      return this.updateIn(
        keyPath,
        emptyMap(),
        function(m ) {return typeof m.mergeDeep === 'function' ?
          m.mergeDeep.apply(m, iters) :
          iters[iters.length - 1]}
      );
    };

    src_Map__Map.prototype.sort = function(comparator) {
      // Late binding
      return OrderedMap(sortFactory(this, comparator));
    };

    src_Map__Map.prototype.sortBy = function(mapper, comparator) {
      // Late binding
      return OrderedMap(sortFactory(this, comparator, mapper));
    };

    // @pragma Mutability

    src_Map__Map.prototype.withMutations = function(fn) {
      var mutable = this.asMutable();
      fn(mutable);
      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;
    };

    src_Map__Map.prototype.asMutable = function() {
      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());
    };

    src_Map__Map.prototype.asImmutable = function() {
      return this.__ensureOwner();
    };

    src_Map__Map.prototype.wasAltered = function() {
      return this.__altered;
    };

    src_Map__Map.prototype.__iterator = function(type, reverse) {
      return new MapIterator(this, type, reverse);
    };

    src_Map__Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      var iterations = 0;
      this._root && this._root.iterate(function(entry ) {
        iterations++;
        return fn(entry[1], entry[0], this$0);
      }, reverse);
      return iterations;
    };

    src_Map__Map.prototype.__ensureOwner = function(ownerID) {
      if (ownerID === this.__ownerID) {
        return this;
      }
      if (!ownerID) {
        this.__ownerID = ownerID;
        this.__altered = false;
        return this;
      }
      return makeMap(this.size, this._root, ownerID, this.__hash);
    };


  function isMap(maybeMap) {
    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);
  }

  src_Map__Map.isMap = isMap;

  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';

  var MapPrototype = src_Map__Map.prototype;
  MapPrototype[IS_MAP_SENTINEL] = true;
  MapPrototype[DELETE] = MapPrototype.remove;
  MapPrototype.removeIn = MapPrototype.deleteIn;


  // #pragma Trie Nodes



    function ArrayMapNode(ownerID, entries) {
      this.ownerID = ownerID;
      this.entries = entries;
    }

    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {
      var entries = this.entries;
      for (var ii = 0, len = entries.length; ii < len; ii++) {
        if (is(key, entries[ii][0])) {
          return entries[ii][1];
        }
      }
      return notSetValue;
    };

    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
      var removed = value === NOT_SET;

      var entries = this.entries;
      var idx = 0;
      for (var len = entries.length; idx < len; idx++) {
        if (is(key, entries[idx][0])) {
          break;
        }
      }
      var exists = idx < len;

      if (exists ? entries[idx][1] === value : removed) {
        return this;
      }

      SetRef(didAlter);
      (removed || !exists) && SetRef(didChangeSize);

      if (removed && entries.length === 1) {
        return; // undefined
      }

      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {
        return createNodes(ownerID, entries, key, value);
      }

      var isEditable = ownerID && ownerID === this.ownerID;
      var newEntries = isEditable ? entries : arrCopy(entries);

      if (exists) {
        if (removed) {
          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());
        } else {
          newEntries[idx] = [key, value];
        }
      } else {
        newEntries.push([key, value]);
      }

      if (isEditable) {
        this.entries = newEntries;
        return this;
      }

      return new ArrayMapNode(ownerID, newEntries);
    };




    function BitmapIndexedNode(ownerID, bitmap, nodes) {
      this.ownerID = ownerID;
      this.bitmap = bitmap;
      this.nodes = nodes;
    }

    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {
      if (keyHash === undefined) {
        keyHash = hash(key);
      }
      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));
      var bitmap = this.bitmap;
      return (bitmap & bit) === 0 ? notSetValue :
        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);
    };

    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
      if (keyHash === undefined) {
        keyHash = hash(key);
      }
      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;
      var bit = 1 << keyHashFrag;
      var bitmap = this.bitmap;
      var exists = (bitmap & bit) !== 0;

      if (!exists && value === NOT_SET) {
        return this;
      }

      var idx = popCount(bitmap & (bit - 1));
      var nodes = this.nodes;
      var node = exists ? nodes[idx] : undefined;
      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);

      if (newNode === node) {
        return this;
      }

      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {
        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);
      }

      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {
        return nodes[idx ^ 1];
      }

      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {
        return newNode;
      }

      var isEditable = ownerID && ownerID === this.ownerID;
      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;
      var newNodes = exists ? newNode ?
        setIn(nodes, idx, newNode, isEditable) :
        spliceOut(nodes, idx, isEditable) :
        spliceIn(nodes, idx, newNode, isEditable);

      if (isEditable) {
        this.bitmap = newBitmap;
        this.nodes = newNodes;
        return this;
      }

      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);
    };




    function HashArrayMapNode(ownerID, count, nodes) {
      this.ownerID = ownerID;
      this.count = count;
      this.nodes = nodes;
    }

    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {
      if (keyHash === undefined) {
        keyHash = hash(key);
      }
      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;
      var node = this.nodes[idx];
      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;
    };

    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
      if (keyHash === undefined) {
        keyHash = hash(key);
      }
      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;
      var removed = value === NOT_SET;
      var nodes = this.nodes;
      var node = nodes[idx];

      if (removed && !node) {
        return this;
      }

      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);
      if (newNode === node) {
        return this;
      }

      var newCount = this.count;
      if (!node) {
        newCount++;
      } else if (!newNode) {
        newCount--;
        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {
          return packNodes(ownerID, nodes, newCount, idx);
        }
      }

      var isEditable = ownerID && ownerID === this.ownerID;
      var newNodes = setIn(nodes, idx, newNode, isEditable);

      if (isEditable) {
        this.count = newCount;
        this.nodes = newNodes;
        return this;
      }

      return new HashArrayMapNode(ownerID, newCount, newNodes);
    };




    function HashCollisionNode(ownerID, keyHash, entries) {
      this.ownerID = ownerID;
      this.keyHash = keyHash;
      this.entries = entries;
    }

    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {
      var entries = this.entries;
      for (var ii = 0, len = entries.length; ii < len; ii++) {
        if (is(key, entries[ii][0])) {
          return entries[ii][1];
        }
      }
      return notSetValue;
    };

    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
      if (keyHash === undefined) {
        keyHash = hash(key);
      }

      var removed = value === NOT_SET;

      if (keyHash !== this.keyHash) {
        if (removed) {
          return this;
        }
        SetRef(didAlter);
        SetRef(didChangeSize);
        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);
      }

      var entries = this.entries;
      var idx = 0;
      for (var len = entries.length; idx < len; idx++) {
        if (is(key, entries[idx][0])) {
          break;
        }
      }
      var exists = idx < len;

      if (exists ? entries[idx][1] === value : removed) {
        return this;
      }

      SetRef(didAlter);
      (removed || !exists) && SetRef(didChangeSize);

      if (removed && len === 2) {
        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);
      }

      var isEditable = ownerID && ownerID === this.ownerID;
      var newEntries = isEditable ? entries : arrCopy(entries);

      if (exists) {
        if (removed) {
          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());
        } else {
          newEntries[idx] = [key, value];
        }
      } else {
        newEntries.push([key, value]);
      }

      if (isEditable) {
        this.entries = newEntries;
        return this;
      }

      return new HashCollisionNode(ownerID, this.keyHash, newEntries);
    };




    function ValueNode(ownerID, keyHash, entry) {
      this.ownerID = ownerID;
      this.keyHash = keyHash;
      this.entry = entry;
    }

    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {
      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;
    };

    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
      var removed = value === NOT_SET;
      var keyMatch = is(key, this.entry[0]);
      if (keyMatch ? value === this.entry[1] : removed) {
        return this;
      }

      SetRef(didAlter);

      if (removed) {
        SetRef(didChangeSize);
        return; // undefined
      }

      if (keyMatch) {
        if (ownerID && ownerID === this.ownerID) {
          this.entry[1] = value;
          return this;
        }
        return new ValueNode(ownerID, this.keyHash, [key, value]);
      }

      SetRef(didChangeSize);
      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);
    };



  // #pragma Iterators

  ArrayMapNode.prototype.iterate =
  HashCollisionNode.prototype.iterate = function (fn, reverse) {
    var entries = this.entries;
    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {
      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {
        return false;
      }
    }
  }

  BitmapIndexedNode.prototype.iterate =
  HashArrayMapNode.prototype.iterate = function (fn, reverse) {
    var nodes = this.nodes;
    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {
      var node = nodes[reverse ? maxIndex - ii : ii];
      if (node && node.iterate(fn, reverse) === false) {
        return false;
      }
    }
  }

  ValueNode.prototype.iterate = function (fn, reverse) {
    return fn(this.entry);
  }

  createClass(MapIterator, src_Iterator__Iterator);

    function MapIterator(map, type, reverse) {
      this._type = type;
      this._reverse = reverse;
      this._stack = map._root && mapIteratorFrame(map._root);
    }

    MapIterator.prototype.next = function() {
      var type = this._type;
      var stack = this._stack;
      while (stack) {
        var node = stack.node;
        var index = stack.index++;
        var maxIndex;
        if (node.entry) {
          if (index === 0) {
            return mapIteratorValue(type, node.entry);
          }
        } else if (node.entries) {
          maxIndex = node.entries.length - 1;
          if (index <= maxIndex) {
            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);
          }
        } else {
          maxIndex = node.nodes.length - 1;
          if (index <= maxIndex) {
            var subNode = node.nodes[this._reverse ? maxIndex - index : index];
            if (subNode) {
              if (subNode.entry) {
                return mapIteratorValue(type, subNode.entry);
              }
              stack = this._stack = mapIteratorFrame(subNode, stack);
            }
            continue;
          }
        }
        stack = this._stack = this._stack.__prev;
      }
      return iteratorDone();
    };


  function mapIteratorValue(type, entry) {
    return iteratorValue(type, entry[0], entry[1]);
  }

  function mapIteratorFrame(node, prev) {
    return {
      node: node,
      index: 0,
      __prev: prev
    };
  }

  function makeMap(size, root, ownerID, hash) {
    var map = Object.create(MapPrototype);
    map.size = size;
    map._root = root;
    map.__ownerID = ownerID;
    map.__hash = hash;
    map.__altered = false;
    return map;
  }

  var EMPTY_MAP;
  function emptyMap() {
    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));
  }

  function updateMap(map, k, v) {
    var newRoot;
    var newSize;
    if (!map._root) {
      if (v === NOT_SET) {
        return map;
      }
      newSize = 1;
      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);
    } else {
      var didChangeSize = MakeRef(CHANGE_LENGTH);
      var didAlter = MakeRef(DID_ALTER);
      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);
      if (!didAlter.value) {
        return map;
      }
      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);
    }
    if (map.__ownerID) {
      map.size = newSize;
      map._root = newRoot;
      map.__hash = undefined;
      map.__altered = true;
      return map;
    }
    return newRoot ? makeMap(newSize, newRoot) : emptyMap();
  }

  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {
    if (!node) {
      if (value === NOT_SET) {
        return node;
      }
      SetRef(didAlter);
      SetRef(didChangeSize);
      return new ValueNode(ownerID, keyHash, [key, value]);
    }
    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);
  }

  function isLeafNode(node) {
    return node.constructor === ValueNode || node.constructor === HashCollisionNode;
  }

  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {
    if (node.keyHash === keyHash) {
      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);
    }

    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;
    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;

    var newNode;
    var nodes = idx1 === idx2 ?
      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :
      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);

    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);
  }

  function createNodes(ownerID, entries, key, value) {
    if (!ownerID) {
      ownerID = new OwnerID();
    }
    var node = new ValueNode(ownerID, hash(key), [key, value]);
    for (var ii = 0; ii < entries.length; ii++) {
      var entry = entries[ii];
      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);
    }
    return node;
  }

  function packNodes(ownerID, nodes, count, excluding) {
    var bitmap = 0;
    var packedII = 0;
    var packedNodes = new Array(count);
    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {
      var node = nodes[ii];
      if (node !== undefined && ii !== excluding) {
        bitmap |= bit;
        packedNodes[packedII++] = node;
      }
    }
    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);
  }

  function expandNodes(ownerID, nodes, bitmap, including, node) {
    var count = 0;
    var expandedNodes = new Array(SIZE);
    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {
      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;
    }
    expandedNodes[including] = node;
    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);
  }

  function mergeIntoMapWith(map, merger, iterables) {
    var iters = [];
    for (var ii = 0; ii < iterables.length; ii++) {
      var value = iterables[ii];
      var iter = KeyedIterable(value);
      if (!isIterable(value)) {
        iter = iter.map(function(v ) {return fromJS(v)});
      }
      iters.push(iter);
    }
    return mergeIntoCollectionWith(map, merger, iters);
  }

  function deepMerger(merger) {
    return function(existing, value, key) 
      {return existing && existing.mergeDeepWith && isIterable(value) ?
        existing.mergeDeepWith(merger, value) :
        merger ? merger(existing, value, key) : value};
  }

  function mergeIntoCollectionWith(collection, merger, iters) {
    iters = iters.filter(function(x ) {return x.size !== 0});
    if (iters.length === 0) {
      return collection;
    }
    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {
      return collection.constructor(iters[0]);
    }
    return collection.withMutations(function(collection ) {
      var mergeIntoMap = merger ?
        function(value, key)  {
          collection.update(key, NOT_SET, function(existing )
            {return existing === NOT_SET ? value : merger(existing, value, key)}
          );
        } :
        function(value, key)  {
          collection.set(key, value);
        }
      for (var ii = 0; ii < iters.length; ii++) {
        iters[ii].forEach(mergeIntoMap);
      }
    });
  }

  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {
    var isNotSet = existing === NOT_SET;
    var step = keyPathIter.next();
    if (step.done) {
      var existingValue = isNotSet ? notSetValue : existing;
      var newValue = updater(existingValue);
      return newValue === existingValue ? existing : newValue;
    }
    invariant(
      isNotSet || (existing && existing.set),
      'invalid keyPath'
    );
    var key = step.value;
    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);
    var nextUpdated = updateInDeepMap(
      nextExisting,
      keyPathIter,
      notSetValue,
      updater
    );
    return nextUpdated === nextExisting ? existing :
      nextUpdated === NOT_SET ? existing.remove(key) :
      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);
  }

  function popCount(x) {
    x = x - ((x >> 1) & 0x55555555);
    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);
    x = (x + (x >> 4)) & 0x0f0f0f0f;
    x = x + (x >> 8);
    x = x + (x >> 16);
    return x & 0x7f;
  }

  function setIn(array, idx, val, canEdit) {
    var newArray = canEdit ? array : arrCopy(array);
    newArray[idx] = val;
    return newArray;
  }

  function spliceIn(array, idx, val, canEdit) {
    var newLen = array.length + 1;
    if (canEdit && idx + 1 === newLen) {
      array[idx] = val;
      return array;
    }
    var newArray = new Array(newLen);
    var after = 0;
    for (var ii = 0; ii < newLen; ii++) {
      if (ii === idx) {
        newArray[ii] = val;
        after = -1;
      } else {
        newArray[ii] = array[ii + after];
      }
    }
    return newArray;
  }

  function spliceOut(array, idx, canEdit) {
    var newLen = array.length - 1;
    if (canEdit && idx === newLen) {
      array.pop();
      return array;
    }
    var newArray = new Array(newLen);
    var after = 0;
    for (var ii = 0; ii < newLen; ii++) {
      if (ii === idx) {
        after = 1;
      }
      newArray[ii] = array[ii + after];
    }
    return newArray;
  }

  var MAX_ARRAY_MAP_SIZE = SIZE / 4;
  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;
  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;

  createClass(List, IndexedCollection);

    // @pragma Construction

    function List(value) {
      var empty = emptyList();
      if (value === null || value === undefined) {
        return empty;
      }
      if (isList(value)) {
        return value;
      }
      var iter = IndexedIterable(value);
      var size = iter.size;
      if (size === 0) {
        return empty;
      }
      assertNotInfinite(size);
      if (size > 0 && size < SIZE) {
        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));
      }
      return empty.withMutations(function(list ) {
        list.setSize(size);
        iter.forEach(function(v, i)  {return list.set(i, v)});
      });
    }

    List.of = function(/*...values*/) {
      return this(arguments);
    };

    List.prototype.toString = function() {
      return this.__toString('List [', ']');
    };

    // @pragma Access

    List.prototype.get = function(index, notSetValue) {
      index = wrapIndex(this, index);
      if (index >= 0 && index < this.size) {
        index += this._origin;
        var node = listNodeFor(this, index);
        return node && node.array[index & MASK];
      }
      return notSetValue;
    };

    // @pragma Modification

    List.prototype.set = function(index, value) {
      return updateList(this, index, value);
    };

    List.prototype.remove = function(index) {
      return !this.has(index) ? this :
        index === 0 ? this.shift() :
        index === this.size - 1 ? this.pop() :
        this.splice(index, 1);
    };

    List.prototype.clear = function() {
      if (this.size === 0) {
        return this;
      }
      if (this.__ownerID) {
        this.size = this._origin = this._capacity = 0;
        this._level = SHIFT;
        this._root = this._tail = null;
        this.__hash = undefined;
        this.__altered = true;
        return this;
      }
      return emptyList();
    };

    List.prototype.push = function(/*...values*/) {
      var values = arguments;
      var oldSize = this.size;
      return this.withMutations(function(list ) {
        setListBounds(list, 0, oldSize + values.length);
        for (var ii = 0; ii < values.length; ii++) {
          list.set(oldSize + ii, values[ii]);
        }
      });
    };

    List.prototype.pop = function() {
      return setListBounds(this, 0, -1);
    };

    List.prototype.unshift = function(/*...values*/) {
      var values = arguments;
      return this.withMutations(function(list ) {
        setListBounds(list, -values.length);
        for (var ii = 0; ii < values.length; ii++) {
          list.set(ii, values[ii]);
        }
      });
    };

    List.prototype.shift = function() {
      return setListBounds(this, 1);
    };

    // @pragma Composition

    List.prototype.merge = function(/*...iters*/) {
      return mergeIntoListWith(this, undefined, arguments);
    };

    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);
      return mergeIntoListWith(this, merger, iters);
    };

    List.prototype.mergeDeep = function(/*...iters*/) {
      return mergeIntoListWith(this, deepMerger(undefined), arguments);
    };

    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);
      return mergeIntoListWith(this, deepMerger(merger), iters);
    };

    List.prototype.setSize = function(size) {
      return setListBounds(this, 0, size);
    };

    // @pragma Iteration

    List.prototype.slice = function(begin, end) {
      var size = this.size;
      if (wholeSlice(begin, end, size)) {
        return this;
      }
      return setListBounds(
        this,
        resolveBegin(begin, size),
        resolveEnd(end, size)
      );
    };

    List.prototype.__iterator = function(type, reverse) {
      var index = 0;
      var values = iterateList(this, reverse);
      return new src_Iterator__Iterator(function()  {
        var value = values();
        return value === DONE ?
          iteratorDone() :
          iteratorValue(type, index++, value);
      });
    };

    List.prototype.__iterate = function(fn, reverse) {
      var index = 0;
      var values = iterateList(this, reverse);
      var value;
      while ((value = values()) !== DONE) {
        if (fn(value, index++, this) === false) {
          break;
        }
      }
      return index;
    };

    List.prototype.__ensureOwner = function(ownerID) {
      if (ownerID === this.__ownerID) {
        return this;
      }
      if (!ownerID) {
        this.__ownerID = ownerID;
        return this;
      }
      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);
    };


  function isList(maybeList) {
    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);
  }

  List.isList = isList;

  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';

  var ListPrototype = List.prototype;
  ListPrototype[IS_LIST_SENTINEL] = true;
  ListPrototype[DELETE] = ListPrototype.remove;
  ListPrototype.setIn = MapPrototype.setIn;
  ListPrototype.deleteIn =
  ListPrototype.removeIn = MapPrototype.removeIn;
  ListPrototype.update = MapPrototype.update;
  ListPrototype.updateIn = MapPrototype.updateIn;
  ListPrototype.mergeIn = MapPrototype.mergeIn;
  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;
  ListPrototype.withMutations = MapPrototype.withMutations;
  ListPrototype.asMutable = MapPrototype.asMutable;
  ListPrototype.asImmutable = MapPrototype.asImmutable;
  ListPrototype.wasAltered = MapPrototype.wasAltered;



    function VNode(array, ownerID) {
      this.array = array;
      this.ownerID = ownerID;
    }

    // TODO: seems like these methods are very similar

    VNode.prototype.removeBefore = function(ownerID, level, index) {
      if (index === level ? 1 << level : 0 || this.array.length === 0) {
        return this;
      }
      var originIndex = (index >>> level) & MASK;
      if (originIndex >= this.array.length) {
        return new VNode([], ownerID);
      }
      var removingFirst = originIndex === 0;
      var newChild;
      if (level > 0) {
        var oldChild = this.array[originIndex];
        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);
        if (newChild === oldChild && removingFirst) {
          return this;
        }
      }
      if (removingFirst && !newChild) {
        return this;
      }
      var editable = editableVNode(this, ownerID);
      if (!removingFirst) {
        for (var ii = 0; ii < originIndex; ii++) {
          editable.array[ii] = undefined;
        }
      }
      if (newChild) {
        editable.array[originIndex] = newChild;
      }
      return editable;
    };

    VNode.prototype.removeAfter = function(ownerID, level, index) {
      if (index === (level ? 1 << level : 0) || this.array.length === 0) {
        return this;
      }
      var sizeIndex = ((index - 1) >>> level) & MASK;
      if (sizeIndex >= this.array.length) {
        return this;
      }

      var newChild;
      if (level > 0) {
        var oldChild = this.array[sizeIndex];
        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);
        if (newChild === oldChild && sizeIndex === this.array.length - 1) {
          return this;
        }
      }

      var editable = editableVNode(this, ownerID);
      editable.array.splice(sizeIndex + 1);
      if (newChild) {
        editable.array[sizeIndex] = newChild;
      }
      return editable;
    };



  var DONE = {};

  function iterateList(list, reverse) {
    var left = list._origin;
    var right = list._capacity;
    var tailPos = getTailOffset(right);
    var tail = list._tail;

    return iterateNodeOrLeaf(list._root, list._level, 0);

    function iterateNodeOrLeaf(node, level, offset) {
      return level === 0 ?
        iterateLeaf(node, offset) :
        iterateNode(node, level, offset);
    }

    function iterateLeaf(node, offset) {
      var array = offset === tailPos ? tail && tail.array : node && node.array;
      var from = offset > left ? 0 : left - offset;
      var to = right - offset;
      if (to > SIZE) {
        to = SIZE;
      }
      return function()  {
        if (from === to) {
          return DONE;
        }
        var idx = reverse ? --to : from++;
        return array && array[idx];
      };
    }

    function iterateNode(node, level, offset) {
      var values;
      var array = node && node.array;
      var from = offset > left ? 0 : (left - offset) >> level;
      var to = ((right - offset) >> level) + 1;
      if (to > SIZE) {
        to = SIZE;
      }
      return function()  {
        do {
          if (values) {
            var value = values();
            if (value !== DONE) {
              return value;
            }
            values = null;
          }
          if (from === to) {
            return DONE;
          }
          var idx = reverse ? --to : from++;
          values = iterateNodeOrLeaf(
            array && array[idx], level - SHIFT, offset + (idx << level)
          );
        } while (true);
      };
    }
  }

  function makeList(origin, capacity, level, root, tail, ownerID, hash) {
    var list = Object.create(ListPrototype);
    list.size = capacity - origin;
    list._origin = origin;
    list._capacity = capacity;
    list._level = level;
    list._root = root;
    list._tail = tail;
    list.__ownerID = ownerID;
    list.__hash = hash;
    list.__altered = false;
    return list;
  }

  var EMPTY_LIST;
  function emptyList() {
    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));
  }

  function updateList(list, index, value) {
    index = wrapIndex(list, index);

    if (index !== index) {
      return list;
    }

    if (index >= list.size || index < 0) {
      return list.withMutations(function(list ) {
        index < 0 ?
          setListBounds(list, index).set(0, value) :
          setListBounds(list, 0, index + 1).set(index, value)
      });
    }

    index += list._origin;

    var newTail = list._tail;
    var newRoot = list._root;
    var didAlter = MakeRef(DID_ALTER);
    if (index >= getTailOffset(list._capacity)) {
      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);
    } else {
      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);
    }

    if (!didAlter.value) {
      return list;
    }

    if (list.__ownerID) {
      list._root = newRoot;
      list._tail = newTail;
      list.__hash = undefined;
      list.__altered = true;
      return list;
    }
    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);
  }

  function updateVNode(node, ownerID, level, index, value, didAlter) {
    var idx = (index >>> level) & MASK;
    var nodeHas = node && idx < node.array.length;
    if (!nodeHas && value === undefined) {
      return node;
    }

    var newNode;

    if (level > 0) {
      var lowerNode = node && node.array[idx];
      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);
      if (newLowerNode === lowerNode) {
        return node;
      }
      newNode = editableVNode(node, ownerID);
      newNode.array[idx] = newLowerNode;
      return newNode;
    }

    if (nodeHas && node.array[idx] === value) {
      return node;
    }

    SetRef(didAlter);

    newNode = editableVNode(node, ownerID);
    if (value === undefined && idx === newNode.array.length - 1) {
      newNode.array.pop();
    } else {
      newNode.array[idx] = value;
    }
    return newNode;
  }

  function editableVNode(node, ownerID) {
    if (ownerID && node && ownerID === node.ownerID) {
      return node;
    }
    return new VNode(node ? node.array.slice() : [], ownerID);
  }

  function listNodeFor(list, rawIndex) {
    if (rawIndex >= getTailOffset(list._capacity)) {
      return list._tail;
    }
    if (rawIndex < 1 << (list._level + SHIFT)) {
      var node = list._root;
      var level = list._level;
      while (node && level > 0) {
        node = node.array[(rawIndex >>> level) & MASK];
        level -= SHIFT;
      }
      return node;
    }
  }

  function setListBounds(list, begin, end) {
    // Sanitize begin & end using this shorthand for ToInt32(argument)
    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32
    if (begin !== undefined) {
      begin = begin | 0;
    }
    if (end !== undefined) {
      end = end | 0;
    }
    var owner = list.__ownerID || new OwnerID();
    var oldOrigin = list._origin;
    var oldCapacity = list._capacity;
    var newOrigin = oldOrigin + begin;
    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;
    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {
      return list;
    }

    // If it's going to end after it starts, it's empty.
    if (newOrigin >= newCapacity) {
      return list.clear();
    }

    var newLevel = list._level;
    var newRoot = list._root;

    // New origin might need creating a higher root.
    var offsetShift = 0;
    while (newOrigin + offsetShift < 0) {
      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);
      newLevel += SHIFT;
      offsetShift += 1 << newLevel;
    }
    if (offsetShift) {
      newOrigin += offsetShift;
      oldOrigin += offsetShift;
      newCapacity += offsetShift;
      oldCapacity += offsetShift;
    }

    var oldTailOffset = getTailOffset(oldCapacity);
    var newTailOffset = getTailOffset(newCapacity);

    // New size might need creating a higher root.
    while (newTailOffset >= 1 << (newLevel + SHIFT)) {
      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);
      newLevel += SHIFT;
    }

    // Locate or create the new tail.
    var oldTail = list._tail;
    var newTail = newTailOffset < oldTailOffset ?
      listNodeFor(list, newCapacity - 1) :
      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;

    // Merge Tail into tree.
    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {
      newRoot = editableVNode(newRoot, owner);
      var node = newRoot;
      for (var level = newLevel; level > SHIFT; level -= SHIFT) {
        var idx = (oldTailOffset >>> level) & MASK;
        node = node.array[idx] = editableVNode(node.array[idx], owner);
      }
      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;
    }

    // If the size has been reduced, there's a chance the tail needs to be trimmed.
    if (newCapacity < oldCapacity) {
      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);
    }

    // If the new origin is within the tail, then we do not need a root.
    if (newOrigin >= newTailOffset) {
      newOrigin -= newTailOffset;
      newCapacity -= newTailOffset;
      newLevel = SHIFT;
      newRoot = null;
      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);

    // Otherwise, if the root has been trimmed, garbage collect.
    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {
      offsetShift = 0;

      // Identify the new top root node of the subtree of the old root.
      while (newRoot) {
        var beginIndex = (newOrigin >>> newLevel) & MASK;
        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {
          break;
        }
        if (beginIndex) {
          offsetShift += (1 << newLevel) * beginIndex;
        }
        newLevel -= SHIFT;
        newRoot = newRoot.array[beginIndex];
      }

      // Trim the new sides of the new root.
      if (newRoot && newOrigin > oldOrigin) {
        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);
      }
      if (newRoot && newTailOffset < oldTailOffset) {
        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);
      }
      if (offsetShift) {
        newOrigin -= offsetShift;
        newCapacity -= offsetShift;
      }
    }

    if (list.__ownerID) {
      list.size = newCapacity - newOrigin;
      list._origin = newOrigin;
      list._capacity = newCapacity;
      list._level = newLevel;
      list._root = newRoot;
      list._tail = newTail;
      list.__hash = undefined;
      list.__altered = true;
      return list;
    }
    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);
  }

  function mergeIntoListWith(list, merger, iterables) {
    var iters = [];
    var maxSize = 0;
    for (var ii = 0; ii < iterables.length; ii++) {
      var value = iterables[ii];
      var iter = IndexedIterable(value);
      if (iter.size > maxSize) {
        maxSize = iter.size;
      }
      if (!isIterable(value)) {
        iter = iter.map(function(v ) {return fromJS(v)});
      }
      iters.push(iter);
    }
    if (maxSize > list.size) {
      list = list.setSize(maxSize);
    }
    return mergeIntoCollectionWith(list, merger, iters);
  }

  function getTailOffset(size) {
    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);
  }

  createClass(OrderedMap, src_Map__Map);

    // @pragma Construction

    function OrderedMap(value) {
      return value === null || value === undefined ? emptyOrderedMap() :
        isOrderedMap(value) ? value :
        emptyOrderedMap().withMutations(function(map ) {
          var iter = KeyedIterable(value);
          assertNotInfinite(iter.size);
          iter.forEach(function(v, k)  {return map.set(k, v)});
        });
    }

    OrderedMap.of = function(/*...values*/) {
      return this(arguments);
    };

    OrderedMap.prototype.toString = function() {
      return this.__toString('OrderedMap {', '}');
    };

    // @pragma Access

    OrderedMap.prototype.get = function(k, notSetValue) {
      var index = this._map.get(k);
      return index !== undefined ? this._list.get(index)[1] : notSetValue;
    };

    // @pragma Modification

    OrderedMap.prototype.clear = function() {
      if (this.size === 0) {
        return this;
      }
      if (this.__ownerID) {
        this.size = 0;
        this._map.clear();
        this._list.clear();
        return this;
      }
      return emptyOrderedMap();
    };

    OrderedMap.prototype.set = function(k, v) {
      return updateOrderedMap(this, k, v);
    };

    OrderedMap.prototype.remove = function(k) {
      return updateOrderedMap(this, k, NOT_SET);
    };

    OrderedMap.prototype.wasAltered = function() {
      return this._map.wasAltered() || this._list.wasAltered();
    };

    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      return this._list.__iterate(
        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},
        reverse
      );
    };

    OrderedMap.prototype.__iterator = function(type, reverse) {
      return this._list.fromEntrySeq().__iterator(type, reverse);
    };

    OrderedMap.prototype.__ensureOwner = function(ownerID) {
      if (ownerID === this.__ownerID) {
        return this;
      }
      var newMap = this._map.__ensureOwner(ownerID);
      var newList = this._list.__ensureOwner(ownerID);
      if (!ownerID) {
        this.__ownerID = ownerID;
        this._map = newMap;
        this._list = newList;
        return this;
      }
      return makeOrderedMap(newMap, newList, ownerID, this.__hash);
    };


  function isOrderedMap(maybeOrderedMap) {
    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);
  }

  OrderedMap.isOrderedMap = isOrderedMap;

  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;
  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;



  function makeOrderedMap(map, list, ownerID, hash) {
    var omap = Object.create(OrderedMap.prototype);
    omap.size = map ? map.size : 0;
    omap._map = map;
    omap._list = list;
    omap.__ownerID = ownerID;
    omap.__hash = hash;
    return omap;
  }

  var EMPTY_ORDERED_MAP;
  function emptyOrderedMap() {
    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));
  }

  function updateOrderedMap(omap, k, v) {
    var map = omap._map;
    var list = omap._list;
    var i = map.get(k);
    var has = i !== undefined;
    var newMap;
    var newList;
    if (v === NOT_SET) { // removed
      if (!has) {
        return omap;
      }
      if (list.size >= SIZE && list.size >= map.size * 2) {
        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});
        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();
        if (omap.__ownerID) {
          newMap.__ownerID = newList.__ownerID = omap.__ownerID;
        }
      } else {
        newMap = map.remove(k);
        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);
      }
    } else {
      if (has) {
        if (v === list.get(i)[1]) {
          return omap;
        }
        newMap = map;
        newList = list.set(i, [k, v]);
      } else {
        newMap = map.set(k, list.size);
        newList = list.set(list.size, [k, v]);
      }
    }
    if (omap.__ownerID) {
      omap.size = newMap.size;
      omap._map = newMap;
      omap._list = newList;
      omap.__hash = undefined;
      return omap;
    }
    return makeOrderedMap(newMap, newList);
  }

  createClass(Stack, IndexedCollection);

    // @pragma Construction

    function Stack(value) {
      return value === null || value === undefined ? emptyStack() :
        isStack(value) ? value :
        emptyStack().unshiftAll(value);
    }

    Stack.of = function(/*...values*/) {
      return this(arguments);
    };

    Stack.prototype.toString = function() {
      return this.__toString('Stack [', ']');
    };

    // @pragma Access

    Stack.prototype.get = function(index, notSetValue) {
      var head = this._head;
      index = wrapIndex(this, index);
      while (head && index--) {
        head = head.next;
      }
      return head ? head.value : notSetValue;
    };

    Stack.prototype.peek = function() {
      return this._head && this._head.value;
    };

    // @pragma Modification

    Stack.prototype.push = function(/*...values*/) {
      if (arguments.length === 0) {
        return this;
      }
      var newSize = this.size + arguments.length;
      var head = this._head;
      for (var ii = arguments.length - 1; ii >= 0; ii--) {
        head = {
          value: arguments[ii],
          next: head
        };
      }
      if (this.__ownerID) {
        this.size = newSize;
        this._head = head;
        this.__hash = undefined;
        this.__altered = true;
        return this;
      }
      return makeStack(newSize, head);
    };

    Stack.prototype.pushAll = function(iter) {
      iter = IndexedIterable(iter);
      if (iter.size === 0) {
        return this;
      }
      assertNotInfinite(iter.size);
      var newSize = this.size;
      var head = this._head;
      iter.reverse().forEach(function(value ) {
        newSize++;
        head = {
          value: value,
          next: head
        };
      });
      if (this.__ownerID) {
        this.size = newSize;
        this._head = head;
        this.__hash = undefined;
        this.__altered = true;
        return this;
      }
      return makeStack(newSize, head);
    };

    Stack.prototype.pop = function() {
      return this.slice(1);
    };

    Stack.prototype.unshift = function(/*...values*/) {
      return this.push.apply(this, arguments);
    };

    Stack.prototype.unshiftAll = function(iter) {
      return this.pushAll(iter);
    };

    Stack.prototype.shift = function() {
      return this.pop.apply(this, arguments);
    };

    Stack.prototype.clear = function() {
      if (this.size === 0) {
        return this;
      }
      if (this.__ownerID) {
        this.size = 0;
        this._head = undefined;
        this.__hash = undefined;
        this.__altered = true;
        return this;
      }
      return emptyStack();
    };

    Stack.prototype.slice = function(begin, end) {
      if (wholeSlice(begin, end, this.size)) {
        return this;
      }
      var resolvedBegin = resolveBegin(begin, this.size);
      var resolvedEnd = resolveEnd(end, this.size);
      if (resolvedEnd !== this.size) {
        // super.slice(begin, end);
        return IndexedCollection.prototype.slice.call(this, begin, end);
      }
      var newSize = this.size - resolvedBegin;
      var head = this._head;
      while (resolvedBegin--) {
        head = head.next;
      }
      if (this.__ownerID) {
        this.size = newSize;
        this._head = head;
        this.__hash = undefined;
        this.__altered = true;
        return this;
      }
      return makeStack(newSize, head);
    };

    // @pragma Mutability

    Stack.prototype.__ensureOwner = function(ownerID) {
      if (ownerID === this.__ownerID) {
        return this;
      }
      if (!ownerID) {
        this.__ownerID = ownerID;
        this.__altered = false;
        return this;
      }
      return makeStack(this.size, this._head, ownerID, this.__hash);
    };

    // @pragma Iteration

    Stack.prototype.__iterate = function(fn, reverse) {
      if (reverse) {
        return this.reverse().__iterate(fn);
      }
      var iterations = 0;
      var node = this._head;
      while (node) {
        if (fn(node.value, iterations++, this) === false) {
          break;
        }
        node = node.next;
      }
      return iterations;
    };

    Stack.prototype.__iterator = function(type, reverse) {
      if (reverse) {
        return this.reverse().__iterator(type);
      }
      var iterations = 0;
      var node = this._head;
      return new src_Iterator__Iterator(function()  {
        if (node) {
          var value = node.value;
          node = node.next;
          return iteratorValue(type, iterations++, value);
        }
        return iteratorDone();
      });
    };


  function isStack(maybeStack) {
    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);
  }

  Stack.isStack = isStack;

  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';

  var StackPrototype = Stack.prototype;
  StackPrototype[IS_STACK_SENTINEL] = true;
  StackPrototype.withMutations = MapPrototype.withMutations;
  StackPrototype.asMutable = MapPrototype.asMutable;
  StackPrototype.asImmutable = MapPrototype.asImmutable;
  StackPrototype.wasAltered = MapPrototype.wasAltered;


  function makeStack(size, head, ownerID, hash) {
    var map = Object.create(StackPrototype);
    map.size = size;
    map._head = head;
    map.__ownerID = ownerID;
    map.__hash = hash;
    map.__altered = false;
    return map;
  }

  var EMPTY_STACK;
  function emptyStack() {
    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));
  }

  createClass(src_Set__Set, SetCollection);

    // @pragma Construction

    function src_Set__Set(value) {
      return value === null || value === undefined ? emptySet() :
        isSet(value) && !isOrdered(value) ? value :
        emptySet().withMutations(function(set ) {
          var iter = SetIterable(value);
          assertNotInfinite(iter.size);
          iter.forEach(function(v ) {return set.add(v)});
        });
    }

    src_Set__Set.of = function(/*...values*/) {
      return this(arguments);
    };

    src_Set__Set.fromKeys = function(value) {
      return this(KeyedIterable(value).keySeq());
    };

    src_Set__Set.prototype.toString = function() {
      return this.__toString('Set {', '}');
    };

    // @pragma Access

    src_Set__Set.prototype.has = function(value) {
      return this._map.has(value);
    };

    // @pragma Modification

    src_Set__Set.prototype.add = function(value) {
      return updateSet(this, this._map.set(value, true));
    };

    src_Set__Set.prototype.remove = function(value) {
      return updateSet(this, this._map.remove(value));
    };

    src_Set__Set.prototype.clear = function() {
      return updateSet(this, this._map.clear());
    };

    // @pragma Composition

    src_Set__Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);
      iters = iters.filter(function(x ) {return x.size !== 0});
      if (iters.length === 0) {
        return this;
      }
      if (this.size === 0 && !this.__ownerID && iters.length === 1) {
        return this.constructor(iters[0]);
      }
      return this.withMutations(function(set ) {
        for (var ii = 0; ii < iters.length; ii++) {
          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});
        }
      });
    };

    src_Set__Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);
      if (iters.length === 0) {
        return this;
      }
      iters = iters.map(function(iter ) {return SetIterable(iter)});
      var originalSet = this;
      return this.withMutations(function(set ) {
        originalSet.forEach(function(value ) {
          if (!iters.every(function(iter ) {return iter.includes(value)})) {
            set.remove(value);
          }
        });
      });
    };

    src_Set__Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);
      if (iters.length === 0) {
        return this;
      }
      iters = iters.map(function(iter ) {return SetIterable(iter)});
      var originalSet = this;
      return this.withMutations(function(set ) {
        originalSet.forEach(function(value ) {
          if (iters.some(function(iter ) {return iter.includes(value)})) {
            set.remove(value);
          }
        });
      });
    };

    src_Set__Set.prototype.merge = function() {
      return this.union.apply(this, arguments);
    };

    src_Set__Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);
      return this.union.apply(this, iters);
    };

    src_Set__Set.prototype.sort = function(comparator) {
      // Late binding
      return OrderedSet(sortFactory(this, comparator));
    };

    src_Set__Set.prototype.sortBy = function(mapper, comparator) {
      // Late binding
      return OrderedSet(sortFactory(this, comparator, mapper));
    };

    src_Set__Set.prototype.wasAltered = function() {
      return this._map.wasAltered();
    };

    src_Set__Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);
    };

    src_Set__Set.prototype.__iterator = function(type, reverse) {
      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);
    };

    src_Set__Set.prototype.__ensureOwner = function(ownerID) {
      if (ownerID === this.__ownerID) {
        return this;
      }
      var newMap = this._map.__ensureOwner(ownerID);
      if (!ownerID) {
        this.__ownerID = ownerID;
        this._map = newMap;
        return this;
      }
      return this.__make(newMap, ownerID);
    };


  function isSet(maybeSet) {
    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);
  }

  src_Set__Set.isSet = isSet;

  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';

  var SetPrototype = src_Set__Set.prototype;
  SetPrototype[IS_SET_SENTINEL] = true;
  SetPrototype[DELETE] = SetPrototype.remove;
  SetPrototype.mergeDeep = SetPrototype.merge;
  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;
  SetPrototype.withMutations = MapPrototype.withMutations;
  SetPrototype.asMutable = MapPrototype.asMutable;
  SetPrototype.asImmutable = MapPrototype.asImmutable;

  SetPrototype.__empty = emptySet;
  SetPrototype.__make = makeSet;

  function updateSet(set, newMap) {
    if (set.__ownerID) {
      set.size = newMap.size;
      set._map = newMap;
      return set;
    }
    return newMap === set._map ? set :
      newMap.size === 0 ? set.__empty() :
      set.__make(newMap);
  }

  function makeSet(map, ownerID) {
    var set = Object.create(SetPrototype);
    set.size = map ? map.size : 0;
    set._map = map;
    set.__ownerID = ownerID;
    return set;
  }

  var EMPTY_SET;
  function emptySet() {
    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));
  }

  createClass(OrderedSet, src_Set__Set);

    // @pragma Construction

    function OrderedSet(value) {
      return value === null || value === undefined ? emptyOrderedSet() :
        isOrderedSet(value) ? value :
        emptyOrderedSet().withMutations(function(set ) {
          var iter = SetIterable(value);
          assertNotInfinite(iter.size);
          iter.forEach(function(v ) {return set.add(v)});
        });
    }

    OrderedSet.of = function(/*...values*/) {
      return this(arguments);
    };

    OrderedSet.fromKeys = function(value) {
      return this(KeyedIterable(value).keySeq());
    };

    OrderedSet.prototype.toString = function() {
      return this.__toString('OrderedSet {', '}');
    };


  function isOrderedSet(maybeOrderedSet) {
    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);
  }

  OrderedSet.isOrderedSet = isOrderedSet;

  var OrderedSetPrototype = OrderedSet.prototype;
  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;

  OrderedSetPrototype.__empty = emptyOrderedSet;
  OrderedSetPrototype.__make = makeOrderedSet;

  function makeOrderedSet(map, ownerID) {
    var set = Object.create(OrderedSetPrototype);
    set.size = map ? map.size : 0;
    set._map = map;
    set.__ownerID = ownerID;
    return set;
  }

  var EMPTY_ORDERED_SET;
  function emptyOrderedSet() {
    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));
  }

  createClass(Record, KeyedCollection);

    function Record(defaultValues, name) {
      var hasInitialized;

      var RecordType = function Record(values) {
        if (values instanceof RecordType) {
          return values;
        }
        if (!(this instanceof RecordType)) {
          return new RecordType(values);
        }
        if (!hasInitialized) {
          hasInitialized = true;
          var keys = Object.keys(defaultValues);
          setProps(RecordTypePrototype, keys);
          RecordTypePrototype.size = keys.length;
          RecordTypePrototype._name = name;
          RecordTypePrototype._keys = keys;
          RecordTypePrototype._defaultValues = defaultValues;
        }
        this._map = src_Map__Map(values);
      };

      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);
      RecordTypePrototype.constructor = RecordType;

      return RecordType;
    }

    Record.prototype.toString = function() {
      return this.__toString(recordName(this) + ' {', '}');
    };

    // @pragma Access

    Record.prototype.has = function(k) {
      return this._defaultValues.hasOwnProperty(k);
    };

    Record.prototype.get = function(k, notSetValue) {
      if (!this.has(k)) {
        return notSetValue;
      }
      var defaultVal = this._defaultValues[k];
      return this._map ? this._map.get(k, defaultVal) : defaultVal;
    };

    // @pragma Modification

    Record.prototype.clear = function() {
      if (this.__ownerID) {
        this._map && this._map.clear();
        return this;
      }
      var RecordType = this.constructor;
      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));
    };

    Record.prototype.set = function(k, v) {
      if (!this.has(k)) {
        throw new Error('Cannot set unknown key "' + k + '" on ' + recordName(this));
      }
      var newMap = this._map && this._map.set(k, v);
      if (this.__ownerID || newMap === this._map) {
        return this;
      }
      return makeRecord(this, newMap);
    };

    Record.prototype.remove = function(k) {
      if (!this.has(k)) {
        return this;
      }
      var newMap = this._map && this._map.remove(k);
      if (this.__ownerID || newMap === this._map) {
        return this;
      }
      return makeRecord(this, newMap);
    };

    Record.prototype.wasAltered = function() {
      return this._map.wasAltered();
    };

    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;
      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);
    };

    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;
      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);
    };

    Record.prototype.__ensureOwner = function(ownerID) {
      if (ownerID === this.__ownerID) {
        return this;
      }
      var newMap = this._map && this._map.__ensureOwner(ownerID);
      if (!ownerID) {
        this.__ownerID = ownerID;
        this._map = newMap;
        return this;
      }
      return makeRecord(this, newMap, ownerID);
    };


  var RecordPrototype = Record.prototype;
  RecordPrototype[DELETE] = RecordPrototype.remove;
  RecordPrototype.deleteIn =
  RecordPrototype.removeIn = MapPrototype.removeIn;
  RecordPrototype.merge = MapPrototype.merge;
  RecordPrototype.mergeWith = MapPrototype.mergeWith;
  RecordPrototype.mergeIn = MapPrototype.mergeIn;
  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;
  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;
  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;
  RecordPrototype.setIn = MapPrototype.setIn;
  RecordPrototype.update = MapPrototype.update;
  RecordPrototype.updateIn = MapPrototype.updateIn;
  RecordPrototype.withMutations = MapPrototype.withMutations;
  RecordPrototype.asMutable = MapPrototype.asMutable;
  RecordPrototype.asImmutable = MapPrototype.asImmutable;


  function makeRecord(likeRecord, map, ownerID) {
    var record = Object.create(Object.getPrototypeOf(likeRecord));
    record._map = map;
    record.__ownerID = ownerID;
    return record;
  }

  function recordName(record) {
    return record._name || record.constructor.name || 'Record';
  }

  function setProps(prototype, names) {
    try {
      names.forEach(setProp.bind(undefined, prototype));
    } catch (error) {
      // Object.defineProperty failed. Probably IE8.
    }
  }

  function setProp(prototype, name) {
    Object.defineProperty(prototype, name, {
      get: function() {
        return this.get(name);
      },
      set: function(value) {
        invariant(this.__ownerID, 'Cannot set on an immutable record.');
        this.set(name, value);
      }
    });
  }

  function deepEqual(a, b) {
    if (a === b) {
      return true;
    }

    if (
      !isIterable(b) ||
      a.size !== undefined && b.size !== undefined && a.size !== b.size ||
      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||
      isKeyed(a) !== isKeyed(b) ||
      isIndexed(a) !== isIndexed(b) ||
      isOrdered(a) !== isOrdered(b)
    ) {
      return false;
    }

    if (a.size === 0 && b.size === 0) {
      return true;
    }

    var notAssociative = !isAssociative(a);

    if (isOrdered(a)) {
      var entries = a.entries();
      return b.every(function(v, k)  {
        var entry = entries.next().value;
        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));
      }) && entries.next().done;
    }

    var flipped = false;

    if (a.size === undefined) {
      if (b.size === undefined) {
        if (typeof a.cacheResult === 'function') {
          a.cacheResult();
        }
      } else {
        flipped = true;
        var _ = a;
        a = b;
        b = _;
      }
    }

    var allEqual = true;
    var bSize = b.__iterate(function(v, k)  {
      if (notAssociative ? !a.has(v) :
          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {
        allEqual = false;
        return false;
      }
    });

    return allEqual && a.size === bSize;
  }

  createClass(Range, IndexedSeq);

    function Range(start, end, step) {
      if (!(this instanceof Range)) {
        return new Range(start, end, step);
      }
      invariant(step !== 0, 'Cannot step a Range by 0');
      start = start || 0;
      if (end === undefined) {
        end = Infinity;
      }
      step = step === undefined ? 1 : Math.abs(step);
      if (end < start) {
        step = -step;
      }
      this._start = start;
      this._end = end;
      this._step = step;
      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);
      if (this.size === 0) {
        if (EMPTY_RANGE) {
          return EMPTY_RANGE;
        }
        EMPTY_RANGE = this;
      }
    }

    Range.prototype.toString = function() {
      if (this.size === 0) {
        return 'Range []';
      }
      return 'Range [ ' +
        this._start + '...' + this._end +
        (this._step > 1 ? ' by ' + this._step : '') +
      ' ]';
    };

    Range.prototype.get = function(index, notSetValue) {
      return this.has(index) ?
        this._start + wrapIndex(this, index) * this._step :
        notSetValue;
    };

    Range.prototype.includes = function(searchValue) {
      var possibleIndex = (searchValue - this._start) / this._step;
      return possibleIndex >= 0 &&
        possibleIndex < this.size &&
        possibleIndex === Math.floor(possibleIndex);
    };

    Range.prototype.slice = function(begin, end) {
      if (wholeSlice(begin, end, this.size)) {
        return this;
      }
      begin = resolveBegin(begin, this.size);
      end = resolveEnd(end, this.size);
      if (end <= begin) {
        return new Range(0, 0);
      }
      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);
    };

    Range.prototype.indexOf = function(searchValue) {
      var offsetValue = searchValue - this._start;
      if (offsetValue % this._step === 0) {
        var index = offsetValue / this._step;
        if (index >= 0 && index < this.size) {
          return index
        }
      }
      return -1;
    };

    Range.prototype.lastIndexOf = function(searchValue) {
      return this.indexOf(searchValue);
    };

    Range.prototype.__iterate = function(fn, reverse) {
      var maxIndex = this.size - 1;
      var step = this._step;
      var value = reverse ? this._start + maxIndex * step : this._start;
      for (var ii = 0; ii <= maxIndex; ii++) {
        if (fn(value, ii, this) === false) {
          return ii + 1;
        }
        value += reverse ? -step : step;
      }
      return ii;
    };

    Range.prototype.__iterator = function(type, reverse) {
      var maxIndex = this.size - 1;
      var step = this._step;
      var value = reverse ? this._start + maxIndex * step : this._start;
      var ii = 0;
      return new src_Iterator__Iterator(function()  {
        var v = value;
        value += reverse ? -step : step;
        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);
      });
    };

    Range.prototype.equals = function(other) {
      return other instanceof Range ?
        this._start === other._start &&
        this._end === other._end &&
        this._step === other._step :
        deepEqual(this, other);
    };


  var EMPTY_RANGE;

  createClass(Repeat, IndexedSeq);

    function Repeat(value, times) {
      if (!(this instanceof Repeat)) {
        return new Repeat(value, times);
      }
      this._value = value;
      this.size = times === undefined ? Infinity : Math.max(0, times);
      if (this.size === 0) {
        if (EMPTY_REPEAT) {
          return EMPTY_REPEAT;
        }
        EMPTY_REPEAT = this;
      }
    }

    Repeat.prototype.toString = function() {
      if (this.size === 0) {
        return 'Repeat []';
      }
      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';
    };

    Repeat.prototype.get = function(index, notSetValue) {
      return this.has(index) ? this._value : notSetValue;
    };

    Repeat.prototype.includes = function(searchValue) {
      return is(this._value, searchValue);
    };

    Repeat.prototype.slice = function(begin, end) {
      var size = this.size;
      return wholeSlice(begin, end, size) ? this :
        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));
    };

    Repeat.prototype.reverse = function() {
      return this;
    };

    Repeat.prototype.indexOf = function(searchValue) {
      if (is(this._value, searchValue)) {
        return 0;
      }
      return -1;
    };

    Repeat.prototype.lastIndexOf = function(searchValue) {
      if (is(this._value, searchValue)) {
        return this.size;
      }
      return -1;
    };

    Repeat.prototype.__iterate = function(fn, reverse) {
      for (var ii = 0; ii < this.size; ii++) {
        if (fn(this._value, ii, this) === false) {
          return ii + 1;
        }
      }
      return ii;
    };

    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;
      var ii = 0;
      return new src_Iterator__Iterator(function() 
        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}
      );
    };

    Repeat.prototype.equals = function(other) {
      return other instanceof Repeat ?
        is(this._value, other._value) :
        deepEqual(other);
    };


  var EMPTY_REPEAT;

  /**
   * Contributes additional methods to a constructor
   */
  function mixin(ctor, methods) {
    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };
    Object.keys(methods).forEach(keyCopier);
    Object.getOwnPropertySymbols &&
      Object.getOwnPropertySymbols(methods).forEach(keyCopier);
    return ctor;
  }

  Iterable.Iterator = src_Iterator__Iterator;

  mixin(Iterable, {

    // ### Conversion to other types

    toArray: function() {
      assertNotInfinite(this.size);
      var array = new Array(this.size || 0);
      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });
      return array;
    },

    toIndexedSeq: function() {
      return new ToIndexedSequence(this);
    },

    toJS: function() {
      return this.toSeq().map(
        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}
      ).__toJS();
    },

    toJSON: function() {
      return this.toSeq().map(
        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}
      ).__toJS();
    },

    toKeyedSeq: function() {
      return new ToKeyedSequence(this, true);
    },

    toMap: function() {
      // Use Late Binding here to solve the circular dependency.
      return src_Map__Map(this.toKeyedSeq());
    },

    toObject: function() {
      assertNotInfinite(this.size);
      var object = {};
      this.__iterate(function(v, k)  { object[k] = v; });
      return object;
    },

    toOrderedMap: function() {
      // Use Late Binding here to solve the circular dependency.
      return OrderedMap(this.toKeyedSeq());
    },

    toOrderedSet: function() {
      // Use Late Binding here to solve the circular dependency.
      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);
    },

    toSet: function() {
      // Use Late Binding here to solve the circular dependency.
      return src_Set__Set(isKeyed(this) ? this.valueSeq() : this);
    },

    toSetSeq: function() {
      return new ToSetSequence(this);
    },

    toSeq: function() {
      return isIndexed(this) ? this.toIndexedSeq() :
        isKeyed(this) ? this.toKeyedSeq() :
        this.toSetSeq();
    },

    toStack: function() {
      // Use Late Binding here to solve the circular dependency.
      return Stack(isKeyed(this) ? this.valueSeq() : this);
    },

    toList: function() {
      // Use Late Binding here to solve the circular dependency.
      return List(isKeyed(this) ? this.valueSeq() : this);
    },


    // ### Common JavaScript methods and properties

    toString: function() {
      return '[Iterable]';
    },

    __toString: function(head, tail) {
      if (this.size === 0) {
        return head + tail;
      }
      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;
    },


    // ### ES6 Collection methods (ES6 Array and Map)

    concat: function() {var values = SLICE$0.call(arguments, 0);
      return reify(this, concatFactory(this, values));
    },

    includes: function(searchValue) {
      return this.some(function(value ) {return is(value, searchValue)});
    },

    entries: function() {
      return this.__iterator(ITERATE_ENTRIES);
    },

    every: function(predicate, context) {
      assertNotInfinite(this.size);
      var returnValue = true;
      this.__iterate(function(v, k, c)  {
        if (!predicate.call(context, v, k, c)) {
          returnValue = false;
          return false;
        }
      });
      return returnValue;
    },

    filter: function(predicate, context) {
      return reify(this, filterFactory(this, predicate, context, true));
    },

    find: function(predicate, context, notSetValue) {
      var entry = this.findEntry(predicate, context);
      return entry ? entry[1] : notSetValue;
    },

    findEntry: function(predicate, context) {
      var found;
      this.__iterate(function(v, k, c)  {
        if (predicate.call(context, v, k, c)) {
          found = [k, v];
          return false;
        }
      });
      return found;
    },

    findLastEntry: function(predicate, context) {
      return this.toSeq().reverse().findEntry(predicate, context);
    },

    forEach: function(sideEffect, context) {
      assertNotInfinite(this.size);
      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);
    },

    join: function(separator) {
      assertNotInfinite(this.size);
      separator = separator !== undefined ? '' + separator : ',';
      var joined = '';
      var isFirst = true;
      this.__iterate(function(v ) {
        isFirst ? (isFirst = false) : (joined += separator);
        joined += v !== null && v !== undefined ? v.toString() : '';
      });
      return joined;
    },

    keys: function() {
      return this.__iterator(ITERATE_KEYS);
    },

    map: function(mapper, context) {
      return reify(this, mapFactory(this, mapper, context));
    },

    reduce: function(reducer, initialReduction, context) {
      assertNotInfinite(this.size);
      var reduction;
      var useFirst;
      if (arguments.length < 2) {
        useFirst = true;
      } else {
        reduction = initialReduction;
      }
      this.__iterate(function(v, k, c)  {
        if (useFirst) {
          useFirst = false;
          reduction = v;
        } else {
          reduction = reducer.call(context, reduction, v, k, c);
        }
      });
      return reduction;
    },

    reduceRight: function(reducer, initialReduction, context) {
      var reversed = this.toKeyedSeq().reverse();
      return reversed.reduce.apply(reversed, arguments);
    },

    reverse: function() {
      return reify(this, reverseFactory(this, true));
    },

    slice: function(begin, end) {
      return reify(this, sliceFactory(this, begin, end, true));
    },

    some: function(predicate, context) {
      return !this.every(not(predicate), context);
    },

    sort: function(comparator) {
      return reify(this, sortFactory(this, comparator));
    },

    values: function() {
      return this.__iterator(ITERATE_VALUES);
    },


    // ### More sequential methods

    butLast: function() {
      return this.slice(0, -1);
    },

    isEmpty: function() {
      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});
    },

    count: function(predicate, context) {
      return ensureSize(
        predicate ? this.toSeq().filter(predicate, context) : this
      );
    },

    countBy: function(grouper, context) {
      return countByFactory(this, grouper, context);
    },

    equals: function(other) {
      return deepEqual(this, other);
    },

    entrySeq: function() {
      var iterable = this;
      if (iterable._cache) {
        // We cache as an entries array, so we can just return the cache!
        return new ArraySeq(iterable._cache);
      }
      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();
      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};
      return entriesSequence;
    },

    filterNot: function(predicate, context) {
      return this.filter(not(predicate), context);
    },

    findLast: function(predicate, context, notSetValue) {
      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);
    },

    first: function() {
      return this.find(returnTrue);
    },

    flatMap: function(mapper, context) {
      return reify(this, flatMapFactory(this, mapper, context));
    },

    flatten: function(depth) {
      return reify(this, flattenFactory(this, depth, true));
    },

    fromEntrySeq: function() {
      return new FromEntriesSequence(this);
    },

    get: function(searchKey, notSetValue) {
      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);
    },

    getIn: function(searchKeyPath, notSetValue) {
      var nested = this;
      // Note: in an ES6 environment, we would prefer:
      // for (var key of searchKeyPath) {
      var iter = forceIterator(searchKeyPath);
      var step;
      while (!(step = iter.next()).done) {
        var key = step.value;
        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;
        if (nested === NOT_SET) {
          return notSetValue;
        }
      }
      return nested;
    },

    groupBy: function(grouper, context) {
      return groupByFactory(this, grouper, context);
    },

    has: function(searchKey) {
      return this.get(searchKey, NOT_SET) !== NOT_SET;
    },

    hasIn: function(searchKeyPath) {
      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;
    },

    isSubset: function(iter) {
      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);
      return this.every(function(value ) {return iter.includes(value)});
    },

    isSuperset: function(iter) {
      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);
      return iter.isSubset(this);
    },

    keySeq: function() {
      return this.toSeq().map(keyMapper).toIndexedSeq();
    },

    last: function() {
      return this.toSeq().reverse().first();
    },

    max: function(comparator) {
      return maxFactory(this, comparator);
    },

    maxBy: function(mapper, comparator) {
      return maxFactory(this, comparator, mapper);
    },

    min: function(comparator) {
      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);
    },

    minBy: function(mapper, comparator) {
      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);
    },

    rest: function() {
      return this.slice(1);
    },

    skip: function(amount) {
      return this.slice(Math.max(0, amount));
    },

    skipLast: function(amount) {
      return reify(this, this.toSeq().reverse().skip(amount).reverse());
    },

    skipWhile: function(predicate, context) {
      return reify(this, skipWhileFactory(this, predicate, context, true));
    },

    skipUntil: function(predicate, context) {
      return this.skipWhile(not(predicate), context);
    },

    sortBy: function(mapper, comparator) {
      return reify(this, sortFactory(this, comparator, mapper));
    },

    take: function(amount) {
      return this.slice(0, Math.max(0, amount));
    },

    takeLast: function(amount) {
      return reify(this, this.toSeq().reverse().take(amount).reverse());
    },

    takeWhile: function(predicate, context) {
      return reify(this, takeWhileFactory(this, predicate, context));
    },

    takeUntil: function(predicate, context) {
      return this.takeWhile(not(predicate), context);
    },

    valueSeq: function() {
      return this.toIndexedSeq();
    },


    // ### Hashable Object

    hashCode: function() {
      return this.__hash || (this.__hash = hashIterable(this));
    }


    // ### Internal

    // abstract __iterate(fn, reverse)

    // abstract __iterator(type, reverse)
  });

  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';
  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';
  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';
  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';

  var IterablePrototype = Iterable.prototype;
  IterablePrototype[IS_ITERABLE_SENTINEL] = true;
  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;
  IterablePrototype.__toJS = IterablePrototype.toArray;
  IterablePrototype.__toStringMapper = quoteString;
  IterablePrototype.inspect =
  IterablePrototype.toSource = function() { return this.toString(); };
  IterablePrototype.chain = IterablePrototype.flatMap;
  IterablePrototype.contains = IterablePrototype.includes;

  // Temporary warning about using length
  (function () {
    try {
      Object.defineProperty(IterablePrototype, 'length', {
        get: function () {
          if (!Iterable.noLengthWarning) {
            var stack;
            try {
              throw new Error();
            } catch (error) {
              stack = error.stack;
            }
            if (stack.indexOf('_wrapObject') === -1) {
              console && console.warn && console.warn(
                'iterable.length has been deprecated, '+
                'use iterable.size or iterable.count(). '+
                'This warning will become a silent error in a future version. ' +
                stack
              );
              return this.size;
            }
          }
        }
      });
    } catch (e) {}
  })();



  mixin(KeyedIterable, {

    // ### More sequential methods

    flip: function() {
      return reify(this, flipFactory(this));
    },

    findKey: function(predicate, context) {
      var entry = this.findEntry(predicate, context);
      return entry && entry[0];
    },

    findLastKey: function(predicate, context) {
      return this.toSeq().reverse().findKey(predicate, context);
    },

    keyOf: function(searchValue) {
      return this.findKey(function(value ) {return is(value, searchValue)});
    },

    lastKeyOf: function(searchValue) {
      return this.findLastKey(function(value ) {return is(value, searchValue)});
    },

    mapEntries: function(mapper, context) {var this$0 = this;
      var iterations = 0;
      return reify(this,
        this.toSeq().map(
          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}
        ).fromEntrySeq()
      );
    },

    mapKeys: function(mapper, context) {var this$0 = this;
      return reify(this,
        this.toSeq().flip().map(
          function(k, v)  {return mapper.call(context, k, v, this$0)}
        ).flip()
      );
    }

  });

  var KeyedIterablePrototype = KeyedIterable.prototype;
  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;
  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;
  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;
  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};



  mixin(IndexedIterable, {

    // ### Conversion to other types

    toKeyedSeq: function() {
      return new ToKeyedSequence(this, false);
    },


    // ### ES6 Collection methods (ES6 Array and Map)

    filter: function(predicate, context) {
      return reify(this, filterFactory(this, predicate, context, false));
    },

    findIndex: function(predicate, context) {
      var entry = this.findEntry(predicate, context);
      return entry ? entry[0] : -1;
    },

    indexOf: function(searchValue) {
      var key = this.toKeyedSeq().keyOf(searchValue);
      return key === undefined ? -1 : key;
    },

    lastIndexOf: function(searchValue) {
      return this.toSeq().reverse().indexOf(searchValue);
    },

    reverse: function() {
      return reify(this, reverseFactory(this, false));
    },

    slice: function(begin, end) {
      return reify(this, sliceFactory(this, begin, end, false));
    },

    splice: function(index, removeNum /*, ...values*/) {
      var numArgs = arguments.length;
      removeNum = Math.max(removeNum | 0, 0);
      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {
        return this;
      }
      // If index is negative, it should resolve relative to the size of the
      // collection. However size may be expensive to compute if not cached, so
      // only call count() if the number is in fact negative.
      index = resolveBegin(index, index < 0 ? this.count() : this.size);
      var spliced = this.slice(0, index);
      return reify(
        this,
        numArgs === 1 ?
          spliced :
          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))
      );
    },


    // ### More collection methods

    findLastIndex: function(predicate, context) {
      var key = this.toKeyedSeq().findLastKey(predicate, context);
      return key === undefined ? -1 : key;
    },

    first: function() {
      return this.get(0);
    },

    flatten: function(depth) {
      return reify(this, flattenFactory(this, depth, false));
    },

    get: function(index, notSetValue) {
      index = wrapIndex(this, index);
      return (index < 0 || (this.size === Infinity ||
          (this.size !== undefined && index > this.size))) ?
        notSetValue :
        this.find(function(_, key)  {return key === index}, undefined, notSetValue);
    },

    has: function(index) {
      index = wrapIndex(this, index);
      return index >= 0 && (this.size !== undefined ?
        this.size === Infinity || index < this.size :
        this.indexOf(index) !== -1
      );
    },

    interpose: function(separator) {
      return reify(this, interposeFactory(this, separator));
    },

    interleave: function(/*...iterables*/) {
      var iterables = [this].concat(arrCopy(arguments));
      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);
      var interleaved = zipped.flatten(true);
      if (zipped.size) {
        interleaved.size = zipped.size * iterables.length;
      }
      return reify(this, interleaved);
    },

    last: function() {
      return this.get(-1);
    },

    skipWhile: function(predicate, context) {
      return reify(this, skipWhileFactory(this, predicate, context, false));
    },

    zip: function(/*, ...iterables */) {
      var iterables = [this].concat(arrCopy(arguments));
      return reify(this, zipWithFactory(this, defaultZipper, iterables));
    },

    zipWith: function(zipper/*, ...iterables */) {
      var iterables = arrCopy(arguments);
      iterables[0] = this;
      return reify(this, zipWithFactory(this, zipper, iterables));
    }

  });

  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;
  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;



  mixin(SetIterable, {

    // ### ES6 Collection methods (ES6 Array and Map)

    get: function(value, notSetValue) {
      return this.has(value) ? value : notSetValue;
    },

    includes: function(value) {
      return this.has(value);
    },


    // ### More sequential methods

    keySeq: function() {
      return this.valueSeq();
    }

  });

  SetIterable.prototype.has = IterablePrototype.includes;


  // Mixin subclasses

  mixin(KeyedSeq, KeyedIterable.prototype);
  mixin(IndexedSeq, IndexedIterable.prototype);
  mixin(SetSeq, SetIterable.prototype);

  mixin(KeyedCollection, KeyedIterable.prototype);
  mixin(IndexedCollection, IndexedIterable.prototype);
  mixin(SetCollection, SetIterable.prototype);


  // #pragma Helper functions

  function keyMapper(v, k) {
    return k;
  }

  function entryMapper(v, k) {
    return [k, v];
  }

  function not(predicate) {
    return function() {
      return !predicate.apply(this, arguments);
    }
  }

  function neg(predicate) {
    return function() {
      return -predicate.apply(this, arguments);
    }
  }

  function quoteString(value) {
    return typeof value === 'string' ? JSON.stringify(value) : value;
  }

  function defaultZipper() {
    return arrCopy(arguments);
  }

  function defaultNegComparator(a, b) {
    return a < b ? 1 : a > b ? -1 : 0;
  }

  function hashIterable(iterable) {
    if (iterable.size === Infinity) {
      return 0;
    }
    var ordered = isOrdered(iterable);
    var keyed = isKeyed(iterable);
    var h = ordered ? 1 : 0;
    var size = iterable.__iterate(
      keyed ?
        ordered ?
          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :
          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :
        ordered ?
          function(v ) { h = 31 * h + hash(v) | 0; } :
          function(v ) { h = h + hash(v) | 0; }
    );
    return murmurHashOfSize(size, h);
  }

  function murmurHashOfSize(size, h) {
    h = src_Math__imul(h, 0xCC9E2D51);
    h = src_Math__imul(h << 15 | h >>> -15, 0x1B873593);
    h = src_Math__imul(h << 13 | h >>> -13, 5);
    h = (h + 0xE6546B64 | 0) ^ size;
    h = src_Math__imul(h ^ h >>> 16, 0x85EBCA6B);
    h = src_Math__imul(h ^ h >>> 13, 0xC2B2AE35);
    h = smi(h ^ h >>> 16);
    return h;
  }

  function hashMerge(a, b) {
    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int
  }

  var Immutable = {

    Iterable: Iterable,

    Seq: Seq,
    Collection: Collection,
    Map: src_Map__Map,
    OrderedMap: OrderedMap,
    List: List,
    Stack: Stack,
    Set: src_Set__Set,
    OrderedSet: OrderedSet,

    Record: Record,
    Range: Range,
    Repeat: Repeat,

    is: is,
    fromJS: fromJS

  };

  return Immutable;

}));
},{}],53:[function(require,module,exports){
module.exports=[
    "biatch",
    "bitch",
    "chinaman",
    "chinamen",
    "chink",
    "crip",
    "cunt",
    "dago",
    "daygo",
    "dego",
    "dick",
    "douchebag",
    "dyke",
    "fag",
    "fatass",
    "fatso",
    "gash",
    "gimp",
    "golliwog",
    "gook",
    "gyp",
    "homo",
    "hooker",
    "jap",
    "kike",
    "kraut",
    "lardass",
    "lesbo",
    "negro",
    "nigger",
    "paki",
    "pussy",
    "raghead",
    "retard",
    "shemale",
    "skank",
    "slut",
    "spic",
    "tard",
    "tits",
    "titt",
    "trannies",
    "tranny",
    "twat",
    "wetback",
    "whore",
    "wop"
]

},{}],54:[function(require,module,exports){
/*
 * wordfilter
 * https://github.com/dariusk/wordfilter
 *
 * Copyright (c) 2013 Darius Kazemi
 * Licensed under the MIT license.
 */

'use strict';

var blacklist, regex;

function rebuild() {
  regex = new RegExp(blacklist.join('|'), 'i');
}

blacklist = require('./badwords.json');
rebuild();

module.exports = {
  blacklisted: function(string) {
    return !!blacklist.length && regex.test(string);
  },
  addWords: function(array) {
    blacklist = blacklist.concat(array);
    rebuild();
  },
  removeWord: function(word) {
    var index = blacklist.indexOf(word);
    if (index > -1) {
      blacklist.splice(index, 1);
      rebuild();
    }
  },
  clearList: function() {
    blacklist = [];
    rebuild();
  },
};

},{"./badwords.json":53}],55:[function(require,module,exports){
(function (global){

/**
 * Module exports.
 */

module.exports = deprecate;

/**
 * Mark that a method should not be used.
 * Returns a modified function which warns once by default.
 *
 * If `localStorage.noDeprecation = true` is set, then it is a no-op.
 *
 * If `localStorage.throwDeprecation = true` is set, then deprecated functions
 * will throw an Error when invoked.
 *
 * If `localStorage.traceDeprecation = true` is set, then deprecated functions
 * will invoke `console.trace()` instead of `console.error()`.
 *
 * @param {Function} fn - the function to deprecate
 * @param {String} msg - the string to print to the console when `fn` is invoked
 * @returns {Function} a new "deprecated" version of `fn`
 * @api public
 */

function deprecate (fn, msg) {
  if (config('noDeprecation')) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (config('throwDeprecation')) {
        throw new Error(msg);
      } else if (config('traceDeprecation')) {
        console.trace(msg);
      } else {
        console.warn(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
}

/**
 * Checks `localStorage` for boolean values for the given `name`.
 *
 * @param {String} name
 * @returns {Boolean}
 * @api private
 */

function config (name) {
  // accessing global.localStorage can trigger a DOMException in sandboxed iframes
  try {
    if (!global.localStorage) return false;
  } catch (_) {
    return false;
  }
  var val = global.localStorage[name];
  if (null == val) return false;
  return String(val).toLowerCase() === 'true';
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],56:[function(require,module,exports){
module.exports = function isBuffer(arg) {
  return arg && typeof arg === 'object'
    && typeof arg.copy === 'function'
    && typeof arg.fill === 'function'
    && typeof arg.readUInt8 === 'function';
}
},{}],57:[function(require,module,exports){
(function (process,global){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  // Allow for deprecating things in the process of starting up.
  if (isUndefined(global.process)) {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  if (process.noDeprecation === true) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnviron;
exports.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = require('./support/isBuffer');

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = require('inherits');

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":56,"_process":34,"inherits":25}],58:[function(require,module,exports){
var pick = require('pick-random')
var imageMap = require('./imageMap')
var cap = require('capitalize')

var absence = require('./actors/absence')
var baes = require('./actors/baes')
var snake_oil = require('./actors/snake_oil')
var snowballer = require('./actors/snowballer')

var imageMap = require('./imageMap')

var actors = [absence, baes, snake_oil, snowballer]
module.exports = function (name, num, topics) {
  var section = document.createElement('section') // nice semantics here
  section.className = 'section'


  var cover = document.createElement('center') // nice semantics here
  cover.className = 'page'

  var heading  = document.createElement('h1')
  heading.textContent = name
  cover.appendChild(heading)

  for (var i = 0; i < 4; i++) {
    var subImage = document.createElement('img')
    subImage.className = 'section--img'
    subImage.src = pick(pick(imageMap)[0])[0]
    cover.appendChild(subImage)

    if (i == 1) {
      cover.appendChild(document.createElement('br'))
    }
  }


  section.appendChild(cover)

  for (var i = 0; i < 7; i++) {
    var page = document.createElement('center') // nice semantics here
    page.className = 'page'


    for (var j = 0; j < 20; j++) {
      var item = document.createElement('div')
      item.className = 'item'

      var actor = pick(actors)[0]
      var itemImg = document.createElement('img')
      itemImg.className = 'item--img'
      itemImg.src = pick(pick(imageMap)[0])[0]
      item.appendChild(itemImg)

      var text = document.createElement('h' + (~~(Math.random() * 5) + 2))
      text.textContent = actor((~~(Math.random() * 7) + 3))
      item.appendChild(itemImg)
      item.appendChild(text)
      if (Math.random() < 0.75) {
        var summary = document.createElement('center')
        summary.textContent = actor((~~(Math.random() * 12) + 7))
        item.appendChild(summary)
      } else if (Math.random() < 0.5) {
        var list = document.createElement('ol')
        list.className = 'item--list'
        topics.forEach(function (topic) {
          var el = document.createElement('li')
          el.textContent = actor((~~(Math.random() * 12) + 7))
          list.appendChild(el)
        })
        item.appendChild(list)
      } else {
        var author = document.createElement('h5')
        author.textContent = 'by ' + actor(3).split(' ').map(function (w) {return cap(w)})
        var opEd = document.createElement('div')
        opEd.textContent = [1,2,3,4,5,6,7,8,9,10,11,12].map(function (i) {
          return actor(i + ~~(Math.random() * 25))
        }).join('. ')
        item.appendChild(author)
        item.appendChild(opEd)
      }
      page.appendChild(item)
    }
    section.appendChild(page)
  }
  return section
}

},{"./actors/absence":1,"./actors/baes":2,"./actors/snake_oil":3,"./actors/snowballer":4,"./imageMap":10,"capitalize":21,"pick-random":32}],59:[function(require,module,exports){
var q = require('queneau-buckets')()
q.seed(require('./corpuses/subtitles'))

module.exports = function () {
  return q.fill(~~(Math.random() * 3) + 2).toUpperCase()
}

},{"./corpuses/subtitles":7,"queneau-buckets":35}],60:[function(require,module,exports){
var q = require('queneau-buckets')()
q.seed(require('./corpuses/TOC'))

module.exports = function () {
  return [1, 2, 3, 4, 5, 6, 7].map(function () {
    var sec = q.fill(~~(Math.random() * 3) + 2)
    console.log(sec)
    return sec.toUpperCase()
  })
}

},{"./corpuses/TOC":5,"queneau-buckets":35}],61:[function(require,module,exports){

var pick = require('pick-random')
module.exports = function (topics) {


  var tocPage = document.createElement('section')
  tocPage.className = 'toc page'
  var centoc = document.createElement('center')
  var headline = document.createElement('h1')
  headline.className = 'toc--headline'
  headline.textContent = 'THEE NULLE EARTHE CATALOGE'
  centoc.appendChild(headline)


  var list = document.createElement('ol')
  list.className = 'toc--list'

  topics.forEach(function (topic) {
    var el = document.createElement('li')
    el.className = 'toc--header'
    el.textContent = topic.toUpperCase()
    list.appendChild(el)
  })


  centoc.appendChild(list)
  tocPage.appendChild(centoc)
  return tocPage
}
},{"pick-random":32}],62:[function(require,module,exports){

var pick = require('pick-random')
var imageMap = require('./imageMap')
var missionStatement = require('./missionStatement')()
module.exports = function (uses) {


  var usePage = document.createElement('section')
  usePage.className = 'use page'



  var cento = document.createElement('center')
  var headline = document.createElement('h1')
  headline.className = 'use--headline'
  headline.textContent = 'HOW 2 USE THIS TEXT'
  cento.appendChild(headline)


  var list = document.createElement('ol')
  list.className = 'use--list'

  uses.forEach(function (use) {
    var el = document.createElement('li')
    el.className = 'use--header'
    el.textContent = use.toUpperCase()
    list.appendChild(el)
  })

  cento.appendChild(list)

  var subImage = document.createElement('img')
  subImage.className = 'use--img'
  subImage.src = pick(pick(imageMap)[0])[0]
  cento.appendChild(subImage)

  var theMission = document.createElement('div')
  theMission.className = 'use--mission'
  theMission.textContent = missionStatement
  cento.appendChild(theMission)
  usePage.appendChild(cento)
  return usePage
}
},{"./imageMap":10,"./missionStatement":12,"pick-random":32}],63:[function(require,module,exports){
var pick = require('pick-random')


module.exports = function () {
  return pick(["PURPOSE", "FUNCTION", "USE", "HOPES", "FEARS", "DREAMS", "CATS", "PORPOISE", "MAGIC",
               "ABSTRACT-EXPRESSIONISM", "ANTI-CAPITALISM", "NET ART", "TIPS FOR TWITTER", "EMPATHY",
               "LIBERATION", "MARXISM", "TOP 40 POP STARS"], {count: 3})
}
},{"pick-random":32}]},{},[11])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhY3RvcnMvYWJzZW5jZS5qcyIsImFjdG9ycy9iYWVzLmpzIiwiYWN0b3JzL3NuYWtlX29pbC5qcyIsImFjdG9ycy9zbm93YmFsbGVyLmpzIiwiY29ycHVzZXMvVE9DLmpzIiwiY29ycHVzZXMvbWFyeC5qcyIsImNvcnB1c2VzL3N1YnRpdGxlcy5qcyIsImNvcnB1c2VzL3RzMTk4OS5qcyIsImNvdmVyUGFnZS5qcyIsImltYWdlTWFwLmpzIiwiaW5kZXguanMiLCJtaXNzaW9uU3RhdGVtZW50LmpzIiwibm9kZV9tb2R1bGVzL0Bjb2xld3cvbWFya292L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL0Bjb2xld3cvbWFya292L25vZGVfbW9kdWxlcy9kZWNrL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL0Bjb2xld3cvbWFya292L25vZGVfbW9kdWxlcy9oYXNoaXNoL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL0Bjb2xld3cvbWFya292L25vZGVfbW9kdWxlcy9oYXNoaXNoL25vZGVfbW9kdWxlcy90cmF2ZXJzZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9AY29sZXd3L21hcmtvdi9ub2RlX21vZHVsZXMvbGF6eS9sYXp5LmpzIiwibm9kZV9tb2R1bGVzL2Jhc2U2NC1qcy9saWIvYjY0LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXItcmVzb2x2ZS9lbXB0eS5qcyIsIm5vZGVfbW9kdWxlcy9idWZmZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvY2FwaXRhbGl6ZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLXV0aWwtaXMvbGliL3V0aWwuanMiLCJub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIm5vZGVfbW9kdWxlcy9pZWVlNzU0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvaXMtYXJyYXkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2lzLXNub3diYWxsL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbGlwb2dyYW0vaW5kZXguanMiLCJub2RlX21vZHVsZXMvbmV3LXNsYW5nL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3BpY2stcmFuZG9tL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MtbmV4dGljay1hcmdzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9xdWVuZWF1LWJ1Y2tldHMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2R1cGxleC5qcyIsIm5vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fZHVwbGV4LmpzIiwibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9saWIvX3N0cmVhbV9wYXNzdGhyb3VnaC5qcyIsIm5vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fcmVhZGFibGUuanMiLCJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcyIsIm5vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vbGliL19zdHJlYW1fd3JpdGFibGUuanMiLCJub2RlX21vZHVsZXMvcmVhZGFibGUtc3RyZWFtL3Bhc3N0aHJvdWdoLmpzIiwibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS9yZWFkYWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9yZWFkYWJsZS1zdHJlYW0vdHJhbnNmb3JtLmpzIiwibm9kZV9tb2R1bGVzL3JlYWRhYmxlLXN0cmVhbS93cml0YWJsZS5qcyIsIm5vZGVfbW9kdWxlcy9zdHJlYW0tYnJvd3NlcmlmeS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zdHJpbmdfZGVjb2Rlci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy90aGlzLWlzLXByb2JhYmx5LW9rLXRvLXNheS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy90aGlzLWlzLXByb2JhYmx5LW9rLXRvLXNheS9ub2RlX21vZHVsZXMvaXNjb29sL2RlZmF1bHRsaXN0cy5qcyIsIm5vZGVfbW9kdWxlcy90aGlzLWlzLXByb2JhYmx5LW9rLXRvLXNheS9ub2RlX21vZHVsZXMvaXNjb29sL2lzY29vbC5qcyIsIm5vZGVfbW9kdWxlcy90aGlzLWlzLXByb2JhYmx5LW9rLXRvLXNheS9ub2RlX21vZHVsZXMvaXNjb29sL25vZGVfbW9kdWxlcy9pbW11dGFibGUvZGlzdC9pbW11dGFibGUuanMiLCJub2RlX21vZHVsZXMvdGhpcy1pcy1wcm9iYWJseS1vay10by1zYXkvbm9kZV9tb2R1bGVzL2lzY29vbC9ub2RlX21vZHVsZXMvd29yZGZpbHRlci9saWIvYmFkd29yZHMuanNvbiIsIm5vZGVfbW9kdWxlcy90aGlzLWlzLXByb2JhYmx5LW9rLXRvLXNheS9ub2RlX21vZHVsZXMvaXNjb29sL25vZGVfbW9kdWxlcy93b3JkZmlsdGVyL2xpYi93b3JkZmlsdGVyLmpzIiwibm9kZV9tb2R1bGVzL3V0aWwtZGVwcmVjYXRlL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvdXRpbC9zdXBwb3J0L2lzQnVmZmVyQnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy91dGlsL3V0aWwuanMiLCJzZWN0aW9uLmpzIiwic3VidGl0bGUuanMiLCJ0b2MuanMiLCJ0b2NQYWdlLmpzIiwidXNlUGFnZS5qcyIsInVzZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNueUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcmFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcmZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3ZNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3UEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMxVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzdWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVIQTs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDeGdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQzFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDNUNBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDNzhCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDck1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvZ0JBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTs7QUNEQTtBQUNBOztBQ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3TkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvMUpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUMxa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgbGlwb2dyYW0gPSByZXF1aXJlKCdsaXBvZ3JhbScpXG52YXIgbWFya292ID0gcmVxdWlyZSgnQGNvbGV3dy9tYXJrb3YnKVxudmFyIHRpcG90cyA9IHJlcXVpcmUoJ3RoaXMtaXMtcHJvYmFibHktb2stdG8tc2F5JylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBcImhvd2R5XCJcbn0iLCJ2YXIgdGlwb3RzID0gcmVxdWlyZSgndGhpcy1pcy1wcm9iYWJseS1vay10by1zYXknKVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBcImhvd2R5XCJcbn0iLCJ2YXIgcXVlbmVhdUJ1Y2tldHMgPSByZXF1aXJlKCdxdWVuZWF1LWJ1Y2tldHMnKVxudmFyIG5ld1NsYW5nID0gcmVxdWlyZSgnbmV3LXNsYW5nJylcbnZhciB0aXBvdHMgPSByZXF1aXJlKCd0aGlzLWlzLXByb2JhYmx5LW9rLXRvLXNheScpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIFwiaG93ZHlcIlxufSIsInZhciBpc1Nub3diYWxsID0gcmVxdWlyZSgnaXMtc25vd2JhbGwnKVxudmFyIHRpcG90cyA9IHJlcXVpcmUoJ3RoaXMtaXMtcHJvYmFibHktb2stdG8tc2F5Jylcbi8vIGZzLnJlYWRkaXJTeW5jKCcuLi9jb3JwdXNlcycpIC8vIHVtIHJlYWQgYWxsIHRoZSB0aGluZ3MsIHB1bGwgb3V0IHNub3diYWxscy5cblxuLy8gbWFrZSBhIHNub3diYWxsIG1hcmtvdiBvciBzb21ldGhpbmc/XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIFwiaG93ZHlcIlxufSIsIm1vZHVsZS5leHBvcnRzID0gW1xuXCJ1bmRlcnN0YW5kaW5nIHdob2xlIHN5c3RlbXNcIixcblwic2hlbHRlciBhbmQgbGFuZCB1c2VcIixcblwiaW5kdXN0cnkgYW5kIGNyYWZ0XCIsXG5cImNvbW11bmljYXRpb24gaW4gYSBwb3N0LWludGVybmV0IHdvcmxkXCIsXG5cImNvbW11bml0eSBhbmQgZW1wYXRoZXRpYyBjb29wZXJhdGlvblwiLFxuXCJub21hZGljIHRlY2huaXF1ZXMgb2YgdGhlIGZ1dHVyZVwiLFxuXCJsZWFybmluZyB0byBsZWFyblwiLFxuXCJlbWVyZ2VudCB0ZWNobm9sb2dpZXNcIixcblwiZ2VuZXJhdGl2ZSBzeXN0ZW1zXCIsXG5cInNpbXVsYWNyYSBhbmQgc2ltdWxhdGlvblwiLFxuXCJ0aGUgc29jaWV0eSBvZiB0aGUgc3BlY3RhY2xlXCIsXG5cInBvc3Rtb2Rlcm5pc20gb3IgdGhlIGxvZ2ljIG9mIGxhdGUgY2FwaXRhbGlzbVwiLFxuXCJkYWRhaXN0IG1hbmV1dmVycyBpbiB0aGUgZGFya1wiXSIsIm1vZHVsZS5leHBvcnRzID0gW1wiVGhlIGNoaWVmIGRlZmVjdCBvZiBhbGwgaGl0aGVydG8gZXhpc3RpbmcgbWF0ZXJpYWxpc20g4oCTIHRoYXQgb2YgRmV1ZXJiYWNoIGluY2x1ZGVkIOKAkyBpcyB0aGF0IHRoZSB0aGluZywgcmVhbGl0eSwgc2Vuc3VvdXNuZXNzLCBpcyBjb25jZWl2ZWQgb25seSBpbiB0aGUgZm9ybSBvZiB0aGUgb2JqZWN0IG9yIG9mIGNvbnRlbXBsYXRpb24sIGJ1dCBub3QgYXMgc2Vuc3VvdXMgaHVtYW4gYWN0aXZpdHksIHByYWN0aWNlLCBub3Qgc3ViamVjdGl2ZWx5LlwiLFxuXCJIZW5jZSwgaW4gY29udHJhZGlzdGluY3Rpb24gdG8gbWF0ZXJpYWxpc20sIHRoZSBhY3RpdmUgc2lkZSB3YXMgZGV2ZWxvcGVkIGFic3RyYWN0bHkgYnkgaWRlYWxpc20g4oCTIHdoaWNoLCBvZiBjb3Vyc2UsIGRvZXMgbm90IGtub3cgcmVhbCwgc2Vuc3VvdXMgYWN0aXZpdHkgYXMgc3VjaC5cIixcblwiRmV1ZXJiYWNoIHdhbnRzIHNlbnN1b3VzIG9iamVjdHMsIHJlYWxseSBkaXN0aW5jdCBmcm9tIHRoZSB0aG91Z2h0IG9iamVjdHMsIGJ1dCBoZSBkb2VzIG5vdCBjb25jZWl2ZSBodW1hbiBhY3Rpdml0eSBpdHNlbGYgYXMgb2JqZWN0aXZlIGFjdGl2aXR5LlwiLFxuXCJIZW5jZSwgaW4gVGhlIEVzc2VuY2Ugb2YgQ2hyaXN0aWFuaXR5LCBoZSByZWdhcmRzIHRoZSB0aGVvcmV0aWNhbCBhdHRpdHVkZSBhcyB0aGUgb25seSBnZW51aW5lbHkgaHVtYW4gYXR0aXR1ZGUsIHdoaWxlIHByYWN0aWNlIGlzIGNvbmNlaXZlZCBhbmQgZml4ZWQgb25seSBpbiBpdHMgZGlydHktanVkYWljYWwgbWFuaWZlc3RhdGlvbi5cIixcblwiSGVuY2UgaGUgZG9lcyBub3QgZ3Jhc3AgdGhlIHNpZ25pZmljYW5jZSBvZiDigJxyZXZvbHV0aW9uYXJ54oCdLCBvZiDigJxwcmFjdGljYWwtY3JpdGljYWzigJ0sIGFjdGl2aXR5LlwiLFxuXCJUaGUgcXVlc3Rpb24gd2hldGhlciBvYmplY3RpdmUgdHJ1dGggY2FuIGJlIGF0dHJpYnV0ZWQgdG8gaHVtYW4gdGhpbmtpbmcgaXMgbm90IGEgcXVlc3Rpb24gb2YgdGhlb3J5IGJ1dCBpcyBhIHByYWN0aWNhbCBxdWVzdGlvbi5cIixcblwiTWFuIG11c3QgcHJvdmUgdGhlIHRydXRoIOKAlCBpLlwiLFxuXCJ0aGUgcmVhbGl0eSBhbmQgcG93ZXIsIHRoZSB0aGlzLXNpZGVkbmVzcyBvZiBoaXMgdGhpbmtpbmcgaW4gcHJhY3RpY2UuXCIsXG5cIlRoZSBkaXNwdXRlIG92ZXIgdGhlIHJlYWxpdHkgb3Igbm9uLXJlYWxpdHkgb2YgdGhpbmtpbmcgdGhhdCBpcyBpc29sYXRlZCBmcm9tIHByYWN0aWNlIGlzIGEgcHVyZWx5IHNjaG9sYXN0aWMgcXVlc3Rpb24uXCIsXG5cIlRoZSBtYXRlcmlhbGlzdCBkb2N0cmluZSBjb25jZXJuaW5nIHRoZSBjaGFuZ2luZyBvZiBjaXJjdW1zdGFuY2VzIGFuZCB1cGJyaW5naW5nIGZvcmdldHMgdGhhdCBjaXJjdW1zdGFuY2VzIGFyZSBjaGFuZ2VkIGJ5IG1lbiBhbmQgdGhhdCBpdCBpcyBlc3NlbnRpYWwgdG8gZWR1Y2F0ZSB0aGUgZWR1Y2F0b3IgaGltc2VsZi5cIixcblwiVGhpcyBkb2N0cmluZSBtdXN0LCB0aGVyZWZvcmUsIGRpdmlkZSBzb2NpZXR5IGludG8gdHdvIHBhcnRzLCBvbmUgb2Ygd2hpY2ggaXMgc3VwZXJpb3IgdG8gc29jaWV0eS5cIixcblwiVGhlIGNvaW5jaWRlbmNlIG9mIHRoZSBjaGFuZ2luZyBvZiBjaXJjdW1zdGFuY2VzIGFuZCBvZiBodW1hbiBhY3Rpdml0eSBvciBzZWxmLWNoYW5naW5nIGNhbiBiZSBjb25jZWl2ZWQgYW5kIHJhdGlvbmFsbHkgdW5kZXJzdG9vZCBvbmx5IGFzIHJldm9sdXRpb25hcnkgcHJhY3RpY2UuXCIsXG5cIkZldWVyYmFjaCBzdGFydHMgb3V0IGZyb20gdGhlIGZhY3Qgb2YgcmVsaWdpb3VzIHNlbGYtYWxpZW5hdGlvbiwgb2YgdGhlIGR1cGxpY2F0aW9uIG9mIHRoZSB3b3JsZCBpbnRvIGEgcmVsaWdpb3VzIHdvcmxkIGFuZCBhIHNlY3VsYXIgb25lLlwiLFxuXCJIaXMgd29yayBjb25zaXN0cyBpbiByZXNvbHZpbmcgdGhlIHJlbGlnaW91cyB3b3JsZCBpbnRvIGl0cyBzZWN1bGFyIGJhc2lzLlwiLFxuXCJCdXQgdGhhdCB0aGUgc2VjdWxhciBiYXNpcyBkZXRhY2hlcyBpdHNlbGYgZnJvbSBpdHNlbGYgYW5kIGVzdGFibGlzaGVzIGl0c2VsZiBhcyBhbiBpbmRlcGVuZGVudCByZWFsbSBpbiB0aGUgY2xvdWRzIGNhbiBvbmx5IGJlIGV4cGxhaW5lZCBieSB0aGUgY2xlYXZhZ2VzIGFuZCBzZWxmLWNvbnRyYWRpY3Rpb25zIHdpdGhpbiB0aGlzIHNlY3VsYXIgYmFzaXMuXCIsXG5cIlRoZSBsYXR0ZXIgbXVzdCwgdGhlcmVmb3JlLCBpbiBpdHNlbGYgYmUgYm90aCB1bmRlcnN0b29kIGluIGl0cyBjb250cmFkaWN0aW9uIGFuZCByZXZvbHV0aW9uaXplZCBpbiBwcmFjdGljZS5cIixcblwiVGh1cywgZm9yIGluc3RhbmNlLCBhZnRlciB0aGUgZWFydGhseSBmYW1pbHkgaXMgZGlzY292ZXJlZCB0byBiZSB0aGUgc2VjcmV0IG9mIHRoZSBob2x5IGZhbWlseSwgdGhlIGZvcm1lciBtdXN0IHRoZW4gaXRzZWxmIGJlIGRlc3Ryb3llZCBpbiB0aGVvcnkgYW5kIGluIHByYWN0aWNlLlwiLFxuXCJGZXVlcmJhY2gsIG5vdCBzYXRpc2ZpZWQgd2l0aCBhYnN0cmFjdCB0aGlua2luZywgd2FudHMgY29udGVtcGxhdGlvbjsgYnV0IGhlIGRvZXMgbm90IGNvbmNlaXZlIHNlbnN1b3VzbmVzcyBhcyBwcmFjdGljYWwsIGh1bWFuLXNlbnN1b3VzIGFjdGl2aXR5LlwiLFxuXCJGZXVlcmJhY2ggcmVzb2x2ZXMgdGhlIHJlbGlnaW91cyBlc3NlbmNlIGludG8gdGhlIGh1bWFuIGVzc2VuY2UuXCIsXG5cIkJ1dCB0aGUgaHVtYW4gZXNzZW5jZSBpcyBubyBhYnN0cmFjdGlvbiBpbmhlcmVudCBpbiBlYWNoIHNpbmdsZSBpbmRpdmlkdWFsLlwiLFxuXCJJbiBpdHMgcmVhbGl0eSBpdCBpcyB0aGUgZW5zZW1ibGUgb2YgdGhlIHNvY2lhbCByZWxhdGlvbnMuXCIsXG5cIkZldWVyYmFjaCwgd2hvIGRvZXMgbm90IGVudGVyIHVwb24gYSBjcml0aWNpc20gb2YgdGhpcyByZWFsIGVzc2VuY2UsIGlzIGNvbnNlcXVlbnRseSBjb21wZWxsZWQ6XCIsXG5cIlRvIGFic3RyYWN0IGZyb20gdGhlIGhpc3RvcmljYWwgcHJvY2VzcyBhbmQgdG8gZml4IHRoZSByZWxpZ2lvdXMgc2VudGltZW50IGFzIHNvbWV0aGluZyBieSBpdHNlbGYgYW5kIHRvIHByZXN1cHBvc2UgYW4gYWJzdHJhY3Qg4oCTIGlzb2xhdGVkIOKAkyBodW1hbiBpbmRpdmlkdWFsLlwiLFxuXCJFc3NlbmNlLCB0aGVyZWZvcmUsIGNhbiBiZSBjb21wcmVoZW5kZWQgb25seSBhcyDigJxnZW51c+KAnSwgYXMgYW4gaW50ZXJuYWwsIGR1bWIgZ2VuZXJhbGl0eSB3aGljaCBuYXR1cmFsbHkgdW5pdGVzIHRoZSBtYW55IGluZGl2aWR1YWxzLlwiLFxuXCJGZXVlcmJhY2gsIGNvbnNlcXVlbnRseSwgZG9lcyBub3Qgc2VlIHRoYXQgdGhlIOKAnHJlbGlnaW91cyBzZW50aW1lbnTigJ0gaXMgaXRzZWxmIGEgc29jaWFsIHByb2R1Y3QsIGFuZCB0aGF0IHRoZSBhYnN0cmFjdCBpbmRpdmlkdWFsIHdob20gaGUgYW5hbHlzZXMgYmVsb25ncyB0byBhIHBhcnRpY3VsYXIgZm9ybSBvZiBzb2NpZXR5LlwiLFxuXCJBbGwgc29jaWFsIGxpZmUgaXMgZXNzZW50aWFsbHkgcHJhY3RpY2FsLlwiLFxuXCJBbGwgbXlzdGVyaWVzIHdoaWNoIGxlYWQgdGhlb3J5IHRvIG15c3RpY2lzbSBmaW5kIHRoZWlyIHJhdGlvbmFsIHNvbHV0aW9uIGluIGh1bWFuIHByYWN0aWNlIGFuZCBpbiB0aGUgY29tcHJlaGVuc2lvbiBvZiB0aGlzIHByYWN0aWNlLlwiLFxuXCJUaGUgaGlnaGVzdCBwb2ludCByZWFjaGVkIGJ5IGNvbnRlbXBsYXRpdmUgbWF0ZXJpYWxpc20sIHRoYXQgaXMsIG1hdGVyaWFsaXNtIHdoaWNoIGRvZXMgbm90IGNvbXByZWhlbmQgc2Vuc3VvdXNuZXNzIGFzIHByYWN0aWNhbCBhY3Rpdml0eSwgaXMgY29udGVtcGxhdGlvbiBvZiBzaW5nbGUgaW5kaXZpZHVhbHMgYW5kIG9mIGNpdmlsIHNvY2lldHkuXCIsXG5cIlRoZSBzdGFuZHBvaW50IG9mIHRoZSBvbGQgbWF0ZXJpYWxpc20gaXMgY2l2aWwgc29jaWV0eTsgdGhlIHN0YW5kcG9pbnQgb2YgdGhlIG5ldyBpcyBodW1hbiBzb2NpZXR5LCBvciBzb2NpYWwgaHVtYW5pdHkuXCIsXG5cIlRoZSBwaGlsb3NvcGhlcnMgaGF2ZSBvbmx5IGludGVycHJldGVkIHRoZSB3b3JsZCwgaW4gdmFyaW91cyB3YXlzOyB0aGUgcG9pbnQgaXMgdG8gY2hhbmdlIGl0LlwiLFxuXCJUaGUgd2VhbHRoIG9mIHRob3NlIHNvY2lldGllcyBpbiB3aGljaCB0aGUgY2FwaXRhbGlzdCBtb2RlIG9mIHByb2R1Y3Rpb24gcHJldmFpbHMsIHByZXNlbnRzIGl0c2VsZiBhcyDigJxhbiBpbW1lbnNlIGFjY3VtdWxhdGlvbiBvZiBjb21tb2RpdGllcyzigJ0gIGl0cyB1bml0IGJlaW5nIGEgc2luZ2xlIGNvbW1vZGl0eS5cIixcblwiT3VyIGludmVzdGlnYXRpb24gbXVzdCB0aGVyZWZvcmUgYmVnaW4gd2l0aCB0aGUgYW5hbHlzaXMgb2YgYSBjb21tb2RpdHkuXCIsXG5cIkEgY29tbW9kaXR5IGlzLCBpbiB0aGUgZmlyc3QgcGxhY2UsIGFuIG9iamVjdCBvdXRzaWRlIHVzLCBhIHRoaW5nIHRoYXQgYnkgaXRzIHByb3BlcnRpZXMgc2F0aXNmaWVzIGh1bWFuIHdhbnRzIG9mIHNvbWUgc29ydCBvciBhbm90aGVyLlwiLFxuXCJUaGUgbmF0dXJlIG9mIHN1Y2ggd2FudHMsIHdoZXRoZXIsIGZvciBpbnN0YW5jZSwgdGhleSBzcHJpbmcgZnJvbSB0aGUgc3RvbWFjaCBvciBmcm9tIGZhbmN5LCBtYWtlcyBubyBkaWZmZXJlbmNlLlwiLFxuXCJOZWl0aGVyIGFyZSB3ZSBoZXJlIGNvbmNlcm5lZCB0byBrbm93IGhvdyB0aGUgb2JqZWN0IHNhdGlzZmllcyB0aGVzZSB3YW50cywgd2hldGhlciBkaXJlY3RseSBhcyBtZWFucyBvZiBzdWJzaXN0ZW5jZSwgb3IgaW5kaXJlY3RseSBhcyBtZWFucyBvZiBwcm9kdWN0aW9uLlwiLFxuXCJFdmVyeSB1c2VmdWwgdGhpbmcsIGFzIGlyb24sIHBhcGVyLCAmYy5cIixcblwibWF5IGJlIGxvb2tlZCBhdCBmcm9tIHRoZSB0d28gcG9pbnRzIG9mIHZpZXcgb2YgcXVhbGl0eSBhbmQgcXVhbnRpdHkuXCIsXG5cIkl0IGlzIGFuIGFzc2VtYmxhZ2Ugb2YgbWFueSBwcm9wZXJ0aWVzLCBhbmQgbWF5IHRoZXJlZm9yZSBiZSBvZiB1c2UgaW4gdmFyaW91cyB3YXlzLlwiLFxuXCJUbyBkaXNjb3ZlciB0aGUgdmFyaW91cyB1c2VzIG9mIHRoaW5ncyBpcyB0aGUgd29yayBvZiBoaXN0b3J5LlwiLFxuXCJTbyBhbHNvIGlzIHRoZSBlc3RhYmxpc2htZW50IG9mIHNvY2lhbGx5LXJlY29nbml6ZWQgc3RhbmRhcmRzIG9mIG1lYXN1cmUgZm9yIHRoZSBxdWFudGl0aWVzIG9mIHRoZXNlIHVzZWZ1bCBvYmplY3RzLlwiLFxuXCJUaGUgZGl2ZXJzaXR5IG9mIHRoZXNlIG1lYXN1cmVzIGhhcyBpdHMgb3JpZ2luIHBhcnRseSBpbiB0aGUgZGl2ZXJzZSBuYXR1cmUgb2YgdGhlIG9iamVjdHMgdG8gYmUgbWVhc3VyZWQsIHBhcnRseSBpbiBjb252ZW50aW9uLlwiLFxuXCJUaGUgdXRpbGl0eSBvZiBhIHRoaW5nIG1ha2VzIGl0IGEgdXNlIHZhbHVlLlwiLFxuXCJCdXQgdGhpcyB1dGlsaXR5IGlzIG5vdCBhIHRoaW5nIG9mIGFpci5cIixcblwiQmVpbmcgbGltaXRlZCBieSB0aGUgcGh5c2ljYWwgcHJvcGVydGllcyBvZiB0aGUgY29tbW9kaXR5LCBpdCBoYXMgbm8gZXhpc3RlbmNlIGFwYXJ0IGZyb20gdGhhdCBjb21tb2RpdHkuXCIsXG5cIkEgY29tbW9kaXR5LCBzdWNoIGFzIGlyb24sIGNvcm4sIG9yIGEgZGlhbW9uZCwgaXMgdGhlcmVmb3JlLCBzbyBmYXIgYXMgaXQgaXMgYSBtYXRlcmlhbCB0aGluZywgYSB1c2UgdmFsdWUsIHNvbWV0aGluZyB1c2VmdWwuXCIsXG5cIlRoaXMgcHJvcGVydHkgb2YgYSBjb21tb2RpdHkgaXMgaW5kZXBlbmRlbnQgb2YgdGhlIGFtb3VudCBvZiBsYWJvdXIgcmVxdWlyZWQgdG8gYXBwcm9wcmlhdGUgaXRzIHVzZWZ1bCBxdWFsaXRpZXMuXCIsXG5cIldoZW4gdHJlYXRpbmcgb2YgdXNlIHZhbHVlLCB3ZSBhbHdheXMgYXNzdW1lIHRvIGJlIGRlYWxpbmcgd2l0aCBkZWZpbml0ZSBxdWFudGl0aWVzLCBzdWNoIGFzIGRvemVucyBvZiB3YXRjaGVzLCB5YXJkcyBvZiBsaW5lbiwgb3IgdG9ucyBvZiBpcm9uLlwiLFxuXCJUaGUgdXNlIHZhbHVlcyBvZiBjb21tb2RpdGllcyBmdXJuaXNoIHRoZSBtYXRlcmlhbCBmb3IgYSBzcGVjaWFsIHN0dWR5LCB0aGF0IG9mIHRoZSBjb21tZXJjaWFsIGtub3dsZWRnZSBvZiBjb21tb2RpdGllcy5cIixcblwiVXNlIHZhbHVlcyBiZWNvbWUgYSByZWFsaXR5IG9ubHkgYnkgdXNlIG9yIGNvbnN1bXB0aW9uOiB0aGV5IGFsc28gY29uc3RpdHV0ZSB0aGUgc3Vic3RhbmNlIG9mIGFsbCB3ZWFsdGgsIHdoYXRldmVyIG1heSBiZSB0aGUgc29jaWFsIGZvcm0gb2YgdGhhdCB3ZWFsdGguXCIsXG5cIkluIHRoZSBmb3JtIG9mIHNvY2lldHkgd2UgYXJlIGFib3V0IHRvIGNvbnNpZGVyLCB0aGV5IGFyZSwgaW4gYWRkaXRpb24sIHRoZSBtYXRlcmlhbCBkZXBvc2l0b3JpZXMgb2YgZXhjaGFuZ2UgdmFsdWUuXCIsXG5cIkV4Y2hhbmdlIHZhbHVlLCBhdCBmaXJzdCBzaWdodCwgcHJlc2VudHMgaXRzZWxmIGFzIGEgcXVhbnRpdGF0aXZlIHJlbGF0aW9uLCBhcyB0aGUgcHJvcG9ydGlvbiBpbiB3aGljaCB2YWx1ZXMgaW4gdXNlIG9mIG9uZSBzb3J0IGFyZSBleGNoYW5nZWQgZm9yIHRob3NlIG9mIGFub3RoZXIgc29ydCwgIGEgcmVsYXRpb24gY29uc3RhbnRseSBjaGFuZ2luZyB3aXRoIHRpbWUgYW5kIHBsYWNlLlwiLFxuXCJIZW5jZSBleGNoYW5nZSB2YWx1ZSBhcHBlYXJzIHRvIGJlIHNvbWV0aGluZyBhY2NpZGVudGFsIGFuZCBwdXJlbHkgcmVsYXRpdmUsIGFuZCBjb25zZXF1ZW50bHkgYW4gaW50cmluc2ljIHZhbHVlLCBpLlwiLFxuXCJhbiBleGNoYW5nZSB2YWx1ZSB0aGF0IGlzIGluc2VwYXJhYmx5IGNvbm5lY3RlZCB3aXRoLCBpbmhlcmVudCBpbiBjb21tb2RpdGllcywgc2VlbXMgYSBjb250cmFkaWN0aW9uIGluIHRlcm1zLlwiLFxuXCJMZXQgdXMgY29uc2lkZXIgdGhlIG1hdHRlciBhIGxpdHRsZSBtb3JlIGNsb3NlbHkuXCIsXG5cIkEgZ2l2ZW4gY29tbW9kaXR5LCBlLlwiLFxuXCJhIHF1YXJ0ZXIgb2Ygd2hlYXQgaXMgZXhjaGFuZ2VkIGZvciB4IGJsYWNraW5nLCB5IHNpbGssIG9yIHogZ29sZCwgJmMuXCIsXG5cImluIHNob3J0LCBmb3Igb3RoZXIgY29tbW9kaXRpZXMgaW4gdGhlIG1vc3QgZGlmZmVyZW50IHByb3BvcnRpb25zLlwiLFxuXCJJbnN0ZWFkIG9mIG9uZSBleGNoYW5nZSB2YWx1ZSwgdGhlIHdoZWF0IGhhcywgdGhlcmVmb3JlLCBhIGdyZWF0IG1hbnkuXCIsXG5cIkJ1dCBzaW5jZSB4IGJsYWNraW5nLCB5IHNpbGssIG9yIHogZ29sZCAmYy5cIixcblwiZWFjaCByZXByZXNlbnRzIHRoZSBleGNoYW5nZSB2YWx1ZSBvZiBvbmUgcXVhcnRlciBvZiB3aGVhdCwgeCBibGFja2luZywgeSBzaWxrLCB6IGdvbGQsICZjLlwiLFxuXCJtdXN0LCBhcyBleGNoYW5nZSB2YWx1ZXMsIGJlIHJlcGxhY2VhYmxlIGJ5IGVhY2ggb3RoZXIsIG9yIGVxdWFsIHRvIGVhY2ggb3RoZXIuXCIsXG5cIlRoZXJlZm9yZSwgZmlyc3Q6IHRoZSB2YWxpZCBleGNoYW5nZSB2YWx1ZXMgb2YgYSBnaXZlbiBjb21tb2RpdHkgZXhwcmVzcyBzb21ldGhpbmcgZXF1YWw7IHNlY29uZGx5LCBleGNoYW5nZSB2YWx1ZSwgZ2VuZXJhbGx5LCBpcyBvbmx5IHRoZSBtb2RlIG9mIGV4cHJlc3Npb24sIHRoZSBwaGVub21lbmFsIGZvcm0sIG9mIHNvbWV0aGluZyBjb250YWluZWQgaW4gaXQsIHlldCBkaXN0aW5ndWlzaGFibGUgZnJvbSBpdC5cIixcblwiTGV0IHVzIHRha2UgdHdvIGNvbW1vZGl0aWVzLCBlLlwiLFxuXCJjb3JuIGFuZCBpcm9uLlwiLFxuXCJUaGUgcHJvcG9ydGlvbnMgaW4gd2hpY2ggdGhleSBhcmUgZXhjaGFuZ2VhYmxlLCB3aGF0ZXZlciB0aG9zZSBwcm9wb3J0aW9ucyBtYXkgYmUsIGNhbiBhbHdheXMgYmUgcmVwcmVzZW50ZWQgYnkgYW4gZXF1YXRpb24gaW4gd2hpY2ggYSBnaXZlbiBxdWFudGl0eSBvZiBjb3JuIGlzIGVxdWF0ZWQgdG8gc29tZSBxdWFudGl0eSBvZiBpcm9uOiBlLlwiLFxuXCIxIHF1YXJ0ZXIgY29ybiA9IHggY3d0LlwiLFxuXCJpcm9uLlwiLFxuXCJXaGF0IGRvZXMgdGhpcyBlcXVhdGlvbiB0ZWxsIHVzP1wiLFxuXCJJdCB0ZWxscyB1cyB0aGF0IGluIHR3byBkaWZmZXJlbnQgdGhpbmdzIOKAkyBpbiAxIHF1YXJ0ZXIgb2YgY29ybiBhbmQgeCBjd3QuXCIsXG5cIm9mIGlyb24sIHRoZXJlIGV4aXN0cyBpbiBlcXVhbCBxdWFudGl0aWVzIHNvbWV0aGluZyBjb21tb24gdG8gYm90aC5cIixcblwiVGhlIHR3byB0aGluZ3MgbXVzdCB0aGVyZWZvcmUgYmUgZXF1YWwgdG8gYSB0aGlyZCwgd2hpY2ggaW4gaXRzZWxmIGlzIG5laXRoZXIgdGhlIG9uZSBub3IgdGhlIG90aGVyLlwiLFxuXCJFYWNoIG9mIHRoZW0sIHNvIGZhciBhcyBpdCBpcyBleGNoYW5nZSB2YWx1ZSwgbXVzdCB0aGVyZWZvcmUgYmUgcmVkdWNpYmxlIHRvIHRoaXMgdGhpcmQuXCIsXG5cIkEgc2ltcGxlIGdlb21ldHJpY2FsIGlsbHVzdHJhdGlvbiB3aWxsIG1ha2UgdGhpcyBjbGVhci5cIixcblwiSW4gb3JkZXIgdG8gY2FsY3VsYXRlIGFuZCBjb21wYXJlIHRoZSBhcmVhcyBvZiByZWN0aWxpbmVhciBmaWd1cmVzLCB3ZSBkZWNvbXBvc2UgdGhlbSBpbnRvIHRyaWFuZ2xlcy5cIixcblwiQnV0IHRoZSBhcmVhIG9mIHRoZSB0cmlhbmdsZSBpdHNlbGYgaXMgZXhwcmVzc2VkIGJ5IHNvbWV0aGluZyB0b3RhbGx5IGRpZmZlcmVudCBmcm9tIGl0cyB2aXNpYmxlIGZpZ3VyZSwgbmFtZWx5LCBieSBoYWxmIHRoZSBwcm9kdWN0IG9mIHRoZSBiYXNlIG11bHRpcGxpZWQgYnkgdGhlIGFsdGl0dWRlLlwiLFxuXCJJbiB0aGUgc2FtZSB3YXkgdGhlIGV4Y2hhbmdlIHZhbHVlcyBvZiBjb21tb2RpdGllcyBtdXN0IGJlIGNhcGFibGUgb2YgYmVpbmcgZXhwcmVzc2VkIGluIHRlcm1zIG9mIHNvbWV0aGluZyBjb21tb24gdG8gdGhlbSBhbGwsIG9mIHdoaWNoIHRoaW5nIHRoZXkgcmVwcmVzZW50IGEgZ3JlYXRlciBvciBsZXNzIHF1YW50aXR5LlwiLFxuXCJUaGlzIGNvbW1vbiDigJxzb21ldGhpbmfigJ0gY2Fubm90IGJlIGVpdGhlciBhIGdlb21ldHJpY2FsLCBhIGNoZW1pY2FsLCBvciBhbnkgb3RoZXIgbmF0dXJhbCBwcm9wZXJ0eSBvZiBjb21tb2RpdGllcy5cIixcblwiU3VjaCBwcm9wZXJ0aWVzIGNsYWltIG91ciBhdHRlbnRpb24gb25seSBpbiBzbyBmYXIgYXMgdGhleSBhZmZlY3QgdGhlIHV0aWxpdHkgb2YgdGhvc2UgY29tbW9kaXRpZXMsIG1ha2UgdGhlbSB1c2UgdmFsdWVzLlwiLFxuXCJCdXQgdGhlIGV4Y2hhbmdlIG9mIGNvbW1vZGl0aWVzIGlzIGV2aWRlbnRseSBhbiBhY3QgY2hhcmFjdGVyaXNlZCBieSBhIHRvdGFsIGFic3RyYWN0aW9uIGZyb20gdXNlIHZhbHVlLlwiLFxuXCJUaGVuIG9uZSB1c2UgdmFsdWUgaXMganVzdCBhcyBnb29kIGFzIGFub3RoZXIsIHByb3ZpZGVkIG9ubHkgaXQgYmUgcHJlc2VudCBpbiBzdWZmaWNpZW50IHF1YW50aXR5LlwiLFxuXCJPciwgYXMgb2xkIEJhcmJvbiBzYXlzLFwiLFxuXCLigJxvbmUgc29ydCBvZiB3YXJlcyBhcmUgYXMgZ29vZCBhcyBhbm90aGVyLCBpZiB0aGUgdmFsdWVzIGJlIGVxdWFsLlwiLFxuXCJUaGVyZSBpcyBubyBkaWZmZXJlbmNlIG9yIGRpc3RpbmN0aW9uIGluIHRoaW5ncyBvZiBlcXVhbCB2YWx1ZSAuXCIsXG5cIkFuIGh1bmRyZWQgcG91bmRz4oCZIHdvcnRoIG9mIGxlYWQgb3IgaXJvbiwgaXMgb2YgYXMgZ3JlYXQgdmFsdWUgYXMgb25lIGh1bmRyZWQgcG91bmRz4oCZIHdvcnRoIG9mIHNpbHZlciBvciBnb2xkLlwiLFxuXCJBcyB1c2UgdmFsdWVzLCBjb21tb2RpdGllcyBhcmUsIGFib3ZlIGFsbCwgb2YgZGlmZmVyZW50IHF1YWxpdGllcywgYnV0IGFzIGV4Y2hhbmdlIHZhbHVlcyB0aGV5IGFyZSBtZXJlbHkgZGlmZmVyZW50IHF1YW50aXRpZXMsIGFuZCBjb25zZXF1ZW50bHkgZG8gbm90IGNvbnRhaW4gYW4gYXRvbSBvZiB1c2UgdmFsdWUuXCIsXG5cIklmIHRoZW4gd2UgbGVhdmUgb3V0IG9mIGNvbnNpZGVyYXRpb24gdGhlIHVzZSB2YWx1ZSBvZiBjb21tb2RpdGllcywgdGhleSBoYXZlIG9ubHkgb25lIGNvbW1vbiBwcm9wZXJ0eSBsZWZ0LCB0aGF0IG9mIGJlaW5nIHByb2R1Y3RzIG9mIGxhYm91ci5cIixcblwiQnV0IGV2ZW4gdGhlIHByb2R1Y3Qgb2YgbGFib3VyIGl0c2VsZiBoYXMgdW5kZXJnb25lIGEgY2hhbmdlIGluIG91ciBoYW5kcy5cIixcblwiSWYgd2UgbWFrZSBhYnN0cmFjdGlvbiBmcm9tIGl0cyB1c2UgdmFsdWUsIHdlIG1ha2UgYWJzdHJhY3Rpb24gYXQgdGhlIHNhbWUgdGltZSBmcm9tIHRoZSBtYXRlcmlhbCBlbGVtZW50cyBhbmQgc2hhcGVzIHRoYXQgbWFrZSB0aGUgcHJvZHVjdCBhIHVzZSB2YWx1ZTsgd2Ugc2VlIGluIGl0IG5vIGxvbmdlciBhIHRhYmxlLCBhIGhvdXNlLCB5YXJuLCBvciBhbnkgb3RoZXIgdXNlZnVsIHRoaW5nLlwiLFxuXCJJdHMgZXhpc3RlbmNlIGFzIGEgbWF0ZXJpYWwgdGhpbmcgaXMgcHV0IG91dCBvZiBzaWdodC5cIixcblwiTmVpdGhlciBjYW4gaXQgYW55IGxvbmdlciBiZSByZWdhcmRlZCBhcyB0aGUgcHJvZHVjdCBvZiB0aGUgbGFib3VyIG9mIHRoZSBqb2luZXIsIHRoZSBtYXNvbiwgdGhlIHNwaW5uZXIsIG9yIG9mIGFueSBvdGhlciBkZWZpbml0ZSBraW5kIG9mIHByb2R1Y3RpdmUgbGFib3VyLlwiLFxuXCJBbG9uZyB3aXRoIHRoZSB1c2VmdWwgcXVhbGl0aWVzIG9mIHRoZSBwcm9kdWN0cyB0aGVtc2VsdmVzLCB3ZSBwdXQgb3V0IG9mIHNpZ2h0IGJvdGggdGhlIHVzZWZ1bCBjaGFyYWN0ZXIgb2YgdGhlIHZhcmlvdXMga2luZHMgb2YgbGFib3VyIGVtYm9kaWVkIGluIHRoZW0sIGFuZCB0aGUgY29uY3JldGUgZm9ybXMgb2YgdGhhdCBsYWJvdXI7IHRoZXJlIGlzIG5vdGhpbmcgbGVmdCBidXQgd2hhdCBpcyBjb21tb24gdG8gdGhlbSBhbGw7IGFsbCBhcmUgcmVkdWNlZCB0byBvbmUgYW5kIHRoZSBzYW1lIHNvcnQgb2YgbGFib3VyLCBodW1hbiBsYWJvdXIgaW4gdGhlIGFic3RyYWN0LlwiLFxuXCJMZXQgdXMgbm93IGNvbnNpZGVyIHRoZSByZXNpZHVlIG9mIGVhY2ggb2YgdGhlc2UgcHJvZHVjdHM7IGl0IGNvbnNpc3RzIG9mIHRoZSBzYW1lIHVuc3Vic3RhbnRpYWwgcmVhbGl0eSBpbiBlYWNoLCBhIG1lcmUgY29uZ2VsYXRpb24gb2YgaG9tb2dlbmVvdXMgaHVtYW4gbGFib3VyLCBvZiBsYWJvdXIgcG93ZXIgZXhwZW5kZWQgd2l0aG91dCByZWdhcmQgdG8gdGhlIG1vZGUgb2YgaXRzIGV4cGVuZGl0dXJlLlwiLFxuXCJBbGwgdGhhdCB0aGVzZSB0aGluZ3Mgbm93IHRlbGwgdXMgaXMsIHRoYXQgaHVtYW4gbGFib3VyIHBvd2VyIGhhcyBiZWVuIGV4cGVuZGVkIGluIHRoZWlyIHByb2R1Y3Rpb24sIHRoYXQgaHVtYW4gbGFib3VyIGlzIGVtYm9kaWVkIGluIHRoZW0uXCIsXG5cIldoZW4gbG9va2VkIGF0IGFzIGNyeXN0YWxzIG9mIHRoaXMgc29jaWFsIHN1YnN0YW5jZSwgY29tbW9uIHRvIHRoZW0gYWxsLCB0aGV5IGFyZSDigJMgVmFsdWVzLlwiLFxuXCJXZSBoYXZlIHNlZW4gdGhhdCB3aGVuIGNvbW1vZGl0aWVzIGFyZSBleGNoYW5nZWQsIHRoZWlyIGV4Y2hhbmdlIHZhbHVlIG1hbmlmZXN0cyBpdHNlbGYgYXMgc29tZXRoaW5nIHRvdGFsbHkgaW5kZXBlbmRlbnQgb2YgdGhlaXIgdXNlIHZhbHVlLlwiLFxuXCJCdXQgaWYgd2UgYWJzdHJhY3QgZnJvbSB0aGVpciB1c2UgdmFsdWUsIHRoZXJlIHJlbWFpbnMgdGhlaXIgVmFsdWUgYXMgZGVmaW5lZCBhYm92ZS5cIixcblwiVGhlcmVmb3JlLCB0aGUgY29tbW9uIHN1YnN0YW5jZSB0aGF0IG1hbmlmZXN0cyBpdHNlbGYgaW4gdGhlIGV4Y2hhbmdlIHZhbHVlIG9mIGNvbW1vZGl0aWVzLCB3aGVuZXZlciB0aGV5IGFyZSBleGNoYW5nZWQsIGlzIHRoZWlyIHZhbHVlLlwiLFxuXCJUaGUgcHJvZ3Jlc3Mgb2Ygb3VyIGludmVzdGlnYXRpb24gd2lsbCBzaG93IHRoYXQgZXhjaGFuZ2UgdmFsdWUgaXMgdGhlIG9ubHkgZm9ybSBpbiB3aGljaCB0aGUgdmFsdWUgb2YgY29tbW9kaXRpZXMgY2FuIG1hbmlmZXN0IGl0c2VsZiBvciBiZSBleHByZXNzZWQuXCIsXG5cIkZvciB0aGUgcHJlc2VudCwgaG93ZXZlciwgd2UgaGF2ZSB0byBjb25zaWRlciB0aGUgbmF0dXJlIG9mIHZhbHVlIGluZGVwZW5kZW50bHkgb2YgdGhpcywgaXRzIGZvcm0uXCIsXG5cIkEgdXNlIHZhbHVlLCBvciB1c2VmdWwgYXJ0aWNsZSwgdGhlcmVmb3JlLCBoYXMgdmFsdWUgb25seSBiZWNhdXNlIGh1bWFuIGxhYm91ciBpbiB0aGUgYWJzdHJhY3QgaGFzIGJlZW4gZW1ib2RpZWQgb3IgbWF0ZXJpYWxpc2VkIGluIGl0LlwiLFxuXCJIb3csIHRoZW4sIGlzIHRoZSBtYWduaXR1ZGUgb2YgdGhpcyB2YWx1ZSB0byBiZSBtZWFzdXJlZD9cIixcblwiUGxhaW5seSwgYnkgdGhlIHF1YW50aXR5IG9mIHRoZSB2YWx1ZS1jcmVhdGluZyBzdWJzdGFuY2UsIHRoZSBsYWJvdXIsIGNvbnRhaW5lZCBpbiB0aGUgYXJ0aWNsZS5cIixcblwiVGhlIHF1YW50aXR5IG9mIGxhYm91ciwgaG93ZXZlciwgaXMgbWVhc3VyZWQgYnkgaXRzIGR1cmF0aW9uLCBhbmQgbGFib3VyIHRpbWUgaW4gaXRzIHR1cm4gZmluZHMgaXRzIHN0YW5kYXJkIGluIHdlZWtzLCBkYXlzLCBhbmQgaG91cnMuXCIsXG5cIlNvbWUgcGVvcGxlIG1pZ2h0IHRoaW5rIHRoYXQgaWYgdGhlIHZhbHVlIG9mIGEgY29tbW9kaXR5IGlzIGRldGVybWluZWQgYnkgdGhlIHF1YW50aXR5IG9mIGxhYm91ciBzcGVudCBvbiBpdCwgdGhlIG1vcmUgaWRsZSBhbmQgdW5za2lsZnVsIHRoZSBsYWJvdXJlciwgdGhlIG1vcmUgdmFsdWFibGUgd291bGQgaGlzIGNvbW1vZGl0eSBiZSwgYmVjYXVzZSBtb3JlIHRpbWUgd291bGQgYmUgcmVxdWlyZWQgaW4gaXRzIHByb2R1Y3Rpb24uXCIsXG5cIlRoZSBsYWJvdXIsIGhvd2V2ZXIsIHRoYXQgZm9ybXMgdGhlIHN1YnN0YW5jZSBvZiB2YWx1ZSwgaXMgaG9tb2dlbmVvdXMgaHVtYW4gbGFib3VyLCBleHBlbmRpdHVyZSBvZiBvbmUgdW5pZm9ybSBsYWJvdXIgcG93ZXIuXCIsXG5cIlRoZSB0b3RhbCBsYWJvdXIgcG93ZXIgb2Ygc29jaWV0eSwgd2hpY2ggaXMgZW1ib2RpZWQgaW4gdGhlIHN1bSB0b3RhbCBvZiB0aGUgdmFsdWVzIG9mIGFsbCBjb21tb2RpdGllcyBwcm9kdWNlZCBieSB0aGF0IHNvY2lldHksIGNvdW50cyBoZXJlIGFzIG9uZSBob21vZ2VuZW91cyBtYXNzIG9mIGh1bWFuIGxhYm91ciBwb3dlciwgY29tcG9zZWQgdGhvdWdoIGl0IGJlIG9mIGlubnVtZXJhYmxlIGluZGl2aWR1YWwgdW5pdHMuXCIsXG5cIkVhY2ggb2YgdGhlc2UgdW5pdHMgaXMgdGhlIHNhbWUgYXMgYW55IG90aGVyLCBzbyBmYXIgYXMgaXQgaGFzIHRoZSBjaGFyYWN0ZXIgb2YgdGhlIGF2ZXJhZ2UgbGFib3VyIHBvd2VyIG9mIHNvY2lldHksIGFuZCB0YWtlcyBlZmZlY3QgYXMgc3VjaDsgdGhhdCBpcywgc28gZmFyIGFzIGl0IHJlcXVpcmVzIGZvciBwcm9kdWNpbmcgYSBjb21tb2RpdHksIG5vIG1vcmUgdGltZSB0aGFuIGlzIG5lZWRlZCBvbiBhbiBhdmVyYWdlLCBubyBtb3JlIHRoYW4gaXMgc29jaWFsbHkgbmVjZXNzYXJ5LlwiLFxuXCJUaGUgbGFib3VyIHRpbWUgc29jaWFsbHkgbmVjZXNzYXJ5IGlzIHRoYXQgcmVxdWlyZWQgdG8gcHJvZHVjZSBhbiBhcnRpY2xlIHVuZGVyIHRoZSBub3JtYWwgY29uZGl0aW9ucyBvZiBwcm9kdWN0aW9uLCBhbmQgd2l0aCB0aGUgYXZlcmFnZSBkZWdyZWUgb2Ygc2tpbGwgYW5kIGludGVuc2l0eSBwcmV2YWxlbnQgYXQgdGhlIHRpbWUuXCIsXG5cIlRoZSBpbnRyb2R1Y3Rpb24gb2YgcG93ZXItbG9vbXMgaW50byBFbmdsYW5kIHByb2JhYmx5IHJlZHVjZWQgYnkgb25lLWhhbGYgdGhlIGxhYm91ciByZXF1aXJlZCB0byB3ZWF2ZSBhIGdpdmVuIHF1YW50aXR5IG9mIHlhcm4gaW50byBjbG90aC5cIixcblwiVGhlIGhhbmQtbG9vbSB3ZWF2ZXJzLCBhcyBhIG1hdHRlciBvZiBmYWN0LCBjb250aW51ZWQgdG8gcmVxdWlyZSB0aGUgc2FtZSB0aW1lIGFzIGJlZm9yZTsgYnV0IGZvciBhbGwgdGhhdCwgdGhlIHByb2R1Y3Qgb2Ygb25lIGhvdXIgb2YgdGhlaXIgbGFib3VyIHJlcHJlc2VudGVkIGFmdGVyIHRoZSBjaGFuZ2Ugb25seSBoYWxmIGFuIGhvdXLigJlzIHNvY2lhbCBsYWJvdXIsIGFuZCBjb25zZXF1ZW50bHkgZmVsbCB0byBvbmUtaGFsZiBpdHMgZm9ybWVyIHZhbHVlLlwiLFxuXCJXZSBzZWUgdGhlbiB0aGF0IHRoYXQgd2hpY2ggZGV0ZXJtaW5lcyB0aGUgbWFnbml0dWRlIG9mIHRoZSB2YWx1ZSBvZiBhbnkgYXJ0aWNsZSBpcyB0aGUgYW1vdW50IG9mIGxhYm91ciBzb2NpYWxseSBuZWNlc3NhcnksIG9yIHRoZSBsYWJvdXIgdGltZSBzb2NpYWxseSBuZWNlc3NhcnkgZm9yIGl0cyBwcm9kdWN0aW9uLlwiLFxuXCJFYWNoIGluZGl2aWR1YWwgY29tbW9kaXR5LCBpbiB0aGlzIGNvbm5leGlvbiwgaXMgdG8gYmUgY29uc2lkZXJlZCBhcyBhbiBhdmVyYWdlIHNhbXBsZSBvZiBpdHMgY2xhc3MuXCIsXG5cIkNvbW1vZGl0aWVzLCB0aGVyZWZvcmUsIGluIHdoaWNoIGVxdWFsIHF1YW50aXRpZXMgb2YgbGFib3VyIGFyZSBlbWJvZGllZCwgb3Igd2hpY2ggY2FuIGJlIHByb2R1Y2VkIGluIHRoZSBzYW1lIHRpbWUsIGhhdmUgdGhlIHNhbWUgdmFsdWUuXCIsXG5cIlRoZSB2YWx1ZSBvZiBvbmUgY29tbW9kaXR5IGlzIHRvIHRoZSB2YWx1ZSBvZiBhbnkgb3RoZXIsIGFzIHRoZSBsYWJvdXIgdGltZSBuZWNlc3NhcnkgZm9yIHRoZSBwcm9kdWN0aW9uIG9mIHRoZSBvbmUgaXMgdG8gdGhhdCBuZWNlc3NhcnkgZm9yIHRoZSBwcm9kdWN0aW9uIG9mIHRoZSBvdGhlci5cIixcblwi4oCcQXMgdmFsdWVzLCBhbGwgY29tbW9kaXRpZXMgYXJlIG9ubHkgZGVmaW5pdGUgbWFzc2VzIG9mIGNvbmdlYWxlZCBsYWJvdXIgdGltZS5cIixcblwiVGhlIHZhbHVlIG9mIGEgY29tbW9kaXR5IHdvdWxkIHRoZXJlZm9yZSByZW1haW4gY29uc3RhbnQsIGlmIHRoZSBsYWJvdXIgdGltZSByZXF1aXJlZCBmb3IgaXRzIHByb2R1Y3Rpb24gYWxzbyByZW1haW5lZCBjb25zdGFudC5cIixcblwiQnV0IHRoZSBsYXR0ZXIgY2hhbmdlcyB3aXRoIGV2ZXJ5IHZhcmlhdGlvbiBpbiB0aGUgcHJvZHVjdGl2ZW5lc3Mgb2YgbGFib3VyLlwiLFxuXCJUaGlzIHByb2R1Y3RpdmVuZXNzIGlzIGRldGVybWluZWQgYnkgdmFyaW91cyBjaXJjdW1zdGFuY2VzLCBhbW9uZ3N0IG90aGVycywgYnkgdGhlIGF2ZXJhZ2UgYW1vdW50IG9mIHNraWxsIG9mIHRoZSB3b3JrbWVuLCB0aGUgc3RhdGUgb2Ygc2NpZW5jZSwgYW5kIHRoZSBkZWdyZWUgb2YgaXRzIHByYWN0aWNhbCBhcHBsaWNhdGlvbiwgdGhlIHNvY2lhbCBvcmdhbmlzYXRpb24gb2YgcHJvZHVjdGlvbiwgdGhlIGV4dGVudCBhbmQgY2FwYWJpbGl0aWVzIG9mIHRoZSBtZWFucyBvZiBwcm9kdWN0aW9uLCBhbmQgYnkgcGh5c2ljYWwgY29uZGl0aW9ucy5cIixcblwiRm9yIGV4YW1wbGUsIHRoZSBzYW1lIGFtb3VudCBvZiBsYWJvdXIgaW4gZmF2b3VyYWJsZSBzZWFzb25zIGlzIGVtYm9kaWVkIGluIDggYnVzaGVscyBvZiBjb3JuLCBhbmQgaW4gdW5mYXZvdXJhYmxlLCBvbmx5IGluIGZvdXIuXCIsXG5cIlRoZSBzYW1lIGxhYm91ciBleHRyYWN0cyBmcm9tIHJpY2ggbWluZXMgbW9yZSBtZXRhbCB0aGFuIGZyb20gcG9vciBtaW5lcy5cIixcblwiRGlhbW9uZHMgYXJlIG9mIHZlcnkgcmFyZSBvY2N1cnJlbmNlIG9uIHRoZSBlYXJ0aOKAmXMgc3VyZmFjZSwgYW5kIGhlbmNlIHRoZWlyIGRpc2NvdmVyeSBjb3N0cywgb24gYW4gYXZlcmFnZSwgYSBncmVhdCBkZWFsIG9mIGxhYm91ciB0aW1lLlwiLFxuXCJDb25zZXF1ZW50bHkgbXVjaCBsYWJvdXIgaXMgcmVwcmVzZW50ZWQgaW4gYSBzbWFsbCBjb21wYXNzLlwiLFxuXCJKYWNvYiBkb3VidHMgd2hldGhlciBnb2xkIGhhcyBldmVyIGJlZW4gcGFpZCBmb3IgYXQgaXRzIGZ1bGwgdmFsdWUuXCIsXG5cIlRoaXMgYXBwbGllcyBzdGlsbCBtb3JlIHRvIGRpYW1vbmRzLlwiLFxuXCJBY2NvcmRpbmcgdG8gRXNjaHdlZ2UsIHRoZSB0b3RhbCBwcm9kdWNlIG9mIHRoZSBCcmF6aWxpYW4gZGlhbW9uZCBtaW5lcyBmb3IgdGhlIGVpZ2h0eSB5ZWFycywgZW5kaW5nIGluIDE4MjMsIGhhZCBub3QgcmVhbGlzZWQgdGhlIHByaWNlIG9mIG9uZS1hbmQtYS1oYWxmIHllYXJz4oCZIGF2ZXJhZ2UgcHJvZHVjZSBvZiB0aGUgc3VnYXIgYW5kIGNvZmZlZSBwbGFudGF0aW9ucyBvZiB0aGUgc2FtZSBjb3VudHJ5LCBhbHRob3VnaCB0aGUgZGlhbW9uZHMgY29zdCBtdWNoIG1vcmUgbGFib3VyLCBhbmQgdGhlcmVmb3JlIHJlcHJlc2VudGVkIG1vcmUgdmFsdWUuXCIsXG5cIldpdGggcmljaGVyIG1pbmVzLCB0aGUgc2FtZSBxdWFudGl0eSBvZiBsYWJvdXIgd291bGQgZW1ib2R5IGl0c2VsZiBpbiBtb3JlIGRpYW1vbmRzLCBhbmQgdGhlaXIgdmFsdWUgd291bGQgZmFsbC5cIixcblwiSWYgd2UgY291bGQgc3VjY2VlZCBhdCBhIHNtYWxsIGV4cGVuZGl0dXJlIG9mIGxhYm91ciwgaW4gY29udmVydGluZyBjYXJib24gaW50byBkaWFtb25kcywgdGhlaXIgdmFsdWUgbWlnaHQgZmFsbCBiZWxvdyB0aGF0IG9mIGJyaWNrcy5cIixcblwiSW4gZ2VuZXJhbCwgdGhlIGdyZWF0ZXIgdGhlIHByb2R1Y3RpdmVuZXNzIG9mIGxhYm91ciwgdGhlIGxlc3MgaXMgdGhlIGxhYm91ciB0aW1lIHJlcXVpcmVkIGZvciB0aGUgcHJvZHVjdGlvbiBvZiBhbiBhcnRpY2xlLCB0aGUgbGVzcyBpcyB0aGUgYW1vdW50IG9mIGxhYm91ciBjcnlzdGFsbGlzZWQgaW4gdGhhdCBhcnRpY2xlLCBhbmQgdGhlIGxlc3MgaXMgaXRzIHZhbHVlOyBhbmQgdmljZSB2ZXJzw6IsIHRoZSBsZXNzIHRoZSBwcm9kdWN0aXZlbmVzcyBvZiBsYWJvdXIsIHRoZSBncmVhdGVyIGlzIHRoZSBsYWJvdXIgdGltZSByZXF1aXJlZCBmb3IgdGhlIHByb2R1Y3Rpb24gb2YgYW4gYXJ0aWNsZSwgYW5kIHRoZSBncmVhdGVyIGlzIGl0cyB2YWx1ZS5cIixcblwiVGhlIHZhbHVlIG9mIGEgY29tbW9kaXR5LCB0aGVyZWZvcmUsIHZhcmllcyBkaXJlY3RseSBhcyB0aGUgcXVhbnRpdHksIGFuZCBpbnZlcnNlbHkgYXMgdGhlIHByb2R1Y3RpdmVuZXNzLCBvZiB0aGUgbGFib3VyIGluY29ycG9yYXRlZCBpbiBpdC5cIixcblwiW0FdXCIsXG5cIkEgdGhpbmcgY2FuIGJlIGEgdXNlIHZhbHVlLCB3aXRob3V0IGhhdmluZyB2YWx1ZS5cIixcblwiVGhpcyBpcyB0aGUgY2FzZSB3aGVuZXZlciBpdHMgdXRpbGl0eSB0byBtYW4gaXMgbm90IGR1ZSB0byBsYWJvdXIuXCIsXG5cIlN1Y2ggYXJlIGFpciwgdmlyZ2luIHNvaWwsIG5hdHVyYWwgbWVhZG93cywgJmMuXCIsXG5cIkEgdGhpbmcgY2FuIGJlIHVzZWZ1bCwgYW5kIHRoZSBwcm9kdWN0IG9mIGh1bWFuIGxhYm91ciwgd2l0aG91dCBiZWluZyBhIGNvbW1vZGl0eS5cIixcblwiV2hvZXZlciBkaXJlY3RseSBzYXRpc2ZpZXMgaGlzIHdhbnRzIHdpdGggdGhlIHByb2R1Y2Ugb2YgaGlzIG93biBsYWJvdXIsIGNyZWF0ZXMsIGluZGVlZCwgdXNlIHZhbHVlcywgYnV0IG5vdCBjb21tb2RpdGllcy5cIixcblwiSW4gb3JkZXIgdG8gcHJvZHVjZSB0aGUgbGF0dGVyLCBoZSBtdXN0IG5vdCBvbmx5IHByb2R1Y2UgdXNlIHZhbHVlcywgYnV0IHVzZSB2YWx1ZXMgZm9yIG90aGVycywgc29jaWFsIHVzZSB2YWx1ZXMuXCIsXG5cIihBbmQgbm90IG9ubHkgZm9yIG90aGVycywgd2l0aG91dCBtb3JlLlwiLFxuXCJUaGUgbWVkaWFldmFsIHBlYXNhbnQgcHJvZHVjZWQgcXVpdC1yZW50LWNvcm4gZm9yIGhpcyBmZXVkYWwgbG9yZCBhbmQgdGl0aGUtY29ybiBmb3IgaGlzIHBhcnNvbi5cIixcblwiQnV0IG5laXRoZXIgdGhlIHF1aXQtcmVudC1jb3JuIG5vciB0aGUgdGl0aGUtY29ybiBiZWNhbWUgY29tbW9kaXRpZXMgYnkgcmVhc29uIG9mIHRoZSBmYWN0IHRoYXQgdGhleSBoYWQgYmVlbiBwcm9kdWNlZCBmb3Igb3RoZXJzLlwiLFxuXCJUbyBiZWNvbWUgYSBjb21tb2RpdHkgYSBwcm9kdWN0IG11c3QgYmUgdHJhbnNmZXJyZWQgdG8gYW5vdGhlciwgd2hvbSBpdCB3aWxsIHNlcnZlIGFzIGEgdXNlIHZhbHVlLCBieSBtZWFucyBvZiBhbiBleGNoYW5nZS5cIixcblwiTGFzdGx5IG5vdGhpbmcgY2FuIGhhdmUgdmFsdWUsIHdpdGhvdXQgYmVpbmcgYW4gb2JqZWN0IG9mIHV0aWxpdHkuXCIsXG5cIklmIHRoZSB0aGluZyBpcyB1c2VsZXNzLCBzbyBpcyB0aGUgbGFib3VyIGNvbnRhaW5lZCBpbiBpdDsgdGhlIGxhYm91ciBkb2VzIG5vdCBjb3VudCBhcyBsYWJvdXIsIGFuZCB0aGVyZWZvcmUgY3JlYXRlcyBubyB2YWx1ZS5cIixcblwiU0VDVElPTiAyXCIsXG5cIlRIRSB0d28tZm9sZCBDSEFSQUNURVIgT0ZcIixcblwiVEhFIExBQk9VUiBFTUJPRElFRCBJTiBDT01NT0RJVElFU1wiLFxuXCJBdCBmaXJzdCBzaWdodCBhIGNvbW1vZGl0eSBwcmVzZW50ZWQgaXRzZWxmIHRvIHVzIGFzIGEgY29tcGxleCBvZiB0d28gdGhpbmdzIOKAkyB1c2UgdmFsdWUgYW5kIGV4Y2hhbmdlIHZhbHVlLlwiLFxuXCJMYXRlciBvbiwgd2Ugc2F3IGFsc28gdGhhdCBsYWJvdXIsIHRvbywgcG9zc2Vzc2VzIHRoZSBzYW1lIHR3by1mb2xkIG5hdHVyZTsgZm9yLCBzbyBmYXIgYXMgaXQgZmluZHMgZXhwcmVzc2lvbiBpbiB2YWx1ZSwgaXQgZG9lcyBub3QgcG9zc2VzcyB0aGUgc2FtZSBjaGFyYWN0ZXJpc3RpY3MgdGhhdCBiZWxvbmcgdG8gaXQgYXMgYSBjcmVhdG9yIG9mIHVzZSB2YWx1ZXMuXCIsXG5cIkkgd2FzIHRoZSBmaXJzdCB0byBwb2ludCBvdXQgYW5kIHRvIGV4YW1pbmUgY3JpdGljYWxseSB0aGlzIHR3by1mb2xkIG5hdHVyZSBvZiB0aGUgbGFib3VyIGNvbnRhaW5lZCBpbiBjb21tb2RpdGllcy5cIixcblwiQXMgdGhpcyBwb2ludCBpcyB0aGUgcGl2b3Qgb24gd2hpY2ggYSBjbGVhciBjb21wcmVoZW5zaW9uIG9mIHBvbGl0aWNhbCBlY29ub215IHR1cm5zLCB3ZSBtdXN0IGdvIG1vcmUgaW50byBkZXRhaWwuXCIsXG5cIkxldCB1cyB0YWtlIHR3byBjb21tb2RpdGllcyBzdWNoIGFzIGEgY29hdCBhbmQgMTAgeWFyZHMgb2YgbGluZW4sIGFuZCBsZXQgdGhlIGZvcm1lciBiZSBkb3VibGUgdGhlIHZhbHVlIG9mIHRoZSBsYXR0ZXIsIHNvIHRoYXQsIGlmIDEwIHlhcmRzIG9mIGxpbmVuID0gVywgdGhlIGNvYXQgPSAyVy5cIixcblwiVGhlIGNvYXQgaXMgYSB1c2UgdmFsdWUgdGhhdCBzYXRpc2ZpZXMgYSBwYXJ0aWN1bGFyIHdhbnQuXCIsXG5cIkl0cyBleGlzdGVuY2UgaXMgdGhlIHJlc3VsdCBvZiBhIHNwZWNpYWwgc29ydCBvZiBwcm9kdWN0aXZlIGFjdGl2aXR5LCB0aGUgbmF0dXJlIG9mIHdoaWNoIGlzIGRldGVybWluZWQgYnkgaXRzIGFpbSwgbW9kZSBvZiBvcGVyYXRpb24sIHN1YmplY3QsIG1lYW5zLCBhbmQgcmVzdWx0LlwiLFxuXCJUaGUgbGFib3VyLCB3aG9zZSB1dGlsaXR5IGlzIHRodXMgcmVwcmVzZW50ZWQgYnkgdGhlIHZhbHVlIGluIHVzZSBvZiBpdHMgcHJvZHVjdCwgb3Igd2hpY2ggbWFuaWZlc3RzIGl0c2VsZiBieSBtYWtpbmcgaXRzIHByb2R1Y3QgYSB1c2UgdmFsdWUsIHdlIGNhbGwgdXNlZnVsIGxhYm91ci5cIixcblwiSW4gdGhpcyBjb25uZWN0aW9uIHdlIGNvbnNpZGVyIG9ubHkgaXRzIHVzZWZ1bCBlZmZlY3QuXCIsXG5cIkFzIHRoZSBjb2F0IGFuZCB0aGUgbGluZW4gYXJlIHR3byBxdWFsaXRhdGl2ZWx5IGRpZmZlcmVudCB1c2UgdmFsdWVzLCBzbyBhbHNvIGFyZSB0aGUgdHdvIGZvcm1zIG9mIGxhYm91ciB0aGF0IHByb2R1Y2UgdGhlbSwgdGFpbG9yaW5nIGFuZCB3ZWF2aW5nLlwiLFxuXCJXZXJlIHRoZXNlIHR3byBvYmplY3RzIG5vdCBxdWFsaXRhdGl2ZWx5IGRpZmZlcmVudCwgbm90IHByb2R1Y2VkIHJlc3BlY3RpdmVseSBieSBsYWJvdXIgb2YgZGlmZmVyZW50IHF1YWxpdHksIHRoZXkgY291bGQgbm90IHN0YW5kIHRvIGVhY2ggb3RoZXIgaW4gdGhlIHJlbGF0aW9uIG9mIGNvbW1vZGl0aWVzLlwiLFxuXCJDb2F0cyBhcmUgbm90IGV4Y2hhbmdlZCBmb3IgY29hdHMsIG9uZSB1c2UgdmFsdWUgaXMgbm90IGV4Y2hhbmdlZCBmb3IgYW5vdGhlciBvZiB0aGUgc2FtZSBraW5kLlwiLFxuXCJUbyBhbGwgdGhlIGRpZmZlcmVudCB2YXJpZXRpZXMgb2YgdmFsdWVzIGluIHVzZSB0aGVyZSBjb3JyZXNwb25kIGFzIG1hbnkgZGlmZmVyZW50IGtpbmRzIG9mIHVzZWZ1bCBsYWJvdXIsIGNsYXNzaWZpZWQgYWNjb3JkaW5nIHRvIHRoZSBvcmRlciwgZ2VudXMsIHNwZWNpZXMsIGFuZCB2YXJpZXR5IHRvIHdoaWNoIHRoZXkgYmVsb25nIGluIHRoZSBzb2NpYWwgZGl2aXNpb24gb2YgbGFib3VyLlwiLFxuXCJUaGlzIGRpdmlzaW9uIG9mIGxhYm91ciBpcyBhIG5lY2Vzc2FyeSBjb25kaXRpb24gZm9yIHRoZSBwcm9kdWN0aW9uIG9mIGNvbW1vZGl0aWVzLCBidXQgaXQgZG9lcyBub3QgZm9sbG93LCBjb252ZXJzZWx5LCB0aGF0IHRoZSBwcm9kdWN0aW9uIG9mIGNvbW1vZGl0aWVzIGlzIGEgbmVjZXNzYXJ5IGNvbmRpdGlvbiBmb3IgdGhlIGRpdmlzaW9uIG9mIGxhYm91ci5cIixcblwiSW4gdGhlIHByaW1pdGl2ZSBJbmRpYW4gY29tbXVuaXR5IHRoZXJlIGlzIHNvY2lhbCBkaXZpc2lvbiBvZiBsYWJvdXIsIHdpdGhvdXQgcHJvZHVjdGlvbiBvZiBjb21tb2RpdGllcy5cIixcblwiT3IsIHRvIHRha2UgYW4gZXhhbXBsZSBuZWFyZXIgaG9tZSwgaW4gZXZlcnkgZmFjdG9yeSB0aGUgbGFib3VyIGlzIGRpdmlkZWQgYWNjb3JkaW5nIHRvIGEgc3lzdGVtLCBidXQgdGhpcyBkaXZpc2lvbiBpcyBub3QgYnJvdWdodCBhYm91dCBieSB0aGUgb3BlcmF0aXZlcyBtdXR1YWxseSBleGNoYW5naW5nIHRoZWlyIGluZGl2aWR1YWwgcHJvZHVjdHMuXCIsXG5cIk9ubHkgc3VjaCBwcm9kdWN0cyBjYW4gYmVjb21lIGNvbW1vZGl0aWVzIHdpdGggcmVnYXJkIHRvIGVhY2ggb3RoZXIsIGFzIHJlc3VsdCBmcm9tIGRpZmZlcmVudCBraW5kcyBvZiBsYWJvdXIsIGVhY2gga2luZCBiZWluZyBjYXJyaWVkIG9uIGluZGVwZW5kZW50bHkgYW5kIGZvciB0aGUgYWNjb3VudCBvZiBwcml2YXRlIGluZGl2aWR1YWxzLlwiLFxuXCJUbyByZXN1bWUsIHRoZW46IEluIHRoZSB1c2UgdmFsdWUgb2YgZWFjaCBjb21tb2RpdHkgdGhlcmUgaXMgY29udGFpbmVkIHVzZWZ1bCBsYWJvdXIsIGkuXCIsXG5cInByb2R1Y3RpdmUgYWN0aXZpdHkgb2YgYSBkZWZpbml0ZSBraW5kIGFuZCBleGVyY2lzZWQgd2l0aCBhIGRlZmluaXRlIGFpbS5cIixcblwiVXNlIHZhbHVlcyBjYW5ub3QgY29uZnJvbnQgZWFjaCBvdGhlciBhcyBjb21tb2RpdGllcywgdW5sZXNzIHRoZSB1c2VmdWwgbGFib3VyIGVtYm9kaWVkIGluIHRoZW0gaXMgcXVhbGl0YXRpdmVseSBkaWZmZXJlbnQgaW4gZWFjaCBvZiB0aGVtLlwiLFxuXCJJbiBhIGNvbW11bml0eSwgdGhlIHByb2R1Y2Ugb2Ygd2hpY2ggaW4gZ2VuZXJhbCB0YWtlcyB0aGUgZm9ybSBvZiBjb21tb2RpdGllcywgaS5cIixcblwiaW4gYSBjb21tdW5pdHkgb2YgY29tbW9kaXR5IHByb2R1Y2VycywgdGhpcyBxdWFsaXRhdGl2ZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHVzZWZ1bCBmb3JtcyBvZiBsYWJvdXIgdGhhdCBhcmUgY2FycmllZCBvbiBpbmRlcGVuZGVudGx5IG9mIGluZGl2aWR1YWwgcHJvZHVjZXJzLCBlYWNoIG9uIHRoZWlyIG93biBhY2NvdW50LCBkZXZlbG9wcyBpbnRvIGEgY29tcGxleCBzeXN0ZW0sIGEgc29jaWFsIGRpdmlzaW9uIG9mIGxhYm91ci5cIixcblwiQW55aG93LCB3aGV0aGVyIHRoZSBjb2F0IGJlIHdvcm4gYnkgdGhlIHRhaWxvciBvciBieSBoaXMgY3VzdG9tZXIsIGluIGVpdGhlciBjYXNlIGl0IG9wZXJhdGVzIGFzIGEgdXNlIHZhbHVlLlwiLFxuXCJOb3IgaXMgdGhlIHJlbGF0aW9uIGJldHdlZW4gdGhlIGNvYXQgYW5kIHRoZSBsYWJvdXIgdGhhdCBwcm9kdWNlZCBpdCBhbHRlcmVkIGJ5IHRoZSBjaXJjdW1zdGFuY2UgdGhhdCB0YWlsb3JpbmcgbWF5IGhhdmUgYmVjb21lIGEgc3BlY2lhbCB0cmFkZSwgYW4gaW5kZXBlbmRlbnQgYnJhbmNoIG9mIHRoZSBzb2NpYWwgZGl2aXNpb24gb2YgbGFib3VyLlwiLFxuXCJXaGVyZXZlciB0aGUgd2FudCBvZiBjbG90aGluZyBmb3JjZWQgdGhlbSB0byBpdCwgdGhlIGh1bWFuIHJhY2UgbWFkZSBjbG90aGVzIGZvciB0aG91c2FuZHMgb2YgeWVhcnMsIHdpdGhvdXQgYSBzaW5nbGUgbWFuIGJlY29taW5nIGEgdGFpbG9yLlwiLFxuXCJCdXQgY29hdHMgYW5kIGxpbmVuLCBsaWtlIGV2ZXJ5IG90aGVyIGVsZW1lbnQgb2YgbWF0ZXJpYWwgd2VhbHRoIHRoYXQgaXMgbm90IHRoZSBzcG9udGFuZW91cyBwcm9kdWNlIG9mIE5hdHVyZSwgbXVzdCBpbnZhcmlhYmx5IG93ZSB0aGVpciBleGlzdGVuY2UgdG8gYSBzcGVjaWFsIHByb2R1Y3RpdmUgYWN0aXZpdHksIGV4ZXJjaXNlZCB3aXRoIGEgZGVmaW5pdGUgYWltLCBhbiBhY3Rpdml0eSB0aGF0IGFwcHJvcHJpYXRlcyBwYXJ0aWN1bGFyIG5hdHVyZS1naXZlbiBtYXRlcmlhbHMgdG8gcGFydGljdWxhciBodW1hbiB3YW50cy5cIixcblwiU28gZmFyIHRoZXJlZm9yZSBhcyBsYWJvdXIgaXMgYSBjcmVhdG9yIG9mIHVzZSB2YWx1ZSwgaXMgdXNlZnVsIGxhYm91ciwgaXQgaXMgYSBuZWNlc3NhcnkgY29uZGl0aW9uLCBpbmRlcGVuZGVudCBvZiBhbGwgZm9ybXMgb2Ygc29jaWV0eSwgZm9yIHRoZSBleGlzdGVuY2Ugb2YgdGhlIGh1bWFuIHJhY2U7IGl0IGlzIGFuIGV0ZXJuYWwgbmF0dXJlLWltcG9zZWQgbmVjZXNzaXR5LCB3aXRob3V0IHdoaWNoIHRoZXJlIGNhbiBiZSBubyBtYXRlcmlhbCBleGNoYW5nZXMgYmV0d2VlbiBtYW4gYW5kIE5hdHVyZSwgYW5kIHRoZXJlZm9yZSBubyBsaWZlLlwiLFxuXCJUaGUgdXNlIHZhbHVlcywgY29hdCwgbGluZW4sICZjLlwiLFxuXCJ0aGUgYm9kaWVzIG9mIGNvbW1vZGl0aWVzLCBhcmUgY29tYmluYXRpb25zIG9mIHR3byBlbGVtZW50cyDigJMgbWF0dGVyIGFuZCBsYWJvdXIuXCIsXG5cIklmIHdlIHRha2UgYXdheSB0aGUgdXNlZnVsIGxhYm91ciBleHBlbmRlZCB1cG9uIHRoZW0sIGEgbWF0ZXJpYWwgc3Vic3RyYXR1bSBpcyBhbHdheXMgbGVmdCwgd2hpY2ggaXMgZnVybmlzaGVkIGJ5IE5hdHVyZSB3aXRob3V0IHRoZSBoZWxwIG9mIG1hbi5cIixcblwiVGhlIGxhdHRlciBjYW4gd29yayBvbmx5IGFzIE5hdHVyZSBkb2VzLCB0aGF0IGlzIGJ5IGNoYW5naW5nIHRoZSBmb3JtIG9mIG1hdHRlci5cIixcblwiTmF5IG1vcmUsIGluIHRoaXMgd29yayBvZiBjaGFuZ2luZyB0aGUgZm9ybSBoZSBpcyBjb25zdGFudGx5IGhlbHBlZCBieSBuYXR1cmFsIGZvcmNlcy5cIixcblwiV2Ugc2VlLCB0aGVuLCB0aGF0IGxhYm91ciBpcyBub3QgdGhlIG9ubHkgc291cmNlIG9mIG1hdGVyaWFsIHdlYWx0aCwgb2YgdXNlIHZhbHVlcyBwcm9kdWNlZCBieSBsYWJvdXIuXCIsXG5cIkFzIFdpbGxpYW0gUGV0dHkgcHV0cyBpdCwgbGFib3VyIGlzIGl0cyBmYXRoZXIgYW5kIHRoZSBlYXJ0aCBpdHMgbW90aGVyLlwiLFxuXCJMZXQgdXMgbm93IHBhc3MgZnJvbSB0aGUgY29tbW9kaXR5IGNvbnNpZGVyZWQgYXMgYSB1c2UgdmFsdWUgdG8gdGhlIHZhbHVlIG9mIGNvbW1vZGl0aWVzLlwiLFxuXCJCeSBvdXIgYXNzdW1wdGlvbiwgdGhlIGNvYXQgaXMgd29ydGggdHdpY2UgYXMgbXVjaCBhcyB0aGUgbGluZW4uXCIsXG5cIkJ1dCB0aGlzIGlzIGEgbWVyZSBxdWFudGl0YXRpdmUgZGlmZmVyZW5jZSwgd2hpY2ggZm9yIHRoZSBwcmVzZW50IGRvZXMgbm90IGNvbmNlcm4gdXMuXCIsXG5cIldlIGJlYXIgaW4gbWluZCwgaG93ZXZlciwgdGhhdCBpZiB0aGUgdmFsdWUgb2YgdGhlIGNvYXQgaXMgZG91YmxlIHRoYXQgb2YgMTAgeWRzIG9mIGxpbmVuLCAyMCB5ZHMgb2YgbGluZW4gbXVzdCBoYXZlIHRoZSBzYW1lIHZhbHVlIGFzIG9uZSBjb2F0LlwiLFxuXCJTbyBmYXIgYXMgdGhleSBhcmUgdmFsdWVzLCB0aGUgY29hdCBhbmQgdGhlIGxpbmVuIGFyZSB0aGluZ3Mgb2YgYSBsaWtlIHN1YnN0YW5jZSwgb2JqZWN0aXZlIGV4cHJlc3Npb25zIG9mIGVzc2VudGlhbGx5IGlkZW50aWNhbCBsYWJvdXIuXCIsXG5cIkJ1dCB0YWlsb3JpbmcgYW5kIHdlYXZpbmcgYXJlLCBxdWFsaXRhdGl2ZWx5LCBkaWZmZXJlbnQga2luZHMgb2YgbGFib3VyLlwiLFxuXCJUaGVyZSBhcmUsIGhvd2V2ZXIsIHN0YXRlcyBvZiBzb2NpZXR5IGluIHdoaWNoIG9uZSBhbmQgdGhlIHNhbWUgbWFuIGRvZXMgdGFpbG9yaW5nIGFuZCB3ZWF2aW5nIGFsdGVybmF0ZWx5LCBpbiB3aGljaCBjYXNlIHRoZXNlIHR3byBmb3JtcyBvZiBsYWJvdXIgYXJlIG1lcmUgbW9kaWZpY2F0aW9ucyBvZiB0aGUgbGFib3VyIG9mIHRoZSBzYW1lIGluZGl2aWR1YWwsIGFuZCBub3Qgc3BlY2lhbCBhbmQgZml4ZWQgZnVuY3Rpb25zIG9mIGRpZmZlcmVudCBwZXJzb25zLCBqdXN0IGFzIHRoZSBjb2F0IHdoaWNoIG91ciB0YWlsb3IgbWFrZXMgb25lIGRheSwgYW5kIHRoZSB0cm91c2VycyB3aGljaCBoZSBtYWtlcyBhbm90aGVyIGRheSwgaW1wbHkgb25seSBhIHZhcmlhdGlvbiBpbiB0aGUgbGFib3VyIG9mIG9uZSBhbmQgdGhlIHNhbWUgaW5kaXZpZHVhbC5cIixcblwiTW9yZW92ZXIsIHdlIHNlZSBhdCBhIGdsYW5jZSB0aGF0LCBpbiBvdXIgY2FwaXRhbGlzdCBzb2NpZXR5LCBhIGdpdmVuIHBvcnRpb24gb2YgaHVtYW4gbGFib3VyIGlzLCBpbiBhY2NvcmRhbmNlIHdpdGggdGhlIHZhcnlpbmcgZGVtYW5kLCBhdCBvbmUgdGltZSBzdXBwbGllZCBpbiB0aGUgZm9ybSBvZiB0YWlsb3JpbmcsIGF0IGFub3RoZXIgaW4gdGhlIGZvcm0gb2Ygd2VhdmluZy5cIixcblwiVGhpcyBjaGFuZ2UgbWF5IHBvc3NpYmx5IG5vdCB0YWtlIHBsYWNlIHdpdGhvdXQgZnJpY3Rpb24sIGJ1dCB0YWtlIHBsYWNlIGl0IG11c3QuXCIsXG5cIlByb2R1Y3RpdmUgYWN0aXZpdHksIGlmIHdlIGxlYXZlIG91dCBvZiBzaWdodCBpdHMgc3BlY2lhbCBmb3JtLCB2aXouXCIsXG5cInRoZSB1c2VmdWwgY2hhcmFjdGVyIG9mIHRoZSBsYWJvdXIsIGlzIG5vdGhpbmcgYnV0IHRoZSBleHBlbmRpdHVyZSBvZiBodW1hbiBsYWJvdXIgcG93ZXIuXCIsXG5cIlRhaWxvcmluZyBhbmQgd2VhdmluZywgdGhvdWdoIHF1YWxpdGF0aXZlbHkgZGlmZmVyZW50IHByb2R1Y3RpdmUgYWN0aXZpdGllcywgYXJlIGVhY2ggYSBwcm9kdWN0aXZlIGV4cGVuZGl0dXJlIG9mIGh1bWFuIGJyYWlucywgbmVydmVzLCBhbmQgbXVzY2xlcywgYW5kIGluIHRoaXMgc2Vuc2UgYXJlIGh1bWFuIGxhYm91ci5cIixcblwiVGhleSBhcmUgYnV0IHR3byBkaWZmZXJlbnQgbW9kZXMgb2YgZXhwZW5kaW5nIGh1bWFuIGxhYm91ciBwb3dlci5cIixcblwiT2YgY291cnNlLCB0aGlzIGxhYm91ciBwb3dlciwgd2hpY2ggcmVtYWlucyB0aGUgc2FtZSB1bmRlciBhbGwgaXRzIG1vZGlmaWNhdGlvbnMsIG11c3QgaGF2ZSBhdHRhaW5lZCBhIGNlcnRhaW4gcGl0Y2ggb2YgZGV2ZWxvcG1lbnQgYmVmb3JlIGl0IGNhbiBiZSBleHBlbmRlZCBpbiBhIG11bHRpcGxpY2l0eSBvZiBtb2Rlcy5cIixcblwiQnV0IHRoZSB2YWx1ZSBvZiBhIGNvbW1vZGl0eSByZXByZXNlbnRzIGh1bWFuIGxhYm91ciBpbiB0aGUgYWJzdHJhY3QsIHRoZSBleHBlbmRpdHVyZSBvZiBodW1hbiBsYWJvdXIgaW4gZ2VuZXJhbC5cIixcblwiQW5kIGp1c3QgYXMgaW4gc29jaWV0eSwgYSBnZW5lcmFsIG9yIGEgYmFua2VyIHBsYXlzIGEgZ3JlYXQgcGFydCwgYnV0IG1lcmUgbWFuLCBvbiB0aGUgb3RoZXIgaGFuZCwgYSB2ZXJ5IHNoYWJieSBwYXJ0LCAgc28gaGVyZSB3aXRoIG1lcmUgaHVtYW4gbGFib3VyLlwiLFxuXCJJdCBpcyB0aGUgZXhwZW5kaXR1cmUgb2Ygc2ltcGxlIGxhYm91ciBwb3dlciwgaS5cIixcblwib2YgdGhlIGxhYm91ciBwb3dlciB3aGljaCwgb24gYW4gYXZlcmFnZSwgYXBhcnQgZnJvbSBhbnkgc3BlY2lhbCBkZXZlbG9wbWVudCwgZXhpc3RzIGluIHRoZSBvcmdhbmlzbSBvZiBldmVyeSBvcmRpbmFyeSBpbmRpdmlkdWFsLlwiLFxuXCJTaW1wbGUgYXZlcmFnZSBsYWJvdXIsIGl0IGlzIHRydWUsIHZhcmllcyBpbiBjaGFyYWN0ZXIgaW4gZGlmZmVyZW50IGNvdW50cmllcyBhbmQgYXQgZGlmZmVyZW50IHRpbWVzLCBidXQgaW4gYSBwYXJ0aWN1bGFyIHNvY2lldHkgaXQgaXMgZ2l2ZW4uXCIsXG5cIlNraWxsZWQgbGFib3VyIGNvdW50cyBvbmx5IGFzIHNpbXBsZSBsYWJvdXIgaW50ZW5zaWZpZWQsIG9yIHJhdGhlciwgYXMgbXVsdGlwbGllZCBzaW1wbGUgbGFib3VyLCBhIGdpdmVuIHF1YW50aXR5IG9mIHNraWxsZWQgYmVpbmcgY29uc2lkZXJlZCBlcXVhbCB0byBhIGdyZWF0ZXIgcXVhbnRpdHkgb2Ygc2ltcGxlIGxhYm91ci5cIixcblwiRXhwZXJpZW5jZSBzaG93cyB0aGF0IHRoaXMgcmVkdWN0aW9uIGlzIGNvbnN0YW50bHkgYmVpbmcgbWFkZS5cIixcblwiQSBjb21tb2RpdHkgbWF5IGJlIHRoZSBwcm9kdWN0IG9mIHRoZSBtb3N0IHNraWxsZWQgbGFib3VyLCBidXQgaXRzIHZhbHVlLCBieSBlcXVhdGluZyBpdCB0byB0aGUgcHJvZHVjdCBvZiBzaW1wbGUgdW5za2lsbGVkIGxhYm91ciwgcmVwcmVzZW50cyBhIGRlZmluaXRlIHF1YW50aXR5IG9mIHRoZSBsYXR0ZXIgbGFib3VyIGFsb25lLlwiLFxuXCJUaGUgZGlmZmVyZW50IHByb3BvcnRpb25zIGluIHdoaWNoIGRpZmZlcmVudCBzb3J0cyBvZiBsYWJvdXIgYXJlIHJlZHVjZWQgdG8gdW5za2lsbGVkIGxhYm91ciBhcyB0aGVpciBzdGFuZGFyZCwgYXJlIGVzdGFibGlzaGVkIGJ5IGEgc29jaWFsIHByb2Nlc3MgdGhhdCBnb2VzIG9uIGJlaGluZCB0aGUgYmFja3Mgb2YgdGhlIHByb2R1Y2VycywgYW5kLCBjb25zZXF1ZW50bHksIGFwcGVhciB0byBiZSBmaXhlZCBieSBjdXN0b20uXCIsXG5cIkZvciBzaW1wbGljaXR54oCZcyBzYWtlIHdlIHNoYWxsIGhlbmNlZm9ydGggYWNjb3VudCBldmVyeSBraW5kIG9mIGxhYm91ciB0byBiZSB1bnNraWxsZWQsIHNpbXBsZSBsYWJvdXI7IGJ5IHRoaXMgd2UgZG8gbm8gbW9yZSB0aGFuIHNhdmUgb3Vyc2VsdmVzIHRoZSB0cm91YmxlIG9mIG1ha2luZyB0aGUgcmVkdWN0aW9uLlwiLFxuXCJKdXN0IGFzLCB0aGVyZWZvcmUsIGluIHZpZXdpbmcgdGhlIGNvYXQgYW5kIGxpbmVuIGFzIHZhbHVlcywgd2UgYWJzdHJhY3QgZnJvbSB0aGVpciBkaWZmZXJlbnQgdXNlIHZhbHVlcywgc28gaXQgaXMgd2l0aCB0aGUgbGFib3VyIHJlcHJlc2VudGVkIGJ5IHRob3NlIHZhbHVlczogd2UgZGlzcmVnYXJkIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gaXRzIHVzZWZ1bCBmb3Jtcywgd2VhdmluZyBhbmQgdGFpbG9yaW5nLlwiLFxuXCJBcyB0aGUgdXNlIHZhbHVlcywgY29hdCBhbmQgbGluZW4sIGFyZSBjb21iaW5hdGlvbnMgb2Ygc3BlY2lhbCBwcm9kdWN0aXZlIGFjdGl2aXRpZXMgd2l0aCBjbG90aCBhbmQgeWFybiwgd2hpbGUgdGhlIHZhbHVlcywgY29hdCBhbmQgbGluZW4sIGFyZSwgb24gdGhlIG90aGVyIGhhbmQsIG1lcmUgaG9tb2dlbmVvdXMgY29uZ2VsYXRpb25zIG9mIHVuZGlmZmVyZW50aWF0ZWQgbGFib3VyLCBzbyB0aGUgbGFib3VyIGVtYm9kaWVkIGluIHRoZXNlIGxhdHRlciB2YWx1ZXMgZG9lcyBub3QgY291bnQgYnkgdmlydHVlIG9mIGl0cyBwcm9kdWN0aXZlIHJlbGF0aW9uIHRvIGNsb3RoIGFuZCB5YXJuLCBidXQgb25seSBhcyBiZWluZyBleHBlbmRpdHVyZSBvZiBodW1hbiBsYWJvdXIgcG93ZXIuXCIsXG5cIlRhaWxvcmluZyBhbmQgd2VhdmluZyBhcmUgbmVjZXNzYXJ5IGZhY3RvcnMgaW4gdGhlIGNyZWF0aW9uIG9mIHRoZSB1c2UgdmFsdWVzLCBjb2F0IGFuZCBsaW5lbiwgcHJlY2lzZWx5IGJlY2F1c2UgdGhlc2UgdHdvIGtpbmRzIG9mIGxhYm91ciBhcmUgb2YgZGlmZmVyZW50IHF1YWxpdGllczsgYnV0IG9ubHkgaW4gc28gZmFyIGFzIGFic3RyYWN0aW9uIGlzIG1hZGUgZnJvbSB0aGVpciBzcGVjaWFsIHF1YWxpdGllcywgb25seSBpbiBzbyBmYXIgYXMgYm90aCBwb3NzZXNzIHRoZSBzYW1lIHF1YWxpdHkgb2YgYmVpbmcgaHVtYW4gbGFib3VyLCBkbyB0YWlsb3JpbmcgYW5kIHdlYXZpbmcgZm9ybSB0aGUgc3Vic3RhbmNlIG9mIHRoZSB2YWx1ZXMgb2YgdGhlIHNhbWUgYXJ0aWNsZXMuXCIsXG5cIkNvYXRzIGFuZCBsaW5lbiwgaG93ZXZlciwgYXJlIG5vdCBtZXJlbHkgdmFsdWVzLCBidXQgdmFsdWVzIG9mIGRlZmluaXRlIG1hZ25pdHVkZSwgYW5kIGFjY29yZGluZyB0byBvdXIgYXNzdW1wdGlvbiwgdGhlIGNvYXQgaXMgd29ydGggdHdpY2UgYXMgbXVjaCBhcyB0aGUgdGVuIHlhcmRzIG9mIGxpbmVuLlwiLFxuXCJXaGVuY2UgdGhpcyBkaWZmZXJlbmNlIGluIHRoZWlyIHZhbHVlcz9cIixcblwiSXQgaXMgb3dpbmcgdG8gdGhlIGZhY3QgdGhhdCB0aGUgbGluZW4gY29udGFpbnMgb25seSBoYWxmIGFzIG11Y2ggbGFib3VyIGFzIHRoZSBjb2F0LCBhbmQgY29uc2VxdWVudGx5LCB0aGF0IGluIHRoZSBwcm9kdWN0aW9uIG9mIHRoZSBsYXR0ZXIsIGxhYm91ciBwb3dlciBtdXN0IGhhdmUgYmVlbiBleHBlbmRlZCBkdXJpbmcgdHdpY2UgdGhlIHRpbWUgbmVjZXNzYXJ5IGZvciB0aGUgcHJvZHVjdGlvbiBvZiB0aGUgZm9ybWVyLlwiLFxuXCJXaGlsZSwgdGhlcmVmb3JlLCB3aXRoIHJlZmVyZW5jZSB0byB1c2UgdmFsdWUsIHRoZSBsYWJvdXIgY29udGFpbmVkIGluIGEgY29tbW9kaXR5IGNvdW50cyBvbmx5IHF1YWxpdGF0aXZlbHksIHdpdGggcmVmZXJlbmNlIHRvIHZhbHVlIGl0IGNvdW50cyBvbmx5IHF1YW50aXRhdGl2ZWx5LCBhbmQgbXVzdCBmaXJzdCBiZSByZWR1Y2VkIHRvIGh1bWFuIGxhYm91ciBwdXJlIGFuZCBzaW1wbGUuXCIsXG5cIkluIHRoZSBmb3JtZXIgY2FzZSwgaXQgaXMgYSBxdWVzdGlvbiBvZiBIb3cgYW5kIFdoYXQsIGluIHRoZSBsYXR0ZXIgb2YgSG93IG11Y2g/XCIsXG5cIkhvdyBsb25nIGEgdGltZT9cIixcblwiU2luY2UgdGhlIG1hZ25pdHVkZSBvZiB0aGUgdmFsdWUgb2YgYSBjb21tb2RpdHkgcmVwcmVzZW50cyBvbmx5IHRoZSBxdWFudGl0eSBvZiBsYWJvdXIgZW1ib2RpZWQgaW4gaXQsIGl0IGZvbGxvd3MgdGhhdCBhbGwgY29tbW9kaXRpZXMsIHdoZW4gdGFrZW4gaW4gY2VydGFpbiBwcm9wb3J0aW9ucywgbXVzdCBiZSBlcXVhbCBpbiB2YWx1ZS5cIixcblwiSWYgdGhlIHByb2R1Y3RpdmUgcG93ZXIgb2YgYWxsIHRoZSBkaWZmZXJlbnQgc29ydHMgb2YgdXNlZnVsIGxhYm91ciByZXF1aXJlZCBmb3IgdGhlIHByb2R1Y3Rpb24gb2YgYSBjb2F0IHJlbWFpbnMgdW5jaGFuZ2VkLCB0aGUgc3VtIG9mIHRoZSB2YWx1ZXMgb2YgdGhlIGNvYXRzIHByb2R1Y2VkIGluY3JlYXNlcyB3aXRoIHRoZWlyIG51bWJlci5cIixcblwiSWYgb25lIGNvYXQgcmVwcmVzZW50cyB4IGRheXPigJkgbGFib3VyLCB0d28gY29hdHMgcmVwcmVzZW50IDJ4IGRheXPigJkgbGFib3VyLCBhbmQgc28gb24uXCIsXG5cIkJ1dCBhc3N1bWUgdGhhdCB0aGUgZHVyYXRpb24gb2YgdGhlIGxhYm91ciBuZWNlc3NhcnkgZm9yIHRoZSBwcm9kdWN0aW9uIG9mIGEgY29hdCBiZWNvbWVzIGRvdWJsZWQgb3IgaGFsdmVkLlwiLFxuXCJJbiB0aGUgZmlyc3QgY2FzZSBvbmUgY29hdCBpcyB3b3J0aCBhcyBtdWNoIGFzIHR3byBjb2F0cyB3ZXJlIGJlZm9yZTsgaW4gdGhlIHNlY29uZCBjYXNlLCB0d28gY29hdHMgYXJlIG9ubHkgd29ydGggYXMgbXVjaCBhcyBvbmUgd2FzIGJlZm9yZSwgYWx0aG91Z2ggaW4gYm90aCBjYXNlcyBvbmUgY29hdCByZW5kZXJzIHRoZSBzYW1lIHNlcnZpY2UgYXMgYmVmb3JlLCBhbmQgdGhlIHVzZWZ1bCBsYWJvdXIgZW1ib2RpZWQgaW4gaXQgcmVtYWlucyBvZiB0aGUgc2FtZSBxdWFsaXR5LlwiLFxuXCJCdXQgdGhlIHF1YW50aXR5IG9mIGxhYm91ciBzcGVudCBvbiBpdHMgcHJvZHVjdGlvbiBoYXMgYWx0ZXJlZC5cIixcblwiQW4gaW5jcmVhc2UgaW4gdGhlIHF1YW50aXR5IG9mIHVzZSB2YWx1ZXMgaXMgYW4gaW5jcmVhc2Ugb2YgbWF0ZXJpYWwgd2VhbHRoLlwiLFxuXCJXaXRoIHR3byBjb2F0cyB0d28gbWVuIGNhbiBiZSBjbG90aGVkLCB3aXRoIG9uZSBjb2F0IG9ubHkgb25lIG1hbi5cIixcblwiTmV2ZXJ0aGVsZXNzLCBhbiBpbmNyZWFzZWQgcXVhbnRpdHkgb2YgbWF0ZXJpYWwgd2VhbHRoIG1heSBjb3JyZXNwb25kIHRvIGEgc2ltdWx0YW5lb3VzIGZhbGwgaW4gdGhlIG1hZ25pdHVkZSBvZiBpdHMgdmFsdWUuXCIsXG5cIlRoaXMgYW50YWdvbmlzdGljIG1vdmVtZW50IGhhcyBpdHMgb3JpZ2luIGluIHRoZSB0d28tZm9sZCBjaGFyYWN0ZXIgb2YgbGFib3VyLlwiLFxuXCJQcm9kdWN0aXZlIHBvd2VyIGhhcyByZWZlcmVuY2UsIG9mIGNvdXJzZSwgb25seSB0byBsYWJvdXIgb2Ygc29tZSB1c2VmdWwgY29uY3JldGUgZm9ybSwgdGhlIGVmZmljYWN5IG9mIGFueSBzcGVjaWFsIHByb2R1Y3RpdmUgYWN0aXZpdHkgZHVyaW5nIGEgZ2l2ZW4gdGltZSBiZWluZyBkZXBlbmRlbnQgb24gaXRzIHByb2R1Y3RpdmVuZXNzLlwiLFxuXCJVc2VmdWwgbGFib3VyIGJlY29tZXMsIHRoZXJlZm9yZSwgYSBtb3JlIG9yIGxlc3MgYWJ1bmRhbnQgc291cmNlIG9mIHByb2R1Y3RzLCBpbiBwcm9wb3J0aW9uIHRvIHRoZSByaXNlIG9yIGZhbGwgb2YgaXRzIHByb2R1Y3RpdmVuZXNzLlwiLFxuXCJPbiB0aGUgb3RoZXIgaGFuZCwgbm8gY2hhbmdlIGluIHRoaXMgcHJvZHVjdGl2ZW5lc3MgYWZmZWN0cyB0aGUgbGFib3VyIHJlcHJlc2VudGVkIGJ5IHZhbHVlLlwiLFxuXCJTaW5jZSBwcm9kdWN0aXZlIHBvd2VyIGlzIGFuIGF0dHJpYnV0ZSBvZiB0aGUgY29uY3JldGUgdXNlZnVsIGZvcm1zIG9mIGxhYm91ciwgb2YgY291cnNlIGl0IGNhbiBubyBsb25nZXIgaGF2ZSBhbnkgYmVhcmluZyBvbiB0aGF0IGxhYm91ciwgc28gc29vbiBhcyB3ZSBtYWtlIGFic3RyYWN0aW9uIGZyb20gdGhvc2UgY29uY3JldGUgdXNlZnVsIGZvcm1zLlwiLFxuXCJIb3dldmVyIHRoZW4gcHJvZHVjdGl2ZSBwb3dlciBtYXkgdmFyeSwgdGhlIHNhbWUgbGFib3VyLCBleGVyY2lzZWQgZHVyaW5nIGVxdWFsIHBlcmlvZHMgb2YgdGltZSwgYWx3YXlzIHlpZWxkcyBlcXVhbCBhbW91bnRzIG9mIHZhbHVlLlwiLFxuXCJCdXQgaXQgd2lsbCB5aWVsZCwgZHVyaW5nIGVxdWFsIHBlcmlvZHMgb2YgdGltZSwgZGlmZmVyZW50IHF1YW50aXRpZXMgb2YgdmFsdWVzIGluIHVzZTsgbW9yZSwgaWYgdGhlIHByb2R1Y3RpdmUgcG93ZXIgcmlzZSwgZmV3ZXIsIGlmIGl0IGZhbGwuXCIsXG5cIlRoZSBzYW1lIGNoYW5nZSBpbiBwcm9kdWN0aXZlIHBvd2VyLCB3aGljaCBpbmNyZWFzZXMgdGhlIGZydWl0ZnVsbmVzcyBvZiBsYWJvdXIsIGFuZCwgaW4gY29uc2VxdWVuY2UsIHRoZSBxdWFudGl0eSBvZiB1c2UgdmFsdWVzIHByb2R1Y2VkIGJ5IHRoYXQgbGFib3VyLCB3aWxsIGRpbWluaXNoIHRoZSB0b3RhbCB2YWx1ZSBvZiB0aGlzIGluY3JlYXNlZCBxdWFudGl0eSBvZiB1c2UgdmFsdWVzLCBwcm92aWRlZCBzdWNoIGNoYW5nZSBzaG9ydGVuIHRoZSB0b3RhbCBsYWJvdXIgdGltZSBuZWNlc3NhcnkgZm9yIHRoZWlyIHByb2R1Y3Rpb247IGFuZCB2aWNlIHZlcnPDoi5cIixcblwiT24gdGhlIG9uZSBoYW5kIGFsbCBsYWJvdXIgaXMsIHNwZWFraW5nIHBoeXNpb2xvZ2ljYWxseSwgYW4gZXhwZW5kaXR1cmUgb2YgaHVtYW4gbGFib3VyIHBvd2VyLCBhbmQgaW4gaXRzIGNoYXJhY3RlciBvZiBpZGVudGljYWwgYWJzdHJhY3QgaHVtYW4gbGFib3VyLCBpdCBjcmVhdGVzIGFuZCBmb3JtcyB0aGUgdmFsdWUgb2YgY29tbW9kaXRpZXMuXCIsXG5cIk9uIHRoZSBvdGhlciBoYW5kLCBhbGwgbGFib3VyIGlzIHRoZSBleHBlbmRpdHVyZSBvZiBodW1hbiBsYWJvdXIgcG93ZXIgaW4gYSBzcGVjaWFsIGZvcm0gYW5kIHdpdGggYSBkZWZpbml0ZSBhaW0sIGFuZCBpbiB0aGlzLCBpdHMgY2hhcmFjdGVyIG9mIGNvbmNyZXRlIHVzZWZ1bCBsYWJvdXIsIGl0IHByb2R1Y2VzIHVzZSB2YWx1ZXMuXCIsXG5cIlNFQ1RJT04gM1wiLFxuXCJUSEUgRk9STSBPRiBWQUxVRSBPUiBFWENIQU5HRSBWQUxVRVwiLFxuXCJDb21tb2RpdGllcyBjb21lIGludG8gdGhlIHdvcmxkIGluIHRoZSBzaGFwZSBvZiB1c2UgdmFsdWVzLCBhcnRpY2xlcywgb3IgZ29vZHMsIHN1Y2ggYXMgaXJvbiwgbGluZW4sIGNvcm4sICZjLlwiLFxuXCJUaGlzIGlzIHRoZWlyIHBsYWluLCBob21lbHksIGJvZGlseSBmb3JtLlwiLFxuXCJUaGV5IGFyZSwgaG93ZXZlciwgY29tbW9kaXRpZXMsIG9ubHkgYmVjYXVzZSB0aGV5IGFyZSBzb21ldGhpbmcgdHdvLWZvbGQsIGJvdGggb2JqZWN0cyBvZiB1dGlsaXR5LCBhbmQsIGF0IHRoZSBzYW1lIHRpbWUsIGRlcG9zaXRvcmllcyBvZiB2YWx1ZS5cIixcblwiVGhleSBtYW5pZmVzdCB0aGVtc2VsdmVzIHRoZXJlZm9yZSBhcyBjb21tb2RpdGllcywgb3IgaGF2ZSB0aGUgZm9ybSBvZiBjb21tb2RpdGllcywgb25seSBpbiBzbyBmYXIgYXMgdGhleSBoYXZlIHR3byBmb3JtcywgYSBwaHlzaWNhbCBvciBuYXR1cmFsIGZvcm0sIGFuZCBhIHZhbHVlIGZvcm0uXCIsXG5cIlRoZSByZWFsaXR5IG9mIHRoZSB2YWx1ZSBvZiBjb21tb2RpdGllcyBkaWZmZXJzIGluIHRoaXMgcmVzcGVjdCBmcm9tIERhbWUgUXVpY2tseSwgdGhhdCB3ZSBkb27igJl0IGtub3cg4oCcd2hlcmUgdG8gaGF2ZSBpdC5cIixcblwiVGhlIHZhbHVlIG9mIGNvbW1vZGl0aWVzIGlzIHRoZSB2ZXJ5IG9wcG9zaXRlIG9mIHRoZSBjb2Fyc2UgbWF0ZXJpYWxpdHkgb2YgdGhlaXIgc3Vic3RhbmNlLCBub3QgYW4gYXRvbSBvZiBtYXR0ZXIgZW50ZXJzIGludG8gaXRzIGNvbXBvc2l0aW9uLlwiLFxuXCJUdXJuIGFuZCBleGFtaW5lIGEgc2luZ2xlIGNvbW1vZGl0eSwgYnkgaXRzZWxmLCBhcyB3ZSB3aWxsLCB5ZXQgaW4gc28gZmFyIGFzIGl0IHJlbWFpbnMgYW4gb2JqZWN0IG9mIHZhbHVlLCBpdCBzZWVtcyBpbXBvc3NpYmxlIHRvIGdyYXNwIGl0LlwiLFxuXCJJZiwgaG93ZXZlciwgd2UgYmVhciBpbiBtaW5kIHRoYXQgdGhlIHZhbHVlIG9mIGNvbW1vZGl0aWVzIGhhcyBhIHB1cmVseSBzb2NpYWwgcmVhbGl0eSwgYW5kIHRoYXQgdGhleSBhY3F1aXJlIHRoaXMgcmVhbGl0eSBvbmx5IGluIHNvIGZhciBhcyB0aGV5IGFyZSBleHByZXNzaW9ucyBvciBlbWJvZGltZW50cyBvZiBvbmUgaWRlbnRpY2FsIHNvY2lhbCBzdWJzdGFuY2UsIHZpei5cIixcblwiaHVtYW4gbGFib3VyLCBpdCBmb2xsb3dzIGFzIGEgbWF0dGVyIG9mIGNvdXJzZSwgdGhhdCB2YWx1ZSBjYW4gb25seSBtYW5pZmVzdCBpdHNlbGYgaW4gdGhlIHNvY2lhbCByZWxhdGlvbiBvZiBjb21tb2RpdHkgdG8gY29tbW9kaXR5LlwiLFxuXCJJbiBmYWN0IHdlIHN0YXJ0ZWQgZnJvbSBleGNoYW5nZSB2YWx1ZSwgb3IgdGhlIGV4Y2hhbmdlIHJlbGF0aW9uIG9mIGNvbW1vZGl0aWVzLCBpbiBvcmRlciB0byBnZXQgYXQgdGhlIHZhbHVlIHRoYXQgbGllcyBoaWRkZW4gYmVoaW5kIGl0LlwiLFxuXCJXZSBtdXN0IG5vdyByZXR1cm4gdG8gdGhpcyBmb3JtIHVuZGVyIHdoaWNoIHZhbHVlIGZpcnN0IGFwcGVhcmVkIHRvIHVzLlwiLFxuXCJFdmVyeSBvbmUga25vd3MsIGlmIGhlIGtub3dzIG5vdGhpbmcgZWxzZSwgdGhhdCBjb21tb2RpdGllcyBoYXZlIGEgdmFsdWUgZm9ybSBjb21tb24gdG8gdGhlbSBhbGwsIGFuZCBwcmVzZW50aW5nIGEgbWFya2VkIGNvbnRyYXN0IHdpdGggdGhlIHZhcmllZCBib2RpbHkgZm9ybXMgb2YgdGhlaXIgdXNlIHZhbHVlcy5cIixcblwiSSBtZWFuIHRoZWlyIG1vbmV5IGZvcm0uXCIsXG5cIkhlcmUsIGhvd2V2ZXIsIGEgdGFzayBpcyBzZXQgdXMsIHRoZSBwZXJmb3JtYW5jZSBvZiB3aGljaCBoYXMgbmV2ZXIgeWV0IGV2ZW4gYmVlbiBhdHRlbXB0ZWQgYnkgYm91cmdlb2lzIGVjb25vbXksIHRoZSB0YXNrIG9mIHRyYWNpbmcgdGhlIGdlbmVzaXMgb2YgdGhpcyBtb25leSBmb3JtLCBvZiBkZXZlbG9waW5nIHRoZSBleHByZXNzaW9uIG9mIHZhbHVlIGltcGxpZWQgaW4gdGhlIHZhbHVlIHJlbGF0aW9uIG9mIGNvbW1vZGl0aWVzLCBmcm9tIGl0cyBzaW1wbGVzdCwgYWxtb3N0IGltcGVyY2VwdGlibGUgb3V0bGluZSwgdG8gdGhlIGRhenpsaW5nIG1vbmV5LWZvcm0uXCIsXG5cIkJ5IGRvaW5nIHRoaXMgd2Ugc2hhbGwsIGF0IHRoZSBzYW1lIHRpbWUsIHNvbHZlIHRoZSByaWRkbGUgcHJlc2VudGVkIGJ5IG1vbmV5LlwiLFxuXCJUaGUgc2ltcGxlc3QgdmFsdWUtcmVsYXRpb24gaXMgZXZpZGVudGx5IHRoYXQgb2Ygb25lIGNvbW1vZGl0eSB0byBzb21lIG9uZSBvdGhlciBjb21tb2RpdHkgb2YgYSBkaWZmZXJlbnQga2luZC5cIixcblwiSGVuY2UgdGhlIHJlbGF0aW9uIGJldHdlZW4gdGhlIHZhbHVlcyBvZiB0d28gY29tbW9kaXRpZXMgc3VwcGxpZXMgdXMgd2l0aCB0aGUgc2ltcGxlc3QgZXhwcmVzc2lvbiBvZiB0aGUgdmFsdWUgb2YgYSBzaW5nbGUgY29tbW9kaXR5LlwiLFxuXCJFbGVtZW50YXJ5IG9yIEFjY2lkZW50YWwgRm9ybSBPZiBWYWx1ZVwiLFxuXCJ4IGNvbW1vZGl0eSBBID0geSBjb21tb2RpdHkgQiwgb3JcIixcblwieCBjb21tb2RpdHkgQSBpcyB3b3J0aCB5IGNvbW1vZGl0eSBCLlwiLFxuXCIyMCB5YXJkcyBvZiBsaW5lbiA9IDEgY29hdCwgb3JcIixcblwiMjAgWWFyZHMgb2YgbGluZW4gYXJlIHdvcnRoIDEgY29hdC5cIixcblwiVGhlIHR3byBwb2xlcyBvZiB0aGUgZXhwcmVzc2lvbiBvZiB2YWx1ZS5cIixcblwiUmVsYXRpdmUgZm9ybSBhbmQgRXF1aXZhbGVudCBmb3JtXCIsXG5cIlRoZSB3aG9sZSBteXN0ZXJ5IG9mIHRoZSBmb3JtIG9mIHZhbHVlIGxpZXMgaGlkZGVuIGluIHRoaXMgZWxlbWVudGFyeSBmb3JtLlwiLFxuXCJJdHMgYW5hbHlzaXMsIHRoZXJlZm9yZSwgaXMgb3VyIHJlYWwgZGlmZmljdWx0eS5cIixcblwiSGVyZSB0d28gZGlmZmVyZW50IGtpbmRzIG9mIGNvbW1vZGl0aWVzIChpbiBvdXIgZXhhbXBsZSB0aGUgbGluZW4gYW5kIHRoZSBjb2F0KSwgZXZpZGVudGx5IHBsYXkgdHdvIGRpZmZlcmVudCBwYXJ0cy5cIixcblwiVGhlIGxpbmVuIGV4cHJlc3NlcyBpdHMgdmFsdWUgaW4gdGhlIGNvYXQ7IHRoZSBjb2F0IHNlcnZlcyBhcyB0aGUgbWF0ZXJpYWwgaW4gd2hpY2ggdGhhdCB2YWx1ZSBpcyBleHByZXNzZWQuXCIsXG5cIlRoZSBmb3JtZXIgcGxheXMgYW4gYWN0aXZlLCB0aGUgbGF0dGVyIGEgcGFzc2l2ZSwgcGFydC5cIixcblwiVGhlIHZhbHVlIG9mIHRoZSBsaW5lbiBpcyByZXByZXNlbnRlZCBhcyByZWxhdGl2ZSB2YWx1ZSwgb3IgYXBwZWFycyBpbiByZWxhdGl2ZSBmb3JtLlwiLFxuXCJUaGUgY29hdCBvZmZpY2lhdGVzIGFzIGVxdWl2YWxlbnQsIG9yIGFwcGVhcnMgaW4gZXF1aXZhbGVudCBmb3JtLlwiLFxuXCJUaGUgcmVsYXRpdmUgZm9ybSBhbmQgdGhlIGVxdWl2YWxlbnQgZm9ybSBhcmUgdHdvIGludGltYXRlbHkgY29ubmVjdGVkLCBtdXR1YWxseSBkZXBlbmRlbnQgYW5kIGluc2VwYXJhYmxlIGVsZW1lbnRzIG9mIHRoZSBleHByZXNzaW9uIG9mIHZhbHVlOyBidXQsIGF0IHRoZSBzYW1lIHRpbWUsIGFyZSBtdXR1YWxseSBleGNsdXNpdmUsIGFudGFnb25pc3RpYyBleHRyZW1lcyDigJMgaS5cIixcblwicG9sZXMgb2YgdGhlIHNhbWUgZXhwcmVzc2lvbi5cIixcblwiVGhleSBhcmUgYWxsb3R0ZWQgcmVzcGVjdGl2ZWx5IHRvIHRoZSB0d28gZGlmZmVyZW50IGNvbW1vZGl0aWVzIGJyb3VnaHQgaW50byByZWxhdGlvbiBieSB0aGF0IGV4cHJlc3Npb24uXCIsXG5cIkl0IGlzIG5vdCBwb3NzaWJsZSB0byBleHByZXNzIHRoZSB2YWx1ZSBvZiBsaW5lbiBpbiBsaW5lbi5cIixcblwiMjAgeWFyZHMgb2YgbGluZW4gPSAyMCB5YXJkcyBvZiBsaW5lbiBpcyBubyBleHByZXNzaW9uIG9mIHZhbHVlLlwiLFxuXCJPbiB0aGUgY29udHJhcnksIHN1Y2ggYW4gZXF1YXRpb24gbWVyZWx5IHNheXMgdGhhdCAyMCB5YXJkcyBvZiBsaW5lbiBhcmUgbm90aGluZyBlbHNlIHRoYW4gMjAgeWFyZHMgb2YgbGluZW4sIGEgZGVmaW5pdGUgcXVhbnRpdHkgb2YgdGhlIHVzZSB2YWx1ZSBsaW5lbi5cIixcblwiVGhlIHZhbHVlIG9mIHRoZSBsaW5lbiBjYW4gdGhlcmVmb3JlIGJlIGV4cHJlc3NlZCBvbmx5IHJlbGF0aXZlbHkg4oCTIGkuXCIsXG5cImluIHNvbWUgb3RoZXIgY29tbW9kaXR5LlwiLFxuXCJUaGUgcmVsYXRpdmUgZm9ybSBvZiB0aGUgdmFsdWUgb2YgdGhlIGxpbmVuIHByZXN1cHBvc2VzLCB0aGVyZWZvcmUsIHRoZSBwcmVzZW5jZSBvZiBzb21lIG90aGVyIGNvbW1vZGl0eSDigJMgaGVyZSB0aGUgY29hdCDigJMgdW5kZXIgdGhlIGZvcm0gb2YgYW4gZXF1aXZhbGVudC5cIixcblwiT24gdGhlIG90aGVyIGhhbmQsIHRoZSBjb21tb2RpdHkgdGhhdCBmaWd1cmVzIGFzIHRoZSBlcXVpdmFsZW50IGNhbm5vdCBhdCB0aGUgc2FtZSB0aW1lIGFzc3VtZSB0aGUgcmVsYXRpdmUgZm9ybS5cIixcblwiVGhhdCBzZWNvbmQgY29tbW9kaXR5IGlzIG5vdCB0aGUgb25lIHdob3NlIHZhbHVlIGlzIGV4cHJlc3NlZC5cIixcblwiSXRzIGZ1bmN0aW9uIGlzIG1lcmVseSB0byBzZXJ2ZSBhcyB0aGUgbWF0ZXJpYWwgaW4gd2hpY2ggdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBjb21tb2RpdHkgaXMgZXhwcmVzc2VkLlwiLFxuXCJObyBkb3VidCwgdGhlIGV4cHJlc3Npb24gMjAgeWFyZHMgb2YgbGluZW4gPSAxIGNvYXQsIG9yIDIwIHlhcmRzIG9mIGxpbmVuIGFyZSB3b3J0aCAxIGNvYXQsIGltcGxpZXMgdGhlIG9wcG9zaXRlIHJlbGF0aW9uLlwiLFxuXCIxIGNvYXQgPSAyMCB5YXJkcyBvZiBsaW5lbiwgb3IgMSBjb2F0IGlzIHdvcnRoIDIwIHlhcmRzIG9mIGxpbmVuLlwiLFxuXCJCdXQsIGluIHRoYXQgY2FzZSwgSSBtdXN0IHJldmVyc2UgdGhlIGVxdWF0aW9uLCBpbiBvcmRlciB0byBleHByZXNzIHRoZSB2YWx1ZSBvZiB0aGUgY29hdCByZWxhdGl2ZWx5OyBhbmQgc28gc29vbiBhcyBJIGRvIHRoYXQgdGhlIGxpbmVuIGJlY29tZXMgdGhlIGVxdWl2YWxlbnQgaW5zdGVhZCBvZiB0aGUgY29hdC5cIixcblwiQSBzaW5nbGUgY29tbW9kaXR5IGNhbm5vdCwgdGhlcmVmb3JlLCBzaW11bHRhbmVvdXNseSBhc3N1bWUsIGluIHRoZSBzYW1lIGV4cHJlc3Npb24gb2YgdmFsdWUsIGJvdGggZm9ybXMuXCIsXG5cIlRoZSB2ZXJ5IHBvbGFyaXR5IG9mIHRoZXNlIGZvcm1zIG1ha2VzIHRoZW0gbXV0dWFsbHkgZXhjbHVzaXZlLlwiLFxuXCJXaGV0aGVyLCB0aGVuLCBhIGNvbW1vZGl0eSBhc3N1bWVzIHRoZSByZWxhdGl2ZSBmb3JtLCBvciB0aGUgb3Bwb3NpdGUgZXF1aXZhbGVudCBmb3JtLCBkZXBlbmRzIGVudGlyZWx5IHVwb24gaXRzIGFjY2lkZW50YWwgcG9zaXRpb24gaW4gdGhlIGV4cHJlc3Npb24gb2YgdmFsdWUg4oCTIHRoYXQgaXMsIHVwb24gd2hldGhlciBpdCBpcyB0aGUgY29tbW9kaXR5IHdob3NlIHZhbHVlIGlzIGJlaW5nIGV4cHJlc3NlZCBvciB0aGUgY29tbW9kaXR5IGluIHdoaWNoIHZhbHVlIGlzIGJlaW5nIGV4cHJlc3NlZC5cIixcblwiVGhlIFJlbGF0aXZlIEZvcm0gb2YgdmFsdWVcIixcblwiKGEuXCIsXG5cIlRoZSBuYXR1cmUgYW5kIGltcG9ydCBvZiB0aGlzIGZvcm1cIixcblwiSW4gb3JkZXIgdG8gZGlzY292ZXIgaG93IHRoZSBlbGVtZW50YXJ5IGV4cHJlc3Npb24gb2YgdGhlIHZhbHVlIG9mIGEgY29tbW9kaXR5IGxpZXMgaGlkZGVuIGluIHRoZSB2YWx1ZSByZWxhdGlvbiBvZiB0d28gY29tbW9kaXRpZXMsIHdlIG11c3QsIGluIHRoZSBmaXJzdCBwbGFjZSwgY29uc2lkZXIgdGhlIGxhdHRlciBlbnRpcmVseSBhcGFydCBmcm9tIGl0cyBxdWFudGl0YXRpdmUgYXNwZWN0LlwiLFxuXCJUaGUgdXN1YWwgbW9kZSBvZiBwcm9jZWR1cmUgaXMgZ2VuZXJhbGx5IHRoZSByZXZlcnNlLCBhbmQgaW4gdGhlIHZhbHVlIHJlbGF0aW9uIG5vdGhpbmcgaXMgc2VlbiBidXQgdGhlIHByb3BvcnRpb24gYmV0d2VlbiBkZWZpbml0ZSBxdWFudGl0aWVzIG9mIHR3byBkaWZmZXJlbnQgc29ydHMgb2YgY29tbW9kaXRpZXMgdGhhdCBhcmUgY29uc2lkZXJlZCBlcXVhbCB0byBlYWNoIG90aGVyLlwiLFxuXCJJdCBpcyBhcHQgdG8gYmUgZm9yZ290dGVuIHRoYXQgdGhlIG1hZ25pdHVkZXMgb2YgZGlmZmVyZW50IHRoaW5ncyBjYW4gYmUgY29tcGFyZWQgcXVhbnRpdGF0aXZlbHksIG9ubHkgd2hlbiB0aG9zZSBtYWduaXR1ZGVzIGFyZSBleHByZXNzZWQgaW4gdGVybXMgb2YgdGhlIHNhbWUgdW5pdC5cIixcblwiSXQgaXMgb25seSBhcyBleHByZXNzaW9ucyBvZiBzdWNoIGEgdW5pdCB0aGF0IHRoZXkgYXJlIG9mIHRoZSBzYW1lIGRlbm9taW5hdGlvbiwgYW5kIHRoZXJlZm9yZSBjb21tZW5zdXJhYmxlLlwiLFxuXCJXaGV0aGVyIDIwIHlhcmRzIG9mIGxpbmVuID0gMSBjb2F0IG9yID0gMjAgY29hdHMgb3IgPSB4IGNvYXRzIOKAkyB0aGF0IGlzLCB3aGV0aGVyIGEgZ2l2ZW4gcXVhbnRpdHkgb2YgbGluZW4gaXMgd29ydGggZmV3IG9yIG1hbnkgY29hdHMsIGV2ZXJ5IHN1Y2ggc3RhdGVtZW50IGltcGxpZXMgdGhhdCB0aGUgbGluZW4gYW5kIGNvYXRzLCBhcyBtYWduaXR1ZGVzIG9mIHZhbHVlLCBhcmUgZXhwcmVzc2lvbnMgb2YgdGhlIHNhbWUgdW5pdCwgdGhpbmdzIG9mIHRoZSBzYW1lIGtpbmQuXCIsXG5cIkxpbmVuID0gY29hdCBpcyB0aGUgYmFzaXMgb2YgdGhlIGVxdWF0aW9uLlwiLFxuXCJCdXQgdGhlIHR3byBjb21tb2RpdGllcyB3aG9zZSBpZGVudGl0eSBvZiBxdWFsaXR5IGlzIHRodXMgYXNzdW1lZCwgZG8gbm90IHBsYXkgdGhlIHNhbWUgcGFydC5cIixcblwiSXQgaXMgb25seSB0aGUgdmFsdWUgb2YgdGhlIGxpbmVuIHRoYXQgaXMgZXhwcmVzc2VkLlwiLFxuXCJBbmQgaG93P1wiLFxuXCJCeSBpdHMgcmVmZXJlbmNlIHRvIHRoZSBjb2F0IGFzIGl0cyBlcXVpdmFsZW50LCBhcyBzb21ldGhpbmcgdGhhdCBjYW4gYmUgZXhjaGFuZ2VkIGZvciBpdC5cIixcblwiSW4gdGhpcyByZWxhdGlvbiB0aGUgY29hdCBpcyB0aGUgbW9kZSBvZiBleGlzdGVuY2Ugb2YgdmFsdWUsIGlzIHZhbHVlIGVtYm9kaWVkLCBmb3Igb25seSBhcyBzdWNoIGlzIGl0IHRoZSBzYW1lIGFzIHRoZSBsaW5lbi5cIixcblwiT24gdGhlIG90aGVyIGhhbmQsIHRoZSBsaW5lbuKAmXMgb3duIHZhbHVlIGNvbWVzIHRvIHRoZSBmcm9udCwgcmVjZWl2ZXMgaW5kZXBlbmRlbnQgZXhwcmVzc2lvbiwgZm9yIGl0IGlzIG9ubHkgYXMgYmVpbmcgdmFsdWUgdGhhdCBpdCBpcyBjb21wYXJhYmxlIHdpdGggdGhlIGNvYXQgYXMgYSB0aGluZyBvZiBlcXVhbCB2YWx1ZSwgb3IgZXhjaGFuZ2VhYmxlIHdpdGggdGhlIGNvYXQuXCIsXG5cIlRvIGJvcnJvdyBhbiBpbGx1c3RyYXRpb24gZnJvbSBjaGVtaXN0cnksIGJ1dHlyaWMgYWNpZCBpcyBhIGRpZmZlcmVudCBzdWJzdGFuY2UgZnJvbSBwcm9weWwgZm9ybWF0ZS5cIixcblwiWWV0IGJvdGggYXJlIG1hZGUgdXAgb2YgdGhlIHNhbWUgY2hlbWljYWwgc3Vic3RhbmNlcywgY2FyYm9uIChDKSwgaHlkcm9nZW4gKEgpLCBhbmQgb3h5Z2VuIChPKSwgYW5kIHRoYXQsIHRvbywgaW4gbGlrZSBwcm9wb3J0aW9ucyDigJMgbmFtZWx5LCBDNEg4TzIuXCIsXG5cIklmIG5vdyB3ZSBlcXVhdGUgYnV0eXJpYyBhY2lkIHRvIHByb3B5bCBmb3JtYXRlLCB0aGVuLCBpbiB0aGUgZmlyc3QgcGxhY2UsIHByb3B5bCBmb3JtYXRlIHdvdWxkIGJlLCBpbiB0aGlzIHJlbGF0aW9uLCBtZXJlbHkgYSBmb3JtIG9mIGV4aXN0ZW5jZSBvZiBDNEg4TzI7IGFuZCBpbiB0aGUgc2Vjb25kIHBsYWNlLCB3ZSBzaG91bGQgYmUgc3RhdGluZyB0aGF0IGJ1dHlyaWMgYWNpZCBhbHNvIGNvbnNpc3RzIG9mIEM0SDhPMi5cIixcblwiVGhlcmVmb3JlLCBieSB0aHVzIGVxdWF0aW5nIHRoZSB0d28gc3Vic3RhbmNlcywgZXhwcmVzc2lvbiB3b3VsZCBiZSBnaXZlbiB0byB0aGVpciBjaGVtaWNhbCBjb21wb3NpdGlvbiwgd2hpbGUgdGhlaXIgZGlmZmVyZW50IHBoeXNpY2FsIGZvcm1zIHdvdWxkIGJlIG5lZ2xlY3RlZC5cIixcblwiSWYgd2Ugc2F5IHRoYXQsIGFzIHZhbHVlcywgY29tbW9kaXRpZXMgYXJlIG1lcmUgY29uZ2VsYXRpb25zIG9mIGh1bWFuIGxhYm91ciwgd2UgcmVkdWNlIHRoZW0gYnkgb3VyIGFuYWx5c2lzLCBpdCBpcyB0cnVlLCB0byB0aGUgYWJzdHJhY3Rpb24sIHZhbHVlOyBidXQgd2UgYXNjcmliZSB0byB0aGlzIHZhbHVlIG5vIGZvcm0gYXBhcnQgZnJvbSB0aGVpciBib2RpbHkgZm9ybS5cIixcblwiSXQgaXMgb3RoZXJ3aXNlIGluIHRoZSB2YWx1ZSByZWxhdGlvbiBvZiBvbmUgY29tbW9kaXR5IHRvIGFub3RoZXIuXCIsXG5cIkhlcmUsIHRoZSBvbmUgc3RhbmRzIGZvcnRoIGluIGl0cyBjaGFyYWN0ZXIgb2YgdmFsdWUgYnkgcmVhc29uIG9mIGl0cyByZWxhdGlvbiB0byB0aGUgb3RoZXIuXCIsXG5cIkJ5IG1ha2luZyB0aGUgY29hdCB0aGUgZXF1aXZhbGVudCBvZiB0aGUgbGluZW4sIHdlIGVxdWF0ZSB0aGUgbGFib3VyIGVtYm9kaWVkIGluIHRoZSBmb3JtZXIgdG8gdGhhdCBpbiB0aGUgbGF0dGVyLlwiLFxuXCJOb3csIGl0IGlzIHRydWUgdGhhdCB0aGUgdGFpbG9yaW5nLCB3aGljaCBtYWtlcyB0aGUgY29hdCwgaXMgY29uY3JldGUgbGFib3VyIG9mIGEgZGlmZmVyZW50IHNvcnQgZnJvbSB0aGUgd2VhdmluZyB3aGljaCBtYWtlcyB0aGUgbGluZW4uXCIsXG5cIkJ1dCB0aGUgYWN0IG9mIGVxdWF0aW5nIGl0IHRvIHRoZSB3ZWF2aW5nLCByZWR1Y2VzIHRoZSB0YWlsb3JpbmcgdG8gdGhhdCB3aGljaCBpcyByZWFsbHkgZXF1YWwgaW4gdGhlIHR3byBraW5kcyBvZiBsYWJvdXIsIHRvIHRoZWlyIGNvbW1vbiBjaGFyYWN0ZXIgb2YgaHVtYW4gbGFib3VyLlwiLFxuXCJJbiB0aGlzIHJvdW5kYWJvdXQgd2F5LCB0aGVuLCB0aGUgZmFjdCBpcyBleHByZXNzZWQsIHRoYXQgd2VhdmluZyBhbHNvLCBpbiBzbyBmYXIgYXMgaXQgd2VhdmVzIHZhbHVlLCBoYXMgbm90aGluZyB0byBkaXN0aW5ndWlzaCBpdCBmcm9tIHRhaWxvcmluZywgYW5kLCBjb25zZXF1ZW50bHksIGlzIGFic3RyYWN0IGh1bWFuIGxhYm91ci5cIixcblwiSXQgaXMgdGhlIGV4cHJlc3Npb24gb2YgZXF1aXZhbGVuY2UgYmV0d2VlbiBkaWZmZXJlbnQgc29ydHMgb2YgY29tbW9kaXRpZXMgdGhhdCBhbG9uZSBicmluZ3MgaW50byByZWxpZWYgdGhlIHNwZWNpZmljIGNoYXJhY3RlciBvZiB2YWx1ZS1jcmVhdGluZyBsYWJvdXIsIGFuZCB0aGlzIGl0IGRvZXMgYnkgYWN0dWFsbHkgcmVkdWNpbmcgdGhlIGRpZmZlcmVudCB2YXJpZXRpZXMgb2YgbGFib3VyIGVtYm9kaWVkIGluIHRoZSBkaWZmZXJlbnQga2luZHMgb2YgY29tbW9kaXRpZXMgdG8gdGhlaXIgY29tbW9uIHF1YWxpdHkgb2YgaHVtYW4gbGFib3VyIGluIHRoZSBhYnN0cmFjdC5cIixcblwiVGhlcmUgaXMsIGhvd2V2ZXIsIHNvbWV0aGluZyBlbHNlIHJlcXVpcmVkIGJleW9uZCB0aGUgZXhwcmVzc2lvbiBvZiB0aGUgc3BlY2lmaWMgY2hhcmFjdGVyIG9mIHRoZSBsYWJvdXIgb2Ygd2hpY2ggdGhlIHZhbHVlIG9mIHRoZSBsaW5lbiBjb25zaXN0cy5cIixcblwiSHVtYW4gbGFib3VyIHBvd2VyIGluIG1vdGlvbiwgb3IgaHVtYW4gbGFib3VyLCBjcmVhdGVzIHZhbHVlLCBidXQgaXMgbm90IGl0c2VsZiB2YWx1ZS5cIixcblwiSXQgYmVjb21lcyB2YWx1ZSBvbmx5IGluIGl0cyBjb25nZWFsZWQgc3RhdGUsIHdoZW4gZW1ib2RpZWQgaW4gdGhlIGZvcm0gb2Ygc29tZSBvYmplY3QuXCIsXG5cIkluIG9yZGVyIHRvIGV4cHJlc3MgdGhlIHZhbHVlIG9mIHRoZSBsaW5lbiBhcyBhIGNvbmdlbGF0aW9uIG9mIGh1bWFuIGxhYm91ciwgdGhhdCB2YWx1ZSBtdXN0IGJlIGV4cHJlc3NlZCBhcyBoYXZpbmcgb2JqZWN0aXZlIGV4aXN0ZW5jZSwgYXMgYmVpbmcgYSBzb21ldGhpbmcgbWF0ZXJpYWxseSBkaWZmZXJlbnQgZnJvbSB0aGUgbGluZW4gaXRzZWxmLCBhbmQgeWV0IGEgc29tZXRoaW5nIGNvbW1vbiB0byB0aGUgbGluZW4gYW5kIGFsbCBvdGhlciBjb21tb2RpdGllcy5cIixcblwiVGhlIHByb2JsZW0gaXMgYWxyZWFkeSBzb2x2ZWQuXCIsXG5cIldoZW4gb2NjdXB5aW5nIHRoZSBwb3NpdGlvbiBvZiBlcXVpdmFsZW50IGluIHRoZSBlcXVhdGlvbiBvZiB2YWx1ZSwgdGhlIGNvYXQgcmFua3MgcXVhbGl0YXRpdmVseSBhcyB0aGUgZXF1YWwgb2YgdGhlIGxpbmVuLCBhcyBzb21ldGhpbmcgb2YgdGhlIHNhbWUga2luZCwgYmVjYXVzZSBpdCBpcyB2YWx1ZS5cIixcblwiSW4gdGhpcyBwb3NpdGlvbiBpdCBpcyBhIHRoaW5nIGluIHdoaWNoIHdlIHNlZSBub3RoaW5nIGJ1dCB2YWx1ZSwgb3Igd2hvc2UgcGFscGFibGUgYm9kaWx5IGZvcm0gcmVwcmVzZW50cyB2YWx1ZS5cIixcblwiWWV0IHRoZSBjb2F0IGl0c2VsZiwgdGhlIGJvZHkgb2YgdGhlIGNvbW1vZGl0eSwgY29hdCwgaXMgYSBtZXJlIHVzZSB2YWx1ZS5cIixcblwiQSBjb2F0IGFzIHN1Y2ggbm8gbW9yZSB0ZWxscyB1cyBpdCBpcyB2YWx1ZSwgdGhhbiBkb2VzIHRoZSBmaXJzdCBwaWVjZSBvZiBsaW5lbiB3ZSB0YWtlIGhvbGQgb2YuXCIsXG5cIlRoaXMgc2hvd3MgdGhhdCB3aGVuIHBsYWNlZCBpbiB2YWx1ZS1yZWxhdGlvbiB0byB0aGUgbGluZW4sIHRoZSBjb2F0IHNpZ25pZmllcyBtb3JlIHRoYW4gd2hlbiBvdXQgb2YgdGhhdCByZWxhdGlvbiwganVzdCBhcyBtYW55IGEgbWFuIHN0cnV0dGluZyBhYm91dCBpbiBhIGdvcmdlb3VzIHVuaWZvcm0gY291bnRzIGZvciBtb3JlIHRoYW4gd2hlbiBpbiBtdWZ0aS5cIixcblwiSW4gdGhlIHByb2R1Y3Rpb24gb2YgdGhlIGNvYXQsIGh1bWFuIGxhYm91ciBwb3dlciwgaW4gdGhlIHNoYXBlIG9mIHRhaWxvcmluZywgbXVzdCBoYXZlIGJlZW4gYWN0dWFsbHkgZXhwZW5kZWQuXCIsXG5cIkh1bWFuIGxhYm91ciBpcyB0aGVyZWZvcmUgYWNjdW11bGF0ZWQgaW4gaXQuXCIsXG5cIkluIHRoaXMgYXNwZWN0IHRoZSBjb2F0IGlzIGEgZGVwb3NpdG9yeSBvZiB2YWx1ZSwgYnV0IHRob3VnaCB3b3JuIHRvIGEgdGhyZWFkLCBpdCBkb2VzIG5vdCBsZXQgdGhpcyBmYWN0IHNob3cgdGhyb3VnaC5cIixcblwiQW5kIGFzIGVxdWl2YWxlbnQgb2YgdGhlIGxpbmVuIGluIHRoZSB2YWx1ZSBlcXVhdGlvbiwgaXQgZXhpc3RzIHVuZGVyIHRoaXMgYXNwZWN0IGFsb25lLCBjb3VudHMgdGhlcmVmb3JlIGFzIGVtYm9kaWVkIHZhbHVlLCBhcyBhIGJvZHkgdGhhdCBpcyB2YWx1ZS5cIixcblwiQSwgZm9yIGluc3RhbmNlLCBjYW5ub3QgYmUg4oCceW91ciBtYWplc3R54oCdIHRvIEIsIHVubGVzcyBhdCB0aGUgc2FtZSB0aW1lIG1hamVzdHkgaW4gQuKAmXMgZXllcyBhc3N1bWVzIHRoZSBib2RpbHkgZm9ybSBvZiBBLCBhbmQsIHdoYXQgaXMgbW9yZSwgd2l0aCBldmVyeSBuZXcgZmF0aGVyIG9mIHRoZSBwZW9wbGUsIGNoYW5nZXMgaXRzIGZlYXR1cmVzLCBoYWlyLCBhbmQgbWFueSBvdGhlciB0aGluZ3MgYmVzaWRlcy5cIixcblwiSGVuY2UsIGluIHRoZSB2YWx1ZSBlcXVhdGlvbiwgaW4gd2hpY2ggdGhlIGNvYXQgaXMgdGhlIGVxdWl2YWxlbnQgb2YgdGhlIGxpbmVuLCB0aGUgY29hdCBvZmZpY2lhdGVzIGFzIHRoZSBmb3JtIG9mIHZhbHVlLlwiLFxuXCJUaGUgdmFsdWUgb2YgdGhlIGNvbW1vZGl0eSBsaW5lbiBpcyBleHByZXNzZWQgYnkgdGhlIGJvZGlseSBmb3JtIG9mIHRoZSBjb21tb2RpdHkgY29hdCwgdGhlIHZhbHVlIG9mIG9uZSBieSB0aGUgdXNlIHZhbHVlIG9mIHRoZSBvdGhlci5cIixcblwiQXMgYSB1c2UgdmFsdWUsIHRoZSBsaW5lbiBpcyBzb21ldGhpbmcgcGFscGFibHkgZGlmZmVyZW50IGZyb20gdGhlIGNvYXQ7IGFzIHZhbHVlLCBpdCBpcyB0aGUgc2FtZSBhcyB0aGUgY29hdCwgYW5kIG5vdyBoYXMgdGhlIGFwcGVhcmFuY2Ugb2YgYSBjb2F0LlwiLFxuXCJUaHVzIHRoZSBsaW5lbiBhY3F1aXJlcyBhIHZhbHVlIGZvcm0gZGlmZmVyZW50IGZyb20gaXRzIHBoeXNpY2FsIGZvcm0uXCIsXG5cIlRoZSBmYWN0IHRoYXQgaXQgaXMgdmFsdWUsIGlzIG1hZGUgbWFuaWZlc3QgYnkgaXRzIGVxdWFsaXR5IHdpdGggdGhlIGNvYXQsIGp1c3QgYXMgdGhlIHNoZWVw4oCZcyBuYXR1cmUgb2YgYSBDaHJpc3RpYW4gaXMgc2hvd24gaW4gaGlzIHJlc2VtYmxhbmNlIHRvIHRoZSBMYW1iIG9mIEdvZC5cIixcblwiV2Ugc2VlLCB0aGVuLCBhbGwgdGhhdCBvdXIgYW5hbHlzaXMgb2YgdGhlIHZhbHVlIG9mIGNvbW1vZGl0aWVzIGhhcyBhbHJlYWR5IHRvbGQgdXMsIGlzIHRvbGQgdXMgYnkgdGhlIGxpbmVuIGl0c2VsZiwgc28gc29vbiBhcyBpdCBjb21lcyBpbnRvIGNvbW11bmljYXRpb24gd2l0aCBhbm90aGVyIGNvbW1vZGl0eSwgdGhlIGNvYXQuXCIsXG5cIk9ubHkgaXQgYmV0cmF5cyBpdHMgdGhvdWdodHMgaW4gdGhhdCBsYW5ndWFnZSB3aXRoIHdoaWNoIGFsb25lIGl0IGlzIGZhbWlsaWFyLCB0aGUgbGFuZ3VhZ2Ugb2YgY29tbW9kaXRpZXMuXCIsXG5cIkluIG9yZGVyIHRvIHRlbGwgdXMgdGhhdCBpdHMgb3duIHZhbHVlIGlzIGNyZWF0ZWQgYnkgbGFib3VyIGluIGl0cyBhYnN0cmFjdCBjaGFyYWN0ZXIgb2YgaHVtYW4gbGFib3VyLCBpdCBzYXlzIHRoYXQgdGhlIGNvYXQsIGluIHNvIGZhciBhcyBpdCBpcyB3b3J0aCBhcyBtdWNoIGFzIHRoZSBsaW5lbiwgYW5kIHRoZXJlZm9yZSBpcyB2YWx1ZSwgY29uc2lzdHMgb2YgdGhlIHNhbWUgbGFib3VyIGFzIHRoZSBsaW5lbi5cIixcblwiSW4gb3JkZXIgdG8gaW5mb3JtIHVzIHRoYXQgaXRzIHN1YmxpbWUgcmVhbGl0eSBhcyB2YWx1ZSBpcyBub3QgdGhlIHNhbWUgYXMgaXRzIGJ1Y2tyYW0gYm9keSwgaXQgc2F5cyB0aGF0IHZhbHVlIGhhcyB0aGUgYXBwZWFyYW5jZSBvZiBhIGNvYXQsIGFuZCBjb25zZXF1ZW50bHkgdGhhdCBzbyBmYXIgYXMgdGhlIGxpbmVuIGlzIHZhbHVlLCBpdCBhbmQgdGhlIGNvYXQgYXJlIGFzIGxpa2UgYXMgdHdvIHBlYXMuXCIsXG5cIldlIG1heSBoZXJlIHJlbWFyaywgdGhhdCB0aGUgbGFuZ3VhZ2Ugb2YgY29tbW9kaXRpZXMgaGFzLCBiZXNpZGVzIEhlYnJldywgbWFueSBvdGhlciBtb3JlIG9yIGxlc3MgY29ycmVjdCBkaWFsZWN0cy5cIixcblwiVGhlIEdlcm1hbiDigJxXZXJ0c2VpbizigJ0gdG8gYmUgd29ydGgsIGZvciBpbnN0YW5jZSwgZXhwcmVzc2VzIGluIGEgbGVzcyBzdHJpa2luZyBtYW5uZXIgdGhhbiB0aGUgUm9tYW5jZSB2ZXJicyDigJx2YWxlcmUs4oCdIOKAnHZhbGVyLOKAnSDigJx2YWxvaXIs4oCdIHRoYXQgdGhlIGVxdWF0aW5nIG9mIGNvbW1vZGl0eSBCIHRvIGNvbW1vZGl0eSBBLCBpcyBjb21tb2RpdHkgQeKAmXMgb3duIG1vZGUgb2YgZXhwcmVzc2luZyBpdHMgdmFsdWUuXCIsXG5cIlBhcmlzIHZhdXQgYmllbiB1bmUgbWVzc2UuXCIsXG5cIltQYXJpcyBpcyBjZXJ0YWlubHkgd29ydGggYSBtYXNzXVwiLFxuXCJCeSBtZWFucywgdGhlcmVmb3JlLCBvZiB0aGUgdmFsdWUtcmVsYXRpb24gZXhwcmVzc2VkIGluIG91ciBlcXVhdGlvbiwgdGhlIGJvZGlseSBmb3JtIG9mIGNvbW1vZGl0eSBCIGJlY29tZXMgdGhlIHZhbHVlIGZvcm0gb2YgY29tbW9kaXR5IEEsIG9yIHRoZSBib2R5IG9mIGNvbW1vZGl0eSBCIGFjdHMgYXMgYSBtaXJyb3IgdG8gdGhlIHZhbHVlIG9mIGNvbW1vZGl0eSBBLlwiLFxuXCJCeSBwdXR0aW5nIGl0c2VsZiBpbiByZWxhdGlvbiB3aXRoIGNvbW1vZGl0eSBCLCBhcyB2YWx1ZSBpbiBwcm9wcmnDoiBwZXJzb27DoiwgYXMgdGhlIG1hdHRlciBvZiB3aGljaCBodW1hbiBsYWJvdXIgaXMgbWFkZSB1cCwgdGhlIGNvbW1vZGl0eSBBIGNvbnZlcnRzIHRoZSB2YWx1ZSBpbiB1c2UsIEIsIGludG8gdGhlIHN1YnN0YW5jZSBpbiB3aGljaCB0byBleHByZXNzIGl0cywgQeKAmXMsIG93biB2YWx1ZS5cIixcblwiVGhlIHZhbHVlIG9mIEEsIHRodXMgZXhwcmVzc2VkIGluIHRoZSB1c2UgdmFsdWUgb2YgQiwgaGFzIHRha2VuIHRoZSBmb3JtIG9mIHJlbGF0aXZlIHZhbHVlLlwiLFxuXCIoYi5cIixcblwiUXVhbnRpdGF0aXZlIGRldGVybWluYXRpb24gb2YgUmVsYXRpdmUgdmFsdWVcIixcblwiRXZlcnkgY29tbW9kaXR5LCB3aG9zZSB2YWx1ZSBpdCBpcyBpbnRlbmRlZCB0byBleHByZXNzLCBpcyBhIHVzZWZ1bCBvYmplY3Qgb2YgZ2l2ZW4gcXVhbnRpdHksIGFzIDE1IGJ1c2hlbHMgb2YgY29ybiwgb3IgMTAwIGxicyBvZiBjb2ZmZWUuXCIsXG5cIkFuZCBhIGdpdmVuIHF1YW50aXR5IG9mIGFueSBjb21tb2RpdHkgY29udGFpbnMgYSBkZWZpbml0ZSBxdWFudGl0eSBvZiBodW1hbiBsYWJvdXIuXCIsXG5cIlRoZSB2YWx1ZSBmb3JtIG11c3QgdGhlcmVmb3JlIG5vdCBvbmx5IGV4cHJlc3MgdmFsdWUgZ2VuZXJhbGx5LCBidXQgYWxzbyB2YWx1ZSBpbiBkZWZpbml0ZSBxdWFudGl0eS5cIixcblwiVGhlcmVmb3JlLCBpbiB0aGUgdmFsdWUgcmVsYXRpb24gb2YgY29tbW9kaXR5IEEgdG8gY29tbW9kaXR5IEIsIG9mIHRoZSBsaW5lbiB0byB0aGUgY29hdCwgbm90IG9ubHkgaXMgdGhlIGxhdHRlciwgYXMgdmFsdWUgaW4gZ2VuZXJhbCwgbWFkZSB0aGUgZXF1YWwgaW4gcXVhbGl0eSBvZiB0aGUgbGluZW4sIGJ1dCBhIGRlZmluaXRlIHF1YW50aXR5IG9mIGNvYXQgKDEgY29hdCkgaXMgbWFkZSB0aGUgZXF1aXZhbGVudCBvZiBhIGRlZmluaXRlIHF1YW50aXR5ICgyMCB5YXJkcykgb2YgbGluZW4uXCIsXG5cIlRoZSBlcXVhdGlvbiwgMjAgeWFyZHMgb2YgbGluZW4gPSAxIGNvYXQsIG9yIDIwIHlhcmRzIG9mIGxpbmVuIGFyZSB3b3J0aCBvbmUgY29hdCwgaW1wbGllcyB0aGF0IHRoZSBzYW1lIHF1YW50aXR5IG9mIHZhbHVlIHN1YnN0YW5jZSAoY29uZ2VhbGVkIGxhYm91cikgaXMgZW1ib2RpZWQgaW4gYm90aDsgdGhhdCB0aGUgdHdvIGNvbW1vZGl0aWVzIGhhdmUgZWFjaCBjb3N0IHRoZSBzYW1lIGFtb3VudCBvZiBsYWJvdXIgb2YgdGhlIHNhbWUgcXVhbnRpdHkgb2YgbGFib3VyIHRpbWUuXCIsXG5cIkJ1dCB0aGUgbGFib3VyIHRpbWUgbmVjZXNzYXJ5IGZvciB0aGUgcHJvZHVjdGlvbiBvZiAyMCB5YXJkcyBvZiBsaW5lbiBvciAxIGNvYXQgdmFyaWVzIHdpdGggZXZlcnkgY2hhbmdlIGluIHRoZSBwcm9kdWN0aXZlbmVzcyBvZiB3ZWF2aW5nIG9yIHRhaWxvcmluZy5cIixcblwiV2UgaGF2ZSBub3cgdG8gY29uc2lkZXIgdGhlIGluZmx1ZW5jZSBvZiBzdWNoIGNoYW5nZXMgb24gdGhlIHF1YW50aXRhdGl2ZSBhc3BlY3Qgb2YgdGhlIHJlbGF0aXZlIGV4cHJlc3Npb24gb2YgdmFsdWUuXCIsXG5cIkxldCB0aGUgdmFsdWUgb2YgdGhlIGxpbmVuIHZhcnksICB0aGF0IG9mIHRoZSBjb2F0IHJlbWFpbmluZyBjb25zdGFudC5cIixcblwiSWYsIHNheSBpbiBjb25zZXF1ZW5jZSBvZiB0aGUgZXhoYXVzdGlvbiBvZiBmbGF4LWdyb3dpbmcgc29pbCwgdGhlIGxhYm91ciB0aW1lIG5lY2Vzc2FyeSBmb3IgdGhlIHByb2R1Y3Rpb24gb2YgdGhlIGxpbmVuIGJlIGRvdWJsZWQsIHRoZSB2YWx1ZSBvZiB0aGUgbGluZW4gd2lsbCBhbHNvIGJlIGRvdWJsZWQuXCIsXG5cIkluc3RlYWQgb2YgdGhlIGVxdWF0aW9uLCAyMCB5YXJkcyBvZiBsaW5lbiA9IDEgY29hdCwgd2Ugc2hvdWxkIGhhdmUgMjAgeWFyZHMgb2YgbGluZW4gPSAyIGNvYXRzLCBzaW5jZSAxIGNvYXQgd291bGQgbm93IGNvbnRhaW4gb25seSBoYWxmIHRoZSBsYWJvdXIgdGltZSBlbWJvZGllZCBpbiAyMCB5YXJkcyBvZiBsaW5lbi5cIixcblwiSWYsIG9uIHRoZSBvdGhlciBoYW5kLCBpbiBjb25zZXF1ZW5jZSwgc2F5LCBvZiBpbXByb3ZlZCBsb29tcywgdGhpcyBsYWJvdXIgdGltZSBiZSByZWR1Y2VkIGJ5IG9uZS1oYWxmLCB0aGUgdmFsdWUgb2YgdGhlIGxpbmVuIHdvdWxkIGZhbGwgYnkgb25lLWhhbGYuXCIsXG5cIkNvbnNlcXVlbnRseSwgd2Ugc2hvdWxkIGhhdmUgMjAgeWFyZHMgb2YgbGluZW4gPSDCvSBjb2F0LlwiLFxuXCJUaGUgcmVsYXRpdmUgdmFsdWUgb2YgY29tbW9kaXR5IEEsIGkuXCIsXG5cIml0cyB2YWx1ZSBleHByZXNzZWQgaW4gY29tbW9kaXR5IEIsIHJpc2VzIGFuZCBmYWxscyBkaXJlY3RseSBhcyB0aGUgdmFsdWUgb2YgQSwgdGhlIHZhbHVlIG9mIEIgYmVpbmcgc3VwcG9zZWQgY29uc3RhbnQuXCIsXG5cIklJLlwiLFxuXCJMZXQgdGhlIHZhbHVlIG9mIHRoZSBsaW5lbiByZW1haW4gY29uc3RhbnQsIHdoaWxlIHRoZSB2YWx1ZSBvZiB0aGUgY29hdCB2YXJpZXMuXCIsXG5cIklmLCB1bmRlciB0aGVzZSBjaXJjdW1zdGFuY2VzLCBpbiBjb25zZXF1ZW5jZSwgZm9yIGluc3RhbmNlLCBvZiBhIHBvb3IgY3JvcCBvZiB3b29sLCB0aGUgbGFib3VyIHRpbWUgbmVjZXNzYXJ5IGZvciB0aGUgcHJvZHVjdGlvbiBvZiBhIGNvYXQgYmVjb21lcyBkb3VibGVkLCB3ZSBoYXZlIGluc3RlYWQgb2YgMjAgeWFyZHMgb2YgbGluZW4gPSAxIGNvYXQsIDIwIHlhcmRzIG9mIGxpbmVuID0gwr0gY29hdC5cIixcblwiSWYsIG9uIHRoZSBvdGhlciBoYW5kLCB0aGUgdmFsdWUgb2YgdGhlIGNvYXQgc2lua3MgYnkgb25lLWhhbGYsIHRoZW4gMjAgeWFyZHMgb2YgbGluZW4gPSAyIGNvYXRzLlwiLFxuXCJIZW5jZSwgaWYgdGhlIHZhbHVlIG9mIGNvbW1vZGl0eSBBIHJlbWFpbiBjb25zdGFudCwgaXRzIHJlbGF0aXZlIHZhbHVlIGV4cHJlc3NlZCBpbiBjb21tb2RpdHkgQiByaXNlcyBhbmQgZmFsbHMgaW52ZXJzZWx5IGFzIHRoZSB2YWx1ZSBvZiBCLlwiLFxuXCJJZiB3ZSBjb21wYXJlIHRoZSBkaWZmZXJlbnQgY2FzZXMgaW4gSSBhbmQgSUksIHdlIHNlZSB0aGF0IHRoZSBzYW1lIGNoYW5nZSBvZiBtYWduaXR1ZGUgaW4gcmVsYXRpdmUgdmFsdWUgbWF5IGFyaXNlIGZyb20gdG90YWxseSBvcHBvc2l0ZSBjYXVzZXMuXCIsXG5cIlRodXMsIHRoZSBlcXVhdGlvbiwgMjAgeWFyZHMgb2YgbGluZW4gPSAxIGNvYXQsIGJlY29tZXMgMjAgeWFyZHMgb2YgbGluZW4gPSAyIGNvYXRzLCBlaXRoZXIsIGJlY2F1c2UgdGhlIHZhbHVlIG9mIHRoZSBsaW5lbiBoYXMgZG91YmxlZCwgb3IgYmVjYXVzZSB0aGUgdmFsdWUgb2YgdGhlIGNvYXQgaGFzIGZhbGxlbiBieSBvbmUtaGFsZjsgYW5kIGl0IGJlY29tZXMgMjAgeWFyZHMgb2YgbGluZW4gPSDCvSBjb2F0LCBlaXRoZXIsIGJlY2F1c2UgdGhlIHZhbHVlIG9mIHRoZSBsaW5lbiBoYXMgZmFsbGVuIGJ5IG9uZS1oYWxmLCBvciBiZWNhdXNlIHRoZSB2YWx1ZSBvZiB0aGUgY29hdCBoYXMgZG91YmxlZC5cIixcblwiSUlJLlwiLFxuXCJMZXQgdGhlIHF1YW50aXRpZXMgb2YgbGFib3VyIHRpbWUgcmVzcGVjdGl2ZWx5IG5lY2Vzc2FyeSBmb3IgdGhlIHByb2R1Y3Rpb24gb2YgdGhlIGxpbmVuIGFuZCB0aGUgY29hdCB2YXJ5IHNpbXVsdGFuZW91c2x5IGluIHRoZSBzYW1lIGRpcmVjdGlvbiBhbmQgaW4gdGhlIHNhbWUgcHJvcG9ydGlvbi5cIixcblwiSW4gdGhpcyBjYXNlIDIwIHlhcmRzIG9mIGxpbmVuIGNvbnRpbnVlIGVxdWFsIHRvIDEgY29hdCwgaG93ZXZlciBtdWNoIHRoZWlyIHZhbHVlcyBtYXkgaGF2ZSBhbHRlcmVkLlwiLFxuXCJUaGVpciBjaGFuZ2Ugb2YgdmFsdWUgaXMgc2VlbiBhcyBzb29uIGFzIHRoZXkgYXJlIGNvbXBhcmVkIHdpdGggYSB0aGlyZCBjb21tb2RpdHksIHdob3NlIHZhbHVlIGhhcyByZW1haW5lZCBjb25zdGFudC5cIixcblwiSWYgdGhlIHZhbHVlcyBvZiBhbGwgY29tbW9kaXRpZXMgcm9zZSBvciBmZWxsIHNpbXVsdGFuZW91c2x5LCBhbmQgaW4gdGhlIHNhbWUgcHJvcG9ydGlvbiwgdGhlaXIgcmVsYXRpdmUgdmFsdWVzIHdvdWxkIHJlbWFpbiB1bmFsdGVyZWQuXCIsXG5cIlRoZWlyIHJlYWwgY2hhbmdlIG9mIHZhbHVlIHdvdWxkIGFwcGVhciBmcm9tIHRoZSBkaW1pbmlzaGVkIG9yIGluY3JlYXNlZCBxdWFudGl0eSBvZiBjb21tb2RpdGllcyBwcm9kdWNlZCBpbiBhIGdpdmVuIHRpbWUuXCIsXG5cIklWLlwiLFxuXCJUaGUgbGFib3VyIHRpbWUgcmVzcGVjdGl2ZWx5IG5lY2Vzc2FyeSBmb3IgdGhlIHByb2R1Y3Rpb24gb2YgdGhlIGxpbmVuIGFuZCB0aGUgY29hdCwgYW5kIHRoZXJlZm9yZSB0aGUgdmFsdWUgb2YgdGhlc2UgY29tbW9kaXRpZXMgbWF5IHNpbXVsdGFuZW91c2x5IHZhcnkgaW4gdGhlIHNhbWUgZGlyZWN0aW9uLCBidXQgYXQgdW5lcXVhbCByYXRlcyBvciBpbiBvcHBvc2l0ZSBkaXJlY3Rpb25zLCBvciBpbiBvdGhlciB3YXlzLlwiLFxuXCJUaGUgZWZmZWN0IG9mIGFsbCB0aGVzZSBwb3NzaWJsZSBkaWZmZXJlbnQgdmFyaWF0aW9ucywgb24gdGhlIHJlbGF0aXZlIHZhbHVlIG9mIGEgY29tbW9kaXR5LCBtYXkgYmUgZGVkdWNlZCBmcm9tIHRoZSByZXN1bHRzIG9mIEksIElJLCBhbmQgSUlJLlwiLFxuXCJUaHVzIHJlYWwgY2hhbmdlcyBpbiB0aGUgbWFnbml0dWRlIG9mIHZhbHVlIGFyZSBuZWl0aGVyIHVuZXF1aXZvY2FsbHkgbm9yIGV4aGF1c3RpdmVseSByZWZsZWN0ZWQgaW4gdGhlaXIgcmVsYXRpdmUgZXhwcmVzc2lvbiwgdGhhdCBpcywgaW4gdGhlIGVxdWF0aW9uIGV4cHJlc3NpbmcgdGhlIG1hZ25pdHVkZSBvZiByZWxhdGl2ZSB2YWx1ZS5cIixcblwiVGhlIHJlbGF0aXZlIHZhbHVlIG9mIGEgY29tbW9kaXR5IG1heSB2YXJ5LCBhbHRob3VnaCBpdHMgdmFsdWUgcmVtYWlucyBjb25zdGFudC5cIixcblwiSXRzIHJlbGF0aXZlIHZhbHVlIG1heSByZW1haW4gY29uc3RhbnQsIGFsdGhvdWdoIGl0cyB2YWx1ZSB2YXJpZXM7IGFuZCBmaW5hbGx5LCBzaW11bHRhbmVvdXMgdmFyaWF0aW9ucyBpbiB0aGUgbWFnbml0dWRlIG9mIHZhbHVlIGFuZCBpbiB0aGF0IG9mIGl0cyByZWxhdGl2ZSBleHByZXNzaW9uIGJ5IG5vIG1lYW5zIG5lY2Vzc2FyaWx5IGNvcnJlc3BvbmQgaW4gYW1vdW50LlwiLFxuXCJUaGUgRXF1aXZhbGVudCBmb3JtIG9mIHZhbHVlXCIsXG5cIldlIGhhdmUgc2VlbiB0aGF0IGNvbW1vZGl0eSBBICh0aGUgbGluZW4pLCBieSBleHByZXNzaW5nIGl0cyB2YWx1ZSBpbiB0aGUgdXNlIHZhbHVlIG9mIGEgY29tbW9kaXR5IGRpZmZlcmluZyBpbiBraW5kICh0aGUgY29hdCksIGF0IHRoZSBzYW1lIHRpbWUgaW1wcmVzc2VzIHVwb24gdGhlIGxhdHRlciBhIHNwZWNpZmljIGZvcm0gb2YgdmFsdWUsIG5hbWVseSB0aGF0IG9mIHRoZSBlcXVpdmFsZW50LlwiLFxuXCJUaGUgY29tbW9kaXR5IGxpbmVuIG1hbmlmZXN0cyBpdHMgcXVhbGl0eSBvZiBoYXZpbmcgYSB2YWx1ZSBieSB0aGUgZmFjdCB0aGF0IHRoZSBjb2F0LCB3aXRob3V0IGhhdmluZyBhc3N1bWVkIGEgdmFsdWUgZm9ybSBkaWZmZXJlbnQgZnJvbSBpdHMgYm9kaWx5IGZvcm0sIGlzIGVxdWF0ZWQgdG8gdGhlIGxpbmVuLlwiLFxuXCJUaGUgZmFjdCB0aGF0IHRoZSBsYXR0ZXIgdGhlcmVmb3JlIGhhcyBhIHZhbHVlIGlzIGV4cHJlc3NlZCBieSBzYXlpbmcgdGhhdCB0aGUgY29hdCBpcyBkaXJlY3RseSBleGNoYW5nZWFibGUgd2l0aCBpdC5cIixcblwiVGhlcmVmb3JlLCB3aGVuIHdlIHNheSB0aGF0IGEgY29tbW9kaXR5IGlzIGluIHRoZSBlcXVpdmFsZW50IGZvcm0sIHdlIGV4cHJlc3MgdGhlIGZhY3QgdGhhdCBpdCBpcyBkaXJlY3RseSBleGNoYW5nZWFibGUgd2l0aCBvdGhlciBjb21tb2RpdGllcy5cIixcblwiV2hlbiBvbmUgY29tbW9kaXR5LCBzdWNoIGFzIGEgY29hdCwgc2VydmVzIGFzIHRoZSBlcXVpdmFsZW50IG9mIGFub3RoZXIsIHN1Y2ggYXMgbGluZW4sIGFuZCBjb2F0cyBjb25zZXF1ZW50bHkgYWNxdWlyZSB0aGUgY2hhcmFjdGVyaXN0aWMgcHJvcGVydHkgb2YgYmVpbmcgZGlyZWN0bHkgZXhjaGFuZ2VhYmxlIHdpdGggbGluZW4sIHdlIGFyZSBmYXIgZnJvbSBrbm93aW5nIGluIHdoYXQgcHJvcG9ydGlvbiB0aGUgdHdvIGFyZSBleGNoYW5nZWFibGUuXCIsXG5cIlRoZSB2YWx1ZSBvZiB0aGUgbGluZW4gYmVpbmcgZ2l2ZW4gaW4gbWFnbml0dWRlLCB0aGF0IHByb3BvcnRpb24gZGVwZW5kcyBvbiB0aGUgdmFsdWUgb2YgdGhlIGNvYXQuXCIsXG5cIldoZXRoZXIgdGhlIGNvYXQgc2VydmVzIGFzIHRoZSBlcXVpdmFsZW50IGFuZCB0aGUgbGluZW4gYXMgcmVsYXRpdmUgdmFsdWUsIG9yIHRoZSBsaW5lbiBhcyB0aGUgZXF1aXZhbGVudCBhbmQgdGhlIGNvYXQgYXMgcmVsYXRpdmUgdmFsdWUsIHRoZSBtYWduaXR1ZGUgb2YgdGhlIGNvYXTigJlzIHZhbHVlIGlzIGRldGVybWluZWQsIGluZGVwZW5kZW50bHkgb2YgaXRzIHZhbHVlIGZvcm0sIGJ5IHRoZSBsYWJvdXIgdGltZSBuZWNlc3NhcnkgZm9yIGl0cyBwcm9kdWN0aW9uLlwiLFxuXCJCdXQgd2hlbmV2ZXIgdGhlIGNvYXQgYXNzdW1lcyBpbiB0aGUgZXF1YXRpb24gb2YgdmFsdWUsIHRoZSBwb3NpdGlvbiBvZiBlcXVpdmFsZW50LCBpdHMgdmFsdWUgYWNxdWlyZXMgbm8gcXVhbnRpdGF0aXZlIGV4cHJlc3Npb247IG9uIHRoZSBjb250cmFyeSwgdGhlIGNvbW1vZGl0eSBjb2F0IG5vdyBmaWd1cmVzIG9ubHkgYXMgYSBkZWZpbml0ZSBxdWFudGl0eSBvZiBzb21lIGFydGljbGUuXCIsXG5cIkZvciBpbnN0YW5jZSwgNDAgeWFyZHMgb2YgbGluZW4gYXJlIHdvcnRoIOKAkyB3aGF0P1wiLFxuXCIyIGNvYXRzLlwiLFxuXCJCZWNhdXNlIHRoZSBjb21tb2RpdHkgY29hdCBoZXJlIHBsYXlzIHRoZSBwYXJ0IG9mIGVxdWl2YWxlbnQsIGJlY2F1c2UgdGhlIHVzZS12YWx1ZSBjb2F0LCBhcyBvcHBvc2VkIHRvIHRoZSBsaW5lbiwgZmlndXJlcyBhcyBhbiBlbWJvZGltZW50IG9mIHZhbHVlLCB0aGVyZWZvcmUgYSBkZWZpbml0ZSBudW1iZXIgb2YgY29hdHMgc3VmZmljZXMgdG8gZXhwcmVzcyB0aGUgZGVmaW5pdGUgcXVhbnRpdHkgb2YgdmFsdWUgaW4gdGhlIGxpbmVuLlwiLFxuXCJUd28gY29hdHMgbWF5IHRoZXJlZm9yZSBleHByZXNzIHRoZSBxdWFudGl0eSBvZiB2YWx1ZSBvZiA0MCB5YXJkcyBvZiBsaW5lbiwgYnV0IHRoZXkgY2FuIG5ldmVyIGV4cHJlc3MgdGhlIHF1YW50aXR5IG9mIHRoZWlyIG93biB2YWx1ZS5cIixcblwiQSBzdXBlcmZpY2lhbCBvYnNlcnZhdGlvbiBvZiB0aGlzIGZhY3QsIG5hbWVseSwgdGhhdCBpbiB0aGUgZXF1YXRpb24gb2YgdmFsdWUsIHRoZSBlcXVpdmFsZW50IGZpZ3VyZXMgZXhjbHVzaXZlbHkgYXMgYSBzaW1wbGUgcXVhbnRpdHkgb2Ygc29tZSBhcnRpY2xlLCBvZiBzb21lIHVzZSB2YWx1ZSwgaGFzIG1pc2xlZCBCYWlsZXksIGFzIGFsc28gbWFueSBvdGhlcnMsIGJvdGggYmVmb3JlIGFuZCBhZnRlciBoaW0sIGludG8gc2VlaW5nLCBpbiB0aGUgZXhwcmVzc2lvbiBvZiB2YWx1ZSwgbWVyZWx5IGEgcXVhbnRpdGF0aXZlIHJlbGF0aW9uLlwiLFxuXCJUaGUgdHJ1dGggYmVpbmcsIHRoYXQgd2hlbiBhIGNvbW1vZGl0eSBhY3RzIGFzIGVxdWl2YWxlbnQsIG5vIHF1YW50aXRhdGl2ZSBkZXRlcm1pbmF0aW9uIG9mIGl0cyB2YWx1ZSBpcyBleHByZXNzZWQuXCIsXG5cIlRoZSBmaXJzdCBwZWN1bGlhcml0eSB0aGF0IHN0cmlrZXMgdXMsIGluIGNvbnNpZGVyaW5nIHRoZSBmb3JtIG9mIHRoZSBlcXVpdmFsZW50LCBpcyB0aGlzOiB1c2UgdmFsdWUgYmVjb21lcyB0aGUgZm9ybSBvZiBtYW5pZmVzdGF0aW9uLCB0aGUgcGhlbm9tZW5hbCBmb3JtIG9mIGl0cyBvcHBvc2l0ZSwgdmFsdWUuXCIsXG5cIlRoZSBib2RpbHkgZm9ybSBvZiB0aGUgY29tbW9kaXR5IGJlY29tZXMgaXRzIHZhbHVlIGZvcm0uXCIsXG5cIkJ1dCwgbWFyayB3ZWxsLCB0aGF0IHRoaXMgcXVpZCBwcm8gcXVvIGV4aXN0cyBpbiB0aGUgY2FzZSBvZiBhbnkgY29tbW9kaXR5IEIsIG9ubHkgd2hlbiBzb21lIG90aGVyIGNvbW1vZGl0eSBBIGVudGVycyBpbnRvIGEgdmFsdWUgcmVsYXRpb24gd2l0aCBpdCwgYW5kIHRoZW4gb25seSB3aXRoaW4gdGhlIGxpbWl0cyBvZiB0aGlzIHJlbGF0aW9uLlwiLFxuXCJTaW5jZSBubyBjb21tb2RpdHkgY2FuIHN0YW5kIGluIHRoZSByZWxhdGlvbiBvZiBlcXVpdmFsZW50IHRvIGl0c2VsZiwgYW5kIHRodXMgdHVybiBpdHMgb3duIGJvZGlseSBzaGFwZSBpbnRvIHRoZSBleHByZXNzaW9uIG9mIGl0cyBvd24gdmFsdWUsIGV2ZXJ5IGNvbW1vZGl0eSBpcyBjb21wZWxsZWQgdG8gY2hvb3NlIHNvbWUgb3RoZXIgY29tbW9kaXR5IGZvciBpdHMgZXF1aXZhbGVudCwgYW5kIHRvIGFjY2VwdCB0aGUgdXNlIHZhbHVlLCB0aGF0IGlzIHRvIHNheSwgdGhlIGJvZGlseSBzaGFwZSBvZiB0aGF0IG90aGVyIGNvbW1vZGl0eSBhcyB0aGUgZm9ybSBvZiBpdHMgb3duIHZhbHVlLlwiLFxuXCJPbmUgb2YgdGhlIG1lYXN1cmVzIHRoYXQgd2UgYXBwbHkgdG8gY29tbW9kaXRpZXMgYXMgbWF0ZXJpYWwgc3Vic3RhbmNlcywgYXMgdXNlIHZhbHVlcywgd2lsbCBzZXJ2ZSB0byBpbGx1c3RyYXRlIHRoaXMgcG9pbnQuXCIsXG5cIkEgc3VnYXItbG9hZiBiZWluZyBhIGJvZHksIGlzIGhlYXZ5LCBhbmQgdGhlcmVmb3JlIGhhcyB3ZWlnaHQ6IGJ1dCB3ZSBjYW4gbmVpdGhlciBzZWUgbm9yIHRvdWNoIHRoaXMgd2VpZ2h0LlwiLFxuXCJXZSB0aGVuIHRha2UgdmFyaW91cyBwaWVjZXMgb2YgaXJvbiwgd2hvc2Ugd2VpZ2h0IGhhcyBiZWVuIGRldGVybWluZWQgYmVmb3JlaGFuZC5cIixcblwiVGhlIGlyb24sIGFzIGlyb24sIGlzIG5vIG1vcmUgdGhlIGZvcm0gb2YgbWFuaWZlc3RhdGlvbiBvZiB3ZWlnaHQsIHRoYW4gaXMgdGhlIHN1Z2FyLWxvYWYuXCIsXG5cIk5ldmVydGhlbGVzcywgaW4gb3JkZXIgdG8gZXhwcmVzcyB0aGUgc3VnYXItbG9hZiBhcyBzbyBtdWNoIHdlaWdodCwgd2UgcHV0IGl0IGludG8gYSB3ZWlnaHQtcmVsYXRpb24gd2l0aCB0aGUgaXJvbi5cIixcblwiSW4gdGhpcyByZWxhdGlvbiwgdGhlIGlyb24gb2ZmaWNpYXRlcyBhcyBhIGJvZHkgcmVwcmVzZW50aW5nIG5vdGhpbmcgYnV0IHdlaWdodC5cIixcblwiQSBjZXJ0YWluIHF1YW50aXR5IG9mIGlyb24gdGhlcmVmb3JlIHNlcnZlcyBhcyB0aGUgbWVhc3VyZSBvZiB0aGUgd2VpZ2h0IG9mIHRoZSBzdWdhciwgYW5kIHJlcHJlc2VudHMsIGluIHJlbGF0aW9uIHRvIHRoZSBzdWdhci1sb2FmLCB3ZWlnaHQgZW1ib2RpZWQsIHRoZSBmb3JtIG9mIG1hbmlmZXN0YXRpb24gb2Ygd2VpZ2h0LlwiLFxuXCJUaGlzIHBhcnQgaXMgcGxheWVkIGJ5IHRoZSBpcm9uIG9ubHkgd2l0aGluIHRoaXMgcmVsYXRpb24sIGludG8gd2hpY2ggdGhlIHN1Z2FyIG9yIGFueSBvdGhlciBib2R5LCB3aG9zZSB3ZWlnaHQgaGFzIHRvIGJlIGRldGVybWluZWQsIGVudGVycyB3aXRoIHRoZSBpcm9uLlwiLFxuXCJXZXJlIHRoZXkgbm90IGJvdGggaGVhdnksIHRoZXkgY291bGQgbm90IGVudGVyIGludG8gdGhpcyByZWxhdGlvbiwgYW5kIHRoZSBvbmUgY291bGQgdGhlcmVmb3JlIG5vdCBzZXJ2ZSBhcyB0aGUgZXhwcmVzc2lvbiBvZiB0aGUgd2VpZ2h0IG9mIHRoZSBvdGhlci5cIixcblwiV2hlbiB3ZSB0aHJvdyBib3RoIGludG8gdGhlIHNjYWxlcywgd2Ugc2VlIGluIHJlYWxpdHksIHRoYXQgYXMgd2VpZ2h0IHRoZXkgYXJlIGJvdGggdGhlIHNhbWUsIGFuZCB0aGF0LCB0aGVyZWZvcmUsIHdoZW4gdGFrZW4gaW4gcHJvcGVyIHByb3BvcnRpb25zLCB0aGV5IGhhdmUgdGhlIHNhbWUgd2VpZ2h0LlwiLFxuXCJKdXN0IGFzIHRoZSBzdWJzdGFuY2UgaXJvbiwgYXMgYSBtZWFzdXJlIG9mIHdlaWdodCwgcmVwcmVzZW50cyBpbiByZWxhdGlvbiB0byB0aGUgc3VnYXItbG9hZiB3ZWlnaHQgYWxvbmUsIHNvLCBpbiBvdXIgZXhwcmVzc2lvbiBvZiB2YWx1ZSwgdGhlIG1hdGVyaWFsIG9iamVjdCwgY29hdCwgaW4gcmVsYXRpb24gdG8gdGhlIGxpbmVuLCByZXByZXNlbnRzIHZhbHVlIGFsb25lLlwiLFxuXCJIZXJlLCBob3dldmVyLCB0aGUgYW5hbG9neSBjZWFzZXMuXCIsXG5cIlRoZSBpcm9uLCBpbiB0aGUgZXhwcmVzc2lvbiBvZiB0aGUgd2VpZ2h0IG9mIHRoZSBzdWdhci1sb2FmLCByZXByZXNlbnRzIGEgbmF0dXJhbCBwcm9wZXJ0eSBjb21tb24gdG8gYm90aCBib2RpZXMsIG5hbWVseSB0aGVpciB3ZWlnaHQ7IGJ1dCB0aGUgY29hdCwgaW4gdGhlIGV4cHJlc3Npb24gb2YgdmFsdWUgb2YgdGhlIGxpbmVuLCByZXByZXNlbnRzIGEgbm9uLW5hdHVyYWwgcHJvcGVydHkgb2YgYm90aCwgc29tZXRoaW5nIHB1cmVseSBzb2NpYWwsIG5hbWVseSwgdGhlaXIgdmFsdWUuXCIsXG5cIlNpbmNlIHRoZSByZWxhdGl2ZSBmb3JtIG9mIHZhbHVlIG9mIGEgY29tbW9kaXR5IOKAkyB0aGUgbGluZW4sIGZvciBleGFtcGxlIOKAkyBleHByZXNzZXMgdGhlIHZhbHVlIG9mIHRoYXQgY29tbW9kaXR5LCBhcyBiZWluZyBzb21ldGhpbmcgd2hvbGx5IGRpZmZlcmVudCBmcm9tIGl0cyBzdWJzdGFuY2UgYW5kIHByb3BlcnRpZXMsIGFzIGJlaW5nLCBmb3IgaW5zdGFuY2UsIGNvYXQtbGlrZSwgd2Ugc2VlIHRoYXQgdGhpcyBleHByZXNzaW9uIGl0c2VsZiBpbmRpY2F0ZXMgdGhhdCBzb21lIHNvY2lhbCByZWxhdGlvbiBsaWVzIGF0IHRoZSBib3R0b20gb2YgaXQuXCIsXG5cIldpdGggdGhlIGVxdWl2YWxlbnQgZm9ybSBpdCBpcyBqdXN0IHRoZSBjb250cmFyeS5cIixcblwiVGhlIHZlcnkgZXNzZW5jZSBvZiB0aGlzIGZvcm0gaXMgdGhhdCB0aGUgbWF0ZXJpYWwgY29tbW9kaXR5IGl0c2VsZiDigJMgdGhlIGNvYXQg4oCTIGp1c3QgYXMgaXQgaXMsIGV4cHJlc3NlcyB2YWx1ZSwgYW5kIGlzIGVuZG93ZWQgd2l0aCB0aGUgZm9ybSBvZiB2YWx1ZSBieSBOYXR1cmUgaXRzZWxmLlwiLFxuXCJPZiBjb3Vyc2UgdGhpcyBob2xkcyBnb29kIG9ubHkgc28gbG9uZyBhcyB0aGUgdmFsdWUgcmVsYXRpb24gZXhpc3RzLCBpbiB3aGljaCB0aGUgY29hdCBzdGFuZHMgaW4gdGhlIHBvc2l0aW9uIG9mIGVxdWl2YWxlbnQgdG8gdGhlIGxpbmVuLlwiLFxuXCJTaW5jZSwgaG93ZXZlciwgdGhlIHByb3BlcnRpZXMgb2YgYSB0aGluZyBhcmUgbm90IHRoZSByZXN1bHQgb2YgaXRzIHJlbGF0aW9ucyB0byBvdGhlciB0aGluZ3MsIGJ1dCBvbmx5IG1hbmlmZXN0IHRoZW1zZWx2ZXMgaW4gc3VjaCByZWxhdGlvbnMsIHRoZSBjb2F0IHNlZW1zIHRvIGJlIGVuZG93ZWQgd2l0aCBpdHMgZXF1aXZhbGVudCBmb3JtLCBpdHMgcHJvcGVydHkgb2YgYmVpbmcgZGlyZWN0bHkgZXhjaGFuZ2VhYmxlLCBqdXN0IGFzIG11Y2ggYnkgTmF0dXJlIGFzIGl0IGlzIGVuZG93ZWQgd2l0aCB0aGUgcHJvcGVydHkgb2YgYmVpbmcgaGVhdnksIG9yIHRoZSBjYXBhY2l0eSB0byBrZWVwIHVzIHdhcm0uXCIsXG5cIkhlbmNlIHRoZSBlbmlnbWF0aWNhbCBjaGFyYWN0ZXIgb2YgdGhlIGVxdWl2YWxlbnQgZm9ybSB3aGljaCBlc2NhcGVzIHRoZSBub3RpY2Ugb2YgdGhlIGJvdXJnZW9pcyBwb2xpdGljYWwgZWNvbm9taXN0LCB1bnRpbCB0aGlzIGZvcm0sIGNvbXBsZXRlbHkgZGV2ZWxvcGVkLCBjb25mcm9udHMgaGltIGluIHRoZSBzaGFwZSBvZiBtb25leS5cIixcblwiSGUgdGhlbiBzZWVrcyB0byBleHBsYWluIGF3YXkgdGhlIG15c3RpY2FsIGNoYXJhY3RlciBvZiBnb2xkIGFuZCBzaWx2ZXIsIGJ5IHN1YnN0aXR1dGluZyBmb3IgdGhlbSBsZXNzIGRhenpsaW5nIGNvbW1vZGl0aWVzLCBhbmQgYnkgcmVjaXRpbmcsIHdpdGggZXZlciByZW5ld2VkIHNhdGlzZmFjdGlvbiwgdGhlIGNhdGFsb2d1ZSBvZiBhbGwgcG9zc2libGUgY29tbW9kaXRpZXMgd2hpY2ggYXQgb25lIHRpbWUgb3IgYW5vdGhlciBoYXZlIHBsYXllZCB0aGUgcGFydCBvZiBlcXVpdmFsZW50LlwiLFxuXCJIZSBoYXMgbm90IHRoZSBsZWFzdCBzdXNwaWNpb24gdGhhdCB0aGUgbW9zdCBzaW1wbGUgZXhwcmVzc2lvbiBvZiB2YWx1ZSwgc3VjaCBhcyAyMCB5ZHMgb2YgbGluZW4gPSAxIGNvYXQsIGFscmVhZHkgcHJvcG91bmRzIHRoZSByaWRkbGUgb2YgdGhlIGVxdWl2YWxlbnQgZm9ybSBmb3Igb3VyIHNvbHV0aW9uLlwiLFxuXCJUaGUgYm9keSBvZiB0aGUgY29tbW9kaXR5IHRoYXQgc2VydmVzIGFzIHRoZSBlcXVpdmFsZW50LCBmaWd1cmVzIGFzIHRoZSBtYXRlcmlhbGlzYXRpb24gb2YgaHVtYW4gbGFib3VyIGluIHRoZSBhYnN0cmFjdCwgYW5kIGlzIGF0IHRoZSBzYW1lIHRpbWUgdGhlIHByb2R1Y3Qgb2Ygc29tZSBzcGVjaWZpY2FsbHkgdXNlZnVsIGNvbmNyZXRlIGxhYm91ci5cIixcblwiVGhpcyBjb25jcmV0ZSBsYWJvdXIgYmVjb21lcywgdGhlcmVmb3JlLCB0aGUgbWVkaXVtIGZvciBleHByZXNzaW5nIGFic3RyYWN0IGh1bWFuIGxhYm91ci5cIixcblwiSWYgb24gdGhlIG9uZSBoYW5kIHRoZSBjb2F0IHJhbmtzIGFzIG5vdGhpbmcgYnV0IHRoZSBlbWJvZGltZW50IG9mIGFic3RyYWN0IGh1bWFuIGxhYm91ciwgc28sIG9uIHRoZSBvdGhlciBoYW5kLCB0aGUgdGFpbG9yaW5nIHdoaWNoIGlzIGFjdHVhbGx5IGVtYm9kaWVkIGluIGl0LCBjb3VudHMgYXMgbm90aGluZyBidXQgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhhdCBhYnN0cmFjdCBsYWJvdXIgaXMgcmVhbGlzZWQuXCIsXG5cIkluIHRoZSBleHByZXNzaW9uIG9mIHZhbHVlIG9mIHRoZSBsaW5lbiwgdGhlIHV0aWxpdHkgb2YgdGhlIHRhaWxvcmluZyBjb25zaXN0cywgbm90IGluIG1ha2luZyBjbG90aGVzLCBidXQgaW4gbWFraW5nIGFuIG9iamVjdCwgd2hpY2ggd2UgYXQgb25jZSByZWNvZ25pc2UgdG8gYmUgVmFsdWUsIGFuZCB0aGVyZWZvcmUgdG8gYmUgYSBjb25nZWxhdGlvbiBvZiBsYWJvdXIsIGJ1dCBvZiBsYWJvdXIgaW5kaXN0aW5ndWlzaGFibGUgZnJvbSB0aGF0IHJlYWxpc2VkIGluIHRoZSB2YWx1ZSBvZiB0aGUgbGluZW4uXCIsXG5cIkluIG9yZGVyIHRvIGFjdCBhcyBzdWNoIGEgbWlycm9yIG9mIHZhbHVlLCB0aGUgbGFib3VyIG9mIHRhaWxvcmluZyBtdXN0IHJlZmxlY3Qgbm90aGluZyBiZXNpZGVzIGl0cyBvd24gYWJzdHJhY3QgcXVhbGl0eSBvZiBiZWluZyBodW1hbiBsYWJvdXIgZ2VuZXJhbGx5LlwiLFxuXCJJbiB0YWlsb3JpbmcsIGFzIHdlbGwgYXMgaW4gd2VhdmluZywgaHVtYW4gbGFib3VyIHBvd2VyIGlzIGV4cGVuZGVkLlwiLFxuXCJCb3RoLCB0aGVyZWZvcmUsIHBvc3Nlc3MgdGhlIGdlbmVyYWwgcHJvcGVydHkgb2YgYmVpbmcgaHVtYW4gbGFib3VyLCBhbmQgbWF5LCB0aGVyZWZvcmUsIGluIGNlcnRhaW4gY2FzZXMsIHN1Y2ggYXMgaW4gdGhlIHByb2R1Y3Rpb24gb2YgdmFsdWUsIGhhdmUgdG8gYmUgY29uc2lkZXJlZCB1bmRlciB0aGlzIGFzcGVjdCBhbG9uZS5cIixcblwiVGhlcmUgaXMgbm90aGluZyBteXN0ZXJpb3VzIGluIHRoaXMuXCIsXG5cIkJ1dCBpbiB0aGUgZXhwcmVzc2lvbiBvZiB2YWx1ZSB0aGVyZSBpcyBhIGNvbXBsZXRlIHR1cm4gb2YgdGhlIHRhYmxlcy5cIixcblwiRm9yIGluc3RhbmNlLCBob3cgaXMgdGhlIGZhY3QgdG8gYmUgZXhwcmVzc2VkIHRoYXQgd2VhdmluZyBjcmVhdGVzIHRoZSB2YWx1ZSBvZiB0aGUgbGluZW4sIG5vdCBieSB2aXJ0dWUgb2YgYmVpbmcgd2VhdmluZywgYXMgc3VjaCwgYnV0IGJ5IHJlYXNvbiBvZiBpdHMgZ2VuZXJhbCBwcm9wZXJ0eSBvZiBiZWluZyBodW1hbiBsYWJvdXI/XCIsXG5cIlNpbXBseSBieSBvcHBvc2luZyB0byB3ZWF2aW5nIHRoYXQgb3RoZXIgcGFydGljdWxhciBmb3JtIG9mIGNvbmNyZXRlIGxhYm91ciAoaW4gdGhpcyBpbnN0YW5jZSB0YWlsb3JpbmcpLCB3aGljaCBwcm9kdWNlcyB0aGUgZXF1aXZhbGVudCBvZiB0aGUgcHJvZHVjdCBvZiB3ZWF2aW5nLlwiLFxuXCJKdXN0IGFzIHRoZSBjb2F0IGluIGl0cyBib2RpbHkgZm9ybSBiZWNhbWUgYSBkaXJlY3QgZXhwcmVzc2lvbiBvZiB2YWx1ZSwgc28gbm93IGRvZXMgdGFpbG9yaW5nLCBhIGNvbmNyZXRlIGZvcm0gb2YgbGFib3VyLCBhcHBlYXIgYXMgdGhlIGRpcmVjdCBhbmQgcGFscGFibGUgZW1ib2RpbWVudCBvZiBodW1hbiBsYWJvdXIgZ2VuZXJhbGx5LlwiLFxuXCJIZW5jZSwgdGhlIHNlY29uZCBwZWN1bGlhcml0eSBvZiB0aGUgZXF1aXZhbGVudCBmb3JtIGlzLCB0aGF0IGNvbmNyZXRlIGxhYm91ciBiZWNvbWVzIHRoZSBmb3JtIHVuZGVyIHdoaWNoIGl0cyBvcHBvc2l0ZSwgYWJzdHJhY3QgaHVtYW4gbGFib3VyLCBtYW5pZmVzdHMgaXRzZWxmLlwiLFxuXCJCdXQgYmVjYXVzZSB0aGlzIGNvbmNyZXRlIGxhYm91ciwgdGFpbG9yaW5nIGluIG91ciBjYXNlLCByYW5rcyBhcywgYW5kIGlzIGRpcmVjdGx5IGlkZW50aWZpZWQgd2l0aCwgdW5kaWZmZXJlbnRpYXRlZCBodW1hbiBsYWJvdXIsIGl0IGFsc28gcmFua3MgYXMgaWRlbnRpY2FsIHdpdGggYW55IG90aGVyIHNvcnQgb2YgbGFib3VyLCBhbmQgdGhlcmVmb3JlIHdpdGggdGhhdCBlbWJvZGllZCBpbiB0aGUgbGluZW4uXCIsXG5cIkNvbnNlcXVlbnRseSwgYWx0aG91Z2gsIGxpa2UgYWxsIG90aGVyIGNvbW1vZGl0eS1wcm9kdWNpbmcgbGFib3VyLCBpdCBpcyB0aGUgbGFib3VyIG9mIHByaXZhdGUgaW5kaXZpZHVhbHMsIHlldCwgYXQgdGhlIHNhbWUgdGltZSwgaXQgcmFua3MgYXMgbGFib3VyIGRpcmVjdGx5IHNvY2lhbCBpbiBpdHMgY2hhcmFjdGVyLlwiLFxuXCJUaGlzIGlzIHRoZSByZWFzb24gd2h5IGl0IHJlc3VsdHMgaW4gYSBwcm9kdWN0IGRpcmVjdGx5IGV4Y2hhbmdlYWJsZSB3aXRoIG90aGVyIGNvbW1vZGl0aWVzLlwiLFxuXCJXZSBoYXZlIHRoZW4gYSB0aGlyZCBwZWN1bGlhcml0eSBvZiB0aGUgZXF1aXZhbGVudCBmb3JtLCBuYW1lbHksIHRoYXQgdGhlIGxhYm91ciBvZiBwcml2YXRlIGluZGl2aWR1YWxzIHRha2VzIHRoZSBmb3JtIG9mIGl0cyBvcHBvc2l0ZSwgbGFib3VyIGRpcmVjdGx5IHNvY2lhbCBpbiBpdHMgZm9ybS5cIixcblwiVGhlIHR3byBsYXR0ZXIgcGVjdWxpYXJpdGllcyBvZiB0aGUgZXF1aXZhbGVudCBmb3JtIHdpbGwgYmVjb21lIG1vcmUgaW50ZWxsaWdpYmxlIGlmIHdlIGdvIGJhY2sgdG8gdGhlIGdyZWF0IHRoaW5rZXIgd2hvIHdhcyB0aGUgZmlyc3QgdG8gYW5hbHlzZSBzbyBtYW55IGZvcm1zLCB3aGV0aGVyIG9mIHRob3VnaHQsIHNvY2lldHksIG9yIE5hdHVyZSwgYW5kIGFtb25nc3QgdGhlbSBhbHNvIHRoZSBmb3JtIG9mIHZhbHVlLlwiLFxuXCJJIG1lYW4gQXJpc3RvdGxlLlwiLFxuXCJJbiB0aGUgZmlyc3QgcGxhY2UsIGhlIGNsZWFybHkgZW51bmNpYXRlcyB0aGF0IHRoZSBtb25leSBmb3JtIG9mIGNvbW1vZGl0aWVzIGlzIG9ubHkgdGhlIGZ1cnRoZXIgZGV2ZWxvcG1lbnQgb2YgdGhlIHNpbXBsZSBmb3JtIG9mIHZhbHVlIOKAkyBpLlwiLFxuXCJvZiB0aGUgZXhwcmVzc2lvbiBvZiB0aGUgdmFsdWUgb2Ygb25lIGNvbW1vZGl0eSBpbiBzb21lIG90aGVyIGNvbW1vZGl0eSB0YWtlbiBhdCByYW5kb207IGZvciBoZSBzYXlzOlwiLFxuXCI1IGJlZHMgPSAxIGhvdXNlIChjbGluYWkgcGVudGUgYW50aSBvaWNpYc+CKVwiLFxuXCJpcyBub3QgdG8gYmUgZGlzdGluZ3Vpc2hlZCBmcm9tXCIsXG5cIjUgYmVkcyA9IHNvIG11Y2ggbW9uZXkuXCIsXG5cIihjbGluYWkgcGVudGUgYW50aSAuXCIsXG5cIm9zb24gYWkgcGVudGUgY2xpbmFpKVwiLFxuXCJIZSBmdXJ0aGVyIHNlZXMgdGhhdCB0aGUgdmFsdWUgcmVsYXRpb24gd2hpY2ggZ2l2ZXMgcmlzZSB0byB0aGlzIGV4cHJlc3Npb24gbWFrZXMgaXQgbmVjZXNzYXJ5IHRoYXQgdGhlIGhvdXNlIHNob3VsZCBxdWFsaXRhdGl2ZWx5IGJlIG1hZGUgdGhlIGVxdWFsIG9mIHRoZSBiZWQsIGFuZCB0aGF0LCB3aXRob3V0IHN1Y2ggYW4gZXF1YWxpc2F0aW9uLCB0aGVzZSB0d28gY2xlYXJseSBkaWZmZXJlbnQgdGhpbmdzIGNvdWxkIG5vdCBiZSBjb21wYXJlZCB3aXRoIGVhY2ggb3RoZXIgYXMgY29tbWVuc3VyYWJsZSBxdWFudGl0aWVzLlwiLFxuXCLigJxFeGNoYW5nZSzigJ0gaGUgc2F5cywg4oCcY2Fubm90IHRha2UgcGxhY2Ugd2l0aG91dCBlcXVhbGl0eSwgYW5kIGVxdWFsaXR5IG5vdCB3aXRob3V0IGNvbW1lbnN1cmFiaWxpdHlcIixcblwiKG91dCBpc290aM+CIG1oIG91c2jPgiBzbm1tZXRyaWHPgikuXCIsXG5cIkhlcmUsIGhvd2V2ZXIsIGhlIGNvbWVzIHRvIGEgc3RvcCwgYW5kIGdpdmVzIHVwIHRoZSBmdXJ0aGVyIGFuYWx5c2lzIG9mIHRoZSBmb3JtIG9mIHZhbHVlLlwiLFxuXCLigJxJdCBpcywgaG93ZXZlciwgaW4gcmVhbGl0eSwgaW1wb3NzaWJsZSAodGggbWVuIG91biBhbGhxZWlhIGFkdW5hdG9uKSwgdGhhdCBzdWNoIHVubGlrZSB0aGluZ3MgY2FuIGJlIGNvbW1lbnN1cmFibGXigJ0g4oCTIGkuXCIsXG5cInF1YWxpdGF0aXZlbHkgZXF1YWwuXCIsXG5cIlN1Y2ggYW4gZXF1YWxpc2F0aW9uIGNhbiBvbmx5IGJlIHNvbWV0aGluZyBmb3JlaWduIHRvIHRoZWlyIHJlYWwgbmF0dXJlLCBjb25zZXF1ZW50bHkgb25seSDigJxhIG1ha2VzaGlmdCBmb3IgcHJhY3RpY2FsIHB1cnBvc2VzLlwiLFxuXCJBcmlzdG90bGUgdGhlcmVmb3JlLCBoaW1zZWxmLCB0ZWxscyB1cyB3aGF0IGJhcnJlZCB0aGUgd2F5IHRvIGhpcyBmdXJ0aGVyIGFuYWx5c2lzOyBpdCB3YXMgdGhlIGFic2VuY2Ugb2YgYW55IGNvbmNlcHQgb2YgdmFsdWUuXCIsXG5cIldoYXQgaXMgdGhhdCBlcXVhbCBzb21ldGhpbmcsIHRoYXQgY29tbW9uIHN1YnN0YW5jZSwgd2hpY2ggYWRtaXRzIG9mIHRoZSB2YWx1ZSBvZiB0aGUgYmVkcyBiZWluZyBleHByZXNzZWQgYnkgYSBob3VzZT9cIixcblwiU3VjaCBhIHRoaW5nLCBpbiB0cnV0aCwgY2Fubm90IGV4aXN0LCBzYXlzIEFyaXN0b3RsZS5cIixcblwiQW5kIHdoeSBub3Q/XCIsXG5cIkNvbXBhcmVkIHdpdGggdGhlIGJlZHMsIHRoZSBob3VzZSBkb2VzIHJlcHJlc2VudCBzb21ldGhpbmcgZXF1YWwgdG8gdGhlbSwgaW4gc28gZmFyIGFzIGl0IHJlcHJlc2VudHMgd2hhdCBpcyByZWFsbHkgZXF1YWwsIGJvdGggaW4gdGhlIGJlZHMgYW5kIHRoZSBob3VzZS5cIixcblwiQW5kIHRoYXQgaXMg4oCTIGh1bWFuIGxhYm91ci5cIixcblwiVGhlcmUgd2FzLCBob3dldmVyLCBhbiBpbXBvcnRhbnQgZmFjdCB3aGljaCBwcmV2ZW50ZWQgQXJpc3RvdGxlIGZyb20gc2VlaW5nIHRoYXQsIHRvIGF0dHJpYnV0ZSB2YWx1ZSB0byBjb21tb2RpdGllcywgaXMgbWVyZWx5IGEgbW9kZSBvZiBleHByZXNzaW5nIGFsbCBsYWJvdXIgYXMgZXF1YWwgaHVtYW4gbGFib3VyLCBhbmQgY29uc2VxdWVudGx5IGFzIGxhYm91ciBvZiBlcXVhbCBxdWFsaXR5LlwiLFxuXCJHcmVlayBzb2NpZXR5IHdhcyBmb3VuZGVkIHVwb24gc2xhdmVyeSwgYW5kIGhhZCwgdGhlcmVmb3JlLCBmb3IgaXRzIG5hdHVyYWwgYmFzaXMsIHRoZSBpbmVxdWFsaXR5IG9mIG1lbiBhbmQgb2YgdGhlaXIgbGFib3VyIHBvd2Vycy5cIixcblwiVGhlIHNlY3JldCBvZiB0aGUgZXhwcmVzc2lvbiBvZiB2YWx1ZSwgbmFtZWx5LCB0aGF0IGFsbCBraW5kcyBvZiBsYWJvdXIgYXJlIGVxdWFsIGFuZCBlcXVpdmFsZW50LCBiZWNhdXNlLCBhbmQgc28gZmFyIGFzIHRoZXkgYXJlIGh1bWFuIGxhYm91ciBpbiBnZW5lcmFsLCBjYW5ub3QgYmUgZGVjaXBoZXJlZCwgdW50aWwgdGhlIG5vdGlvbiBvZiBodW1hbiBlcXVhbGl0eSBoYXMgYWxyZWFkeSBhY3F1aXJlZCB0aGUgZml4aXR5IG9mIGEgcG9wdWxhciBwcmVqdWRpY2UuXCIsXG5cIlRoaXMsIGhvd2V2ZXIsIGlzIHBvc3NpYmxlIG9ubHkgaW4gYSBzb2NpZXR5IGluIHdoaWNoIHRoZSBncmVhdCBtYXNzIG9mIHRoZSBwcm9kdWNlIG9mIGxhYm91ciB0YWtlcyB0aGUgZm9ybSBvZiBjb21tb2RpdGllcywgaW4gd2hpY2gsIGNvbnNlcXVlbnRseSwgdGhlIGRvbWluYW50IHJlbGF0aW9uIGJldHdlZW4gbWFuIGFuZCBtYW4sIGlzIHRoYXQgb2Ygb3duZXJzIG9mIGNvbW1vZGl0aWVzLlwiLFxuXCJUaGUgYnJpbGxpYW5jeSBvZiBBcmlzdG90bGXigJlzIGdlbml1cyBpcyBzaG93biBieSB0aGlzIGFsb25lLCB0aGF0IGhlIGRpc2NvdmVyZWQsIGluIHRoZSBleHByZXNzaW9uIG9mIHRoZSB2YWx1ZSBvZiBjb21tb2RpdGllcywgYSByZWxhdGlvbiBvZiBlcXVhbGl0eS5cIixcblwiVGhlIHBlY3VsaWFyIGNvbmRpdGlvbnMgb2YgdGhlIHNvY2lldHkgaW4gd2hpY2ggaGUgbGl2ZWQsIGFsb25lIHByZXZlbnRlZCBoaW0gZnJvbSBkaXNjb3ZlcmluZyB3aGF0LCDigJxpbiB0cnV0aCzigJ0gd2FzIGF0IHRoZSBib3R0b20gb2YgdGhpcyBlcXVhbGl0eS5cIixcblwiVGhlIEVsZW1lbnRhcnkgRm9ybSBvZiB2YWx1ZSBjb25zaWRlcmVkIGFzIGEgd2hvbGVcIixcblwiVGhlIGVsZW1lbnRhcnkgZm9ybSBvZiB2YWx1ZSBvZiBhIGNvbW1vZGl0eSBpcyBjb250YWluZWQgaW4gdGhlIGVxdWF0aW9uLCBleHByZXNzaW5nIGl0cyB2YWx1ZSByZWxhdGlvbiB0byBhbm90aGVyIGNvbW1vZGl0eSBvZiBhIGRpZmZlcmVudCBraW5kLCBvciBpbiBpdHMgZXhjaGFuZ2UgcmVsYXRpb24gdG8gdGhlIHNhbWUuXCIsXG5cIlRoZSB2YWx1ZSBvZiBjb21tb2RpdHkgQSwgaXMgcXVhbGl0YXRpdmVseSBleHByZXNzZWQsIGJ5IHRoZSBmYWN0IHRoYXQgY29tbW9kaXR5IEIgaXMgZGlyZWN0bHkgZXhjaGFuZ2VhYmxlIHdpdGggaXQuXCIsXG5cIkl0cyB2YWx1ZSBpcyBxdWFudGl0YXRpdmVseSBleHByZXNzZWQgYnkgdGhlIGZhY3QsIHRoYXQgYSBkZWZpbml0ZSBxdWFudGl0eSBvZiBCIGlzIGV4Y2hhbmdlYWJsZSB3aXRoIGEgZGVmaW5pdGUgcXVhbnRpdHkgb2YgQS5cIixcblwiSW4gb3RoZXIgd29yZHMsIHRoZSB2YWx1ZSBvZiBhIGNvbW1vZGl0eSBvYnRhaW5zIGluZGVwZW5kZW50IGFuZCBkZWZpbml0ZSBleHByZXNzaW9uLCBieSB0YWtpbmcgdGhlIGZvcm0gb2YgZXhjaGFuZ2UgdmFsdWUuXCIsXG5cIldoZW4sIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhpcyBjaGFwdGVyLCB3ZSBzYWlkLCBpbiBjb21tb24gcGFybGFuY2UsIHRoYXQgYSBjb21tb2RpdHkgaXMgYm90aCBhIHVzZSB2YWx1ZSBhbmQgYW4gZXhjaGFuZ2UgdmFsdWUsIHdlIHdlcmUsIGFjY3VyYXRlbHkgc3BlYWtpbmcsIHdyb25nLlwiLFxuXCJBIGNvbW1vZGl0eSBpcyBhIHVzZSB2YWx1ZSBvciBvYmplY3Qgb2YgdXRpbGl0eSwgYW5kIGEgdmFsdWUuXCIsXG5cIkl0IG1hbmlmZXN0cyBpdHNlbGYgYXMgdGhpcyB0d28tZm9sZCB0aGluZywgdGhhdCBpdCBpcywgYXMgc29vbiBhcyBpdHMgdmFsdWUgYXNzdW1lcyBhbiBpbmRlcGVuZGVudCBmb3JtIOKAkyB2aXouXCIsXG5cInRoZSBmb3JtIG9mIGV4Y2hhbmdlIHZhbHVlLlwiLFxuXCJJdCBuZXZlciBhc3N1bWVzIHRoaXMgZm9ybSB3aGVuIGlzb2xhdGVkLCBidXQgb25seSB3aGVuIHBsYWNlZCBpbiBhIHZhbHVlIG9yIGV4Y2hhbmdlIHJlbGF0aW9uIHdpdGggYW5vdGhlciBjb21tb2RpdHkgb2YgYSBkaWZmZXJlbnQga2luZC5cIixcblwiV2hlbiBvbmNlIHdlIGtub3cgdGhpcywgc3VjaCBhIG1vZGUgb2YgZXhwcmVzc2lvbiBkb2VzIG5vIGhhcm07IGl0IHNpbXBseSBzZXJ2ZXMgYXMgYW4gYWJicmV2aWF0aW9uLlwiLFxuXCJPdXIgYW5hbHlzaXMgaGFzIHNob3duLCB0aGF0IHRoZSBmb3JtIG9yIGV4cHJlc3Npb24gb2YgdGhlIHZhbHVlIG9mIGEgY29tbW9kaXR5IG9yaWdpbmF0ZXMgaW4gdGhlIG5hdHVyZSBvZiB2YWx1ZSwgYW5kIG5vdCB0aGF0IHZhbHVlIGFuZCBpdHMgbWFnbml0dWRlIG9yaWdpbmF0ZSBpbiB0aGUgbW9kZSBvZiB0aGVpciBleHByZXNzaW9uIGFzIGV4Y2hhbmdlIHZhbHVlLlwiLFxuXCJUaGlzLCBob3dldmVyLCBpcyB0aGUgZGVsdXNpb24gYXMgd2VsbCBvZiB0aGUgbWVyY2FudGlsaXN0cyBhbmQgdGhlaXIgcmVjZW50IHJldml2ZXJzLCBGZXJyaWVyLCBHYW5pbGgsICBhbmQgb3RoZXJzLCBhcyBhbHNvIG9mIHRoZWlyIGFudGlwb2RlcywgdGhlIG1vZGVybiBiYWdtZW4gb2YgRnJlZS10cmFkZSwgc3VjaCBhcyBCYXN0aWF0LlwiLFxuXCJUaGUgbWVyY2FudGlsaXN0cyBsYXkgc3BlY2lhbCBzdHJlc3Mgb24gdGhlIHF1YWxpdGF0aXZlIGFzcGVjdCBvZiB0aGUgZXhwcmVzc2lvbiBvZiB2YWx1ZSwgYW5kIGNvbnNlcXVlbnRseSBvbiB0aGUgZXF1aXZhbGVudCBmb3JtIG9mIGNvbW1vZGl0aWVzLCB3aGljaCBhdHRhaW5zIGl0cyBmdWxsIHBlcmZlY3Rpb24gaW4gbW9uZXkuXCIsXG5cIlRoZSBtb2Rlcm4gaGF3a2VycyBvZiBGcmVlLXRyYWRlLCB3aG8gbXVzdCBnZXQgcmlkIG9mIHRoZWlyIGFydGljbGUgYXQgYW55IHByaWNlLCBvbiB0aGUgb3RoZXIgaGFuZCwgbGF5IG1vc3Qgc3RyZXNzIG9uIHRoZSBxdWFudGl0YXRpdmUgYXNwZWN0IG9mIHRoZSByZWxhdGl2ZSBmb3JtIG9mIHZhbHVlLlwiLFxuXCJGb3IgdGhlbSB0aGVyZSBjb25zZXF1ZW50bHkgZXhpc3RzIG5laXRoZXIgdmFsdWUsIG5vciBtYWduaXR1ZGUgb2YgdmFsdWUsIGFueXdoZXJlIGV4Y2VwdCBpbiBpdHMgZXhwcmVzc2lvbiBieSBtZWFucyBvZiB0aGUgZXhjaGFuZ2UgcmVsYXRpb24gb2YgY29tbW9kaXRpZXMsIHRoYXQgaXMsIGluIHRoZSBkYWlseSBsaXN0IG9mIHByaWNlcyBjdXJyZW50LlwiLFxuXCJNYWNsZW9kLCB3aG8gaGFzIHRha2VuIHVwb24gaGltc2VsZiB0byBkcmVzcyB1cCB0aGUgY29uZnVzZWQgaWRlYXMgb2YgTG9tYmFyZCBTdHJlZXQgaW4gdGhlIG1vc3QgbGVhcm5lZCBmaW5lcnksIGlzIGEgc3VjY2Vzc2Z1bCBjcm9zcyBiZXR3ZWVuIHRoZSBzdXBlcnN0aXRpb3VzIG1lcmNhbnRpbGlzdHMsIGFuZCB0aGUgZW5saWdodGVuZWQgRnJlZS10cmFkZSBiYWdtZW4uXCIsXG5cIkEgY2xvc2Ugc2NydXRpbnkgb2YgdGhlIGV4cHJlc3Npb24gb2YgdGhlIHZhbHVlIG9mIEEgaW4gdGVybXMgb2YgQiwgY29udGFpbmVkIGluIHRoZSBlcXVhdGlvbiBleHByZXNzaW5nIHRoZSB2YWx1ZSByZWxhdGlvbiBvZiBBIHRvIEIsIGhhcyBzaG93biB1cyB0aGF0LCB3aXRoaW4gdGhhdCByZWxhdGlvbiwgdGhlIGJvZGlseSBmb3JtIG9mIEEgZmlndXJlcyBvbmx5IGFzIGEgdXNlIHZhbHVlLCB0aGUgYm9kaWx5IGZvcm0gb2YgQiBvbmx5IGFzIHRoZSBmb3JtIG9yIGFzcGVjdCBvZiB2YWx1ZS5cIixcblwiVGhlIG9wcG9zaXRpb24gb3IgY29udHJhc3QgZXhpc3RpbmcgaW50ZXJuYWxseSBpbiBlYWNoIGNvbW1vZGl0eSBiZXR3ZWVuIHVzZSB2YWx1ZSBhbmQgdmFsdWUsIGlzLCB0aGVyZWZvcmUsIG1hZGUgZXZpZGVudCBleHRlcm5hbGx5IGJ5IHR3byBjb21tb2RpdGllcyBiZWluZyBwbGFjZWQgaW4gc3VjaCByZWxhdGlvbiB0byBlYWNoIG90aGVyLCB0aGF0IHRoZSBjb21tb2RpdHkgd2hvc2UgdmFsdWUgaXQgaXMgc291Z2h0IHRvIGV4cHJlc3MsIGZpZ3VyZXMgZGlyZWN0bHkgYXMgYSBtZXJlIHVzZSB2YWx1ZSwgd2hpbGUgdGhlIGNvbW1vZGl0eSBpbiB3aGljaCB0aGF0IHZhbHVlIGlzIHRvIGJlIGV4cHJlc3NlZCwgZmlndXJlcyBkaXJlY3RseSBhcyBtZXJlIGV4Y2hhbmdlIHZhbHVlLlwiLFxuXCJIZW5jZSB0aGUgZWxlbWVudGFyeSBmb3JtIG9mIHZhbHVlIG9mIGEgY29tbW9kaXR5IGlzIHRoZSBlbGVtZW50YXJ5IGZvcm0gaW4gd2hpY2ggdGhlIGNvbnRyYXN0IGNvbnRhaW5lZCBpbiB0aGF0IGNvbW1vZGl0eSwgYmV0d2VlbiB1c2UgdmFsdWUgYW5kIHZhbHVlLCBiZWNvbWVzIGFwcGFyZW50LlwiLFxuXCJFdmVyeSBwcm9kdWN0IG9mIGxhYm91ciBpcywgaW4gYWxsIHN0YXRlcyBvZiBzb2NpZXR5LCBhIHVzZSB2YWx1ZTsgYnV0IGl0IGlzIG9ubHkgYXQgYSBkZWZpbml0ZSBoaXN0b3JpY2FsIGVwb2NoIGluIGEgc29jaWV0eeKAmXMgZGV2ZWxvcG1lbnQgdGhhdCBzdWNoIGEgcHJvZHVjdCBiZWNvbWVzIGEgY29tbW9kaXR5LCB2aXouXCIsXG5cImF0IHRoZSBlcG9jaCB3aGVuIHRoZSBsYWJvdXIgc3BlbnQgb24gdGhlIHByb2R1Y3Rpb24gb2YgYSB1c2VmdWwgYXJ0aWNsZSBiZWNvbWVzIGV4cHJlc3NlZCBhcyBvbmUgb2YgdGhlIG9iamVjdGl2ZSBxdWFsaXRpZXMgb2YgdGhhdCBhcnRpY2xlLCBpLlwiLFxuXCJhcyBpdHMgdmFsdWUuXCIsXG5cIkl0IHRoZXJlZm9yZSBmb2xsb3dzIHRoYXQgdGhlIGVsZW1lbnRhcnkgdmFsdWUgZm9ybSBpcyBhbHNvIHRoZSBwcmltaXRpdmUgZm9ybSB1bmRlciB3aGljaCBhIHByb2R1Y3Qgb2YgbGFib3VyIGFwcGVhcnMgaGlzdG9yaWNhbGx5IGFzIGEgY29tbW9kaXR5LCBhbmQgdGhhdCB0aGUgZ3JhZHVhbCB0cmFuc2Zvcm1hdGlvbiBvZiBzdWNoIHByb2R1Y3RzIGludG8gY29tbW9kaXRpZXMsIHByb2NlZWRzIHBhcmkgcGFzc3Ugd2l0aCB0aGUgZGV2ZWxvcG1lbnQgb2YgdGhlIHZhbHVlIGZvcm0uXCIsXG5cIldlIHBlcmNlaXZlLCBhdCBmaXJzdCBzaWdodCwgdGhlIGRlZmljaWVuY2llcyBvZiB0aGUgZWxlbWVudGFyeSBmb3JtIG9mIHZhbHVlOiBpdCBpcyBhIG1lcmUgZ2VybSwgd2hpY2ggbXVzdCB1bmRlcmdvIGEgc2VyaWVzIG9mIG1ldGFtb3JwaG9zZXMgYmVmb3JlIGl0IGNhbiByaXBlbiBpbnRvIHRoZSBwcmljZSBmb3JtLlwiLFxuXCJUaGUgZXhwcmVzc2lvbiBvZiB0aGUgdmFsdWUgb2YgY29tbW9kaXR5IEEgaW4gdGVybXMgb2YgYW55IG90aGVyIGNvbW1vZGl0eSBCLCBtZXJlbHkgZGlzdGluZ3Vpc2hlcyB0aGUgdmFsdWUgZnJvbSB0aGUgdXNlIHZhbHVlIG9mIEEsIGFuZCB0aGVyZWZvcmUgcGxhY2VzIEEgbWVyZWx5IGluIGEgcmVsYXRpb24gb2YgZXhjaGFuZ2Ugd2l0aCBhIHNpbmdsZSBkaWZmZXJlbnQgY29tbW9kaXR5LCBCOyBidXQgaXQgaXMgc3RpbGwgZmFyIGZyb20gZXhwcmVzc2luZyBB4oCZcyBxdWFsaXRhdGl2ZSBlcXVhbGl0eSwgYW5kIHF1YW50aXRhdGl2ZSBwcm9wb3J0aW9uYWxpdHksIHRvIGFsbCBjb21tb2RpdGllcy5cIixcblwiVG8gdGhlIGVsZW1lbnRhcnkgcmVsYXRpdmUgdmFsdWUgZm9ybSBvZiBhIGNvbW1vZGl0eSwgdGhlcmUgY29ycmVzcG9uZHMgdGhlIHNpbmdsZSBlcXVpdmFsZW50IGZvcm0gb2Ygb25lIG90aGVyIGNvbW1vZGl0eS5cIixcblwiVGh1cywgaW4gdGhlIHJlbGF0aXZlIGV4cHJlc3Npb24gb2YgdmFsdWUgb2YgdGhlIGxpbmVuLCB0aGUgY29hdCBhc3N1bWVzIHRoZSBmb3JtIG9mIGVxdWl2YWxlbnQsIG9yIG9mIGJlaW5nIGRpcmVjdGx5IGV4Y2hhbmdlYWJsZSwgb25seSBpbiByZWxhdGlvbiB0byBhIHNpbmdsZSBjb21tb2RpdHksIHRoZSBsaW5lbi5cIixcblwiTmV2ZXJ0aGVsZXNzLCB0aGUgZWxlbWVudGFyeSBmb3JtIG9mIHZhbHVlIHBhc3NlcyBieSBhbiBlYXN5IHRyYW5zaXRpb24gaW50byBhIG1vcmUgY29tcGxldGUgZm9ybS5cIixcblwiSXQgaXMgdHJ1ZSB0aGF0IGJ5IG1lYW5zIG9mIHRoZSBlbGVtZW50YXJ5IGZvcm0sIHRoZSB2YWx1ZSBvZiBhIGNvbW1vZGl0eSBBLCBiZWNvbWVzIGV4cHJlc3NlZCBpbiB0ZXJtcyBvZiBvbmUsIGFuZCBvbmx5IG9uZSwgb3RoZXIgY29tbW9kaXR5LlwiLFxuXCJCdXQgdGhhdCBvbmUgbWF5IGJlIGEgY29tbW9kaXR5IG9mIGFueSBraW5kLCBjb2F0LCBpcm9uLCBjb3JuLCBvciBhbnl0aGluZyBlbHNlLlwiLFxuXCJUaGVyZWZvcmUsIGFjY29yZGluZyBhcyBBIGlzIHBsYWNlZCBpbiByZWxhdGlvbiB3aXRoIG9uZSBvciB0aGUgb3RoZXIsIHdlIGdldCBmb3Igb25lIGFuZCB0aGUgc2FtZSBjb21tb2RpdHksIGRpZmZlcmVudCBlbGVtZW50YXJ5IGV4cHJlc3Npb25zIG9mIHZhbHVlLlwiLFxuXCJUaGUgbnVtYmVyIG9mIHN1Y2ggcG9zc2libGUgZXhwcmVzc2lvbnMgaXMgbGltaXRlZCBvbmx5IGJ5IHRoZSBudW1iZXIgb2YgdGhlIGRpZmZlcmVudCBraW5kcyBvZiBjb21tb2RpdGllcyBkaXN0aW5jdCBmcm9tIGl0LlwiLFxuXCJUaGUgaXNvbGF0ZWQgZXhwcmVzc2lvbiBvZiBB4oCZcyB2YWx1ZSwgaXMgdGhlcmVmb3JlIGNvbnZlcnRpYmxlIGludG8gYSBzZXJpZXMsIHByb2xvbmdlZCB0byBhbnkgbGVuZ3RoLCBvZiB0aGUgZGlmZmVyZW50IGVsZW1lbnRhcnkgZXhwcmVzc2lvbnMgb2YgdGhhdCB2YWx1ZS5cIixcblwiVG90YWwgb3IgRXhwYW5kZWQgRm9ybSBvZiB2YWx1ZVwiLFxuXCJ6IENvbS5cIixcblwiQSA9IHUgQ29tLlwiLFxuXCJCIG9yID0gdiBDb20uXCIsXG5cIkMgb3IgPSB3IENvbS5cIixcblwiRCBvciA9IENvbS5cIixcblwiRSBvciA9ICZjLlwiLFxuXCIoMjAgeWFyZHMgb2YgbGluZW4gPSAxIGNvYXQgb3IgPSAxMCBsYnMgdGVhIG9yID0gNDAgbGJzLlwiLFxuXCJjb2ZmZWUgb3JcIixcblwiMSBxdWFydGVyIGNvcm4gb3IgPSAyIG91bmNlcyBnb2xkIG9yID0gwr0gdG9uIGlyb24gb3IgPSAmYy5cIixcblwiVGhlIEV4cGFuZGVkIFJlbGF0aXZlIGZvcm0gb2YgdmFsdWVcIixcblwiVGhlIHZhbHVlIG9mIGEgc2luZ2xlIGNvbW1vZGl0eSwgdGhlIGxpbmVuLCBmb3IgZXhhbXBsZSwgaXMgbm93IGV4cHJlc3NlZCBpbiB0ZXJtcyBvZiBudW1iZXJsZXNzIG90aGVyIGVsZW1lbnRzIG9mIHRoZSB3b3JsZCBvZiBjb21tb2RpdGllcy5cIixcblwiRXZlcnkgb3RoZXIgY29tbW9kaXR5IG5vdyBiZWNvbWVzIGEgbWlycm9yIG9mIHRoZSBsaW5lbuKAmXMgdmFsdWUuXCIsXG5cIkl0IGlzIHRodXMsIHRoYXQgZm9yIHRoZSBmaXJzdCB0aW1lLCB0aGlzIHZhbHVlIHNob3dzIGl0c2VsZiBpbiBpdHMgdHJ1ZSBsaWdodCBhcyBhIGNvbmdlbGF0aW9uIG9mIHVuZGlmZmVyZW50aWF0ZWQgaHVtYW4gbGFib3VyLlwiLFxuXCJGb3IgdGhlIGxhYm91ciB0aGF0IGNyZWF0ZXMgaXQsIG5vdyBzdGFuZHMgZXhwcmVzc2x5IHJldmVhbGVkLCBhcyBsYWJvdXIgdGhhdCByYW5rcyBlcXVhbGx5IHdpdGggZXZlcnkgb3RoZXIgc29ydCBvZiBodW1hbiBsYWJvdXIsIG5vIG1hdHRlciB3aGF0IGl0cyBmb3JtLCB3aGV0aGVyIHRhaWxvcmluZywgcGxvdWdoaW5nLCBtaW5pbmcsICZjLlwiLFxuXCJhbmQgbm8gbWF0dGVyLCB0aGVyZWZvcmUsIHdoZXRoZXIgaXQgaXMgcmVhbGlzZWQgaW4gY29hdHMsIGNvcm4sIGlyb24sIG9yIGdvbGQuXCIsXG5cIlRoZSBsaW5lbiwgYnkgdmlydHVlIG9mIHRoZSBmb3JtIG9mIGl0cyB2YWx1ZSwgbm93IHN0YW5kcyBpbiBhIHNvY2lhbCByZWxhdGlvbiwgbm8gbG9uZ2VyIHdpdGggb25seSBvbmUgb3RoZXIga2luZCBvZiBjb21tb2RpdHksIGJ1dCB3aXRoIHRoZSB3aG9sZSB3b3JsZCBvZiBjb21tb2RpdGllcy5cIixcblwiQXMgYSBjb21tb2RpdHksIGl0IGlzIGEgY2l0aXplbiBvZiB0aGF0IHdvcmxkLlwiLFxuXCJBdCB0aGUgc2FtZSB0aW1lLCB0aGUgaW50ZXJtaW5hYmxlIHNlcmllcyBvZiB2YWx1ZSBlcXVhdGlvbnMgaW1wbGllcywgdGhhdCBhcyByZWdhcmRzIHRoZSB2YWx1ZSBvZiBhIGNvbW1vZGl0eSwgaXQgaXMgYSBtYXR0ZXIgb2YgaW5kaWZmZXJlbmNlIHVuZGVyIHdoYXQgcGFydGljdWxhciBmb3JtLCBvciBraW5kLCBvZiB1c2UgdmFsdWUgaXQgYXBwZWFycy5cIixcblwiSW4gdGhlIGZpcnN0IGZvcm0sIDIwIHlkcyBvZiBsaW5lbiA9IDEgY29hdCwgaXQgbWlnaHQsIGZvciBvdWdodCB0aGF0IG90aGVyd2lzZSBhcHBlYXJzLCBiZSBwdXJlIGFjY2lkZW50LCB0aGF0IHRoZXNlIHR3byBjb21tb2RpdGllcyBhcmUgZXhjaGFuZ2VhYmxlIGluIGRlZmluaXRlIHF1YW50aXRpZXMuXCIsXG5cIkluIHRoZSBzZWNvbmQgZm9ybSwgb24gdGhlIGNvbnRyYXJ5LCB3ZSBwZXJjZWl2ZSBhdCBvbmNlIHRoZSBiYWNrZ3JvdW5kIHRoYXQgZGV0ZXJtaW5lcywgYW5kIGlzIGVzc2VudGlhbGx5IGRpZmZlcmVudCBmcm9tLCB0aGlzIGFjY2lkZW50YWwgYXBwZWFyYW5jZS5cIixcblwiVGhlIHZhbHVlIG9mIHRoZSBsaW5lbiByZW1haW5zIHVuYWx0ZXJlZCBpbiBtYWduaXR1ZGUsIHdoZXRoZXIgZXhwcmVzc2VkIGluIGNvYXRzLCBjb2ZmZWUsIG9yIGlyb24sIG9yIGluIG51bWJlcmxlc3MgZGlmZmVyZW50IGNvbW1vZGl0aWVzLCB0aGUgcHJvcGVydHkgb2YgYXMgbWFueSBkaWZmZXJlbnQgb3duZXJzLlwiLFxuXCJUaGUgYWNjaWRlbnRhbCByZWxhdGlvbiBiZXR3ZWVuIHR3byBpbmRpdmlkdWFsIGNvbW1vZGl0eS1vd25lcnMgZGlzYXBwZWFycy5cIixcblwiSXQgYmVjb21lcyBwbGFpbiwgdGhhdCBpdCBpcyBub3QgdGhlIGV4Y2hhbmdlIG9mIGNvbW1vZGl0aWVzIHdoaWNoIHJlZ3VsYXRlcyB0aGUgbWFnbml0dWRlIG9mIHRoZWlyIHZhbHVlOyBidXQsIG9uIHRoZSBjb250cmFyeSwgdGhhdCBpdCBpcyB0aGUgbWFnbml0dWRlIG9mIHRoZWlyIHZhbHVlIHdoaWNoIGNvbnRyb2xzIHRoZWlyIGV4Y2hhbmdlIHByb3BvcnRpb25zLlwiLFxuXCJUaGUgcGFydGljdWxhciBFcXVpdmFsZW50IGZvcm1cIixcblwiRWFjaCBjb21tb2RpdHksIHN1Y2ggYXMsIGNvYXQsIHRlYSwgY29ybiwgaXJvbiwgJmMuXCIsXG5cImZpZ3VyZXMgaW4gdGhlIGV4cHJlc3Npb24gb2YgdmFsdWUgb2YgdGhlIGxpbmVuLCBhcyBhbiBlcXVpdmFsZW50LCBhbmQsIGNvbnNlcXVlbnRseSwgYXMgYSB0aGluZyB0aGF0IGlzIHZhbHVlLlwiLFxuXCJUaGUgYm9kaWx5IGZvcm0gb2YgZWFjaCBvZiB0aGVzZSBjb21tb2RpdGllcyBmaWd1cmVzIG5vdyBhcyBhIHBhcnRpY3VsYXIgZXF1aXZhbGVudCBmb3JtLCBvbmUgb3V0IG9mIG1hbnkuXCIsXG5cIkluIHRoZSBzYW1lIHdheSB0aGUgbWFuaWZvbGQgY29uY3JldGUgdXNlZnVsIGtpbmRzIG9mIGxhYm91ciwgZW1ib2RpZWQgaW4gdGhlc2UgZGlmZmVyZW50IGNvbW1vZGl0aWVzLCByYW5rIG5vdyBhcyBzbyBtYW55IGRpZmZlcmVudCBmb3JtcyBvZiB0aGUgcmVhbGlzYXRpb24sIG9yIG1hbmlmZXN0YXRpb24sIG9mIHVuZGlmZmVyZW50aWF0ZWQgaHVtYW4gbGFib3VyLlwiLFxuXCJEZWZlY3RzIG9mIHRoZSBUb3RhbCBvciBFeHBhbmRlZCBmb3JtIG9mIHZhbHVlXCIsXG5cIkluIHRoZSBmaXJzdCBwbGFjZSwgdGhlIHJlbGF0aXZlIGV4cHJlc3Npb24gb2YgdmFsdWUgaXMgaW5jb21wbGV0ZSBiZWNhdXNlIHRoZSBzZXJpZXMgcmVwcmVzZW50aW5nIGl0IGlzIGludGVybWluYWJsZS5cIixcblwiVGhlIGNoYWluIG9mIHdoaWNoIGVhY2ggZXF1YXRpb24gb2YgdmFsdWUgaXMgYSBsaW5rLCBpcyBsaWFibGUgYXQgYW55IG1vbWVudCB0byBiZSBsZW5ndGhlbmVkIGJ5IGVhY2ggbmV3IGtpbmQgb2YgY29tbW9kaXR5IHRoYXQgY29tZXMgaW50byBleGlzdGVuY2UgYW5kIGZ1cm5pc2hlcyB0aGUgbWF0ZXJpYWwgZm9yIGEgZnJlc2ggZXhwcmVzc2lvbiBvZiB2YWx1ZS5cIixcblwiSW4gdGhlIHNlY29uZCBwbGFjZSwgaXQgaXMgYSBtYW55LWNvbG91cmVkIG1vc2FpYyBvZiBkaXNwYXJhdGUgYW5kIGluZGVwZW5kZW50IGV4cHJlc3Npb25zIG9mIHZhbHVlLlwiLFxuXCJBbmQgbGFzdGx5LCBpZiwgYXMgbXVzdCBiZSB0aGUgY2FzZSwgdGhlIHJlbGF0aXZlIHZhbHVlIG9mIGVhY2ggY29tbW9kaXR5IGluIHR1cm4sIGJlY29tZXMgZXhwcmVzc2VkIGluIHRoaXMgZXhwYW5kZWQgZm9ybSwgd2UgZ2V0IGZvciBlYWNoIG9mIHRoZW0gYSByZWxhdGl2ZSB2YWx1ZSBmb3JtLCBkaWZmZXJlbnQgaW4gZXZlcnkgY2FzZSwgYW5kIGNvbnNpc3Rpbmcgb2YgYW4gaW50ZXJtaW5hYmxlIHNlcmllcyBvZiBleHByZXNzaW9ucyBvZiB2YWx1ZS5cIixcblwiVGhlIGRlZmVjdHMgb2YgdGhlIGV4cGFuZGVkIHJlbGF0aXZlIHZhbHVlIGZvcm0gYXJlIHJlZmxlY3RlZCBpbiB0aGUgY29ycmVzcG9uZGluZyBlcXVpdmFsZW50IGZvcm0uXCIsXG5cIlNpbmNlIHRoZSBib2RpbHkgZm9ybSBvZiBlYWNoIHNpbmdsZSBjb21tb2RpdHkgaXMgb25lIHBhcnRpY3VsYXIgZXF1aXZhbGVudCBmb3JtIGFtb25nc3QgbnVtYmVybGVzcyBvdGhlcnMsIHdlIGhhdmUsIG9uIHRoZSB3aG9sZSwgbm90aGluZyBidXQgZnJhZ21lbnRhcnkgZXF1aXZhbGVudCBmb3JtcywgZWFjaCBleGNsdWRpbmcgdGhlIG90aGVycy5cIixcblwiSW4gdGhlIHNhbWUgd2F5LCBhbHNvLCB0aGUgc3BlY2lhbCwgY29uY3JldGUsIHVzZWZ1bCBraW5kIG9mIGxhYm91ciBlbWJvZGllZCBpbiBlYWNoIHBhcnRpY3VsYXIgZXF1aXZhbGVudCwgaXMgcHJlc2VudGVkIG9ubHkgYXMgYSBwYXJ0aWN1bGFyIGtpbmQgb2YgbGFib3VyLCBhbmQgdGhlcmVmb3JlIG5vdCBhcyBhbiBleGhhdXN0aXZlIHJlcHJlc2VudGF0aXZlIG9mIGh1bWFuIGxhYm91ciBnZW5lcmFsbHkuXCIsXG5cIlRoZSBsYXR0ZXIsIGluZGVlZCwgZ2FpbnMgYWRlcXVhdGUgbWFuaWZlc3RhdGlvbiBpbiB0aGUgdG90YWxpdHkgb2YgaXRzIG1hbmlmb2xkLCBwYXJ0aWN1bGFyLCBjb25jcmV0ZSBmb3Jtcy5cIixcblwiQnV0LCBpbiB0aGF0IGNhc2UsIGl0cyBleHByZXNzaW9uIGluIGFuIGluZmluaXRlIHNlcmllcyBpcyBldmVyIGluY29tcGxldGUgYW5kIGRlZmljaWVudCBpbiB1bml0eS5cIixcblwiVGhlIGV4cGFuZGVkIHJlbGF0aXZlIHZhbHVlIGZvcm0gaXMsIGhvd2V2ZXIsIG5vdGhpbmcgYnV0IHRoZSBzdW0gb2YgdGhlIGVsZW1lbnRhcnkgcmVsYXRpdmUgZXhwcmVzc2lvbnMgb3IgZXF1YXRpb25zIG9mIHRoZSBmaXJzdCBraW5kLCBzdWNoIGFzOlwiLFxuXCIyMCB5YXJkcyBvZiBsaW5lbiA9IDEgY29hdFwiLFxuXCIyMCB5YXJkcyBvZiBsaW5lbiA9IDEwIGxicyBvZiB0ZWEsIGV0Yy5cIixcblwiRWFjaCBvZiB0aGVzZSBpbXBsaWVzIHRoZSBjb3JyZXNwb25kaW5nIGludmVydGVkIGVxdWF0aW9uLFwiLFxuXCIxIGNvYXQgPSAyMCB5YXJkcyBvZiBsaW5lblwiLFxuXCIxMCBsYnMgb2YgdGVhID0gMjAgeWFyZHMgb2YgbGluZW4sIGV0Yy5cIixcblwiSW4gZmFjdCwgd2hlbiBhIHBlcnNvbiBleGNoYW5nZXMgaGlzIGxpbmVuIGZvciBtYW55IG90aGVyIGNvbW1vZGl0aWVzLCBhbmQgdGh1cyBleHByZXNzZXMgaXRzIHZhbHVlIGluIGEgc2VyaWVzIG9mIG90aGVyIGNvbW1vZGl0aWVzLCBpdCBuZWNlc3NhcmlseSBmb2xsb3dzLCB0aGF0IHRoZSB2YXJpb3VzIG93bmVycyBvZiB0aGUgbGF0dGVyIGV4Y2hhbmdlIHRoZW0gZm9yIHRoZSBsaW5lbiwgYW5kIGNvbnNlcXVlbnRseSBleHByZXNzIHRoZSB2YWx1ZSBvZiB0aGVpciB2YXJpb3VzIGNvbW1vZGl0aWVzIGluIG9uZSBhbmQgdGhlIHNhbWUgdGhpcmQgY29tbW9kaXR5LCB0aGUgbGluZW4uXCIsXG5cIklmIHRoZW4sIHdlIHJldmVyc2UgdGhlIHNlcmllcywgMjAgeWFyZHMgb2YgbGluZW4gPSAxIGNvYXQgb3IgPSAxMCBsYnMgb2YgdGVhLCBldGMuXCIsXG5cInRoYXQgaXMgdG8gc2F5LCBpZiB3ZSBnaXZlIGV4cHJlc3Npb24gdG8gdGhlIGNvbnZlcnNlIHJlbGF0aW9uIGFscmVhZHkgaW1wbGllZCBpbiB0aGUgc2VyaWVzLCB3ZSBnZXQsXCIsXG5cIlRoZSBHZW5lcmFsIEZvcm0gb2YgVmFsdWVcIixcblwiMSBjb2F0XCIsXG5cIjEwICBsYnMgb2YgdGVhXCIsXG5cIjQwICBsYnMgb2YgY29mZmVlXCIsXG5cIjEgcXVhcnRlciBvZiBjb3JuXCIsXG5cIjIgb3VuY2VzIG9mIGdvbGRcIixcblwiYSB0b24gb2YgaXJvblwiLFxuXCJ4IENvbW1vZGl0eSBBLCBldGMuXCIsXG5cIjIwIHlhcmRzIG9mIGxpbmVuXCIsXG5cIlRoZSBhbHRlcmVkIGNoYXJhY3RlciBvZiB0aGUgZm9ybSBvZiB2YWx1ZVwiLFxuXCJBbGwgY29tbW9kaXRpZXMgbm93IGV4cHJlc3MgdGhlaXIgdmFsdWUgKDEpIGluIGFuIGVsZW1lbnRhcnkgZm9ybSwgYmVjYXVzZSBpbiBhIHNpbmdsZSBjb21tb2RpdHk7ICgyKSB3aXRoIHVuaXR5LCBiZWNhdXNlIGluIG9uZSBhbmQgdGhlIHNhbWUgY29tbW9kaXR5LlwiLFxuXCJUaGlzIGZvcm0gb2YgdmFsdWUgaXMgZWxlbWVudGFyeSBhbmQgdGhlIHNhbWUgZm9yIGFsbCwgdGhlcmVmb3JlIGdlbmVyYWwuXCIsXG5cIlRoZSBmb3JtcyBBIGFuZCBCIHdlcmUgZml0IG9ubHkgdG8gZXhwcmVzcyB0aGUgdmFsdWUgb2YgYSBjb21tb2RpdHkgYXMgc29tZXRoaW5nIGRpc3RpbmN0IGZyb20gaXRzIHVzZSB2YWx1ZSBvciBtYXRlcmlhbCBmb3JtLlwiLFxuXCJUaGUgZmlyc3QgZm9ybSwgQSwgZnVybmlzaGVzIHN1Y2ggZXF1YXRpb25zIGFzIHRoZSBmb2xsb3dpbmc6IOKAkyAxIGNvYXQgPSAyMCB5YXJkcyBvZiBsaW5lbiwgMTAgbGJzIG9mIHRlYSA9IMK9IGEgdG9uIG9mIGlyb24uXCIsXG5cIlRoZSB2YWx1ZSBvZiB0aGUgY29hdCBpcyBlcXVhdGVkIHRvIGxpbmVuLCB0aGF0IG9mIHRoZSB0ZWEgdG8gaXJvbi5cIixcblwiQnV0IHRvIGJlIGVxdWF0ZWQgdG8gbGluZW4sIGFuZCBhZ2FpbiB0byBpcm9uLCBpcyB0byBiZSBhcyBkaWZmZXJlbnQgYXMgYXJlIGxpbmVuIGFuZCBpcm9uLlwiLFxuXCJUaGlzIGZvcm0sIGl0IGlzIHBsYWluLCBvY2N1cnMgcHJhY3RpY2FsbHkgb25seSBpbiB0aGUgZmlyc3QgYmVnaW5uaW5nLCB3aGVuIHRoZSBwcm9kdWN0cyBvZiBsYWJvdXIgYXJlIGNvbnZlcnRlZCBpbnRvIGNvbW1vZGl0aWVzIGJ5IGFjY2lkZW50YWwgYW5kIG9jY2FzaW9uYWwgZXhjaGFuZ2VzLlwiLFxuXCJUaGUgc2Vjb25kIGZvcm0sIEIsIGRpc3Rpbmd1aXNoZXMsIGluIGEgbW9yZSBhZGVxdWF0ZSBtYW5uZXIgdGhhbiB0aGUgZmlyc3QsIHRoZSB2YWx1ZSBvZiBhIGNvbW1vZGl0eSBmcm9tIGl0cyB1c2UgdmFsdWUsIGZvciB0aGUgdmFsdWUgb2YgdGhlIGNvYXQgaXMgdGhlcmUgcGxhY2VkIGluIGNvbnRyYXN0IHVuZGVyIGFsbCBwb3NzaWJsZSBzaGFwZXMgd2l0aCB0aGUgYm9kaWx5IGZvcm0gb2YgdGhlIGNvYXQ7IGl0IGlzIGVxdWF0ZWQgdG8gbGluZW4sIHRvIGlyb24sIHRvIHRlYSwgaW4gc2hvcnQsIHRvIGV2ZXJ5dGhpbmcgZWxzZSwgb25seSBub3QgdG8gaXRzZWxmLCB0aGUgY29hdC5cIixcblwiT24gdGhlIG90aGVyIGhhbmQsIGFueSBnZW5lcmFsIGV4cHJlc3Npb24gb2YgdmFsdWUgY29tbW9uIHRvIGFsbCBpcyBkaXJlY3RseSBleGNsdWRlZDsgZm9yLCBpbiB0aGUgZXF1YXRpb24gb2YgdmFsdWUgb2YgZWFjaCBjb21tb2RpdHksIGFsbCBvdGhlciBjb21tb2RpdGllcyBub3cgYXBwZWFyIG9ubHkgdW5kZXIgdGhlIGZvcm0gb2YgZXF1aXZhbGVudHMuXCIsXG5cIlRoZSBleHBhbmRlZCBmb3JtIG9mIHZhbHVlIGNvbWVzIGludG8gYWN0dWFsIGV4aXN0ZW5jZSBmb3IgdGhlIGZpcnN0IHRpbWUgc28gc29vbiBhcyBhIHBhcnRpY3VsYXIgcHJvZHVjdCBvZiBsYWJvdXIsIHN1Y2ggYXMgY2F0dGxlLCBpcyBubyBsb25nZXIgZXhjZXB0aW9uYWxseSwgYnV0IGhhYml0dWFsbHksIGV4Y2hhbmdlZCBmb3IgdmFyaW91cyBvdGhlciBjb21tb2RpdGllcy5cIixcblwiVGhlIHRoaXJkIGFuZCBsYXN0bHkgZGV2ZWxvcGVkIGZvcm0gZXhwcmVzc2VzIHRoZSB2YWx1ZXMgb2YgdGhlIHdob2xlIHdvcmxkIG9mIGNvbW1vZGl0aWVzIGluIHRlcm1zIG9mIGEgc2luZ2xlIGNvbW1vZGl0eSBzZXQgYXBhcnQgZm9yIHRoZSBwdXJwb3NlLCBuYW1lbHksIHRoZSBsaW5lbiwgYW5kIHRodXMgcmVwcmVzZW50cyB0byB1cyB0aGVpciB2YWx1ZXMgYnkgbWVhbnMgb2YgdGhlaXIgZXF1YWxpdHkgd2l0aCBsaW5lbi5cIixcblwiVGhlIHZhbHVlIG9mIGV2ZXJ5IGNvbW1vZGl0eSBpcyBub3csIGJ5IGJlaW5nIGVxdWF0ZWQgdG8gbGluZW4sIG5vdCBvbmx5IGRpZmZlcmVudGlhdGVkIGZyb20gaXRzIG93biB1c2UgdmFsdWUsIGJ1dCBmcm9tIGFsbCBvdGhlciB1c2UgdmFsdWVzIGdlbmVyYWxseSwgYW5kIGlzLCBieSB0aGF0IHZlcnkgZmFjdCwgZXhwcmVzc2VkIGFzIHRoYXQgd2hpY2ggaXMgY29tbW9uIHRvIGFsbCBjb21tb2RpdGllcy5cIixcblwiQnkgdGhpcyBmb3JtLCBjb21tb2RpdGllcyBhcmUsIGZvciB0aGUgZmlyc3QgdGltZSwgZWZmZWN0aXZlbHkgYnJvdWdodCBpbnRvIHJlbGF0aW9uIHdpdGggb25lIGFub3RoZXIgYXMgdmFsdWVzLCBvciBtYWRlIHRvIGFwcGVhciBhcyBleGNoYW5nZSB2YWx1ZXMuXCIsXG5cIlRoZSB0d28gZWFybGllciBmb3JtcyBlaXRoZXIgZXhwcmVzcyB0aGUgdmFsdWUgb2YgZWFjaCBjb21tb2RpdHkgaW4gdGVybXMgb2YgYSBzaW5nbGUgY29tbW9kaXR5IG9mIGEgZGlmZmVyZW50IGtpbmQsIG9yIGluIGEgc2VyaWVzIG9mIG1hbnkgc3VjaCBjb21tb2RpdGllcy5cIixcblwiSW4gYm90aCBjYXNlcywgaXQgaXMsIHNvIHRvIHNheSwgdGhlIHNwZWNpYWwgYnVzaW5lc3Mgb2YgZWFjaCBzaW5nbGUgY29tbW9kaXR5IHRvIGZpbmQgYW4gZXhwcmVzc2lvbiBmb3IgaXRzIHZhbHVlLCBhbmQgdGhpcyBpdCBkb2VzIHdpdGhvdXQgdGhlIGhlbHAgb2YgdGhlIG90aGVycy5cIixcblwiVGhlc2Ugb3RoZXJzLCB3aXRoIHJlc3BlY3QgdG8gdGhlIGZvcm1lciwgcGxheSB0aGUgcGFzc2l2ZSBwYXJ0cyBvZiBlcXVpdmFsZW50cy5cIixcblwiVGhlIGdlbmVyYWwgZm9ybSBvZiB2YWx1ZSwgQywgcmVzdWx0cyBmcm9tIHRoZSBqb2ludCBhY3Rpb24gb2YgdGhlIHdob2xlIHdvcmxkIG9mIGNvbW1vZGl0aWVzLCBhbmQgZnJvbSB0aGF0IGFsb25lLlwiLFxuXCJBIGNvbW1vZGl0eSBjYW4gYWNxdWlyZSBhIGdlbmVyYWwgZXhwcmVzc2lvbiBvZiBpdHMgdmFsdWUgb25seSBieSBhbGwgb3RoZXIgY29tbW9kaXRpZXMsIHNpbXVsdGFuZW91c2x5IHdpdGggaXQsIGV4cHJlc3NpbmcgdGhlaXIgdmFsdWVzIGluIHRoZSBzYW1lIGVxdWl2YWxlbnQ7IGFuZCBldmVyeSBuZXcgY29tbW9kaXR5IG11c3QgZm9sbG93IHN1aXQuXCIsXG5cIkl0IHRodXMgYmVjb21lcyBldmlkZW50IHRoYXQgc2luY2UgdGhlIGV4aXN0ZW5jZSBvZiBjb21tb2RpdGllcyBhcyB2YWx1ZXMgaXMgcHVyZWx5IHNvY2lhbCwgdGhpcyBzb2NpYWwgZXhpc3RlbmNlIGNhbiBiZSBleHByZXNzZWQgYnkgdGhlIHRvdGFsaXR5IG9mIHRoZWlyIHNvY2lhbCByZWxhdGlvbnMgYWxvbmUsIGFuZCBjb25zZXF1ZW50bHkgdGhhdCB0aGUgZm9ybSBvZiB0aGVpciB2YWx1ZSBtdXN0IGJlIGEgc29jaWFsbHkgcmVjb2duaXNlZCBmb3JtLlwiLFxuXCJBbGwgY29tbW9kaXRpZXMgYmVpbmcgZXF1YXRlZCB0byBsaW5lbiBub3cgYXBwZWFyIG5vdCBvbmx5IGFzIHF1YWxpdGF0aXZlbHkgZXF1YWwgYXMgdmFsdWVzIGdlbmVyYWxseSwgYnV0IGFsc28gYXMgdmFsdWVzIHdob3NlIG1hZ25pdHVkZXMgYXJlIGNhcGFibGUgb2YgY29tcGFyaXNvbi5cIixcblwiQnkgZXhwcmVzc2luZyB0aGUgbWFnbml0dWRlcyBvZiB0aGVpciB2YWx1ZXMgaW4gb25lIGFuZCB0aGUgc2FtZSBtYXRlcmlhbCwgdGhlIGxpbmVuLCB0aG9zZSBtYWduaXR1ZGVzIGFyZSBhbHNvIGNvbXBhcmVkIHdpdGggZWFjaCBvdGhlci5cIixcblwiRm9yIGluc3RhbmNlLCAxMCBsYnMgb2YgdGVhID0gMjAgeWFyZHMgb2YgbGluZW4sIGFuZCA0MCBsYnMgb2YgY29mZmVlID0gMjAgeWFyZHMgb2YgbGluZW4uXCIsXG5cIlRoZXJlZm9yZSwgMTAgbGJzIG9mIHRlYSA9IDQwIGxicyBvZiBjb2ZmZWUuXCIsXG5cIkluIG90aGVyIHdvcmRzLCB0aGVyZSBpcyBjb250YWluZWQgaW4gMSBsYiBvZiBjb2ZmZWUgb25seSBvbmUtZm91cnRoIGFzIG11Y2ggc3Vic3RhbmNlIG9mIHZhbHVlIOKAkyBsYWJvdXIg4oCTIGFzIGlzIGNvbnRhaW5lZCBpbiAxIGxiIG9mIHRlYS5cIixcblwiVGhlIGdlbmVyYWwgZm9ybSBvZiByZWxhdGl2ZSB2YWx1ZSwgZW1icmFjaW5nIHRoZSB3aG9sZSB3b3JsZCBvZiBjb21tb2RpdGllcywgY29udmVydHMgdGhlIHNpbmdsZSBjb21tb2RpdHkgdGhhdCBpcyBleGNsdWRlZCBmcm9tIHRoZSByZXN0LCBhbmQgbWFkZSB0byBwbGF5IHRoZSBwYXJ0IG9mIGVxdWl2YWxlbnQg4oCTIGhlcmUgdGhlIGxpbmVuIOKAkyBpbnRvIHRoZSB1bml2ZXJzYWwgZXF1aXZhbGVudC5cIixcblwiVGhlIGJvZGlseSBmb3JtIG9mIHRoZSBsaW5lbiBpcyBub3cgdGhlIGZvcm0gYXNzdW1lZCBpbiBjb21tb24gYnkgdGhlIHZhbHVlcyBvZiBhbGwgY29tbW9kaXRpZXM7IGl0IHRoZXJlZm9yZSBiZWNvbWVzIGRpcmVjdGx5IGV4Y2hhbmdlYWJsZSB3aXRoIGFsbCBhbmQgZXZlcnkgb2YgdGhlbS5cIixcblwiVGhlIHN1YnN0YW5jZSBsaW5lbiBiZWNvbWVzIHRoZSB2aXNpYmxlIGluY2FybmF0aW9uLCB0aGUgc29jaWFsIGNocnlzYWxpcyBzdGF0ZSBvZiBldmVyeSBraW5kIG9mIGh1bWFuIGxhYm91ci5cIixcblwiV2VhdmluZywgd2hpY2ggaXMgdGhlIGxhYm91ciBvZiBjZXJ0YWluIHByaXZhdGUgaW5kaXZpZHVhbHMgcHJvZHVjaW5nIGEgcGFydGljdWxhciBhcnRpY2xlLCBsaW5lbiwgYWNxdWlyZXMgaW4gY29uc2VxdWVuY2UgYSBzb2NpYWwgY2hhcmFjdGVyLCB0aGUgY2hhcmFjdGVyIG9mIGVxdWFsaXR5IHdpdGggYWxsIG90aGVyIGtpbmRzIG9mIGxhYm91ci5cIixcblwiVGhlIGlubnVtZXJhYmxlIGVxdWF0aW9ucyBvZiB3aGljaCB0aGUgZ2VuZXJhbCBmb3JtIG9mIHZhbHVlIGlzIGNvbXBvc2VkLCBlcXVhdGUgaW4gdHVybiB0aGUgbGFib3VyIGVtYm9kaWVkIGluIHRoZSBsaW5lbiB0byB0aGF0IGVtYm9kaWVkIGluIGV2ZXJ5IG90aGVyIGNvbW1vZGl0eSwgYW5kIHRoZXkgdGh1cyBjb252ZXJ0IHdlYXZpbmcgaW50byB0aGUgZ2VuZXJhbCBmb3JtIG9mIG1hbmlmZXN0YXRpb24gb2YgdW5kaWZmZXJlbnRpYXRlZCBodW1hbiBsYWJvdXIuXCIsXG5cIkluIHRoaXMgbWFubmVyIHRoZSBsYWJvdXIgcmVhbGlzZWQgaW4gdGhlIHZhbHVlcyBvZiBjb21tb2RpdGllcyBpcyBwcmVzZW50ZWQgbm90IG9ubHkgdW5kZXIgaXRzIG5lZ2F0aXZlIGFzcGVjdCwgdW5kZXIgd2hpY2ggYWJzdHJhY3Rpb24gaXMgbWFkZSBmcm9tIGV2ZXJ5IGNvbmNyZXRlIGZvcm0gYW5kIHVzZWZ1bCBwcm9wZXJ0eSBvZiBhY3R1YWwgd29yaywgYnV0IGl0cyBvd24gcG9zaXRpdmUgbmF0dXJlIGlzIG1hZGUgdG8gcmV2ZWFsIGl0c2VsZiBleHByZXNzbHkuXCIsXG5cIlRoZSBnZW5lcmFsIHZhbHVlIGZvcm0gaXMgdGhlIHJlZHVjdGlvbiBvZiBhbGwga2luZHMgb2YgYWN0dWFsIGxhYm91ciB0byB0aGVpciBjb21tb24gY2hhcmFjdGVyIG9mIGJlaW5nIGh1bWFuIGxhYm91ciBnZW5lcmFsbHksIG9mIGJlaW5nIHRoZSBleHBlbmRpdHVyZSBvZiBodW1hbiBsYWJvdXIgcG93ZXIuXCIsXG5cIlRoZSBnZW5lcmFsIHZhbHVlIGZvcm0sIHdoaWNoIHJlcHJlc2VudHMgYWxsIHByb2R1Y3RzIG9mIGxhYm91ciBhcyBtZXJlIGNvbmdlbGF0aW9ucyBvZiB1bmRpZmZlcmVudGlhdGVkIGh1bWFuIGxhYm91ciwgc2hvd3MgYnkgaXRzIHZlcnkgc3RydWN0dXJlIHRoYXQgaXQgaXMgdGhlIHNvY2lhbCByZXN1bcOpIG9mIHRoZSB3b3JsZCBvZiBjb21tb2RpdGllcy5cIixcblwiVGhhdCBmb3JtIGNvbnNlcXVlbnRseSBtYWtlcyBpdCBpbmRpc3B1dGFibHkgZXZpZGVudCB0aGF0IGluIHRoZSB3b3JsZCBvZiBjb21tb2RpdGllcyB0aGUgY2hhcmFjdGVyIHBvc3Nlc3NlZCBieSBhbGwgbGFib3VyIG9mIGJlaW5nIGh1bWFuIGxhYm91ciBjb25zdGl0dXRlcyBpdHMgc3BlY2lmaWMgc29jaWFsIGNoYXJhY3Rlci5cIixcblwiVGhlIEludGVyZGVwZW5kZW50IERldmVsb3BtZW50IG9mIHRoZSBSZWxhdGl2ZSBGb3JtIG9mIFZhbHVlLCBhbmQgb2YgdGhlIEVxdWl2YWxlbnQgRm9ybVwiLFxuXCJUaGUgZGVncmVlIG9mIGRldmVsb3BtZW50IG9mIHRoZSByZWxhdGl2ZSBmb3JtIG9mIHZhbHVlIGNvcnJlc3BvbmRzIHRvIHRoYXQgb2YgdGhlIGVxdWl2YWxlbnQgZm9ybS5cIixcblwiQnV0IHdlIG11c3QgYmVhciBpbiBtaW5kIHRoYXQgdGhlIGRldmVsb3BtZW50IG9mIHRoZSBsYXR0ZXIgaXMgb25seSB0aGUgZXhwcmVzc2lvbiBhbmQgcmVzdWx0IG9mIHRoZSBkZXZlbG9wbWVudCBvZiB0aGUgZm9ybWVyLlwiLFxuXCJUaGUgcHJpbWFyeSBvciBpc29sYXRlZCByZWxhdGl2ZSBmb3JtIG9mIHZhbHVlIG9mIG9uZSBjb21tb2RpdHkgY29udmVydHMgc29tZSBvdGhlciBjb21tb2RpdHkgaW50byBhbiBpc29sYXRlZCBlcXVpdmFsZW50LlwiLFxuXCJUaGUgZXhwYW5kZWQgZm9ybSBvZiByZWxhdGl2ZSB2YWx1ZSwgd2hpY2ggaXMgdGhlIGV4cHJlc3Npb24gb2YgdGhlIHZhbHVlIG9mIG9uZSBjb21tb2RpdHkgaW4gdGVybXMgb2YgYWxsIG90aGVyIGNvbW1vZGl0aWVzLCBlbmRvd3MgdGhvc2Ugb3RoZXIgY29tbW9kaXRpZXMgd2l0aCB0aGUgY2hhcmFjdGVyIG9mIHBhcnRpY3VsYXIgZXF1aXZhbGVudHMgZGlmZmVyaW5nIGluIGtpbmQuXCIsXG5cIkFuZCBsYXN0bHksIGEgcGFydGljdWxhciBraW5kIG9mIGNvbW1vZGl0eSBhY3F1aXJlcyB0aGUgY2hhcmFjdGVyIG9mIHVuaXZlcnNhbCBlcXVpdmFsZW50LCBiZWNhdXNlIGFsbCBvdGhlciBjb21tb2RpdGllcyBtYWtlIGl0IHRoZSBtYXRlcmlhbCBpbiB3aGljaCB0aGV5IHVuaWZvcm1seSBleHByZXNzIHRoZWlyIHZhbHVlLlwiLFxuXCJUaGUgYW50YWdvbmlzbSBiZXR3ZWVuIHRoZSByZWxhdGl2ZSBmb3JtIG9mIHZhbHVlIGFuZCB0aGUgZXF1aXZhbGVudCBmb3JtLCB0aGUgdHdvIHBvbGVzIG9mIHRoZSB2YWx1ZSBmb3JtLCBpcyBkZXZlbG9wZWQgY29uY3VycmVudGx5IHdpdGggdGhhdCBmb3JtIGl0c2VsZi5cIixcblwiVGhlIGZpcnN0IGZvcm0sIDIwIHlkcyBvZiBsaW5lbiA9IG9uZSBjb2F0LCBhbHJlYWR5IGNvbnRhaW5zIHRoaXMgYW50YWdvbmlzbSwgd2l0aG91dCBhcyB5ZXQgZml4aW5nIGl0LlwiLFxuXCJBY2NvcmRpbmcgYXMgd2UgcmVhZCB0aGlzIGVxdWF0aW9uIGZvcndhcmRzIG9yIGJhY2t3YXJkcywgdGhlIHBhcnRzIHBsYXllZCBieSB0aGUgbGluZW4gYW5kIHRoZSBjb2F0IGFyZSBkaWZmZXJlbnQuXCIsXG5cIkluIHRoZSBvbmUgY2FzZSB0aGUgcmVsYXRpdmUgdmFsdWUgb2YgdGhlIGxpbmVuIGlzIGV4cHJlc3NlZCBpbiB0aGUgY29hdCwgaW4gdGhlIG90aGVyIGNhc2UgdGhlIHJlbGF0aXZlIHZhbHVlIG9mIHRoZSBjb2F0IGlzIGV4cHJlc3NlZCBpbiB0aGUgbGluZW4uXCIsXG5cIkluIHRoaXMgZmlyc3QgZm9ybSBvZiB2YWx1ZSwgdGhlcmVmb3JlLCBpdCBpcyBkaWZmaWN1bHQgdG8gZ3Jhc3AgdGhlIHBvbGFyIGNvbnRyYXN0LlwiLFxuXCJGb3JtIEIgc2hvd3MgdGhhdCBvbmx5IG9uZSBzaW5nbGUgY29tbW9kaXR5IGF0IGEgdGltZSBjYW4gY29tcGxldGVseSBleHBhbmQgaXRzIHJlbGF0aXZlIHZhbHVlLCBhbmQgdGhhdCBpdCBhY3F1aXJlcyB0aGlzIGV4cGFuZGVkIGZvcm0gb25seSBiZWNhdXNlLCBhbmQgaW4gc28gZmFyIGFzLCBhbGwgb3RoZXIgY29tbW9kaXRpZXMgYXJlLCB3aXRoIHJlc3BlY3QgdG8gaXQsIGVxdWl2YWxlbnRzLlwiLFxuXCJIZXJlIHdlIGNhbm5vdCByZXZlcnNlIHRoZSBlcXVhdGlvbiwgYXMgd2UgY2FuIHRoZSBlcXVhdGlvbiAyMCB5ZHMgb2YgbGluZW4gPSAxIGNvYXQsIHdpdGhvdXQgYWx0ZXJpbmcgaXRzIGdlbmVyYWwgY2hhcmFjdGVyLCBhbmQgY29udmVydGluZyBpdCBmcm9tIHRoZSBleHBhbmRlZCBmb3JtIG9mIHZhbHVlIGludG8gdGhlIGdlbmVyYWwgZm9ybSBvZiB2YWx1ZS5cIixcblwiRmluYWxseSwgdGhlIGZvcm0gQyBnaXZlcyB0byB0aGUgd29ybGQgb2YgY29tbW9kaXRpZXMgYSBnZW5lcmFsIHNvY2lhbCByZWxhdGl2ZSBmb3JtIG9mIHZhbHVlLCBiZWNhdXNlLCBhbmQgaW4gc28gZmFyIGFzLCB0aGVyZWJ5IGFsbCBjb21tb2RpdGllcywgd2l0aCB0aGUgZXhjZXB0aW9uIG9mIG9uZSwgYXJlIGV4Y2x1ZGVkIGZyb20gdGhlIGVxdWl2YWxlbnQgZm9ybS5cIixcblwiQSBzaW5nbGUgY29tbW9kaXR5LCB0aGUgbGluZW4sIGFwcGVhcnMgdGhlcmVmb3JlIHRvIGhhdmUgYWNxdWlyZWQgdGhlIGNoYXJhY3RlciBvZiBkaXJlY3QgZXhjaGFuZ2VhYmlsaXR5IHdpdGggZXZlcnkgb3RoZXIgY29tbW9kaXR5IGJlY2F1c2UsIGFuZCBpbiBzbyBmYXIgYXMsIHRoaXMgY2hhcmFjdGVyIGlzIGRlbmllZCB0byBldmVyeSBvdGhlciBjb21tb2RpdHkuXCIsXG5cIlRoZSBjb21tb2RpdHkgdGhhdCBmaWd1cmVzIGFzIHVuaXZlcnNhbCBlcXVpdmFsZW50LCBpcywgb24gdGhlIG90aGVyIGhhbmQsIGV4Y2x1ZGVkIGZyb20gdGhlIHJlbGF0aXZlIHZhbHVlIGZvcm0uXCIsXG5cIklmIHRoZSBsaW5lbiwgb3IgYW55IG90aGVyIGNvbW1vZGl0eSBzZXJ2aW5nIGFzIHVuaXZlcnNhbCBlcXVpdmFsZW50LCB3ZXJlLCBhdCB0aGUgc2FtZSB0aW1lLCB0byBzaGFyZSBpbiB0aGUgcmVsYXRpdmUgZm9ybSBvZiB2YWx1ZSwgaXQgd291bGQgaGF2ZSB0byBzZXJ2ZSBhcyBpdHMgb3duIGVxdWl2YWxlbnQuXCIsXG5cIldlIHNob3VsZCB0aGVuIGhhdmUgMjAgeWRzIG9mIGxpbmVuID0gMjAgeWRzIG9mIGxpbmVuOyB0aGlzIHRhdXRvbG9neSBleHByZXNzZXMgbmVpdGhlciB2YWx1ZSwgbm9yIG1hZ25pdHVkZSBvZiB2YWx1ZS5cIixcblwiSW4gb3JkZXIgdG8gZXhwcmVzcyB0aGUgcmVsYXRpdmUgdmFsdWUgb2YgdGhlIHVuaXZlcnNhbCBlcXVpdmFsZW50LCB3ZSBtdXN0IHJhdGhlciByZXZlcnNlIHRoZSBmb3JtIEMuXCIsXG5cIlRoaXMgZXF1aXZhbGVudCBoYXMgbm8gcmVsYXRpdmUgZm9ybSBvZiB2YWx1ZSBpbiBjb21tb24gd2l0aCBvdGhlciBjb21tb2RpdGllcywgYnV0IGl0cyB2YWx1ZSBpcyByZWxhdGl2ZWx5IGV4cHJlc3NlZCBieSBhIG5ldmVyIGVuZGluZyBzZXJpZXMgb2Ygb3RoZXIgY29tbW9kaXRpZXMuXCIsXG5cIlRodXMsIHRoZSBleHBhbmRlZCBmb3JtIG9mIHJlbGF0aXZlIHZhbHVlLCBvciBmb3JtIEIsIG5vdyBzaG93cyBpdHNlbGYgYXMgdGhlIHNwZWNpZmljIGZvcm0gb2YgcmVsYXRpdmUgdmFsdWUgZm9yIHRoZSBlcXVpdmFsZW50IGNvbW1vZGl0eS5cIixcblwiVHJhbnNpdGlvbiBmcm9tIHRoZSBHZW5lcmFsIGZvcm0gb2YgdmFsdWUgdG8gdGhlIE1vbmV5IGZvcm1cIixcblwiVGhlIHVuaXZlcnNhbCBlcXVpdmFsZW50IGZvcm0gaXMgYSBmb3JtIG9mIHZhbHVlIGluIGdlbmVyYWwuXCIsXG5cIkl0IGNhbiwgdGhlcmVmb3JlLCBiZSBhc3N1bWVkIGJ5IGFueSBjb21tb2RpdHkuXCIsXG5cIk9uIHRoZSBvdGhlciBoYW5kLCBpZiBhIGNvbW1vZGl0eSBiZSBmb3VuZCB0byBoYXZlIGFzc3VtZWQgdGhlIHVuaXZlcnNhbCBlcXVpdmFsZW50IGZvcm0gKGZvcm0gQyksIHRoaXMgaXMgb25seSBiZWNhdXNlIGFuZCBpbiBzbyBmYXIgYXMgaXQgaGFzIGJlZW4gZXhjbHVkZWQgZnJvbSB0aGUgcmVzdCBvZiBhbGwgb3RoZXIgY29tbW9kaXRpZXMgYXMgdGhlaXIgZXF1aXZhbGVudCwgYW5kIHRoYXQgYnkgdGhlaXIgb3duIGFjdC5cIixcblwiQW5kIGZyb20gdGhlIG1vbWVudCB0aGF0IHRoaXMgZXhjbHVzaW9uIGJlY29tZXMgZmluYWxseSByZXN0cmljdGVkIHRvIG9uZSBwYXJ0aWN1bGFyIGNvbW1vZGl0eSwgZnJvbSB0aGF0IG1vbWVudCBvbmx5LCB0aGUgZ2VuZXJhbCBmb3JtIG9mIHJlbGF0aXZlIHZhbHVlIG9mIHRoZSB3b3JsZCBvZiBjb21tb2RpdGllcyBvYnRhaW5zIHJlYWwgY29uc2lzdGVuY2UgYW5kIGdlbmVyYWwgc29jaWFsIHZhbGlkaXR5LlwiLFxuXCJUaGUgcGFydGljdWxhciBjb21tb2RpdHksIHdpdGggd2hvc2UgYm9kaWx5IGZvcm0gdGhlIGVxdWl2YWxlbnQgZm9ybSBpcyB0aHVzIHNvY2lhbGx5IGlkZW50aWZpZWQsIG5vdyBiZWNvbWVzIHRoZSBtb25leSBjb21tb2RpdHksIG9yIHNlcnZlcyBhcyBtb25leS5cIixcblwiSXQgYmVjb21lcyB0aGUgc3BlY2lhbCBzb2NpYWwgZnVuY3Rpb24gb2YgdGhhdCBjb21tb2RpdHksIGFuZCBjb25zZXF1ZW50bHkgaXRzIHNvY2lhbCBtb25vcG9seSwgdG8gcGxheSB3aXRoaW4gdGhlIHdvcmxkIG9mIGNvbW1vZGl0aWVzIHRoZSBwYXJ0IG9mIHRoZSB1bml2ZXJzYWwgZXF1aXZhbGVudC5cIixcblwiQW1vbmdzdCB0aGUgY29tbW9kaXRpZXMgd2hpY2gsIGluIGZvcm0gQiwgZmlndXJlIGFzIHBhcnRpY3VsYXIgZXF1aXZhbGVudHMgb2YgdGhlIGxpbmVuLCBhbmQsIGluIGZvcm0gQywgZXhwcmVzcyBpbiBjb21tb24gdGhlaXIgcmVsYXRpdmUgdmFsdWVzIGluIGxpbmVuLCB0aGlzIGZvcmVtb3N0IHBsYWNlIGhhcyBiZWVuIGF0dGFpbmVkIGJ5IG9uZSBpbiBwYXJ0aWN1bGFyIOKAkyBuYW1lbHksIGdvbGQuXCIsXG5cIklmLCB0aGVuLCBpbiBmb3JtIEMgd2UgcmVwbGFjZSB0aGUgbGluZW4gYnkgZ29sZCwgd2UgZ2V0LFwiLFxuXCJUaGUgTW9uZXktRm9ybVwiLFxuXCIyMCAgeWFyZHMgb2YgbGluZW4gID1cIixcblwiMSBjb2F0ICA9XCIsXG5cIjEwICBsYnMgb2YgdGVhICA9XCIsXG5cIjQwICBsYnMgb2YgY29mZmVlID1cIixcblwiMSBxdWFydGVyIG9mIGNvcm4gPVwiLFxuXCIyIG91bmNlcyBvZiBnb2xkICA9XCIsXG5cImEgdG9uIG9mIGlyb24gPVwiLFxuXCJ4IENvbW1vZGl0eSBBID1cIixcblwiMiBvdW5jZXMgb2YgZ29sZFwiLFxuXCJJbiBwYXNzaW5nIGZyb20gZm9ybSBBIHRvIGZvcm0gQiwgYW5kIGZyb20gdGhlIGxhdHRlciB0byBmb3JtIEMsIHRoZSBjaGFuZ2VzIGFyZSBmdW5kYW1lbnRhbC5cIixcblwiT24gdGhlIG90aGVyIGhhbmQsIHRoZXJlIGlzIG5vIGRpZmZlcmVuY2UgYmV0d2VlbiBmb3JtcyBDIGFuZCBELCBleGNlcHQgdGhhdCwgaW4gdGhlIGxhdHRlciwgZ29sZCBoYXMgYXNzdW1lZCB0aGUgZXF1aXZhbGVudCBmb3JtIGluIHRoZSBwbGFjZSBvZiBsaW5lbi5cIixcblwiR29sZCBpcyBpbiBmb3JtIEQsIHdoYXQgbGluZW4gd2FzIGluIGZvcm0gQyDigJMgdGhlIHVuaXZlcnNhbCBlcXVpdmFsZW50LlwiLFxuXCJUaGUgcHJvZ3Jlc3MgY29uc2lzdHMgaW4gdGhpcyBhbG9uZSwgdGhhdCB0aGUgY2hhcmFjdGVyIG9mIGRpcmVjdCBhbmQgdW5pdmVyc2FsIGV4Y2hhbmdlYWJpbGl0eSDigJMgaW4gb3RoZXIgd29yZHMsIHRoYXQgdGhlIHVuaXZlcnNhbCBlcXVpdmFsZW50IGZvcm0g4oCTIGhhcyBub3csIGJ5IHNvY2lhbCBjdXN0b20sIGJlY29tZSBmaW5hbGx5IGlkZW50aWZpZWQgd2l0aCB0aGUgc3Vic3RhbmNlLCBnb2xkLlwiLFxuXCJHb2xkIGlzIG5vdyBtb25leSB3aXRoIHJlZmVyZW5jZSB0byBhbGwgb3RoZXIgY29tbW9kaXRpZXMgb25seSBiZWNhdXNlIGl0IHdhcyBwcmV2aW91c2x5LCB3aXRoIHJlZmVyZW5jZSB0byB0aGVtLCBhIHNpbXBsZSBjb21tb2RpdHkuXCIsXG5cIkxpa2UgYWxsIG90aGVyIGNvbW1vZGl0aWVzLCBpdCB3YXMgYWxzbyBjYXBhYmxlIG9mIHNlcnZpbmcgYXMgYW4gZXF1aXZhbGVudCwgZWl0aGVyIGFzIHNpbXBsZSBlcXVpdmFsZW50IGluIGlzb2xhdGVkIGV4Y2hhbmdlcywgb3IgYXMgcGFydGljdWxhciBlcXVpdmFsZW50IGJ5IHRoZSBzaWRlIG9mIG90aGVycy5cIixcblwiR3JhZHVhbGx5IGl0IGJlZ2FuIHRvIHNlcnZlLCB3aXRoaW4gdmFyeWluZyBsaW1pdHMsIGFzIHVuaXZlcnNhbCBlcXVpdmFsZW50LlwiLFxuXCJTbyBzb29uIGFzIGl0IG1vbm9wb2xpc2VzIHRoaXMgcG9zaXRpb24gaW4gdGhlIGV4cHJlc3Npb24gb2YgdmFsdWUgZm9yIHRoZSB3b3JsZCBvZiBjb21tb2RpdGllcywgaXQgYmVjb21lcyB0aGUgbW9uZXkgY29tbW9kaXR5LCBhbmQgdGhlbiwgYW5kIG5vdCB0aWxsIHRoZW4sIGRvZXMgZm9ybSBEIGJlY29tZSBkaXN0aW5jdCBmcm9tIGZvcm0gQywgYW5kIHRoZSBnZW5lcmFsIGZvcm0gb2YgdmFsdWUgYmVjb21lIGNoYW5nZWQgaW50byB0aGUgbW9uZXkgZm9ybS5cIixcblwiVGhlIGVsZW1lbnRhcnkgZXhwcmVzc2lvbiBvZiB0aGUgcmVsYXRpdmUgdmFsdWUgb2YgYSBzaW5nbGUgY29tbW9kaXR5LCBzdWNoIGFzIGxpbmVuLCBpbiB0ZXJtcyBvZiB0aGUgY29tbW9kaXR5LCBzdWNoIGFzIGdvbGQsIHRoYXQgcGxheXMgdGhlIHBhcnQgb2YgbW9uZXksIGlzIHRoZSBwcmljZSBmb3JtIG9mIHRoYXQgY29tbW9kaXR5LlwiLFxuXCJUaGUgcHJpY2UgZm9ybSBvZiB0aGUgbGluZW4gaXMgdGhlcmVmb3JlXCIsXG5cIjIwIHlhcmRzIG9mIGxpbmVuID0gMiBvdW5jZXMgb2YgZ29sZCwgb3IsIGlmIDIgb3VuY2VzIG9mIGdvbGQgd2hlblwiLFxuXCJjb2luZWQgYXJlIMKjMiwgMjAgeWFyZHMgb2YgbGluZW4gPSDCozIuXCIsXG5cIlRoZSBkaWZmaWN1bHR5IGluIGZvcm1pbmcgYSBjb25jZXB0IG9mIHRoZSBtb25leSBmb3JtLCBjb25zaXN0cyBpbiBjbGVhcmx5IGNvbXByZWhlbmRpbmcgdGhlIHVuaXZlcnNhbCBlcXVpdmFsZW50IGZvcm0sIGFuZCBhcyBhIG5lY2Vzc2FyeSBjb3JvbGxhcnksIHRoZSBnZW5lcmFsIGZvcm0gb2YgdmFsdWUsIGZvcm0gQy5cIixcblwiVGhlIGxhdHRlciBpcyBkZWR1Y2libGUgZnJvbSBmb3JtIEIsIHRoZSBleHBhbmRlZCBmb3JtIG9mIHZhbHVlLCB0aGUgZXNzZW50aWFsIGNvbXBvbmVudCBlbGVtZW50IG9mIHdoaWNoLCB3ZSBzYXcsIGlzIGZvcm0gQSwgMjAgeWFyZHMgb2YgbGluZW4gPSAxIGNvYXQgb3IgeCBjb21tb2RpdHkgQSA9IHkgY29tbW9kaXR5IEIuXCIsXG5cIlRoZSBzaW1wbGUgY29tbW9kaXR5IGZvcm0gaXMgdGhlcmVmb3JlIHRoZSBnZXJtIG9mIHRoZSBtb25leSBmb3JtLlwiLFxuXCJTRUNUSU9OIDRcIixcblwiVEhFIEZFVElTSElTTSBPRiBDT01NT0RJVElFU1wiLFxuXCJBTkQgVEhFIFNFQ1JFVCBUSEVSRU9GXCIsXG5cIkEgY29tbW9kaXR5IGFwcGVhcnMsIGF0IGZpcnN0IHNpZ2h0LCBhIHZlcnkgdHJpdmlhbCB0aGluZywgYW5kIGVhc2lseSB1bmRlcnN0b29kLlwiLFxuXCJJdHMgYW5hbHlzaXMgc2hvd3MgdGhhdCBpdCBpcywgaW4gcmVhbGl0eSwgYSB2ZXJ5IHF1ZWVyIHRoaW5nLCBhYm91bmRpbmcgaW4gbWV0YXBoeXNpY2FsIHN1YnRsZXRpZXMgYW5kIHRoZW9sb2dpY2FsIG5pY2V0aWVzLlwiLFxuXCJTbyBmYXIgYXMgaXQgaXMgYSB2YWx1ZSBpbiB1c2UsIHRoZXJlIGlzIG5vdGhpbmcgbXlzdGVyaW91cyBhYm91dCBpdCwgd2hldGhlciB3ZSBjb25zaWRlciBpdCBmcm9tIHRoZSBwb2ludCBvZiB2aWV3IHRoYXQgYnkgaXRzIHByb3BlcnRpZXMgaXQgaXMgY2FwYWJsZSBvZiBzYXRpc2Z5aW5nIGh1bWFuIHdhbnRzLCBvciBmcm9tIHRoZSBwb2ludCB0aGF0IHRob3NlIHByb3BlcnRpZXMgYXJlIHRoZSBwcm9kdWN0IG9mIGh1bWFuIGxhYm91ci5cIixcblwiSXQgaXMgYXMgY2xlYXIgYXMgbm9vbi1kYXksIHRoYXQgbWFuLCBieSBoaXMgaW5kdXN0cnksIGNoYW5nZXMgdGhlIGZvcm1zIG9mIHRoZSBtYXRlcmlhbHMgZnVybmlzaGVkIGJ5IE5hdHVyZSwgaW4gc3VjaCBhIHdheSBhcyB0byBtYWtlIHRoZW0gdXNlZnVsIHRvIGhpbS5cIixcblwiVGhlIGZvcm0gb2Ygd29vZCwgZm9yIGluc3RhbmNlLCBpcyBhbHRlcmVkLCBieSBtYWtpbmcgYSB0YWJsZSBvdXQgb2YgaXQuXCIsXG5cIllldCwgZm9yIGFsbCB0aGF0LCB0aGUgdGFibGUgY29udGludWVzIHRvIGJlIHRoYXQgY29tbW9uLCBldmVyeS1kYXkgdGhpbmcsIHdvb2QuXCIsXG5cIkJ1dCwgc28gc29vbiBhcyBpdCBzdGVwcyBmb3J0aCBhcyBhIGNvbW1vZGl0eSwgaXQgaXMgY2hhbmdlZCBpbnRvIHNvbWV0aGluZyB0cmFuc2NlbmRlbnQuXCIsXG5cIkl0IG5vdCBvbmx5IHN0YW5kcyB3aXRoIGl0cyBmZWV0IG9uIHRoZSBncm91bmQsIGJ1dCwgaW4gcmVsYXRpb24gdG8gYWxsIG90aGVyIGNvbW1vZGl0aWVzLCBpdCBzdGFuZHMgb24gaXRzIGhlYWQsIGFuZCBldm9sdmVzIG91dCBvZiBpdHMgd29vZGVuIGJyYWluIGdyb3Rlc3F1ZSBpZGVhcywgZmFyIG1vcmUgd29uZGVyZnVsIHRoYW4g4oCcdGFibGUtdHVybmluZ+KAnSBldmVyIHdhcy5cIixcblwiWzI2YV1cIixcblwiVGhlIG15c3RpY2FsIGNoYXJhY3RlciBvZiBjb21tb2RpdGllcyBkb2VzIG5vdCBvcmlnaW5hdGUsIHRoZXJlZm9yZSwgaW4gdGhlaXIgdXNlIHZhbHVlLlwiLFxuXCJKdXN0IGFzIGxpdHRsZSBkb2VzIGl0IHByb2NlZWQgZnJvbSB0aGUgbmF0dXJlIG9mIHRoZSBkZXRlcm1pbmluZyBmYWN0b3JzIG9mIHZhbHVlLlwiLFxuXCJGb3IsIGluIHRoZSBmaXJzdCBwbGFjZSwgaG93ZXZlciB2YXJpZWQgdGhlIHVzZWZ1bCBraW5kcyBvZiBsYWJvdXIsIG9yIHByb2R1Y3RpdmUgYWN0aXZpdGllcywgbWF5IGJlLCBpdCBpcyBhIHBoeXNpb2xvZ2ljYWwgZmFjdCwgdGhhdCB0aGV5IGFyZSBmdW5jdGlvbnMgb2YgdGhlIGh1bWFuIG9yZ2FuaXNtLCBhbmQgdGhhdCBlYWNoIHN1Y2ggZnVuY3Rpb24sIHdoYXRldmVyIG1heSBiZSBpdHMgbmF0dXJlIG9yIGZvcm0sIGlzIGVzc2VudGlhbGx5IHRoZSBleHBlbmRpdHVyZSBvZiBodW1hbiBicmFpbiwgbmVydmVzLCBtdXNjbGVzLCAmYy5cIixcblwiU2Vjb25kbHksIHdpdGggcmVnYXJkIHRvIHRoYXQgd2hpY2ggZm9ybXMgdGhlIGdyb3VuZC13b3JrIGZvciB0aGUgcXVhbnRpdGF0aXZlIGRldGVybWluYXRpb24gb2YgdmFsdWUsIG5hbWVseSwgdGhlIGR1cmF0aW9uIG9mIHRoYXQgZXhwZW5kaXR1cmUsIG9yIHRoZSBxdWFudGl0eSBvZiBsYWJvdXIsIGl0IGlzIHF1aXRlIGNsZWFyIHRoYXQgdGhlcmUgaXMgYSBwYWxwYWJsZSBkaWZmZXJlbmNlIGJldHdlZW4gaXRzIHF1YW50aXR5IGFuZCBxdWFsaXR5LlwiLFxuXCJJbiBhbGwgc3RhdGVzIG9mIHNvY2lldHksIHRoZSBsYWJvdXIgdGltZSB0aGF0IGl0IGNvc3RzIHRvIHByb2R1Y2UgdGhlIG1lYW5zIG9mIHN1YnNpc3RlbmNlLCBtdXN0IG5lY2Vzc2FyaWx5IGJlIGFuIG9iamVjdCBvZiBpbnRlcmVzdCB0byBtYW5raW5kLCB0aG91Z2ggbm90IG9mIGVxdWFsIGludGVyZXN0IGluIGRpZmZlcmVudCBzdGFnZXMgb2YgZGV2ZWxvcG1lbnQuXCIsXG5cIkFuZCBsYXN0bHksIGZyb20gdGhlIG1vbWVudCB0aGF0IG1lbiBpbiBhbnkgd2F5IHdvcmsgZm9yIG9uZSBhbm90aGVyLCB0aGVpciBsYWJvdXIgYXNzdW1lcyBhIHNvY2lhbCBmb3JtLlwiLFxuXCJXaGVuY2UsIHRoZW4sIGFyaXNlcyB0aGUgZW5pZ21hdGljYWwgY2hhcmFjdGVyIG9mIHRoZSBwcm9kdWN0IG9mIGxhYm91ciwgc28gc29vbiBhcyBpdCBhc3N1bWVzIHRoZSBmb3JtIG9mIGNvbW1vZGl0aWVzP1wiLFxuXCJDbGVhcmx5IGZyb20gdGhpcyBmb3JtIGl0c2VsZi5cIixcblwiVGhlIGVxdWFsaXR5IG9mIGFsbCBzb3J0cyBvZiBodW1hbiBsYWJvdXIgaXMgZXhwcmVzc2VkIG9iamVjdGl2ZWx5IGJ5IHRoZWlyIHByb2R1Y3RzIGFsbCBiZWluZyBlcXVhbGx5IHZhbHVlczsgdGhlIG1lYXN1cmUgb2YgdGhlIGV4cGVuZGl0dXJlIG9mIGxhYm91ciBwb3dlciBieSB0aGUgZHVyYXRpb24gb2YgdGhhdCBleHBlbmRpdHVyZSwgdGFrZXMgdGhlIGZvcm0gb2YgdGhlIHF1YW50aXR5IG9mIHZhbHVlIG9mIHRoZSBwcm9kdWN0cyBvZiBsYWJvdXI7IGFuZCBmaW5hbGx5IHRoZSBtdXR1YWwgcmVsYXRpb25zIG9mIHRoZSBwcm9kdWNlcnMsIHdpdGhpbiB3aGljaCB0aGUgc29jaWFsIGNoYXJhY3RlciBvZiB0aGVpciBsYWJvdXIgYWZmaXJtcyBpdHNlbGYsIHRha2UgdGhlIGZvcm0gb2YgYSBzb2NpYWwgcmVsYXRpb24gYmV0d2VlbiB0aGUgcHJvZHVjdHMuXCIsXG5cIkEgY29tbW9kaXR5IGlzIHRoZXJlZm9yZSBhIG15c3RlcmlvdXMgdGhpbmcsIHNpbXBseSBiZWNhdXNlIGluIGl0IHRoZSBzb2NpYWwgY2hhcmFjdGVyIG9mIG1lbuKAmXMgbGFib3VyIGFwcGVhcnMgdG8gdGhlbSBhcyBhbiBvYmplY3RpdmUgY2hhcmFjdGVyIHN0YW1wZWQgdXBvbiB0aGUgcHJvZHVjdCBvZiB0aGF0IGxhYm91cjsgYmVjYXVzZSB0aGUgcmVsYXRpb24gb2YgdGhlIHByb2R1Y2VycyB0byB0aGUgc3VtIHRvdGFsIG9mIHRoZWlyIG93biBsYWJvdXIgaXMgcHJlc2VudGVkIHRvIHRoZW0gYXMgYSBzb2NpYWwgcmVsYXRpb24sIGV4aXN0aW5nIG5vdCBiZXR3ZWVuIHRoZW1zZWx2ZXMsIGJ1dCBiZXR3ZWVuIHRoZSBwcm9kdWN0cyBvZiB0aGVpciBsYWJvdXIuXCIsXG5cIlRoaXMgaXMgdGhlIHJlYXNvbiB3aHkgdGhlIHByb2R1Y3RzIG9mIGxhYm91ciBiZWNvbWUgY29tbW9kaXRpZXMsIHNvY2lhbCB0aGluZ3Mgd2hvc2UgcXVhbGl0aWVzIGFyZSBhdCB0aGUgc2FtZSB0aW1lIHBlcmNlcHRpYmxlIGFuZCBpbXBlcmNlcHRpYmxlIGJ5IHRoZSBzZW5zZXMuXCIsXG5cIkluIHRoZSBzYW1lIHdheSB0aGUgbGlnaHQgZnJvbSBhbiBvYmplY3QgaXMgcGVyY2VpdmVkIGJ5IHVzIG5vdCBhcyB0aGUgc3ViamVjdGl2ZSBleGNpdGF0aW9uIG9mIG91ciBvcHRpYyBuZXJ2ZSwgYnV0IGFzIHRoZSBvYmplY3RpdmUgZm9ybSBvZiBzb21ldGhpbmcgb3V0c2lkZSB0aGUgZXllIGl0c2VsZi5cIixcblwiQnV0LCBpbiB0aGUgYWN0IG9mIHNlZWluZywgdGhlcmUgaXMgYXQgYWxsIGV2ZW50cywgYW4gYWN0dWFsIHBhc3NhZ2Ugb2YgbGlnaHQgZnJvbSBvbmUgdGhpbmcgdG8gYW5vdGhlciwgZnJvbSB0aGUgZXh0ZXJuYWwgb2JqZWN0IHRvIHRoZSBleWUuXCIsXG5cIlRoZXJlIGlzIGEgcGh5c2ljYWwgcmVsYXRpb24gYmV0d2VlbiBwaHlzaWNhbCB0aGluZ3MuXCIsXG5cIkJ1dCBpdCBpcyBkaWZmZXJlbnQgd2l0aCBjb21tb2RpdGllcy5cIixcblwiVGhlcmUsIHRoZSBleGlzdGVuY2Ugb2YgdGhlIHRoaW5ncyBxdcOiIGNvbW1vZGl0aWVzLCBhbmQgdGhlIHZhbHVlIHJlbGF0aW9uIGJldHdlZW4gdGhlIHByb2R1Y3RzIG9mIGxhYm91ciB3aGljaCBzdGFtcHMgdGhlbSBhcyBjb21tb2RpdGllcywgaGF2ZSBhYnNvbHV0ZWx5IG5vIGNvbm5lY3Rpb24gd2l0aCB0aGVpciBwaHlzaWNhbCBwcm9wZXJ0aWVzIGFuZCB3aXRoIHRoZSBtYXRlcmlhbCByZWxhdGlvbnMgYXJpc2luZyB0aGVyZWZyb20uXCIsXG5cIlRoZXJlIGl0IGlzIGEgZGVmaW5pdGUgc29jaWFsIHJlbGF0aW9uIGJldHdlZW4gbWVuLCB0aGF0IGFzc3VtZXMsIGluIHRoZWlyIGV5ZXMsIHRoZSBmYW50YXN0aWMgZm9ybSBvZiBhIHJlbGF0aW9uIGJldHdlZW4gdGhpbmdzLlwiLFxuXCJJbiBvcmRlciwgdGhlcmVmb3JlLCB0byBmaW5kIGFuIGFuYWxvZ3ksIHdlIG11c3QgaGF2ZSByZWNvdXJzZSB0byB0aGUgbWlzdC1lbnZlbG9wZWQgcmVnaW9ucyBvZiB0aGUgcmVsaWdpb3VzIHdvcmxkLlwiLFxuXCJJbiB0aGF0IHdvcmxkIHRoZSBwcm9kdWN0aW9ucyBvZiB0aGUgaHVtYW4gYnJhaW4gYXBwZWFyIGFzIGluZGVwZW5kZW50IGJlaW5ncyBlbmRvd2VkIHdpdGggbGlmZSwgYW5kIGVudGVyaW5nIGludG8gcmVsYXRpb24gYm90aCB3aXRoIG9uZSBhbm90aGVyIGFuZCB0aGUgaHVtYW4gcmFjZS5cIixcblwiU28gaXQgaXMgaW4gdGhlIHdvcmxkIG9mIGNvbW1vZGl0aWVzIHdpdGggdGhlIHByb2R1Y3RzIG9mIG1lbuKAmXMgaGFuZHMuXCIsXG5cIlRoaXMgSSBjYWxsIHRoZSBGZXRpc2hpc20gd2hpY2ggYXR0YWNoZXMgaXRzZWxmIHRvIHRoZSBwcm9kdWN0cyBvZiBsYWJvdXIsIHNvIHNvb24gYXMgdGhleSBhcmUgcHJvZHVjZWQgYXMgY29tbW9kaXRpZXMsIGFuZCB3aGljaCBpcyB0aGVyZWZvcmUgaW5zZXBhcmFibGUgZnJvbSB0aGUgcHJvZHVjdGlvbiBvZiBjb21tb2RpdGllcy5cIixcblwiVGhpcyBGZXRpc2hpc20gb2YgY29tbW9kaXRpZXMgaGFzIGl0cyBvcmlnaW4sIGFzIHRoZSBmb3JlZ29pbmcgYW5hbHlzaXMgaGFzIGFscmVhZHkgc2hvd24sIGluIHRoZSBwZWN1bGlhciBzb2NpYWwgY2hhcmFjdGVyIG9mIHRoZSBsYWJvdXIgdGhhdCBwcm9kdWNlcyB0aGVtLlwiLFxuXCJBcyBhIGdlbmVyYWwgcnVsZSwgYXJ0aWNsZXMgb2YgdXRpbGl0eSBiZWNvbWUgY29tbW9kaXRpZXMsIG9ubHkgYmVjYXVzZSB0aGV5IGFyZSBwcm9kdWN0cyBvZiB0aGUgbGFib3VyIG9mIHByaXZhdGUgaW5kaXZpZHVhbHMgb3IgZ3JvdXBzIG9mIGluZGl2aWR1YWxzIHdobyBjYXJyeSBvbiB0aGVpciB3b3JrIGluZGVwZW5kZW50bHkgb2YgZWFjaCBvdGhlci5cIixcblwiVGhlIHN1bSB0b3RhbCBvZiB0aGUgbGFib3VyIG9mIGFsbCB0aGVzZSBwcml2YXRlIGluZGl2aWR1YWxzIGZvcm1zIHRoZSBhZ2dyZWdhdGUgbGFib3VyIG9mIHNvY2lldHkuXCIsXG5cIlNpbmNlIHRoZSBwcm9kdWNlcnMgZG8gbm90IGNvbWUgaW50byBzb2NpYWwgY29udGFjdCB3aXRoIGVhY2ggb3RoZXIgdW50aWwgdGhleSBleGNoYW5nZSB0aGVpciBwcm9kdWN0cywgdGhlIHNwZWNpZmljIHNvY2lhbCBjaGFyYWN0ZXIgb2YgZWFjaCBwcm9kdWNlcuKAmXMgbGFib3VyIGRvZXMgbm90IHNob3cgaXRzZWxmIGV4Y2VwdCBpbiB0aGUgYWN0IG9mIGV4Y2hhbmdlLlwiLFxuXCJJbiBvdGhlciB3b3JkcywgdGhlIGxhYm91ciBvZiB0aGUgaW5kaXZpZHVhbCBhc3NlcnRzIGl0c2VsZiBhcyBhIHBhcnQgb2YgdGhlIGxhYm91ciBvZiBzb2NpZXR5LCBvbmx5IGJ5IG1lYW5zIG9mIHRoZSByZWxhdGlvbnMgd2hpY2ggdGhlIGFjdCBvZiBleGNoYW5nZSBlc3RhYmxpc2hlcyBkaXJlY3RseSBiZXR3ZWVuIHRoZSBwcm9kdWN0cywgYW5kIGluZGlyZWN0bHksIHRocm91Z2ggdGhlbSwgYmV0d2VlbiB0aGUgcHJvZHVjZXJzLlwiLFxuXCJUbyB0aGUgbGF0dGVyLCB0aGVyZWZvcmUsIHRoZSByZWxhdGlvbnMgY29ubmVjdGluZyB0aGUgbGFib3VyIG9mIG9uZSBpbmRpdmlkdWFsIHdpdGggdGhhdCBvZiB0aGUgcmVzdCBhcHBlYXIsIG5vdCBhcyBkaXJlY3Qgc29jaWFsIHJlbGF0aW9ucyBiZXR3ZWVuIGluZGl2aWR1YWxzIGF0IHdvcmssIGJ1dCBhcyB3aGF0IHRoZXkgcmVhbGx5IGFyZSwgbWF0ZXJpYWwgcmVsYXRpb25zIGJldHdlZW4gcGVyc29ucyBhbmQgc29jaWFsIHJlbGF0aW9ucyBiZXR3ZWVuIHRoaW5ncy5cIixcblwiSXQgaXMgb25seSBieSBiZWluZyBleGNoYW5nZWQgdGhhdCB0aGUgcHJvZHVjdHMgb2YgbGFib3VyIGFjcXVpcmUsIGFzIHZhbHVlcywgb25lIHVuaWZvcm0gc29jaWFsIHN0YXR1cywgZGlzdGluY3QgZnJvbSB0aGVpciB2YXJpZWQgZm9ybXMgb2YgZXhpc3RlbmNlIGFzIG9iamVjdHMgb2YgdXRpbGl0eS5cIixcblwiVGhpcyBkaXZpc2lvbiBvZiBhIHByb2R1Y3QgaW50byBhIHVzZWZ1bCB0aGluZyBhbmQgYSB2YWx1ZSBiZWNvbWVzIHByYWN0aWNhbGx5IGltcG9ydGFudCwgb25seSB3aGVuIGV4Y2hhbmdlIGhhcyBhY3F1aXJlZCBzdWNoIGFuIGV4dGVuc2lvbiB0aGF0IHVzZWZ1bCBhcnRpY2xlcyBhcmUgcHJvZHVjZWQgZm9yIHRoZSBwdXJwb3NlIG9mIGJlaW5nIGV4Y2hhbmdlZCwgYW5kIHRoZWlyIGNoYXJhY3RlciBhcyB2YWx1ZXMgaGFzIHRoZXJlZm9yZSB0byBiZSB0YWtlbiBpbnRvIGFjY291bnQsIGJlZm9yZWhhbmQsIGR1cmluZyBwcm9kdWN0aW9uLlwiLFxuXCJGcm9tIHRoaXMgbW9tZW50IHRoZSBsYWJvdXIgb2YgdGhlIGluZGl2aWR1YWwgcHJvZHVjZXIgYWNxdWlyZXMgc29jaWFsbHkgYSB0d28tZm9sZCBjaGFyYWN0ZXIuXCIsXG5cIk9uIHRoZSBvbmUgaGFuZCwgaXQgbXVzdCwgYXMgYSBkZWZpbml0ZSB1c2VmdWwga2luZCBvZiBsYWJvdXIsIHNhdGlzZnkgYSBkZWZpbml0ZSBzb2NpYWwgd2FudCwgYW5kIHRodXMgaG9sZCBpdHMgcGxhY2UgYXMgcGFydCBhbmQgcGFyY2VsIG9mIHRoZSBjb2xsZWN0aXZlIGxhYm91ciBvZiBhbGwsIGFzIGEgYnJhbmNoIG9mIGEgc29jaWFsIGRpdmlzaW9uIG9mIGxhYm91ciB0aGF0IGhhcyBzcHJ1bmcgdXAgc3BvbnRhbmVvdXNseS5cIixcblwiT24gdGhlIG90aGVyIGhhbmQsIGl0IGNhbiBzYXRpc2Z5IHRoZSBtYW5pZm9sZCB3YW50cyBvZiB0aGUgaW5kaXZpZHVhbCBwcm9kdWNlciBoaW1zZWxmLCBvbmx5IGluIHNvIGZhciBhcyB0aGUgbXV0dWFsIGV4Y2hhbmdlYWJpbGl0eSBvZiBhbGwga2luZHMgb2YgdXNlZnVsIHByaXZhdGUgbGFib3VyIGlzIGFuIGVzdGFibGlzaGVkIHNvY2lhbCBmYWN0LCBhbmQgdGhlcmVmb3JlIHRoZSBwcml2YXRlIHVzZWZ1bCBsYWJvdXIgb2YgZWFjaCBwcm9kdWNlciByYW5rcyBvbiBhbiBlcXVhbGl0eSB3aXRoIHRoYXQgb2YgYWxsIG90aGVycy5cIixcblwiVGhlIGVxdWFsaXNhdGlvbiBvZiB0aGUgbW9zdCBkaWZmZXJlbnQga2luZHMgb2YgbGFib3VyIGNhbiBiZSB0aGUgcmVzdWx0IG9ubHkgb2YgYW4gYWJzdHJhY3Rpb24gZnJvbSB0aGVpciBpbmVxdWFsaXRpZXMsIG9yIG9mIHJlZHVjaW5nIHRoZW0gdG8gdGhlaXIgY29tbW9uIGRlbm9taW5hdG9yLCB2aXouXCIsXG5cImV4cGVuZGl0dXJlIG9mIGh1bWFuIGxhYm91ciBwb3dlciBvciBodW1hbiBsYWJvdXIgaW4gdGhlIGFic3RyYWN0LlwiLFxuXCJUaGUgdHdvLWZvbGQgc29jaWFsIGNoYXJhY3RlciBvZiB0aGUgbGFib3VyIG9mIHRoZSBpbmRpdmlkdWFsIGFwcGVhcnMgdG8gaGltLCB3aGVuIHJlZmxlY3RlZCBpbiBoaXMgYnJhaW4sIG9ubHkgdW5kZXIgdGhvc2UgZm9ybXMgd2hpY2ggYXJlIGltcHJlc3NlZCB1cG9uIHRoYXQgbGFib3VyIGluIGV2ZXJ5LWRheSBwcmFjdGljZSBieSB0aGUgZXhjaGFuZ2Ugb2YgcHJvZHVjdHMuXCIsXG5cIkluIHRoaXMgd2F5LCB0aGUgY2hhcmFjdGVyIHRoYXQgaGlzIG93biBsYWJvdXIgcG9zc2Vzc2VzIG9mIGJlaW5nIHNvY2lhbGx5IHVzZWZ1bCB0YWtlcyB0aGUgZm9ybSBvZiB0aGUgY29uZGl0aW9uLCB0aGF0IHRoZSBwcm9kdWN0IG11c3QgYmUgbm90IG9ubHkgdXNlZnVsLCBidXQgdXNlZnVsIGZvciBvdGhlcnMsIGFuZCB0aGUgc29jaWFsIGNoYXJhY3RlciB0aGF0IGhpcyBwYXJ0aWN1bGFyIGxhYm91ciBoYXMgb2YgYmVpbmcgdGhlIGVxdWFsIG9mIGFsbCBvdGhlciBwYXJ0aWN1bGFyIGtpbmRzIG9mIGxhYm91ciwgdGFrZXMgdGhlIGZvcm0gdGhhdCBhbGwgdGhlIHBoeXNpY2FsbHkgZGlmZmVyZW50IGFydGljbGVzIHRoYXQgYXJlIHRoZSBwcm9kdWN0cyBvZiBsYWJvdXIsIGhhdmUgb25lIGNvbW1vbiBxdWFsaXR5LCB2aXouXCIsXG5cInRoYXQgb2YgaGF2aW5nIHZhbHVlLlwiLFxuXCJIZW5jZSwgd2hlbiB3ZSBicmluZyB0aGUgcHJvZHVjdHMgb2Ygb3VyIGxhYm91ciBpbnRvIHJlbGF0aW9uIHdpdGggZWFjaCBvdGhlciBhcyB2YWx1ZXMsIGl0IGlzIG5vdCBiZWNhdXNlIHdlIHNlZSBpbiB0aGVzZSBhcnRpY2xlcyB0aGUgbWF0ZXJpYWwgcmVjZXB0YWNsZXMgb2YgaG9tb2dlbmVvdXMgaHVtYW4gbGFib3VyLlwiLFxuXCJRdWl0ZSB0aGUgY29udHJhcnk6IHdoZW5ldmVyLCBieSBhbiBleGNoYW5nZSwgd2UgZXF1YXRlIGFzIHZhbHVlcyBvdXIgZGlmZmVyZW50IHByb2R1Y3RzLCBieSB0aGF0IHZlcnkgYWN0LCB3ZSBhbHNvIGVxdWF0ZSwgYXMgaHVtYW4gbGFib3VyLCB0aGUgZGlmZmVyZW50IGtpbmRzIG9mIGxhYm91ciBleHBlbmRlZCB1cG9uIHRoZW0uXCIsXG5cIldlIGFyZSBub3QgYXdhcmUgb2YgdGhpcywgbmV2ZXJ0aGVsZXNzIHdlIGRvIGl0LlwiLFxuXCJWYWx1ZSwgdGhlcmVmb3JlLCBkb2VzIG5vdCBzdGFsayBhYm91dCB3aXRoIGEgbGFiZWwgZGVzY3JpYmluZyB3aGF0IGl0IGlzLlwiLFxuXCJJdCBpcyB2YWx1ZSwgcmF0aGVyLCB0aGF0IGNvbnZlcnRzIGV2ZXJ5IHByb2R1Y3QgaW50byBhIHNvY2lhbCBoaWVyb2dseXBoaWMuXCIsXG5cIkxhdGVyIG9uLCB3ZSB0cnkgdG8gZGVjaXBoZXIgdGhlIGhpZXJvZ2x5cGhpYywgdG8gZ2V0IGJlaGluZCB0aGUgc2VjcmV0IG9mIG91ciBvd24gc29jaWFsIHByb2R1Y3RzOyBmb3IgdG8gc3RhbXAgYW4gb2JqZWN0IG9mIHV0aWxpdHkgYXMgYSB2YWx1ZSwgaXMganVzdCBhcyBtdWNoIGEgc29jaWFsIHByb2R1Y3QgYXMgbGFuZ3VhZ2UuXCIsXG5cIlRoZSByZWNlbnQgc2NpZW50aWZpYyBkaXNjb3ZlcnksIHRoYXQgdGhlIHByb2R1Y3RzIG9mIGxhYm91ciwgc28gZmFyIGFzIHRoZXkgYXJlIHZhbHVlcywgYXJlIGJ1dCBtYXRlcmlhbCBleHByZXNzaW9ucyBvZiB0aGUgaHVtYW4gbGFib3VyIHNwZW50IGluIHRoZWlyIHByb2R1Y3Rpb24sIG1hcmtzLCBpbmRlZWQsIGFuIGVwb2NoIGluIHRoZSBoaXN0b3J5IG9mIHRoZSBkZXZlbG9wbWVudCBvZiB0aGUgaHVtYW4gcmFjZSwgYnV0LCBieSBubyBtZWFucywgZGlzc2lwYXRlcyB0aGUgbWlzdCB0aHJvdWdoIHdoaWNoIHRoZSBzb2NpYWwgY2hhcmFjdGVyIG9mIGxhYm91ciBhcHBlYXJzIHRvIHVzIHRvIGJlIGFuIG9iamVjdGl2ZSBjaGFyYWN0ZXIgb2YgdGhlIHByb2R1Y3RzIHRoZW1zZWx2ZXMuXCIsXG5cIlRoZSBmYWN0LCB0aGF0IGluIHRoZSBwYXJ0aWN1bGFyIGZvcm0gb2YgcHJvZHVjdGlvbiB3aXRoIHdoaWNoIHdlIGFyZSBkZWFsaW5nLCB2aXouXCIsXG5cInRoZSBwcm9kdWN0aW9uIG9mIGNvbW1vZGl0aWVzLCB0aGUgc3BlY2lmaWMgc29jaWFsIGNoYXJhY3RlciBvZiBwcml2YXRlIGxhYm91ciBjYXJyaWVkIG9uIGluZGVwZW5kZW50bHksIGNvbnNpc3RzIGluIHRoZSBlcXVhbGl0eSBvZiBldmVyeSBraW5kIG9mIHRoYXQgbGFib3VyLCBieSB2aXJ0dWUgb2YgaXRzIGJlaW5nIGh1bWFuIGxhYm91ciwgd2hpY2ggY2hhcmFjdGVyLCB0aGVyZWZvcmUsIGFzc3VtZXMgaW4gdGhlIHByb2R1Y3QgdGhlIGZvcm0gb2YgdmFsdWUg4oCTIHRoaXMgZmFjdCBhcHBlYXJzIHRvIHRoZSBwcm9kdWNlcnMsIG5vdHdpdGhzdGFuZGluZyB0aGUgZGlzY292ZXJ5IGFib3ZlIHJlZmVycmVkIHRvLCB0byBiZSBqdXN0IGFzIHJlYWwgYW5kIGZpbmFsLCBhcyB0aGUgZmFjdCwgdGhhdCwgYWZ0ZXIgdGhlIGRpc2NvdmVyeSBieSBzY2llbmNlIG9mIHRoZSBjb21wb25lbnQgZ2FzZXMgb2YgYWlyLCB0aGUgYXRtb3NwaGVyZSBpdHNlbGYgcmVtYWluZWQgdW5hbHRlcmVkLlwiLFxuXCJXaGF0LCBmaXJzdCBvZiBhbGwsIHByYWN0aWNhbGx5IGNvbmNlcm5zIHByb2R1Y2VycyB3aGVuIHRoZXkgbWFrZSBhbiBleGNoYW5nZSwgaXMgdGhlIHF1ZXN0aW9uLCBob3cgbXVjaCBvZiBzb21lIG90aGVyIHByb2R1Y3QgdGhleSBnZXQgZm9yIHRoZWlyIG93bj9cIixcblwiSW4gd2hhdCBwcm9wb3J0aW9ucyB0aGUgcHJvZHVjdHMgYXJlIGV4Y2hhbmdlYWJsZT9cIixcblwiV2hlbiB0aGVzZSBwcm9wb3J0aW9ucyBoYXZlLCBieSBjdXN0b20sIGF0dGFpbmVkIGEgY2VydGFpbiBzdGFiaWxpdHksIHRoZXkgYXBwZWFyIHRvIHJlc3VsdCBmcm9tIHRoZSBuYXR1cmUgb2YgdGhlIHByb2R1Y3RzLCBzbyB0aGF0LCBmb3IgaW5zdGFuY2UsIG9uZSB0b24gb2YgaXJvbiBhbmQgdHdvIG91bmNlcyBvZiBnb2xkIGFwcGVhciBhcyBuYXR1cmFsbHkgdG8gYmUgb2YgZXF1YWwgdmFsdWUgYXMgYSBwb3VuZCBvZiBnb2xkIGFuZCBhIHBvdW5kIG9mIGlyb24gaW4gc3BpdGUgb2YgdGhlaXIgZGlmZmVyZW50IHBoeXNpY2FsIGFuZCBjaGVtaWNhbCBxdWFsaXRpZXMgYXBwZWFyIHRvIGJlIG9mIGVxdWFsIHdlaWdodC5cIixcblwiVGhlIGNoYXJhY3RlciBvZiBoYXZpbmcgdmFsdWUsIHdoZW4gb25jZSBpbXByZXNzZWQgdXBvbiBwcm9kdWN0cywgb2J0YWlucyBmaXhpdHkgb25seSBieSByZWFzb24gb2YgdGhlaXIgYWN0aW5nIGFuZCByZS1hY3RpbmcgdXBvbiBlYWNoIG90aGVyIGFzIHF1YW50aXRpZXMgb2YgdmFsdWUuXCIsXG5cIlRoZXNlIHF1YW50aXRpZXMgdmFyeSBjb250aW51YWxseSwgaW5kZXBlbmRlbnRseSBvZiB0aGUgd2lsbCwgZm9yZXNpZ2h0IGFuZCBhY3Rpb24gb2YgdGhlIHByb2R1Y2Vycy5cIixcblwiVG8gdGhlbSwgdGhlaXIgb3duIHNvY2lhbCBhY3Rpb24gdGFrZXMgdGhlIGZvcm0gb2YgdGhlIGFjdGlvbiBvZiBvYmplY3RzLCB3aGljaCBydWxlIHRoZSBwcm9kdWNlcnMgaW5zdGVhZCBvZiBiZWluZyBydWxlZCBieSB0aGVtLlwiLFxuXCJJdCByZXF1aXJlcyBhIGZ1bGx5IGRldmVsb3BlZCBwcm9kdWN0aW9uIG9mIGNvbW1vZGl0aWVzIGJlZm9yZSwgZnJvbSBhY2N1bXVsYXRlZCBleHBlcmllbmNlIGFsb25lLCB0aGUgc2NpZW50aWZpYyBjb252aWN0aW9uIHNwcmluZ3MgdXAsIHRoYXQgYWxsIHRoZSBkaWZmZXJlbnQga2luZHMgb2YgcHJpdmF0ZSBsYWJvdXIsIHdoaWNoIGFyZSBjYXJyaWVkIG9uIGluZGVwZW5kZW50bHkgb2YgZWFjaCBvdGhlciwgYW5kIHlldCBhcyBzcG9udGFuZW91c2x5IGRldmVsb3BlZCBicmFuY2hlcyBvZiB0aGUgc29jaWFsIGRpdmlzaW9uIG9mIGxhYm91ciwgYXJlIGNvbnRpbnVhbGx5IGJlaW5nIHJlZHVjZWQgdG8gdGhlIHF1YW50aXRhdGl2ZSBwcm9wb3J0aW9ucyBpbiB3aGljaCBzb2NpZXR5IHJlcXVpcmVzIHRoZW0uXCIsXG5cIkFuZCB3aHk/XCIsXG5cIkJlY2F1c2UsIGluIHRoZSBtaWRzdCBvZiBhbGwgdGhlIGFjY2lkZW50YWwgYW5kIGV2ZXIgZmx1Y3R1YXRpbmcgZXhjaGFuZ2UgcmVsYXRpb25zIGJldHdlZW4gdGhlIHByb2R1Y3RzLCB0aGUgbGFib3VyIHRpbWUgc29jaWFsbHkgbmVjZXNzYXJ5IGZvciB0aGVpciBwcm9kdWN0aW9uIGZvcmNpYmx5IGFzc2VydHMgaXRzZWxmIGxpa2UgYW4gb3Zlci1yaWRpbmcgbGF3IG9mIE5hdHVyZS5cIixcblwiVGhlIGxhdyBvZiBncmF2aXR5IHRodXMgYXNzZXJ0cyBpdHNlbGYgd2hlbiBhIGhvdXNlIGZhbGxzIGFib3V0IG91ciBlYXJzLlwiLFxuXCJUaGUgZGV0ZXJtaW5hdGlvbiBvZiB0aGUgbWFnbml0dWRlIG9mIHZhbHVlIGJ5IGxhYm91ciB0aW1lIGlzIHRoZXJlZm9yZSBhIHNlY3JldCwgaGlkZGVuIHVuZGVyIHRoZSBhcHBhcmVudCBmbHVjdHVhdGlvbnMgaW4gdGhlIHJlbGF0aXZlIHZhbHVlcyBvZiBjb21tb2RpdGllcy5cIixcblwiSXRzIGRpc2NvdmVyeSwgd2hpbGUgcmVtb3ZpbmcgYWxsIGFwcGVhcmFuY2Ugb2YgbWVyZSBhY2NpZGVudGFsaXR5IGZyb20gdGhlIGRldGVybWluYXRpb24gb2YgdGhlIG1hZ25pdHVkZSBvZiB0aGUgdmFsdWVzIG9mIHByb2R1Y3RzLCB5ZXQgaW4gbm8gd2F5IGFsdGVycyB0aGUgbW9kZSBpbiB3aGljaCB0aGF0IGRldGVybWluYXRpb24gdGFrZXMgcGxhY2UuXCIsXG5cIk1hbuKAmXMgcmVmbGVjdGlvbnMgb24gdGhlIGZvcm1zIG9mIHNvY2lhbCBsaWZlLCBhbmQgY29uc2VxdWVudGx5LCBhbHNvLCBoaXMgc2NpZW50aWZpYyBhbmFseXNpcyBvZiB0aG9zZSBmb3JtcywgdGFrZSBhIGNvdXJzZSBkaXJlY3RseSBvcHBvc2l0ZSB0byB0aGF0IG9mIHRoZWlyIGFjdHVhbCBoaXN0b3JpY2FsIGRldmVsb3BtZW50LlwiLFxuXCJIZSBiZWdpbnMsIHBvc3QgZmVzdHVtLCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBwcm9jZXNzIG9mIGRldmVsb3BtZW50IHJlYWR5IHRvIGhhbmQgYmVmb3JlIGhpbS5cIixcblwiVGhlIGNoYXJhY3RlcnMgdGhhdCBzdGFtcCBwcm9kdWN0cyBhcyBjb21tb2RpdGllcywgYW5kIHdob3NlIGVzdGFibGlzaG1lbnQgaXMgYSBuZWNlc3NhcnkgcHJlbGltaW5hcnkgdG8gdGhlIGNpcmN1bGF0aW9uIG9mIGNvbW1vZGl0aWVzLCBoYXZlIGFscmVhZHkgYWNxdWlyZWQgdGhlIHN0YWJpbGl0eSBvZiBuYXR1cmFsLCBzZWxmLXVuZGVyc3Rvb2QgZm9ybXMgb2Ygc29jaWFsIGxpZmUsIGJlZm9yZSBtYW4gc2Vla3MgdG8gZGVjaXBoZXIsIG5vdCB0aGVpciBoaXN0b3JpY2FsIGNoYXJhY3RlciwgZm9yIGluIGhpcyBleWVzIHRoZXkgYXJlIGltbXV0YWJsZSwgYnV0IHRoZWlyIG1lYW5pbmcuXCIsXG5cIkNvbnNlcXVlbnRseSBpdCB3YXMgdGhlIGFuYWx5c2lzIG9mIHRoZSBwcmljZXMgb2YgY29tbW9kaXRpZXMgdGhhdCBhbG9uZSBsZWQgdG8gdGhlIGRldGVybWluYXRpb24gb2YgdGhlIG1hZ25pdHVkZSBvZiB2YWx1ZSwgYW5kIGl0IHdhcyB0aGUgY29tbW9uIGV4cHJlc3Npb24gb2YgYWxsIGNvbW1vZGl0aWVzIGluIG1vbmV5IHRoYXQgYWxvbmUgbGVkIHRvIHRoZSBlc3RhYmxpc2htZW50IG9mIHRoZWlyIGNoYXJhY3RlcnMgYXMgdmFsdWVzLlwiLFxuXCJJdCBpcywgaG93ZXZlciwganVzdCB0aGlzIHVsdGltYXRlIG1vbmV5IGZvcm0gb2YgdGhlIHdvcmxkIG9mIGNvbW1vZGl0aWVzIHRoYXQgYWN0dWFsbHkgY29uY2VhbHMsIGluc3RlYWQgb2YgZGlzY2xvc2luZywgdGhlIHNvY2lhbCBjaGFyYWN0ZXIgb2YgcHJpdmF0ZSBsYWJvdXIsIGFuZCB0aGUgc29jaWFsIHJlbGF0aW9ucyBiZXR3ZWVuIHRoZSBpbmRpdmlkdWFsIHByb2R1Y2Vycy5cIixcblwiV2hlbiBJIHN0YXRlIHRoYXQgY29hdHMgb3IgYm9vdHMgc3RhbmQgaW4gYSByZWxhdGlvbiB0byBsaW5lbiwgYmVjYXVzZSBpdCBpcyB0aGUgdW5pdmVyc2FsIGluY2FybmF0aW9uIG9mIGFic3RyYWN0IGh1bWFuIGxhYm91ciwgdGhlIGFic3VyZGl0eSBvZiB0aGUgc3RhdGVtZW50IGlzIHNlbGYtZXZpZGVudC5cIixcblwiTmV2ZXJ0aGVsZXNzLCB3aGVuIHRoZSBwcm9kdWNlcnMgb2YgY29hdHMgYW5kIGJvb3RzIGNvbXBhcmUgdGhvc2UgYXJ0aWNsZXMgd2l0aCBsaW5lbiwgb3IsIHdoYXQgaXMgdGhlIHNhbWUgdGhpbmcsIHdpdGggZ29sZCBvciBzaWx2ZXIsIGFzIHRoZSB1bml2ZXJzYWwgZXF1aXZhbGVudCwgdGhleSBleHByZXNzIHRoZSByZWxhdGlvbiBiZXR3ZWVuIHRoZWlyIG93biBwcml2YXRlIGxhYm91ciBhbmQgdGhlIGNvbGxlY3RpdmUgbGFib3VyIG9mIHNvY2lldHkgaW4gdGhlIHNhbWUgYWJzdXJkIGZvcm0uXCIsXG5cIlRoZSBjYXRlZ29yaWVzIG9mIGJvdXJnZW9pcyBlY29ub215IGNvbnNpc3Qgb2Ygc3VjaCBsaWtlIGZvcm1zLlwiLFxuXCJUaGV5IGFyZSBmb3JtcyBvZiB0aG91Z2h0IGV4cHJlc3Npbmcgd2l0aCBzb2NpYWwgdmFsaWRpdHkgdGhlIGNvbmRpdGlvbnMgYW5kIHJlbGF0aW9ucyBvZiBhIGRlZmluaXRlLCBoaXN0b3JpY2FsbHkgZGV0ZXJtaW5lZCBtb2RlIG9mIHByb2R1Y3Rpb24sIHZpei5cIixcblwidGhlIHByb2R1Y3Rpb24gb2YgY29tbW9kaXRpZXMuXCIsXG5cIlRoZSB3aG9sZSBteXN0ZXJ5IG9mIGNvbW1vZGl0aWVzLCBhbGwgdGhlIG1hZ2ljIGFuZCBuZWNyb21hbmN5IHRoYXQgc3Vycm91bmRzIHRoZSBwcm9kdWN0cyBvZiBsYWJvdXIgYXMgbG9uZyBhcyB0aGV5IHRha2UgdGhlIGZvcm0gb2YgY29tbW9kaXRpZXMsIHZhbmlzaGVzIHRoZXJlZm9yZSwgc28gc29vbiBhcyB3ZSBjb21lIHRvIG90aGVyIGZvcm1zIG9mIHByb2R1Y3Rpb24uXCIsXG5cIlNpbmNlIFJvYmluc29uIENydXNvZeKAmXMgZXhwZXJpZW5jZXMgYXJlIGEgZmF2b3VyaXRlIHRoZW1lIHdpdGggcG9saXRpY2FsIGVjb25vbWlzdHMsICBsZXQgdXMgdGFrZSBhIGxvb2sgYXQgaGltIG9uIGhpcyBpc2xhbmQuXCIsXG5cIk1vZGVyYXRlIHRob3VnaCBoZSBiZSwgeWV0IHNvbWUgZmV3IHdhbnRzIGhlIGhhcyB0byBzYXRpc2Z5LCBhbmQgbXVzdCB0aGVyZWZvcmUgZG8gYSBsaXR0bGUgdXNlZnVsIHdvcmsgb2YgdmFyaW91cyBzb3J0cywgc3VjaCBhcyBtYWtpbmcgdG9vbHMgYW5kIGZ1cm5pdHVyZSwgdGFtaW5nIGdvYXRzLCBmaXNoaW5nIGFuZCBodW50aW5nLlwiLFxuXCJPZiBoaXMgcHJheWVycyBhbmQgdGhlIGxpa2Ugd2UgdGFrZSBubyBhY2NvdW50LCBzaW5jZSB0aGV5IGFyZSBhIHNvdXJjZSBvZiBwbGVhc3VyZSB0byBoaW0sIGFuZCBoZSBsb29rcyB1cG9uIHRoZW0gYXMgc28gbXVjaCByZWNyZWF0aW9uLlwiLFxuXCJJbiBzcGl0ZSBvZiB0aGUgdmFyaWV0eSBvZiBoaXMgd29yaywgaGUga25vd3MgdGhhdCBoaXMgbGFib3VyLCB3aGF0ZXZlciBpdHMgZm9ybSwgaXMgYnV0IHRoZSBhY3Rpdml0eSBvZiBvbmUgYW5kIHRoZSBzYW1lIFJvYmluc29uLCBhbmQgY29uc2VxdWVudGx5LCB0aGF0IGl0IGNvbnNpc3RzIG9mIG5vdGhpbmcgYnV0IGRpZmZlcmVudCBtb2RlcyBvZiBodW1hbiBsYWJvdXIuXCIsXG5cIk5lY2Vzc2l0eSBpdHNlbGYgY29tcGVscyBoaW0gdG8gYXBwb3J0aW9uIGhpcyB0aW1lIGFjY3VyYXRlbHkgYmV0d2VlbiBoaXMgZGlmZmVyZW50IGtpbmRzIG9mIHdvcmsuXCIsXG5cIldoZXRoZXIgb25lIGtpbmQgb2NjdXBpZXMgYSBncmVhdGVyIHNwYWNlIGluIGhpcyBnZW5lcmFsIGFjdGl2aXR5IHRoYW4gYW5vdGhlciwgZGVwZW5kcyBvbiB0aGUgZGlmZmljdWx0aWVzLCBncmVhdGVyIG9yIGxlc3MgYXMgdGhlIGNhc2UgbWF5IGJlLCB0byBiZSBvdmVyY29tZSBpbiBhdHRhaW5pbmcgdGhlIHVzZWZ1bCBlZmZlY3QgYWltZWQgYXQuXCIsXG5cIlRoaXMgb3VyIGZyaWVuZCBSb2JpbnNvbiBzb29uIGxlYXJucyBieSBleHBlcmllbmNlLCBhbmQgaGF2aW5nIHJlc2N1ZWQgYSB3YXRjaCwgbGVkZ2VyLCBhbmQgcGVuIGFuZCBpbmsgZnJvbSB0aGUgd3JlY2ssIGNvbW1lbmNlcywgbGlrZSBhIHRydWUtYm9ybiBCcml0b24sIHRvIGtlZXAgYSBzZXQgb2YgYm9va3MuXCIsXG5cIkhpcyBzdG9jay1ib29rIGNvbnRhaW5zIGEgbGlzdCBvZiB0aGUgb2JqZWN0cyBvZiB1dGlsaXR5IHRoYXQgYmVsb25nIHRvIGhpbSwgb2YgdGhlIG9wZXJhdGlvbnMgbmVjZXNzYXJ5IGZvciB0aGVpciBwcm9kdWN0aW9uOyBhbmQgbGFzdGx5LCBvZiB0aGUgbGFib3VyIHRpbWUgdGhhdCBkZWZpbml0ZSBxdWFudGl0aWVzIG9mIHRob3NlIG9iamVjdHMgaGF2ZSwgb24gYW4gYXZlcmFnZSwgY29zdCBoaW0uXCIsXG5cIkFsbCB0aGUgcmVsYXRpb25zIGJldHdlZW4gUm9iaW5zb24gYW5kIHRoZSBvYmplY3RzIHRoYXQgZm9ybSB0aGlzIHdlYWx0aCBvZiBoaXMgb3duIGNyZWF0aW9uLCBhcmUgaGVyZSBzbyBzaW1wbGUgYW5kIGNsZWFyIGFzIHRvIGJlIGludGVsbGlnaWJsZSB3aXRob3V0IGV4ZXJ0aW9uLCBldmVuIHRvIE1yLlwiLFxuXCJTZWRsZXkgVGF5bG9yLlwiLFxuXCJBbmQgeWV0IHRob3NlIHJlbGF0aW9ucyBjb250YWluIGFsbCB0aGF0IGlzIGVzc2VudGlhbCB0byB0aGUgZGV0ZXJtaW5hdGlvbiBvZiB2YWx1ZS5cIixcblwiTGV0IHVzIG5vdyB0cmFuc3BvcnQgb3Vyc2VsdmVzIGZyb20gUm9iaW5zb27igJlzIGlzbGFuZCBiYXRoZWQgaW4gbGlnaHQgdG8gdGhlIEV1cm9wZWFuIG1pZGRsZSBhZ2VzIHNocm91ZGVkIGluIGRhcmtuZXNzLlwiLFxuXCJIZXJlLCBpbnN0ZWFkIG9mIHRoZSBpbmRlcGVuZGVudCBtYW4sIHdlIGZpbmQgZXZlcnlvbmUgZGVwZW5kZW50LCBzZXJmcyBhbmQgbG9yZHMsIHZhc3NhbHMgYW5kIHN1emVyYWlucywgbGF5bWVuIGFuZCBjbGVyZ3kuXCIsXG5cIlBlcnNvbmFsIGRlcGVuZGVuY2UgaGVyZSBjaGFyYWN0ZXJpc2VzIHRoZSBzb2NpYWwgcmVsYXRpb25zIG9mIHByb2R1Y3Rpb24ganVzdCBhcyBtdWNoIGFzIGl0IGRvZXMgdGhlIG90aGVyIHNwaGVyZXMgb2YgbGlmZSBvcmdhbmlzZWQgb24gdGhlIGJhc2lzIG9mIHRoYXQgcHJvZHVjdGlvbi5cIixcblwiQnV0IGZvciB0aGUgdmVyeSByZWFzb24gdGhhdCBwZXJzb25hbCBkZXBlbmRlbmNlIGZvcm1zIHRoZSBncm91bmQtd29yayBvZiBzb2NpZXR5LCB0aGVyZSBpcyBubyBuZWNlc3NpdHkgZm9yIGxhYm91ciBhbmQgaXRzIHByb2R1Y3RzIHRvIGFzc3VtZSBhIGZhbnRhc3RpYyBmb3JtIGRpZmZlcmVudCBmcm9tIHRoZWlyIHJlYWxpdHkuXCIsXG5cIlRoZXkgdGFrZSB0aGUgc2hhcGUsIGluIHRoZSB0cmFuc2FjdGlvbnMgb2Ygc29jaWV0eSwgb2Ygc2VydmljZXMgaW4ga2luZCBhbmQgcGF5bWVudHMgaW4ga2luZC5cIixcblwiSGVyZSB0aGUgcGFydGljdWxhciBhbmQgbmF0dXJhbCBmb3JtIG9mIGxhYm91ciwgYW5kIG5vdCwgYXMgaW4gYSBzb2NpZXR5IGJhc2VkIG9uIHByb2R1Y3Rpb24gb2YgY29tbW9kaXRpZXMsIGl0cyBnZW5lcmFsIGFic3RyYWN0IGZvcm0gaXMgdGhlIGltbWVkaWF0ZSBzb2NpYWwgZm9ybSBvZiBsYWJvdXIuXCIsXG5cIkNvbXB1bHNvcnkgbGFib3VyIGlzIGp1c3QgYXMgcHJvcGVybHkgbWVhc3VyZWQgYnkgdGltZSwgYXMgY29tbW9kaXR5LXByb2R1Y2luZyBsYWJvdXI7IGJ1dCBldmVyeSBzZXJmIGtub3dzIHRoYXQgd2hhdCBoZSBleHBlbmRzIGluIHRoZSBzZXJ2aWNlIG9mIGhpcyBsb3JkLCBpcyBhIGRlZmluaXRlIHF1YW50aXR5IG9mIGhpcyBvd24gcGVyc29uYWwgbGFib3VyIHBvd2VyLlwiLFxuXCJUaGUgdGl0aGUgdG8gYmUgcmVuZGVyZWQgdG8gdGhlIHByaWVzdCBpcyBtb3JlIG1hdHRlciBvZiBmYWN0IHRoYW4gaGlzIGJsZXNzaW5nLlwiLFxuXCJObyBtYXR0ZXIsIHRoZW4sIHdoYXQgd2UgbWF5IHRoaW5rIG9mIHRoZSBwYXJ0cyBwbGF5ZWQgYnkgdGhlIGRpZmZlcmVudCBjbGFzc2VzIG9mIHBlb3BsZSB0aGVtc2VsdmVzIGluIHRoaXMgc29jaWV0eSwgdGhlIHNvY2lhbCByZWxhdGlvbnMgYmV0d2VlbiBpbmRpdmlkdWFscyBpbiB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlaXIgbGFib3VyLCBhcHBlYXIgYXQgYWxsIGV2ZW50cyBhcyB0aGVpciBvd24gbXV0dWFsIHBlcnNvbmFsIHJlbGF0aW9ucywgYW5kIGFyZSBub3QgZGlzZ3Vpc2VkIHVuZGVyIHRoZSBzaGFwZSBvZiBzb2NpYWwgcmVsYXRpb25zIGJldHdlZW4gdGhlIHByb2R1Y3RzIG9mIGxhYm91ci5cIixcblwiRm9yIGFuIGV4YW1wbGUgb2YgbGFib3VyIGluIGNvbW1vbiBvciBkaXJlY3RseSBhc3NvY2lhdGVkIGxhYm91ciwgd2UgaGF2ZSBubyBvY2Nhc2lvbiB0byBnbyBiYWNrIHRvIHRoYXQgc3BvbnRhbmVvdXNseSBkZXZlbG9wZWQgZm9ybSB3aGljaCB3ZSBmaW5kIG9uIHRoZSB0aHJlc2hvbGQgb2YgdGhlIGhpc3Rvcnkgb2YgYWxsIGNpdmlsaXNlZCByYWNlcy5cIixcblwiV2UgaGF2ZSBvbmUgY2xvc2UgYXQgaGFuZCBpbiB0aGUgcGF0cmlhcmNoYWwgaW5kdXN0cmllcyBvZiBhIHBlYXNhbnQgZmFtaWx5LCB0aGF0IHByb2R1Y2VzIGNvcm4sIGNhdHRsZSwgeWFybiwgbGluZW4sIGFuZCBjbG90aGluZyBmb3IgaG9tZSB1c2UuXCIsXG5cIlRoZXNlIGRpZmZlcmVudCBhcnRpY2xlcyBhcmUsIGFzIHJlZ2FyZHMgdGhlIGZhbWlseSwgc28gbWFueSBwcm9kdWN0cyBvZiBpdHMgbGFib3VyLCBidXQgYXMgYmV0d2VlbiB0aGVtc2VsdmVzLCB0aGV5IGFyZSBub3QgY29tbW9kaXRpZXMuXCIsXG5cIlRoZSBkaWZmZXJlbnQga2luZHMgb2YgbGFib3VyLCBzdWNoIGFzIHRpbGxhZ2UsIGNhdHRsZSB0ZW5kaW5nLCBzcGlubmluZywgd2VhdmluZyBhbmQgbWFraW5nIGNsb3RoZXMsIHdoaWNoIHJlc3VsdCBpbiB0aGUgdmFyaW91cyBwcm9kdWN0cywgYXJlIGluIHRoZW1zZWx2ZXMsIGFuZCBzdWNoIGFzIHRoZXkgYXJlLCBkaXJlY3Qgc29jaWFsIGZ1bmN0aW9ucywgYmVjYXVzZSBmdW5jdGlvbnMgb2YgdGhlIGZhbWlseSwgd2hpY2gsIGp1c3QgYXMgbXVjaCBhcyBhIHNvY2lldHkgYmFzZWQgb24gdGhlIHByb2R1Y3Rpb24gb2YgY29tbW9kaXRpZXMsIHBvc3Nlc3NlcyBhIHNwb250YW5lb3VzbHkgZGV2ZWxvcGVkIHN5c3RlbSBvZiBkaXZpc2lvbiBvZiBsYWJvdXIuXCIsXG5cIlRoZSBkaXN0cmlidXRpb24gb2YgdGhlIHdvcmsgd2l0aGluIHRoZSBmYW1pbHksIGFuZCB0aGUgcmVndWxhdGlvbiBvZiB0aGUgbGFib3VyIHRpbWUgb2YgdGhlIHNldmVyYWwgbWVtYmVycywgZGVwZW5kIGFzIHdlbGwgdXBvbiBkaWZmZXJlbmNlcyBvZiBhZ2UgYW5kIHNleCBhcyB1cG9uIG5hdHVyYWwgY29uZGl0aW9ucyB2YXJ5aW5nIHdpdGggdGhlIHNlYXNvbnMuXCIsXG5cIlRoZSBsYWJvdXIgcG93ZXIgb2YgZWFjaCBpbmRpdmlkdWFsLCBieSBpdHMgdmVyeSBuYXR1cmUsIG9wZXJhdGVzIGluIHRoaXMgY2FzZSBtZXJlbHkgYXMgYSBkZWZpbml0ZSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBsYWJvdXIgcG93ZXIgb2YgdGhlIGZhbWlseSwgYW5kIHRoZXJlZm9yZSwgdGhlIG1lYXN1cmUgb2YgdGhlIGV4cGVuZGl0dXJlIG9mIGluZGl2aWR1YWwgbGFib3VyIHBvd2VyIGJ5IGl0cyBkdXJhdGlvbiwgYXBwZWFycyBoZXJlIGJ5IGl0cyB2ZXJ5IG5hdHVyZSBhcyBhIHNvY2lhbCBjaGFyYWN0ZXIgb2YgdGhlaXIgbGFib3VyLlwiLFxuXCJMZXQgdXMgbm93IHBpY3R1cmUgdG8gb3Vyc2VsdmVzLCBieSB3YXkgb2YgY2hhbmdlLCBhIGNvbW11bml0eSBvZiBmcmVlIGluZGl2aWR1YWxzLCBjYXJyeWluZyBvbiB0aGVpciB3b3JrIHdpdGggdGhlIG1lYW5zIG9mIHByb2R1Y3Rpb24gaW4gY29tbW9uLCBpbiB3aGljaCB0aGUgbGFib3VyIHBvd2VyIG9mIGFsbCB0aGUgZGlmZmVyZW50IGluZGl2aWR1YWxzIGlzIGNvbnNjaW91c2x5IGFwcGxpZWQgYXMgdGhlIGNvbWJpbmVkIGxhYm91ciBwb3dlciBvZiB0aGUgY29tbXVuaXR5LlwiLFxuXCJBbGwgdGhlIGNoYXJhY3RlcmlzdGljcyBvZiBSb2JpbnNvbuKAmXMgbGFib3VyIGFyZSBoZXJlIHJlcGVhdGVkLCBidXQgd2l0aCB0aGlzIGRpZmZlcmVuY2UsIHRoYXQgdGhleSBhcmUgc29jaWFsLCBpbnN0ZWFkIG9mIGluZGl2aWR1YWwuXCIsXG5cIkV2ZXJ5dGhpbmcgcHJvZHVjZWQgYnkgaGltIHdhcyBleGNsdXNpdmVseSB0aGUgcmVzdWx0IG9mIGhpcyBvd24gcGVyc29uYWwgbGFib3VyLCBhbmQgdGhlcmVmb3JlIHNpbXBseSBhbiBvYmplY3Qgb2YgdXNlIGZvciBoaW1zZWxmLlwiLFxuXCJUaGUgdG90YWwgcHJvZHVjdCBvZiBvdXIgY29tbXVuaXR5IGlzIGEgc29jaWFsIHByb2R1Y3QuXCIsXG5cIk9uZSBwb3J0aW9uIHNlcnZlcyBhcyBmcmVzaCBtZWFucyBvZiBwcm9kdWN0aW9uIGFuZCByZW1haW5zIHNvY2lhbC5cIixcblwiQnV0IGFub3RoZXIgcG9ydGlvbiBpcyBjb25zdW1lZCBieSB0aGUgbWVtYmVycyBhcyBtZWFucyBvZiBzdWJzaXN0ZW5jZS5cIixcblwiQSBkaXN0cmlidXRpb24gb2YgdGhpcyBwb3J0aW9uIGFtb25nc3QgdGhlbSBpcyBjb25zZXF1ZW50bHkgbmVjZXNzYXJ5LlwiLFxuXCJUaGUgbW9kZSBvZiB0aGlzIGRpc3RyaWJ1dGlvbiB3aWxsIHZhcnkgd2l0aCB0aGUgcHJvZHVjdGl2ZSBvcmdhbmlzYXRpb24gb2YgdGhlIGNvbW11bml0eSwgYW5kIHRoZSBkZWdyZWUgb2YgaGlzdG9yaWNhbCBkZXZlbG9wbWVudCBhdHRhaW5lZCBieSB0aGUgcHJvZHVjZXJzLlwiLFxuXCJXZSB3aWxsIGFzc3VtZSwgYnV0IG1lcmVseSBmb3IgdGhlIHNha2Ugb2YgYSBwYXJhbGxlbCB3aXRoIHRoZSBwcm9kdWN0aW9uIG9mIGNvbW1vZGl0aWVzLCB0aGF0IHRoZSBzaGFyZSBvZiBlYWNoIGluZGl2aWR1YWwgcHJvZHVjZXIgaW4gdGhlIG1lYW5zIG9mIHN1YnNpc3RlbmNlIGlzIGRldGVybWluZWQgYnkgaGlzIGxhYm91ciB0aW1lLlwiLFxuXCJMYWJvdXIgdGltZSB3b3VsZCwgaW4gdGhhdCBjYXNlLCBwbGF5IGEgZG91YmxlIHBhcnQuXCIsXG5cIkl0cyBhcHBvcnRpb25tZW50IGluIGFjY29yZGFuY2Ugd2l0aCBhIGRlZmluaXRlIHNvY2lhbCBwbGFuIG1haW50YWlucyB0aGUgcHJvcGVyIHByb3BvcnRpb24gYmV0d2VlbiB0aGUgZGlmZmVyZW50IGtpbmRzIG9mIHdvcmsgdG8gYmUgZG9uZSBhbmQgdGhlIHZhcmlvdXMgd2FudHMgb2YgdGhlIGNvbW11bml0eS5cIixcblwiT24gdGhlIG90aGVyIGhhbmQsIGl0IGFsc28gc2VydmVzIGFzIGEgbWVhc3VyZSBvZiB0aGUgcG9ydGlvbiBvZiB0aGUgY29tbW9uIGxhYm91ciBib3JuZSBieSBlYWNoIGluZGl2aWR1YWwsIGFuZCBvZiBoaXMgc2hhcmUgaW4gdGhlIHBhcnQgb2YgdGhlIHRvdGFsIHByb2R1Y3QgZGVzdGluZWQgZm9yIGluZGl2aWR1YWwgY29uc3VtcHRpb24uXCIsXG5cIlRoZSBzb2NpYWwgcmVsYXRpb25zIG9mIHRoZSBpbmRpdmlkdWFsIHByb2R1Y2Vycywgd2l0aCByZWdhcmQgYm90aCB0byB0aGVpciBsYWJvdXIgYW5kIHRvIGl0cyBwcm9kdWN0cywgYXJlIGluIHRoaXMgY2FzZSBwZXJmZWN0bHkgc2ltcGxlIGFuZCBpbnRlbGxpZ2libGUsIGFuZCB0aGF0IHdpdGggcmVnYXJkIG5vdCBvbmx5IHRvIHByb2R1Y3Rpb24gYnV0IGFsc28gdG8gZGlzdHJpYnV0aW9uLlwiLFxuXCJUaGUgcmVsaWdpb3VzIHdvcmxkIGlzIGJ1dCB0aGUgcmVmbGV4IG9mIHRoZSByZWFsIHdvcmxkLlwiLFxuXCJBbmQgZm9yIGEgc29jaWV0eSBiYXNlZCB1cG9uIHRoZSBwcm9kdWN0aW9uIG9mIGNvbW1vZGl0aWVzLCBpbiB3aGljaCB0aGUgcHJvZHVjZXJzIGluIGdlbmVyYWwgZW50ZXIgaW50byBzb2NpYWwgcmVsYXRpb25zIHdpdGggb25lIGFub3RoZXIgYnkgdHJlYXRpbmcgdGhlaXIgcHJvZHVjdHMgYXMgY29tbW9kaXRpZXMgYW5kIHZhbHVlcywgd2hlcmVieSB0aGV5IHJlZHVjZSB0aGVpciBpbmRpdmlkdWFsIHByaXZhdGUgbGFib3VyIHRvIHRoZSBzdGFuZGFyZCBvZiBob21vZ2VuZW91cyBodW1hbiBsYWJvdXIg4oCTIGZvciBzdWNoIGEgc29jaWV0eSwgQ2hyaXN0aWFuaXR5IHdpdGggaXRzIGN1bHR1cyBvZiBhYnN0cmFjdCBtYW4sIG1vcmUgZXNwZWNpYWxseSBpbiBpdHMgYm91cmdlb2lzIGRldmVsb3BtZW50cywgUHJvdGVzdGFudGlzbSwgRGVpc20sICZjLlwiLFxuXCJpcyB0aGUgbW9zdCBmaXR0aW5nIGZvcm0gb2YgcmVsaWdpb24uXCIsXG5cIkluIHRoZSBhbmNpZW50IEFzaWF0aWMgYW5kIG90aGVyIGFuY2llbnQgbW9kZXMgb2YgcHJvZHVjdGlvbiwgd2UgZmluZCB0aGF0IHRoZSBjb252ZXJzaW9uIG9mIHByb2R1Y3RzIGludG8gY29tbW9kaXRpZXMsIGFuZCB0aGVyZWZvcmUgdGhlIGNvbnZlcnNpb24gb2YgbWVuIGludG8gcHJvZHVjZXJzIG9mIGNvbW1vZGl0aWVzLCBob2xkcyBhIHN1Ym9yZGluYXRlIHBsYWNlLCB3aGljaCwgaG93ZXZlciwgaW5jcmVhc2VzIGluIGltcG9ydGFuY2UgYXMgdGhlIHByaW1pdGl2ZSBjb21tdW5pdGllcyBhcHByb2FjaCBuZWFyZXIgYW5kIG5lYXJlciB0byB0aGVpciBkaXNzb2x1dGlvbi5cIixcblwiVHJhZGluZyBuYXRpb25zLCBwcm9wZXJseSBzbyBjYWxsZWQsIGV4aXN0IGluIHRoZSBhbmNpZW50IHdvcmxkIG9ubHkgaW4gaXRzIGludGVyc3RpY2VzLCBsaWtlIHRoZSBnb2RzIG9mIEVwaWN1cnVzIGluIHRoZSBJbnRlcm11bmRpYSwgb3IgbGlrZSBKZXdzIGluIHRoZSBwb3JlcyBvZiBQb2xpc2ggc29jaWV0eS5cIixcblwiVGhvc2UgYW5jaWVudCBzb2NpYWwgb3JnYW5pc21zIG9mIHByb2R1Y3Rpb24gYXJlLCBhcyBjb21wYXJlZCB3aXRoIGJvdXJnZW9pcyBzb2NpZXR5LCBleHRyZW1lbHkgc2ltcGxlIGFuZCB0cmFuc3BhcmVudC5cIixcblwiQnV0IHRoZXkgYXJlIGZvdW5kZWQgZWl0aGVyIG9uIHRoZSBpbW1hdHVyZSBkZXZlbG9wbWVudCBvZiBtYW4gaW5kaXZpZHVhbGx5LCB3aG8gaGFzIG5vdCB5ZXQgc2V2ZXJlZCB0aGUgdW1iaWxpY2FsIGNvcmQgdGhhdCB1bml0ZXMgaGltIHdpdGggaGlzIGZlbGxvd21lbiBpbiBhIHByaW1pdGl2ZSB0cmliYWwgY29tbXVuaXR5LCBvciB1cG9uIGRpcmVjdCByZWxhdGlvbnMgb2Ygc3ViamVjdGlvbi5cIixcblwiVGhleSBjYW4gYXJpc2UgYW5kIGV4aXN0IG9ubHkgd2hlbiB0aGUgZGV2ZWxvcG1lbnQgb2YgdGhlIHByb2R1Y3RpdmUgcG93ZXIgb2YgbGFib3VyIGhhcyBub3QgcmlzZW4gYmV5b25kIGEgbG93IHN0YWdlLCBhbmQgd2hlbiwgdGhlcmVmb3JlLCB0aGUgc29jaWFsIHJlbGF0aW9ucyB3aXRoaW4gdGhlIHNwaGVyZSBvZiBtYXRlcmlhbCBsaWZlLCBiZXR3ZWVuIG1hbiBhbmQgbWFuLCBhbmQgYmV0d2VlbiBtYW4gYW5kIE5hdHVyZSwgYXJlIGNvcnJlc3BvbmRpbmdseSBuYXJyb3cuXCIsXG5cIlRoaXMgbmFycm93bmVzcyBpcyByZWZsZWN0ZWQgaW4gdGhlIGFuY2llbnQgd29yc2hpcCBvZiBOYXR1cmUsIGFuZCBpbiB0aGUgb3RoZXIgZWxlbWVudHMgb2YgdGhlIHBvcHVsYXIgcmVsaWdpb25zLlwiLFxuXCJUaGUgcmVsaWdpb3VzIHJlZmxleCBvZiB0aGUgcmVhbCB3b3JsZCBjYW4sIGluIGFueSBjYXNlLCBvbmx5IHRoZW4gZmluYWxseSB2YW5pc2gsIHdoZW4gdGhlIHByYWN0aWNhbCByZWxhdGlvbnMgb2YgZXZlcnktZGF5IGxpZmUgb2ZmZXIgdG8gbWFuIG5vbmUgYnV0IHBlcmZlY3RseSBpbnRlbGxpZ2libGUgYW5kIHJlYXNvbmFibGUgcmVsYXRpb25zIHdpdGggcmVnYXJkIHRvIGhpcyBmZWxsb3dtZW4gYW5kIHRvIE5hdHVyZS5cIixcblwiVGhlIGxpZmUtcHJvY2VzcyBvZiBzb2NpZXR5LCB3aGljaCBpcyBiYXNlZCBvbiB0aGUgcHJvY2VzcyBvZiBtYXRlcmlhbCBwcm9kdWN0aW9uLCBkb2VzIG5vdCBzdHJpcCBvZmYgaXRzIG15c3RpY2FsIHZlaWwgdW50aWwgaXQgaXMgdHJlYXRlZCBhcyBwcm9kdWN0aW9uIGJ5IGZyZWVseSBhc3NvY2lhdGVkIG1lbiwgYW5kIGlzIGNvbnNjaW91c2x5IHJlZ3VsYXRlZCBieSB0aGVtIGluIGFjY29yZGFuY2Ugd2l0aCBhIHNldHRsZWQgcGxhbi5cIixcblwiVGhpcywgaG93ZXZlciwgZGVtYW5kcyBmb3Igc29jaWV0eSBhIGNlcnRhaW4gbWF0ZXJpYWwgZ3JvdW5kLXdvcmsgb3Igc2V0IG9mIGNvbmRpdGlvbnMgb2YgZXhpc3RlbmNlIHdoaWNoIGluIHRoZWlyIHR1cm4gYXJlIHRoZSBzcG9udGFuZW91cyBwcm9kdWN0IG9mIGEgbG9uZyBhbmQgcGFpbmZ1bCBwcm9jZXNzIG9mIGRldmVsb3BtZW50LlwiLFxuXCJQb2xpdGljYWwgRWNvbm9teSBoYXMgaW5kZWVkIGFuYWx5c2VkLCBob3dldmVyIGluY29tcGxldGVseSwgIHZhbHVlIGFuZCBpdHMgbWFnbml0dWRlLCBhbmQgaGFzIGRpc2NvdmVyZWQgd2hhdCBsaWVzIGJlbmVhdGggdGhlc2UgZm9ybXMuXCIsXG5cIkJ1dCBpdCBoYXMgbmV2ZXIgb25jZSBhc2tlZCB0aGUgcXVlc3Rpb24gd2h5IGxhYm91ciBpcyByZXByZXNlbnRlZCBieSB0aGUgdmFsdWUgb2YgaXRzIHByb2R1Y3QgYW5kIGxhYm91ciB0aW1lIGJ5IHRoZSBtYWduaXR1ZGUgb2YgdGhhdCB2YWx1ZS5cIixcblwiVGhlc2UgZm9ybXVsw6YsIHdoaWNoIGJlYXIgaXQgc3RhbXBlZCB1cG9uIHRoZW0gaW4gdW5taXN0YWthYmxlIGxldHRlcnMgdGhhdCB0aGV5IGJlbG9uZyB0byBhIHN0YXRlIG9mIHNvY2lldHksIGluIHdoaWNoIHRoZSBwcm9jZXNzIG9mIHByb2R1Y3Rpb24gaGFzIHRoZSBtYXN0ZXJ5IG92ZXIgbWFuLCBpbnN0ZWFkIG9mIGJlaW5nIGNvbnRyb2xsZWQgYnkgaGltLCBzdWNoIGZvcm11bMOmIGFwcGVhciB0byB0aGUgYm91cmdlb2lzIGludGVsbGVjdCB0byBiZSBhcyBtdWNoIGEgc2VsZi1ldmlkZW50IG5lY2Vzc2l0eSBpbXBvc2VkIGJ5IE5hdHVyZSBhcyBwcm9kdWN0aXZlIGxhYm91ciBpdHNlbGYuXCIsXG5cIkhlbmNlIGZvcm1zIG9mIHNvY2lhbCBwcm9kdWN0aW9uIHRoYXQgcHJlY2VkZWQgdGhlIGJvdXJnZW9pcyBmb3JtLCBhcmUgdHJlYXRlZCBieSB0aGUgYm91cmdlb2lzaWUgaW4gbXVjaCB0aGUgc2FtZSB3YXkgYXMgdGhlIEZhdGhlcnMgb2YgdGhlIENodXJjaCB0cmVhdGVkIHByZS1DaHJpc3RpYW4gcmVsaWdpb25zLlwiLFxuXCJUbyB3aGF0IGV4dGVudCBzb21lIGVjb25vbWlzdHMgYXJlIG1pc2xlZCBieSB0aGUgRmV0aXNoaXNtIGluaGVyZW50IGluIGNvbW1vZGl0aWVzLCBvciBieSB0aGUgb2JqZWN0aXZlIGFwcGVhcmFuY2Ugb2YgdGhlIHNvY2lhbCBjaGFyYWN0ZXJpc3RpY3Mgb2YgbGFib3VyLCBpcyBzaG93biwgYW1vbmdzdCBvdGhlciB3YXlzLCBieSB0aGUgZHVsbCBhbmQgdGVkaW91cyBxdWFycmVsIG92ZXIgdGhlIHBhcnQgcGxheWVkIGJ5IE5hdHVyZSBpbiB0aGUgZm9ybWF0aW9uIG9mIGV4Y2hhbmdlIHZhbHVlLlwiLFxuXCJTaW5jZSBleGNoYW5nZSB2YWx1ZSBpcyBhIGRlZmluaXRlIHNvY2lhbCBtYW5uZXIgb2YgZXhwcmVzc2luZyB0aGUgYW1vdW50IG9mIGxhYm91ciBiZXN0b3dlZCB1cG9uIGFuIG9iamVjdCwgTmF0dXJlIGhhcyBubyBtb3JlIHRvIGRvIHdpdGggaXQsIHRoYW4gaXQgaGFzIGluIGZpeGluZyB0aGUgY291cnNlIG9mIGV4Y2hhbmdlLlwiLFxuXCJUaGUgbW9kZSBvZiBwcm9kdWN0aW9uIGluIHdoaWNoIHRoZSBwcm9kdWN0IHRha2VzIHRoZSBmb3JtIG9mIGEgY29tbW9kaXR5LCBvciBpcyBwcm9kdWNlZCBkaXJlY3RseSBmb3IgZXhjaGFuZ2UsIGlzIHRoZSBtb3N0IGdlbmVyYWwgYW5kIG1vc3QgZW1icnlvbmljIGZvcm0gb2YgYm91cmdlb2lzIHByb2R1Y3Rpb24uXCIsXG5cIkl0IHRoZXJlZm9yZSBtYWtlcyBpdHMgYXBwZWFyYW5jZSBhdCBhbiBlYXJseSBkYXRlIGluIGhpc3RvcnksIHRob3VnaCBub3QgaW4gdGhlIHNhbWUgcHJlZG9taW5hdGluZyBhbmQgY2hhcmFjdGVyaXN0aWMgbWFubmVyIGFzIG5vdy1hLWRheXMuXCIsXG5cIkhlbmNlIGl0cyBGZXRpc2ggY2hhcmFjdGVyIGlzIGNvbXBhcmF0aXZlbHkgZWFzeSB0byBiZSBzZWVuIHRocm91Z2guXCIsXG5cIkJ1dCB3aGVuIHdlIGNvbWUgdG8gbW9yZSBjb25jcmV0ZSBmb3JtcywgZXZlbiB0aGlzIGFwcGVhcmFuY2Ugb2Ygc2ltcGxpY2l0eSB2YW5pc2hlcy5cIixcblwiV2hlbmNlIGFyb3NlIHRoZSBpbGx1c2lvbnMgb2YgdGhlIG1vbmV0YXJ5IHN5c3RlbT9cIixcblwiVG8gaXQgZ29sZCBhbmQgc2lsdmVyLCB3aGVuIHNlcnZpbmcgYXMgbW9uZXksIGRpZCBub3QgcmVwcmVzZW50IGEgc29jaWFsIHJlbGF0aW9uIGJldHdlZW4gcHJvZHVjZXJzLCBidXQgd2VyZSBuYXR1cmFsIG9iamVjdHMgd2l0aCBzdHJhbmdlIHNvY2lhbCBwcm9wZXJ0aWVzLlwiLFxuXCJBbmQgbW9kZXJuIGVjb25vbXksIHdoaWNoIGxvb2tzIGRvd24gd2l0aCBzdWNoIGRpc2RhaW4gb24gdGhlIG1vbmV0YXJ5IHN5c3RlbSwgZG9lcyBub3QgaXRzIHN1cGVyc3RpdGlvbiBjb21lIG91dCBhcyBjbGVhciBhcyBub29uLWRheSwgd2hlbmV2ZXIgaXQgdHJlYXRzIG9mIGNhcGl0YWw/XCIsXG5cIkhvdyBsb25nIGlzIGl0IHNpbmNlIGVjb25vbXkgZGlzY2FyZGVkIHRoZSBwaHlzaW9jcmF0aWMgaWxsdXNpb24sIHRoYXQgcmVudHMgZ3JvdyBvdXQgb2YgdGhlIHNvaWwgYW5kIG5vdCBvdXQgb2Ygc29jaWV0eT9cIixcblwiQnV0IG5vdCB0byBhbnRpY2lwYXRlLCB3ZSB3aWxsIGNvbnRlbnQgb3Vyc2VsdmVzIHdpdGggeWV0IGFub3RoZXIgZXhhbXBsZSByZWxhdGluZyB0byB0aGUgY29tbW9kaXR5IGZvcm0uXCIsXG5cIkNvdWxkIGNvbW1vZGl0aWVzIHRoZW1zZWx2ZXMgc3BlYWssIHRoZXkgd291bGQgc2F5OiBPdXIgdXNlIHZhbHVlIG1heSBiZSBhIHRoaW5nIHRoYXQgaW50ZXJlc3RzIG1lbi5cIixcblwiSXQgaXMgbm8gcGFydCBvZiB1cyBhcyBvYmplY3RzLlwiLFxuXCJXaGF0LCBob3dldmVyLCBkb2VzIGJlbG9uZyB0byB1cyBhcyBvYmplY3RzLCBpcyBvdXIgdmFsdWUuXCIsXG5cIk91ciBuYXR1cmFsIGludGVyY291cnNlIGFzIGNvbW1vZGl0aWVzIHByb3ZlcyBpdC5cIixcblwiSW4gdGhlIGV5ZXMgb2YgZWFjaCBvdGhlciB3ZSBhcmUgbm90aGluZyBidXQgZXhjaGFuZ2UgdmFsdWVzLlwiLFxuXCJOb3cgbGlzdGVuIGhvdyB0aG9zZSBjb21tb2RpdGllcyBzcGVhayB0aHJvdWdoIHRoZSBtb3V0aCBvZiB0aGUgZWNvbm9taXN0LlwiLFxuXCLigJxWYWx1ZeKAnSDigJMgKGkuXCIsXG5cImV4Y2hhbmdlIHZhbHVlKSDigJxpcyBhIHByb3BlcnR5IG9mIHRoaW5ncywgcmljaGVz4oCdIOKAkyAoaS5cIixcblwidXNlIHZhbHVlKSDigJxvZiBtYW4uXCIsXG5cIlZhbHVlLCBpbiB0aGlzIHNlbnNlLCBuZWNlc3NhcmlseSBpbXBsaWVzIGV4Y2hhbmdlcywgcmljaGVzIGRvIG5vdC5cIixcblwi4oCcUmljaGVz4oCdICh1c2UgdmFsdWUpIOKAnGFyZSB0aGUgYXR0cmlidXRlIG9mIG1lbiwgdmFsdWUgaXMgdGhlIGF0dHJpYnV0ZSBvZiBjb21tb2RpdGllcy5cIixcblwiQSBtYW4gb3IgYSBjb21tdW5pdHkgaXMgcmljaCwgYSBwZWFybCBvciBhIGRpYW1vbmQgaXMgdmFsdWFibGUuXCIsXG5cIkEgcGVhcmwgb3IgYSBkaWFtb25kIGlzIHZhbHVhYmxlIGFzIGEgcGVhcmwgb3IgYSBkaWFtb25kLlwiLFxuXCJTbyBmYXIgbm8gY2hlbWlzdCBoYXMgZXZlciBkaXNjb3ZlcmVkIGV4Y2hhbmdlIHZhbHVlIGVpdGhlciBpbiBhIHBlYXJsIG9yIGEgZGlhbW9uZC5cIixcblwiVGhlIGVjb25vbWljIGRpc2NvdmVyZXJzIG9mIHRoaXMgY2hlbWljYWwgZWxlbWVudCwgd2hvIGJ5LXRoZS1ieWUgbGF5IHNwZWNpYWwgY2xhaW0gdG8gY3JpdGljYWwgYWN1bWVuLCBmaW5kIGhvd2V2ZXIgdGhhdCB0aGUgdXNlIHZhbHVlIG9mIG9iamVjdHMgYmVsb25ncyB0byB0aGVtIGluZGVwZW5kZW50bHkgb2YgdGhlaXIgbWF0ZXJpYWwgcHJvcGVydGllcywgd2hpbGUgdGhlaXIgdmFsdWUsIG9uIHRoZSBvdGhlciBoYW5kLCBmb3JtcyBhIHBhcnQgb2YgdGhlbSBhcyBvYmplY3RzLlwiLFxuXCJXaGF0IGNvbmZpcm1zIHRoZW0gaW4gdGhpcyB2aWV3LCBpcyB0aGUgcGVjdWxpYXIgY2lyY3Vtc3RhbmNlIHRoYXQgdGhlIHVzZSB2YWx1ZSBvZiBvYmplY3RzIGlzIHJlYWxpc2VkIHdpdGhvdXQgZXhjaGFuZ2UsIGJ5IG1lYW5zIG9mIGEgZGlyZWN0IHJlbGF0aW9uIGJldHdlZW4gdGhlIG9iamVjdHMgYW5kIG1hbiwgd2hpbGUsIG9uIHRoZSBvdGhlciBoYW5kLCB0aGVpciB2YWx1ZSBpcyByZWFsaXNlZCBvbmx5IGJ5IGV4Y2hhbmdlLCB0aGF0IGlzLCBieSBtZWFucyBvZiBhIHNvY2lhbCBwcm9jZXNzLlwiLFxuXCJXaG8gZmFpbHMgaGVyZSB0byBjYWxsIHRvIG1pbmQgb3VyIGdvb2QgZnJpZW5kLCBEb2diZXJyeSwgd2hvIGluZm9ybXMgbmVpZ2hib3VyIFNlYWNvYWwsIHRoYXQsIOKAnFRvIGJlIGEgd2VsbC1mYXZvdXJlZCBtYW4gaXMgdGhlIGdpZnQgb2YgZm9ydHVuZTsgYnV0IHJlYWRpbmcgYW5kIHdyaXRpbmcgY29tZXMgYnkgTmF0dXJlLlwiXSIsIm1vZHVsZS5leHBvcnRzID0gW1wiYWNjZXNzIHRvIHRvb2xzXCIsXG5cInRoZSBoZWlnaHQgb2YgcHJpdmlsZWdlXCIsXG5cInRydXN0IG5vIG9uZVwiLFxuXCJ0aGVyZSBpcyBubyBhdXRob3JpdHkgYnV0IHlvdXJzZWxmXCIsXG5cInF1ZXN0aW9uIGV2ZXJ5dGhpbmdcIixcblwidGhlIHRydXRoIGlzIG91dCB0aGVyZVwiLFxuXCJpIHdhbnQgdG8gYmVsaWV2ZVwiLFxuXCJtYXkgdGhlIGZvcmNlIGJlIHdpdGggeW91XCIsXG5cImxldCB1cyBwcmF5XCIsXG5cInplbiBhbmQgdGhlIGFydCBvZiB3ZWJzaXRlIG1haW50ZW5hbmNlXCIsXG5cImJvYmJpbmcgZm9yIGFwcGxlc1wiLFxuXCJkaWFyeSBvZiBhIG1vbnN0ZXJcIixcblwic2tpdHRsZXMgYW5kIGFwb2NhbHlwdGljIHNvY2lhbCBtb3ZlbWVudHNcIl0iLCJtb2R1bGUuZXhwb3J0cyA9IFtcIkkgcmVtZW1iZXIgd2hlbiB3ZSBicm9rZSB1cCB0aGUgZmlyc3QgdGltZVwiLFxuXCJXZSBoYWRuJ3Qgc2VlbiBlYWNoIG90aGVyIGluIGEgbW9udGhcIixcblwiV2hlbiB5b3Ugc2FpZCB5b3UgbmVlZGVkIHNwYWNlLiAoV2hhdD8pXCIsXG5cIlRoZW4geW91IGNvbWUgYXJvdW5kIGFnYWluIGFuZCBzYXlcIixcblwiUmVtZW1iZXIgaG93IHRoYXQgbGFzdGVkIGZvciBhIGRheT9cIixcblwiT29oLCB3ZSBjYWxsZWQgaXQgb2ZmIGFnYWluIGxhc3QgbmlnaHRcIixcblwiQnV0IG9vaCwgdGhpcyB0aW1lIEknbSB0ZWxsaW5nIHlvdSwgSSdtIHRlbGxpbmcgeW91XCIsXG5cIldlIGFyZSBuZXZlciBldmVyIGV2ZXIgZ2V0dGluZyBiYWNrIHRvZ2V0aGVyLFwiLFxuXCJZb3UgZ28gdGFsayB0byB5b3VyIGZyaWVuZHMsIHRhbGsgdG8gbXkgZnJpZW5kcywgdGFsayB0byBtZVwiLFxuXCJCdXQgd2UgYXJlIG5ldmVyIGV2ZXIgZXZlciBldmVyIGdldHRpbmcgYmFjayB0b2dldGhlclwiLFxuXCJMaWtlLCBldmVyLi4uXCIsXG5cIkknbSByZWFsbHkgZ29ubmEgbWlzcyB5b3UgcGlja2luZyBmaWdodHNcIixcblwiQW5kIG1lIGZhbGxpbmcgZm9yIGl0IHNjcmVhbWluZyB0aGF0IEknbSByaWdodFwiLFxuXCJBbmQgeW91IHdvdWxkIGhpZGUgYXdheSBhbmQgZmluZCB5b3VyIHBlYWNlIG9mIG1pbmRcIixcblwiV2l0aCBzb21lIGluZGllIHJlY29yZCB0aGF0J3MgbXVjaCBjb29sZXIgdGhhbiBtaW5lXCIsXG5cIk9vaCwgeW91IGNhbGxlZCBtZSB1cCBhZ2FpbiB0b25pZ2h0XCIsXG5cIldlIGFyZSBuZXZlciwgZXZlciwgZXZlciBnZXR0aW5nIGJhY2sgdG9nZXRoZXJcIixcblwiWW91IGdvIHRhbGsgdG8geW91ciBmcmllbmRzLCB0YWxrIHRvIG15IGZyaWVuZHMsIHRhbGsgdG8gbWUgKHRhbGsgdG8gbWUpXCIsXG5cIk9vaCwgeWVhaCwgb29oIHllYWgsIG9vaCB5ZWFoXCIsXG5cIk9oIG9oIG9oXCIsXG5cIkkgdXNlZCB0byB0aGluayB0aGF0IHdlIHdlcmUgZm9yZXZlciBldmVyXCIsXG5cIk5vIVwiLFxuXCJXZSBhcmUgbmV2ZXIgZXZlciBldmVyIGdldHRpbmcgYmFjayB0b2dldGhlclwiLFxuXCJXZSwgb29oLCBnZXR0aW5nIGJhY2sgdG9nZXRoZXIsIG9oaGgsXCIsXG5cIldlLCBvb2gsIGdldHRpbmcgYmFjayB0b2dldGhlclwiLFxuXCJJdCBmZWVscyBsaWtlIGEgcGVyZmVjdCBuaWdodCB0byBkcmVzcyB1cCBsaWtlIGhpcHN0ZXJzXCIsXG5cIkFuZCBtYWtlIGZ1biBvZiBvdXIgZXhlcywgdWggdWgsIHVoIHVoLlwiLFxuXCJJdCBmZWVscyBsaWtlIGEgcGVyZmVjdCBuaWdodCBmb3IgYnJlYWtmYXN0IGF0IG1pZG5pZ2h0XCIsXG5cIlRvIGZhbGwgaW4gbG92ZSB3aXRoIHN0cmFuZ2VycywgdWggdWgsIHVoIHVoLlwiLFxuXCJZZWFoLFwiLFxuXCJXZSdyZSBoYXBweSwgZnJlZSwgY29uZnVzZWQsIGFuZCBsb25lbHkgYXQgdGhlIHNhbWUgdGltZVwiLFxuXCJJdCdzIG1pc2VyYWJsZSBhbmQgbWFnaWNhbC5cIixcblwiT2gsIHllYWhcIixcblwiVG9uaWdodCdzIHRoZSBuaWdodCB3aGVuIHdlIGZvcmdldCBhYm91dCB0aGUgZGVhZGxpbmVzXCIsXG5cIkl0J3MgdGltZVwiLFxuXCJVaCBvaCFcIixcblwiSSBkb24ndCBrbm93IGFib3V0IHlvdVwiLFxuXCJCdXQgSSdtIGZlZWxpbmcgMjJcIixcblwiRXZlcnl0aGluZyB3aWxsIGJlIGFscmlnaHRcIixcblwiSWYgeW91IGtlZXAgbWUgbmV4dCB0byB5b3VcIixcblwiWW91IGRvbid0IGtub3cgYWJvdXQgbWVcIixcblwiQnV0IEknbGwgYmV0IHlvdSB3YW50IHRvXCIsXG5cIklmIHdlIGp1c3Qga2VlcCBkYW5jaW5nIGxpa2Ugd2UncmVcIixcblwiMjIsIG9vaC1vb2hcIixcblwiSXQgc2VlbXMgbGlrZSBvbmUgb2YgdGhvc2UgbmlnaHRzLFwiLFxuXCJUaGlzIHBsYWNlIGlzIHRvbyBjcm93ZGVkLlwiLFxuXCJUb28gbWFueSBjb29sIGtpZHMsIHVoIHVoLCB1aCB1aCAod2hvJ3MgVGF5bG9yIFN3aWZ0IGFueXdheSwgZXc/KVwiLFxuXCJXZSBkaXRjaCB0aGUgd2hvbGUgc2NlbmUgYW5kIGVuZCB1cCBkcmVhbWluZ1wiLFxuXCJJbnN0ZWFkIG9mIHNsZWVwaW5nLlwiLFxuXCJXZSdyZSBoYXBweSwgZnJlZSwgY29uZnVzZWQsIGFuZCBsb25lbHkgaW4gdGhlIGJlc3Qgd2F5XCIsXG5cIlRvbmlnaHQncyB0aGUgbmlnaHQgd2hlbiB3ZSBmb3JnZXQgYWJvdXQgdGhlIGhlYXJ0YnJlYWtzXCIsXG5cIlVoIG9oISAoaGV5ISlcIixcblwiRXZlcnl0aGluZyB3aWxsIGJlIGFscmlnaHQgKGFscmlnaHQpXCIsXG5cIjIyLCBvb2gtb29oIChvaCwgb2gsIG9oKVwiLFxuXCJJdCBmZWVscyBsaWtlIG9uZSBvZiB0aG9zZSBuaWdodHMsXCIsXG5cIldlIGRpdGNoIHRoZSB3aG9sZSBzY2VuZS5cIixcblwiV2Ugd29uJ3QgYmUgc2xlZXBpbmcuXCIsXG5cIllvdSBsb29rIGxpa2UgYmFkIG5ld3MuXCIsXG5cIkkgZ290dGEgaGF2ZSB5b3UsXCIsXG5cIkkgZ290dGEgaGF2ZSB5b3UuXCIsXG5cIk9vaC1vb2hcIixcblwiT29oLW9vaCwgeWUtZS1lLWUtZWFoLCBoZXlcIixcblwiSSBkb24ndCBrbm93IGFib3V0IHlvdSAoSSBkb24ndCBrbm93IGFib3V0IHlvdSlcIixcblwiWW91IGRvbid0IGtub3cgYWJvdXQgbWUgKHlvdSBkb24ndCBrbm93IGFib3V0IG1lKVwiLFxuXCIyMiwgb29oLW9vaCwgeWVhaCwgeWVhaFwiLFxuXCIyMiwgb29oLW9vaCwgeWVhaCwgeWVhaCwgeWVhaFwiLFxuXCJXZSBkaXRjaCB0aGUgd2hvbGUgc2NlbmVcIixcblwiV2Ugd29uJ3QgYmUgc2xlZXBpbmdcIixcblwiWW91IGxvb2sgbGlrZSBiYWQgbmV3cyxcIixcblwiTG92aW5nIGhpbSBpcyBsaWtlIGRyaXZpbmcgYSBuZXcgTWFzZXJhdGkgZG93biBhIGRlYWQtZW5kIHN0cmVldFwiLFxuXCJGYXN0ZXIgdGhhbiB0aGUgd2luZCwgcGFzc2lvbmF0ZSBhcyBzaW4sIGVuZGluZyBzbyBzdWRkZW5seVwiLFxuXCJMb3ZpbmcgaGltIGlzIGxpa2UgdHJ5aW5nIHRvIGNoYW5nZSB5b3VyIG1pbmQgb25jZSB5b3UncmUgYWxyZWFkeSBmbHlpbmcgdGhyb3VnaCB0aGUgZnJlZSBmYWxsXCIsXG5cIkxpa2UgdGhlIGNvbG9ycyBpbiBhdXR1bW4sIHNvIGJyaWdodCBqdXN0IGJlZm9yZSB0aGV5IGxvc2UgaXQgYWxsXCIsXG5cIkxvc2luZyBoaW0gd2FzIGJsdWUgbGlrZSBJJ2QgbmV2ZXIga25vd25cIixcblwiTWlzc2luZyBoaW0gd2FzIGRhcmsgZ3JleSBhbGwgYWxvbmVcIixcblwiRm9yZ2V0dGluZyBoaW0gd2FzIGxpa2UgdHJ5aW5nIHRvIGtub3cgc29tZWJvZHkgeW91IG5ldmVyIG1ldFwiLFxuXCJCdXQgbG92aW5nIGhpbSB3YXMgcmVkXCIsXG5cIkxvdmluZyBoaW0gd2FzIHJlZFwiLFxuXCJUb3VjaGluZyBoaW0gd2FzIGxpa2UgcmVhbGl6aW5nIGFsbCB5b3UgZXZlciB3YW50ZWQgd2FzIHJpZ2h0IHRoZXJlIGluIGZyb250IG9mIHlvdVwiLFxuXCJNZW1vcml6aW5nIGhpbSB3YXMgYXMgZWFzeSBhcyBrbm93aW5nIGFsbCB0aGUgd29yZHMgdG8geW91ciBvbGQgZmF2b3JpdGUgc29uZ1wiLFxuXCJGaWdodGluZyB3aXRoIGhpbSB3YXMgbGlrZSB0cnlpbmcgdG8gc29sdmUgYSBjcm9zc3dvcmQgYW5kIHJlYWxpemluZyB0aGVyZSdzIG5vIHJpZ2h0IGFuc3dlclwiLFxuXCJSZWdyZXR0aW5nIGhpbSB3YXMgbGlrZSB3aXNoaW5nIHlvdSBuZXZlciBmb3VuZCBvdXQgdGhhdCBsb3ZlIGNvdWxkIGJlIHRoYXQgc3Ryb25nXCIsXG5cIk9oLCByZWRcIixcblwiQnVybmluZyByZWRcIixcblwiUmVtZW1iZXJpbmcgaGltIGNvbWVzIGluIGZsYXNoYmFja3MgYW5kIGVjaG9lc1wiLFxuXCJUZWxsIG15c2VsZiBpdCdzIHRpbWUgbm93LCBnb3R0YSBsZXQgZ29cIixcblwiQnV0IG1vdmluZyBvbiBmcm9tIGhpbSBpcyBpbXBvc3NpYmxlXCIsXG5cIldoZW4gSSBzdGlsbCBzZWUgaXQgYWxsIGluIG15IGhlYWRcIixcblwiSW4gYnVybmluZyByZWRcIixcblwiQnVybmluZywgaXQgd2FzIHJlZFwiLFxuXCJPaCwgbG9zaW5nIGhpbSB3YXMgYmx1ZSBsaWtlIEknZCBuZXZlciBrbm93blwiLFxuXCInQ2F1c2UgbG92aW5nIGhpbSB3YXMgcmVkXCIsXG5cIlllYWgsIHllYWgsIHJlZFwiLFxuXCJXZSdyZSBidXJuaW5nIHJlZFwiLFxuXCJBbmQgdGhhdCdzIHdoeSBoZSdzIHNwaW5uaW4nICdyb3VuZCBpbiBteSBoZWFkXCIsXG5cIkNvbWVzIGJhY2sgdG8gbWUsIGJ1cm5pbmcgcmVkXCIsXG5cIlllYWgsIHllYWhcIixcblwiSGlzIGxvdmUgd2FzIGxpa2UgZHJpdmluZyBhIG5ldyBNYXNlcmF0aSBkb3duIGEgZGVhZC1lbmQgc3RyZWV0XCIsXG5cIkkgdGhpbmstLUkgdGhpbmsgd2hlbiBpdCdzIGFsbCBvdmVyLFwiLFxuXCJJdCBqdXN0IGNvbWVzIGJhY2sgaW4gZmxhc2hlcywgeW91IGtub3c/XCIsXG5cIkl0J3MgbGlrZSBhIGthbGVpZG9zY29wZSBvZiBtZW1vcmllcy5cIixcblwiSXQganVzdCBhbGwgY29tZXMgYmFjay4gQnV0IGhlIG5ldmVyIGRvZXMuXCIsXG5cIkkgdGhpbmsgcGFydCBvZiBtZSBrbmV3IHRoZSBzZWNvbmQgSSBzYXcgaGltIHRoYXQgdGhpcyB3b3VsZCBoYXBwZW4uXCIsXG5cIkl0J3Mgbm90IHJlYWxseSBhbnl0aGluZyBoZSBzYWlkIG9yIGFueXRoaW5nIGhlIGRpZCxcIixcblwiSXQgd2FzIHRoZSBmZWVsaW5nIHRoYXQgY2FtZSBhbG9uZyB3aXRoIGl0LlwiLFxuXCJBbmQgdGhlIGNyYXp5IHRoaW5nIGlzIEkgZG9uJ3Qga25vdyBpZiBJJ20gZXZlciBnb25uYSBmZWVsIHRoYXQgd2F5IGFnYWluLlwiLFxuXCJCdXQgSSBkb24ndCBrbm93IGlmIEkgc2hvdWxkLlwiLFxuXCJJIGtuZXcgaGlzIHdvcmxkIG1vdmVkIHRvbyBmYXN0IGFuZCBidXJuZWQgdG9vIGJyaWdodC5cIixcblwiQnV0IEkganVzdCB0aG91Z2h0LCBob3cgY2FuIHRoZSBkZXZpbCBiZSBwdWxsaW5nIHlvdSB0b3dhcmQgc29tZW9uZSB3aG8gbG9va3Mgc28gbXVjaCBsaWtlIGFuIGFuZ2VsIHdoZW4gaGUgc21pbGVzIGF0IHlvdT9cIixcblwiTWF5YmUgaGUga25ldyB0aGF0IHdoZW4gaGUgc2F3IG1lLlwiLFxuXCJJIGd1ZXNzIEkganVzdCBsb3N0IG15IGJhbGFuY2UuXCIsXG5cIkkgdGhpbmsgdGhhdCB0aGUgd29yc3QgcGFydCBvZiBpdCBhbGwgd2Fzbid0IGxvc2luZyBoaW0uXCIsXG5cIkl0IHdhcyBsb3NpbmcgbWUuXCIsXG5cIk9uY2UgdXBvbiBhIHRpbWUgYSBmZXcgbWlzdGFrZXMgYWdvXCIsXG5cIkkgd2FzIGluIHlvdXIgc2lnaHRzLCB5b3UgZ290IG1lIGFsb25lXCIsXG5cIllvdSBmb3VuZCBtZSwgeW91IGZvdW5kIG1lLCB5b3UgZm91bmQgbWVcIixcblwiSSBndWVzcyB5b3UgZGlkbid0IGNhcmUsIGFuZCBJIGd1ZXNzIEkgbGlrZWQgdGhhdFwiLFxuXCJBbmQgd2hlbiBJIGZlbGwgaGFyZCB5b3UgdG9vayBhIHN0ZXAgYmFja1wiLFxuXCJXaXRob3V0IG1lLCB3aXRob3V0IG1lLCB3aXRob3V0IG1lXCIsXG5cIkFuZCBoZSdzIGxvbmcgZ29uZSB3aGVuIGhlJ3MgbmV4dCB0byBtZVwiLFxuXCJBbmQgSSByZWFsaXplIHRoZSBibGFtZSBpcyBvbiBtZVwiLFxuXCInQ2F1c2UgSSBrbmV3IHlvdSB3ZXJlIHRyb3VibGUgd2hlbiB5b3Ugd2Fsa2VkIGluXCIsXG5cIlNvIHNoYW1lIG9uIG1lIG5vd1wiLFxuXCJGbGV3IG1lIHRvIHBsYWNlcyBJJ2QgbmV2ZXIgYmVlblwiLFxuXCInVGlsIHlvdSBwdXQgbWUgZG93biwgb2hcIixcblwiSSBrbmV3IHlvdSB3ZXJlIHRyb3VibGUgd2hlbiB5b3Ugd2Fsa2VkIGluXCIsXG5cIk5vdyBJJ20gbHlpbmcgb24gdGhlIGNvbGQgaGFyZCBncm91bmRcIixcblwiT2gsIG9oLCB0cm91YmxlLCB0cm91YmxlLCB0cm91YmxlXCIsXG5cIk5vIGFwb2xvZ2llcy4gSGUnbGwgbmV2ZXIgc2VlIHlvdSBjcnksXCIsXG5cIlByZXRlbmRzIGhlIGRvZXNuJ3Qga25vdyB0aGF0IGhlJ3MgdGhlIHJlYXNvbiB3aHkuXCIsXG5cIllvdSdyZSBkcm93bmluZywgeW91J3JlIGRyb3duaW5nLCB5b3UncmUgZHJvd25pbmcuXCIsXG5cIk5vdyBJIGhlYXJkIHlvdSBtb3ZlZCBvbiBmcm9tIHdoaXNwZXJzIG9uIHRoZSBzdHJlZXRcIixcblwiQSBuZXcgbm90Y2ggaW4geW91ciBiZWx0IGlzIGFsbCBJJ2xsIGV2ZXIgYmVcIixcblwiQW5kIG5vdyBJIHNlZSwgbm93IEkgc2VlLCBub3cgSSBzZWVcIixcblwiSGUgd2FzIGxvbmcgZ29uZSB3aGVuIGhlIG1ldCBtZVwiLFxuXCJBbmQgSSByZWFsaXplIHRoZSBqb2tlIGlzIG9uIG1lLCB5ZWFoIVwiLFxuXCJBbmQgdGhlIHNhZGRlc3QgZmVhciBjb21lcyBjcmVlcGluZyBpblwiLFxuXCJUaGF0IHlvdSBuZXZlciBsb3ZlZCBtZSBvciBoZXIsIG9yIGFueW9uZSwgb3IgYW55dGhpbmcsIHllYWhcIixcblwiSSBrbmV3IHlvdSB3ZXJlIHRyb3VibGUgd2hlbiB5b3Ugd2Fsa2VkIGluICh5b3Ugd2VyZSByaWdodCB0aGVyZSwgeW91IHdlcmUgcmlnaHQgdGhlcmUpXCIsXG5cIlRyb3VibGUsIHRyb3VibGUsIHRyb3VibGVcIixcblwiSSBzdGF5IG91dCB0b28gbGF0ZVwiLFxuXCJHb3Qgbm90aGluZyBpbiBteSBicmFpblwiLFxuXCJUaGF0J3Mgd2hhdCBwZW9wbGUgc2F5LCBtbW0tbW1tXCIsXG5cIkJ1dCBJIGNhbid0IG1ha2UgdGhlbSBzdGF5XCIsXG5cIkF0IGxlYXN0IHRoYXQncyB3aGF0IHBlb3BsZSBzYXksIG1tbS1tbW1cIixcblwiQnV0IEkga2VlcCBjcnVpc2luZ1wiLFxuXCJDYW4ndCBzdG9wLCB3b24ndCBzdG9wIG1vdmluZ1wiLFxuXCJJdCdzIGxpa2UgSSBnb3QgdGhpcyBtdXNpY1wiLFxuXCJJbiBteSBtaW5kXCIsXG5cIidDYXVzZSB0aGUgcGxheWVycyBnb25uYSBwbGF5LCBwbGF5LCBwbGF5LCBwbGF5LCBwbGF5XCIsXG5cIkFuZCB0aGUgaGF0ZXJzIGdvbm5hIGhhdGUsIGhhdGUsIGhhdGUsIGhhdGUsIGhhdGVcIixcblwiQmFieSwgSSdtIGp1c3QgZ29ubmEgc2hha2UsIHNoYWtlLCBzaGFrZSwgc2hha2UsIHNoYWtlXCIsXG5cIkkgc2hha2UgaXQgb2ZmLCBJIHNoYWtlIGl0IG9mZlwiLFxuXCJIZWFydC1icmVha2VycyBnb25uYSBicmVhaywgYnJlYWssIGJyZWFrLCBicmVhaywgYnJlYWtcIixcblwiQW5kIHRoZSBmYWtlcnMgZ29ubmEgZmFrZSwgZmFrZSwgZmFrZSwgZmFrZSwgZmFrZVwiLFxuXCJJIG5ldmVyIG1pc3MgYSBiZWF0XCIsXG5cIkknbSBsaWdodG5pbmcgb24gbXkgZmVldFwiLFxuXCJBbmQgdGhhdCdzIHdoYXQgdGhleSBkb24ndCBzZWUsIG1tbS1tbW1cIixcblwiVGhhdCdzIHdoYXQgdGhleSBkb24ndCBzZWUsIG1tbS1tbW1cIixcblwiSSdtIGRhbmNpbmcgb24gbXkgb3duIChkYW5jaW5nIG9uIG15IG93bilcIixcblwiSSBtYWtlIHRoZSBtb3ZlcyB1cCBhcyBJIGdvIChtb3ZlcyB1cCBhcyBJIGdvKVwiLFxuXCJBbmQgdGhhdCdzIHdoYXQgdGhleSBkb24ndCBrbm93LCBtbW0tbW1tXCIsXG5cIlRoYXQncyB3aGF0IHRoZXkgZG9uJ3Qga25vdywgbW1tLW1tbVwiLFxuXCJDYW4ndCBzdG9wLCB3b24ndCBzdG9wIGdyb292aW5nXCIsXG5cIlNoYWtlIGl0IG9mZiwgSSBzaGFrZSBpdCBvZmYsXCIsXG5cIkksIEksIEkgc2hha2UgaXQgb2ZmLCBJIHNoYWtlIGl0IG9mZixcIixcblwiSSwgSSwgSSBzaGFrZSBpdCBvZmYsIEkgc2hha2UgaXQgb2ZmXCIsXG5cIkhleSwgaGV5LCBoZXlcIixcblwiSnVzdCB0aGluayB3aGlsZSB5b3UndmUgYmVlbiBnZXR0aW5nIGRvd24gYW5kIG91dCBhYm91dCB0aGUgbGlhcnMgYW5kIHRoZSBkaXJ0eSwgZGlydHkgY2hlYXRzIG9mIHRoZSB3b3JsZCxcIixcblwiWW91IGNvdWxkJ3ZlIGJlZW4gZ2V0dGluZyBkb3duIHRvIHRoaXMgc2ljayBiZWF0LlwiLFxuXCJNeSBleC1tYW4gYnJvdWdodCBoaXMgbmV3IGdpcmxmcmllbmRcIixcblwiQW5kIHRvIHRoZSBmZWxsYSBvdmVyIHRoZXJlIHdpdGggdGhlIGhlbGxhIGdvb2QgaGFpclwiLFxuXCJXb24ndCB5b3UgY29tZSBvbiBvdmVyLCBiYWJ5PyBXZSBjYW4gc2hha2UsIHNoYWtlLCBzaGFrZVwiLFxuXCJZZWFoIG9oaGhcIixcblwiQW5kIHRoZSBoYXRlcnMgZ29ubmEgaGF0ZSwgaGF0ZSwgaGF0ZSwgaGF0ZSwgaGF0ZSAoaGF0ZXJzIGdvbm5hIGhhdGUpXCIsXG5cIkknbSBqdXN0IGdvbm5hIHNoYWtlLCBzaGFrZSwgc2hha2UsIHNoYWtlLCBzaGFrZVwiLFxuXCJIZWFydC1icmVha2VycyBnb25uYSBicmVhaywgYnJlYWssIGJyZWFrLCBicmVhaywgYnJlYWsgKG1tbW0pXCIsXG5cIkFuZCB0aGUgZmFrZXJzIGdvbm5hIGZha2UsIGZha2UsIGZha2UsIGZha2UsIGZha2UgKGFuZCBmYWtlLCBhbmQgZmFrZSwgYW5kIGZha2UpXCIsXG5cIkksIEksIEkgc2hha2UgaXQgb2ZmLCBJIHNoYWtlIGl0IG9mZiAoeW91J3ZlIGdvdCB0byksXCIsXG5cIidDYXVzZSwgYmFieSwgbm93IHdlIGdvdCBiYWQgYmxvb2RcIixcblwiWW91IGtub3cgaXQgdXNlZCB0byBiZSBtYWQgbG92ZVwiLFxuXCJTbyB0YWtlIGEgbG9vayB3aGF0IHlvdSd2ZSBkb25lXCIsXG5cIkhleVwiLFxuXCJOb3cgd2UgZ290IHByb2JsZW1zXCIsXG5cIkFuZCBJIGRvbid0IHRoaW5rIHdlIGNhbiBzb2x2ZSB0aGVtXCIsXG5cIllvdSBtYWRlIGEgcmVhbGx5IGRlZXAgY3V0XCIsXG5cIkFuZCwgYmFieSwgbm93IHdlIGdvdCBiYWQgYmxvb2RcIixcblwiRGlkIHlvdSBoYXZlIHRvIGRvIHRoaXM/IEkgd2FzIHRoaW5raW5nIHRoYXQgeW91IGNvdWxkIGJlIHRydXN0ZWRcIixcblwiRGlkIHlvdSBoYXZlIHRvIHJ1aW4gd2hhdCB3YXMgc2hpbnk/IE5vdyBpdCdzIGFsbCBydXN0ZWRcIixcblwiRGlkIHlvdSBoYXZlIHRvIGhpdCBtZSwgd2hlcmUgSSdtIHdlYWs/IEJhYnksIEkgY291bGRuJ3QgYnJlYXRoZVwiLFxuXCJBbmQgcnViIGl0IGluIHNvIGRlZXAsIHNhbHQgaW4gdGhlIHdvdW5kIGxpa2UgeW91J3JlIGxhdWdoaW5nIHJpZ2h0IGF0IG1lXCIsXG5cIk9oLCBpdCdzIHNvIHNhZCB0byB0aGluayBhYm91dCB0aGUgZ29vZCB0aW1lcywgeW91IGFuZCBJXCIsXG5cIkRpZCB5b3UgdGhpbmsgd2UnZCBiZSBmaW5lPyBTdGlsbCBnb3Qgc2NhcnMgb24gbXkgYmFjayBmcm9tIHlvdXIga25pZmVcIixcblwiU28gZG9uJ3QgdGhpbmsgaXQncyBpbiB0aGUgcGFzdCwgdGhlc2Uga2luZGEgd291bmRzIHRoZXkgbGFzdCBhbmQgdGhleSBsYXN0LlwiLFxuXCJOb3cgZGlkIHlvdSB0aGluayBpdCBhbGwgdGhyb3VnaD8gQWxsIHRoZXNlIHRoaW5ncyB3aWxsIGNhdGNoIHVwIHRvIHlvdVwiLFxuXCJBbmQgdGltZSBjYW4gaGVhbCBidXQgdGhpcyB3b24ndCwgc28gaWYgeW91J3JlIGNvbWluZyBteSB3YXksIGp1c3QgZG9uJ3RcIixcblwiQmFuZC1haWRzIGRvbid0IGZpeCBidWxsZXQgaG9sZXNcIixcblwiWW91IHNheSBzb3JyeSBqdXN0IGZvciBzaG93XCIsXG5cIklmIHlvdSBsaXZlIGxpa2UgdGhhdCwgeW91IGxpdmUgd2l0aCBnaG9zdHMgKGdob3N0cylcIixcblwiQmFuZC1haWRzIGRvbid0IGZpeCBidWxsZXQgaG9sZXMgKGhleSlcIixcblwiWW91IHNheSBzb3JyeSBqdXN0IGZvciBzaG93IChoZXkpXCIsXG5cIklmIHlvdSBsaXZlIGxpa2UgdGhhdCwgeW91IGxpdmUgd2l0aCBnaG9zdHMgKGhleSlcIixcblwiSWYgeW91IGxvdmUgbGlrZSB0aGF0IGJsb29kIHJ1bnMgY29sZFwiLFxuXCJZb3Uga25vdyBpdCB1c2VkIHRvIGJlIG1hZCBsb3ZlIChtYWQgbG92ZSlcIixcblwiQW5kIEkgZG9uJ3QgdGhpbmsgd2UgY2FuIHNvbHZlIHRoZW0gKHRoaW5rIHdlIGNhbiBzb2x2ZSB0aGVtKVwiLFxuXCIoSGV5KVwiLFxuXCJTbyB0YWtlIGEgbG9vayB3aGF0IHlvdSd2ZSBkb25lIChsb29rIHdoYXQgeW91J3ZlIGRvbmUpXCIsXG5cIk1pZG5pZ2h0LFwiLFxuXCJZb3UgY29tZSBhbmQgcGljayBtZSB1cCwgbm8gaGVhZGxpZ2h0c1wiLFxuXCJBIGxvbmcgZHJpdmUsXCIsXG5cIkNvdWxkIGVuZCBpbiBidXJuaW5nIGZsYW1lcyBvciBwYXJhZGlzZVwiLFxuXCJGYWRlIGludG8gdmlldywgb2gsIGl0J3MgYmVlbiBhIHdoaWxlIHNpbmNlIEkgaGF2ZSBldmVuIGhlYXJkIGZyb20geW91IChoZWFyZCBmcm9tIHlvdSlcIixcblwiSSBzaG91bGQganVzdCB0ZWxsIHlvdSB0byBsZWF2ZSAnY2F1c2UgSVwiLFxuXCJLbm93IGV4YWN0bHkgd2hlcmUgaXQgbGVhZHMgYnV0IElcIixcblwiV2F0Y2ggdXMgZ28gJ3JvdW5kIGFuZCAncm91bmQgZWFjaCB0aW1lXCIsXG5cIllvdSBnb3QgdGhhdCBKYW1lcyBEZWFuIGRheWRyZWFtIGxvb2sgaW4geW91ciBleWVcIixcblwiQW5kIEkgZ290IHRoYXQgcmVkIGxpcCBjbGFzc2ljIHRoaW5nIHRoYXQgeW91IGxpa2VcIixcblwiQW5kIHdoZW4gd2UgZ28gY3Jhc2hpbmcgZG93biwgd2UgY29tZSBiYWNrIGV2ZXJ5IHRpbWVcIixcblwiJ0NhdXNlIHdlIG5ldmVyIGdvIG91dCBvZiBzdHlsZVwiLFxuXCJXZSBuZXZlciBnbyBvdXQgb2Ygc3R5bGVcIixcblwiWW91IGdvdCB0aGF0IGxvbmcgaGFpciwgc2xpY2tlZCBiYWNrLCB3aGl0ZSB0LXNoaXJ0XCIsXG5cIkFuZCBJIGdvdCB0aGF0IGdvb2QgZ2lybCBmYWl0aCBhbmQgYSB0aWdodCBsaXR0bGUgc2tpcnRcIixcblwiV2UgbmV2ZXIgZ28gb3V0IG9mIHN0eWxlLlwiLFxuXCJTbyBpdCBnb2VzXCIsXG5cIkhlIGNhbid0IGtlZXAgaGlzIHdpbGQgZXllcyBvbiB0aGUgcm9hZFwiLFxuXCJUYWtlcyBtZSBob21lXCIsXG5cIkxpZ2h0cyBhcmUgb2ZmLCBoZSdzIHRha2luZyBvZmYgaGlzIGNvYXQsIGhtbSwgeWVhaC5cIixcblwiJ0NhdXNlIHlvdSBnb3QgdGhhdCBKYW1lcyBEZWFuIGRheWRyZWFtIGxvb2sgaW4geW91ciBleWVcIixcblwiQW5kIEkgZ290IHRoYXQgZ29vZCBnaXJsIGZhaXRoIGFuZCBhIHRpZ2h0IGxpdHRsZSBza2lydCAodGlnaHQgbGl0dGxlIHNraXJ0KVwiLFxuXCJUYWtlIG1lIGhvbWVcIixcblwiSnVzdCB0YWtlIG1lIGhvbWUsIHllYWguXCIsXG5cIkp1c3QgdGFrZSBtZSBob21lXCIsXG5cIihvdXQgb2Ygc3R5bGUpXCIsXG5cIkkgd2FzIHJlbWluaXNjaW5nIGp1c3QgdGhlIG90aGVyIGRheSxcIixcblwiV2hpbGUgaGF2aW5nIGNvZmZlZSBhbGwgYWxvbmUgYW5kIExvcmQsIGl0IHRvb2sgbWUgYXdheS5cIixcblwiQmFjayB0byBhIGZpcnN0LWdsYW5jZSBmZWVsaW5nIG9uIE5ldyBZb3JrIFRpbWUuXCIsXG5cIkJhY2sgd2hlbiB5b3UgZml0IGluIG15IHBvZW1zIGxpa2UgYSBwZXJmZWN0IHJoeW1lLlwiLFxuXCJZZWFoLCB5b3Ugc2tpcHBlZCB0aGUgY29udmVyc2F0aW9uIHdoZW4geW91IGFscmVhZHkga25vdy5cIixcblwiSSBsZWZ0IGEgbm90ZSBvbiB0aGUgZG9vciB3aXRoIGEgam9rZSB3ZeKAmWQgbWFkZSxcIixcblwiQW5kIHRoYXQgd2FzIHRoZSBmaXJzdCBkYXkuXCIsXG5cIkFuZCBkYXJsaW5nLCBpdCB3YXMgZ29vZCBuZXZlciBsb29raW5nIGRvd24uXCIsXG5cIkFuZCByaWdodCB0aGVyZSB3aGVyZSB3ZSBzdG9vZCB3YXMgaG9seSBncm91bmQuXCIsXG5cIlNwaW5uaW5nIGxpa2UgYSBnaXJsIGluIGEgYnJhbmQgbmV3IGRyZXNzLFwiLFxuXCJXZSBoYWQgdGhpcyBiaWcgd2lkZSBjaXR5IGFsbCB0byBvdXJzZWx2ZXMuXCIsXG5cIldlIGJsb2NrZWQgdGhlIG5vaXNlIHdpdGggdGhlIHNvdW5kIG9mIOKAmEkgbmVlZCB5b3XigJksXCIsXG5cIkFuZCBmb3IgdGhlIGZpcnN0IHRpbWUgSSBoYWQgc29tZXRoaW5nIHRvIGxvc2UsXCIsXG5cIkFuZCBJIGd1ZXNzIHdlIGZlbGwgYXBhcnQgaW4gdGhlIHVzdWFsIHdheS5cIixcblwiQW5kIHRoZSBzdG9yeeKAmXMgZ290IGR1c3Qgb24gZXZlcnkgcGFnZSxcIixcblwiQnV0IHNvbWV0aW1lcyBJIHdvbmRlciBob3cgeW91IHRoaW5rIGFib3V0IGl0IG5vdy5cIixcblwiQW5kIEkgc2VlIHlvdXIgZmFjZSBpbiBldmVyeSBjcm93ZC5cIixcblwiQ2F1c2UgZGFybGluZywgaXQgd2FzIGdvb2QgbmV2ZXIgbG9va2luZyBkb3duLlwiLFxuXCJUb25pZ2h0IEnigJltIGdvbm5hIGRhbmNlIGZvciBhbGwgdGhhdCB3ZeKAmXZlIGJlZW4gdGhyb3VnaC5cIixcblwiQnV0IEkgZG9u4oCZdCB3YW5uYSBkYW5jZSBpZiBJ4oCZbSBub3QgZGFuY2luZyB3aXRoIHlvdS5cIixcblwiVG9uaWdodCBJ4oCZbSBnb25uYSBkYW5jZSBsaWtlIHlvdSB3ZXJlIGluIHRoaXMgcm9vbS5cIixcblwiQnV0IEkgZG9u4oCZdCB3YW5uYSBkYW5jZSBpZiBJ4oCZbSBub3QgZGFuY2luZyB3aXRoIHlvdSxcIixcblwiSXQgd2FzIGdvb2QgbmV2ZXIgbG9va2luZyBkb3duLlwiLFxuXCJJIHN0aWxsIHJlbWVtYmVyIHRoZSBsb29rIG9uIHlvdXIgZmFjZVwiLFxuXCJMaXQgdGhyb3VnaCB0aGUgZGFya25lc3MgYXQgMTo1OFwiLFxuXCJUaGUgd29yZHMgdGhhdCB5b3Ugd2hpc3BlcmVkXCIsXG5cIkZvciBqdXN0IHVzIHRvIGtub3dcIixcblwiWW91IHRvbGQgbWUgeW91IGxvdmVkIG1lXCIsXG5cIlNvIHdoeSBkaWQgeW91IGdvIGF3YXk/XCIsXG5cIkF3YXlcIixcblwiSSBkbyByZWNhbGwgbm93IHRoZSBzbWVsbCBvZiB0aGUgcmFpblwiLFxuXCJGcmVzaCBvbiB0aGUgcGF2ZW1lbnRcIixcblwiSSByYW4gb2ZmIHRoZSBwbGFuZVwiLFxuXCJUaGF0IEp1bHkgOXRoXCIsXG5cIlRoZSBiZWF0IG9mIHlvdXIgaGVhcnRcIixcblwiSXQganVtcHMgdGhyb3VnaCB5b3VyIHNoaXJ0XCIsXG5cIkkgY2FuIHN0aWxsIGZlZWwgeW91ciBhcm1zXCIsXG5cIkJ1dCBub3cgSSdsbCBnbyBzaXQgb24gdGhlIGZsb29yXCIsXG5cIldlYXJpbmcgeW91ciBjbG90aGVzXCIsXG5cIkFsbCB0aGF0IEkga25vdyBpc1wiLFxuXCJJIGRvbid0IGtub3cgaG93IHRvIGJlIHNvbWV0aGluZyB5b3UgbWlzc1wiLFxuXCJJIG5ldmVyIHRob3VnaHQgd2UnZCBoYXZlIGEgbGFzdCBraXNzXCIsXG5cIk5ldmVyIGltYWdpbmVkIHdlJ2QgZW5kIGxpa2UgdGhpc1wiLFxuXCJZb3VyIG5hbWUsIGZvcmV2ZXIgdGhlIG5hbWUgb24gbXkgbGlwc1wiLFxuXCJJIGRvIHJlbWVtYmVyIHRoZSBzd2luZyBvZiB5b3VyIHN0ZXBcIixcblwiVGhlIGxpZmUgb2YgdGhlIHBhcnR5LCB5b3UncmUgc2hvd2luZyBvZmYgYWdhaW5cIixcblwiQW5kIEkgcm9sbCBteSBleWVzIGFuZCB0aGVuXCIsXG5cIllvdSBwdWxsIG1lIGluXCIsXG5cIkknbSBub3QgbXVjaCBmb3IgZGFuY2luZ1wiLFxuXCJCdXQgZm9yIHlvdSBJIGRpZFwiLFxuXCJCZWNhdXNlIEkgbG92ZSB5b3VyIGhhbmRzaGFrZSwgbWVldGluZyBteSBmYXRoZXJcIixcblwiSSBsb3ZlIGhvdyB5b3Ugd2FsayB3aXRoIHlvdXIgaGFuZHMgaW4geW91ciBwb2NrZXRzXCIsXG5cIkhvdyB5b3Uga2lzc2VkIG1lIHdoZW4gSSB3YXMgaW4gdGhlIG1pZGRsZSBvZiBzYXlpbmcgc29tZXRoaW5nXCIsXG5cIlRoZXJlJ3Mgbm90IGEgZGF5IEkgZG9uJ3QgbWlzcyB0aG9zZSBydWRlIGludGVycnVwdGlvbnNcIixcblwiQW5kIEknbGwgZ28gc2l0IG9uIHRoZSBmbG9vclwiLFxuXCJOZXZlciB0aG91Z2h0IHdlJ2QgaGF2ZSBhIGxhc3Qga2lzc1wiLFxuXCJTbyBJJ2xsIHdhdGNoIHlvdXIgbGlmZSBpbiBwaWN0dXJlcyBsaWtlIEkgdXNlZCB0byB3YXRjaCB5b3Ugc2xlZXBcIixcblwiQW5kIEkgZmVlbCB5b3UgZm9yZ2V0IG1lIGxpa2UgSSB1c2VkIHRvIGZlZWwgeW91IGJyZWF0aGVcIixcblwiQW5kIEkga2VlcCB1cCB3aXRoIG91ciBvbGQgZnJpZW5kcyBqdXN0IHRvIGFzayB0aGVtIGhvdyB5b3UgYXJlXCIsXG5cIkhvcGUgaXQncyBuaWNlIHdoZXJlIHlvdSBhcmVcIixcblwiQW5kIEkgaG9wZSB0aGUgc3VuIHNoaW5lc1wiLFxuXCJBbmQgaXQncyBhIGJlYXV0aWZ1bCBkYXlcIixcblwiQW5kIHNvbWV0aGluZyByZW1pbmRzIHlvdVwiLFxuXCJZb3Ugd2lzaCB5b3UgaGFkIHN0YXllZFwiLFxuXCJZb3UgY2FuIHBsYW4gZm9yIGEgY2hhbmdlIGluIHdlYXRoZXIgYW5kIHRpbWVcIixcblwiQnV0IEkgbmV2ZXIgcGxhbm5lZCBvbiB5b3UgY2hhbmdpbmcgeW91ciBtaW5kXCIsXG5cIlNvIEknbGwgZ28gc2l0IG9uIHRoZSBmbG9vclwiLFxuXCJKdXN0IGxpa2Ugb3VyIGxhc3Qga2lzc1wiLFxuXCJGb3JldmVyIHRoZSBuYW1lIG9uIG15IGxpcHNcIixcblwiSnVzdCBsaWtlIG91ciBsYXN0Li4uXCIsXG5cIllvdSdyZSBvbiB0aGUgcGhvbmUgd2l0aCB5b3VyIGdpcmxmcmllbmRcIixcblwiU2hlJ3MgdXBzZXQsIHNoZSdzIGdvaW5nIG9mZiBhYm91dCBzb21ldGhpbmcgdGhhdCB5b3Ugc2FpZFwiLFxuXCInQ2F1c2Ugc2hlIGRvZXNuJ3QgZ2V0IHlvdXIgaHVtb3IgbGlrZSBJIGRvLlwiLFxuXCJJJ20gaW4gdGhlIHJvb20sIGl0J3MgYSB0eXBpY2FsIFR1ZXNkYXkgbmlnaHQuXCIsXG5cIkknbSBsaXN0ZW5pbmcgdG8gdGhlIGtpbmQgb2YgbXVzaWMgc2hlIGRvZXNuJ3QgbGlrZS5cIixcblwiQW5kIHNoZSdsbCBuZXZlciBrbm93IHlvdXIgc3RvcnkgbGlrZSBJIGRvLlwiLFxuXCJCdXQgc2hlIHdlYXJzIHNob3J0IHNraXJ0c1wiLFxuXCJJIHdlYXIgdC1zaGlydHNcIixcblwiU2hlJ3MgY2hlZXIgY2FwdGFpblwiLFxuXCJBbmQgSSdtIG9uIHRoZSBibGVhY2hlcnNcIixcblwiRHJlYW1pbmcgYWJvdXQgdGhlIGRheSB3aGVuIHlvdSB3YWtlIHVwIGFuZCBmaW5kXCIsXG5cIlRoYXQgd2hhdCB5b3UncmUgbG9va2luZyBmb3IgaGFzIGJlZW4gaGVyZSB0aGUgd2hvbGUgdGltZS5cIixcblwiSWYgeW91IGNvdWxkIHNlZVwiLFxuXCJUaGF0IEknbSB0aGUgb25lXCIsXG5cIldobyB1bmRlcnN0YW5kcyB5b3UuXCIsXG5cIkJlZW4gaGVyZSBhbGwgYWxvbmcuXCIsXG5cIlNvLCB3aHkgY2FuJ3QgeW91IHNlZVwiLFxuXCJZb3UgYmVsb25nIHdpdGggbWUsXCIsXG5cIllvdSBiZWxvbmcgd2l0aCBtZS5cIixcblwiV2FsayBpbiB0aGUgc3RyZWV0cyB3aXRoIHlvdSBpbiB5b3VyIHdvcm4gb3V0IGplYW5zXCIsXG5cIkkgY2FuJ3QgaGVscCB0aGlua2luZyB0aGlzIGlzIGhvdyBpdCBvdWdodCB0byBiZS5cIixcblwiTGF1Z2hpbmcgb24gYSBwYXJrIGJlbmNoIHRoaW5raW5nIHRvIG15c2VsZixcIixcblwiQW5kIHlvdSd2ZSBnb3QgYSBzbWlsZVwiLFxuXCJUaGF0IGNvdWxkIGxpZ2h0IHVwIHRoaXMgd2hvbGUgdG93bi5cIixcblwiSSBoYXZlbid0IHNlZW4gaXQgaW4gYSB3aGlsZVwiLFxuXCJTaW5jZSBzaGUgYnJvdWdodCB5b3UgZG93bi5cIixcblwiWW91IHNheSB5b3UncmUgZmluZSBJIGtub3cgeW91IGJldHRlciB0aGFuIHRoYXQuXCIsXG5cIkhleSwgd2hhdCB5b3UgZG9pbmcgd2l0aCBhIGdpcmwgbGlrZSB0aGF0P1wiLFxuXCJTaGUgd2VhcnMgaGlnaCBoZWVscyxcIixcblwiSSB3ZWFyIHNuZWFrZXJzLlwiLFxuXCJTaGUncyBjaGVlciBjYXB0YWluLFwiLFxuXCJBbmQgSSdtIG9uIHRoZSBibGVhY2hlcnMuXCIsXG5cIldobyB1bmRlcnN0YW5kcyB5b3UsXCIsXG5cIlN0YW5kaW5nIGJ5IGFuZCB3YWl0aW5nIGF0IHlvdXIgYmFja2Rvb3IuXCIsXG5cIkFsbCB0aGlzIHRpbWUgaG93IGNvdWxkIHlvdSBub3Qga25vdywgYmFieT9cIixcblwiW0luc3RydW1lbnRhbF1cIixcblwiT2gsIEkgcmVtZW1iZXIgeW91IGRyaXZpbmcgdG8gbXkgaG91c2VcIixcblwiSW4gdGhlIG1pZGRsZSBvZiB0aGUgbmlnaHQuXCIsXG5cIkknbSB0aGUgb25lIHdobyBtYWtlcyB5b3UgbGF1Z2hcIixcblwiV2hlbiB5b3Uga25vdyB5b3UncmUgJ2JvdXQgdG8gY3J5LlwiLFxuXCJJIGtub3cgeW91ciBmYXZvcml0ZSBzb25ncyxcIixcblwiQW5kIHlvdSB0ZWxsIG1lIGFib3V0IHlvdXIgZHJlYW1zLlwiLFxuXCJUaGluayBJIGtub3cgd2hlcmUgeW91IGJlbG9uZyxcIixcblwiVGhpbmsgSSBrbm93IGl0J3Mgd2l0aCBtZS5cIixcblwiQ2FuJ3QgeW91IHNlZVwiLFxuXCJXaG8gdW5kZXJzdGFuZHMgeW91P1wiLFxuXCJIYXZlIHlvdSBldmVyIHRob3VnaHQganVzdCBtYXliZVwiLFxuXCJZb3UgYmVsb25nIHdpdGggbWU/XCIsXG5cIk5pY2UgdG8gbWVldCB5b3UsIHdoZXJlIHlvdSBiZWVuP1wiLFxuXCJJIGNvdWxkIHNob3cgeW91IGluY3JlZGlibGUgdGhpbmdzXCIsXG5cIk1hZ2ljLCBtYWRuZXNzLCBoZWF2ZW4sIHNpblwiLFxuXCJTYXcgeW91IHRoZXJlIGFuZCBJIHRob3VnaHRcIixcblwiT2ggbXkgR29kLCBsb29rIGF0IHRoYXQgZmFjZVwiLFxuXCJZb3UgbG9vayBsaWtlIG15IG5leHQgbWlzdGFrZVwiLFxuXCJMb3ZlJ3MgYSBnYW1lLCB3YW5uYSBwbGF5P1wiLFxuXCJOZXcgbW9uZXksIHN1aXQgYW5kIHRpZVwiLFxuXCJJIGNhbiByZWFkIHlvdSBsaWtlIGEgbWFnYXppbmVcIixcblwiQWluJ3QgaXQgZnVubnksIHJ1bW9ycyBmbHlcIixcblwiQW5kIEkga25vdyB5b3UgaGVhcmQgYWJvdXQgbWVcIixcblwiU28gaGV5LCBsZXQncyBiZSBmcmllbmRzXCIsXG5cIkknbSBkeWluZyB0byBzZWUgaG93IHRoaXMgb25lIGVuZHNcIixcblwiR3JhYiB5b3VyIHBhc3Nwb3J0IGFuZCBteSBoYW5kXCIsXG5cIkkgY2FuIG1ha2UgdGhlIGJhZCBndXlzIGdvb2QgZm9yIGEgd2Vla2VuZFwiLFxuXCJTbyBpdCdzIGdvbm5hIGJlIGZvcmV2ZXJcIixcblwiT3IgaXQncyBnb25uYSBnbyBkb3duIGluIGZsYW1lc1wiLFxuXCJZb3UgY2FuIHRlbGwgbWUgd2hlbiBpdCdzIG92ZXJcIixcblwiSWYgdGhlIGhpZ2ggd2FzIHdvcnRoIHRoZSBwYWluXCIsXG5cIkdvdCBhIGxvbmcgbGlzdCBvZiBleC1sb3ZlcnNcIixcblwiVGhleSdsbCB0ZWxsIHlvdSBJJ20gaW5zYW5lXCIsXG5cIidDYXVzZSB5b3Uga25vdyBJIGxvdmUgdGhlIHBsYXllcnNcIixcblwiQW5kIHlvdSBsb3ZlIHRoZSBnYW1lXCIsXG5cIidDYXVzZSB3ZSdyZSB5b3VuZyBhbmQgd2UncmUgcmVja2xlc3NcIixcblwiV2UnbGwgdGFrZSB0aGlzIHdheSB0b28gZmFyXCIsXG5cIkl0J2xsIGxlYXZlIHlvdSBicmVhdGhsZXNzXCIsXG5cIk9yIHdpdGggYSBuYXN0eSBzY2FyXCIsXG5cIkJ1dCBJJ3ZlIGdvdCBhIGJsYW5rIHNwYWNlLCBiYWJ5XCIsXG5cIkFuZCBJJ2xsIHdyaXRlIHlvdXIgbmFtZVwiLFxuXCJDaGVycnkgbGlwcywgY3J5c3RhbCBza2llc1wiLFxuXCJTdG9sZW4ga2lzc2VzLCBwcmV0dHkgbGllc1wiLFxuXCJZb3UncmUgdGhlIEtpbmcsIGJhYnksIEknbSB5b3VyIFF1ZWVuXCIsXG5cIkZpbmQgb3V0IHdoYXQgeW91IHdhbnRcIixcblwiQmUgdGhhdCBnaXJsIGZvciBhIG1vbnRoXCIsXG5cIldhaXQsIHRoZSB3b3JzdCBpcyB5ZXQgdG8gY29tZSwgb2ggbm9cIixcblwiU2NyZWFtaW5nLCBjcnlpbmcsIHBlcmZlY3Qgc3Rvcm1zXCIsXG5cIkkgY2FuIG1ha2UgYWxsIHRoZSB0YWJsZXMgdHVyblwiLFxuXCJSb3NlIGdhcmRlbiBmaWxsZWQgd2l0aCB0aG9ybnNcIixcblwiS2VlcCB5b3Ugc2Vjb25kIGd1ZXNzaW5nIGxpa2VcIixcblwiSSBnZXQgZHJ1bmsgb24gamVhbG91c3lcIixcblwiQnV0IHlvdSdsbCBjb21lIGJhY2sgZWFjaCB0aW1lIHlvdSBsZWF2ZVwiLFxuXCInQ2F1c2UsIGRhcmxpbmcsIEknbSBhIG5pZ2h0bWFyZSBkcmVzc2VkIGxpa2UgYSBkYXlkcmVhbVwiLFxuXCJCb3lzIG9ubHkgd2FudCBsb3ZlIGlmIGl0J3MgdG9ydHVyZVwiLFxuXCJEb24ndCBzYXkgSSBkaWRuJ3Qgc2F5LCBJIGRpZG4ndCB3YXJuIHlhXCIsXG5cIllvdSBzdGFuZCB3aXRoIHlvdXIgaGFuZCBvbiBteSB3YWlzdCBsaW5lXCIsXG5cIkl0J3MgYSBzY2VuZSBhbmQgd2UncmUgb3V0IGhlcmUgaW4gcGxhaW4gc2lnaHRcIixcblwiSSBjYW4gaGVhciB0aGVtIHdoaXNwZXIgYXMgd2UgcGFzcyBieVwiLFxuXCJJdCdzIGEgYmFkIHNpZ24sIGJhZCBzaWduXCIsXG5cIlNvbWV0aGluZyBoYXBwZW5zIHdoZW4gZXZlcnlib2R5IGZpbmRzIG91dFwiLFxuXCJTZWUgdGhlIHZ1bHR1cmVzIGNpcmNsaW5nIGRhcmsgY2xvdWRzXCIsXG5cIkxvdmUncyBhIGZyYWdpbGUgbGl0dGxlIGZsYW1lLCBpdCBjb3VsZCBidXJuIG91dFwiLFxuXCJJdCBjb3VsZCBidXJuIG91dFwiLFxuXCJDYXVzZSB0aGV5IGdvdCB0aGUgY2FnZXMsIHRoZXkgZ290IHRoZSBib3hlc1wiLFxuXCJBbmQgZ3Vuc1wiLFxuXCJUaGV5IGFyZSB0aGUgaHVudGVycywgd2UgYXJlIHRoZSBmb3hlc1wiLFxuXCJBbmQgd2UgcnVuXCIsXG5cIkJhYnksIEkga25vdyBwbGFjZXMgd2Ugd29uJ3QgYmUgZm91bmRcIixcblwiQW5kIHRoZXknbGwgYmUgY2hhc2luZyB0aGVpciB0YWlscyB0cnlpbicgdG8gdHJhY2sgdXMgZG93blwiLFxuXCJDYXVzZSBJLCBJIGtub3cgcGxhY2VzIHdlIGNhbiBoaWRlXCIsXG5cIkkga25vdyBwbGFjZXMsIEkga25vdyBwbGFjZXNcIixcblwiTGlnaHRzIGZsYXNoIGFuZCB3ZSdsbCBydW4gZm9yIHRoZSBmZW5jZXNcIixcblwiTGV0IHRoZW0gc2F5IHdoYXQgdGhleSB3YW50LCB3ZSB3b24ndCBoZWFyIGl0XCIsXG5cIkxvb3NlIGxpcHMgc2luayBzaGlwcyBhbGwgdGhlIGRhbW4gdGltZVwiLFxuXCJOb3QgdGhpcyB0aW1lXCIsXG5cIkp1c3QgZ3JhYiBteSBoYW5kIGFuZCBkb24ndCBldmVyIGRyb3AgaXRcIixcblwiTXkgbG92ZVwiLFxuXCJJIGtub3cgcGxhY2VzXCIsXG5cIlRoZXkgdGFrZSB0aGVpciBzaG90cywgYnV0IHdlJ3JlIGJ1bGxldHByb29mXCIsXG5cIkFuZCB5b3Uga25vdyBmb3IgbWUsIGl0J3MgYWx3YXlzIHlvdVwiLFxuXCJJbiB0aGUgZGVhZCBvZiBuaWdodCwgeW91ciBleWVzIHNvIGdyZWVuXCIsXG5cIkFuZCBJIGtub3cgZm9yIHlvdSwgaXQncyBhbHdheXMgbWVcIl0iLCJcbnZhciBtYWtlU3VidGl0bGUgPSByZXF1aXJlKCcuL3N1YnRpdGxlJylcbnZhciBwaWNrID0gcmVxdWlyZSgncGljay1yYW5kb20nKVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvdmVyUGFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKVxuICAgIGNvdmVyUGFnZS5jbGFzc05hbWUgPSAnY292ZXIgcGFnZSdcbiAgICB2YXIgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRpdGxlLmNsYXNzTmFtZSA9ICdjb3Zlci0tdGl0bGUnXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSAnVEhFIE5VTEwgRUFSVEggQ0FUQUxPRydcbiAgICBjb3ZlclBhZ2UuYXBwZW5kQ2hpbGQodGl0bGUpXG4gICAgdmFyIHN1YnRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBzdWJ0aXRsZS5jbGFzc05hbWUgPSAnY292ZXItLXN1YnRpdGxlJ1xuICAgIHN1YnRpdGxlLnRleHRDb250ZW50ID0gbWFrZVN1YnRpdGxlKClcbiAgICBjb3ZlclBhZ2UuYXBwZW5kQ2hpbGQoc3VidGl0bGUpXG5cbiAgICB2YXIgZWFydGhzID0gICAgW1xuICAgICAgICBcIi4vaW1ncy9lYXJ0aF9mcm9tX3NwYWNlL1BST0MtZWFydGggZnJvbSBzcGFjZTAuanBnXCIsXG4gICAgICAgIFwiLi9pbWdzL2VhcnRoX2Zyb21fc3BhY2UvUFJPQy1lYXJ0aCBmcm9tIHNwYWNlMS5qcGdcIixcbiAgICAgICAgXCIuL2ltZ3MvZWFydGhfZnJvbV9zcGFjZS9QUk9DLWVhcnRoIGZyb20gc3BhY2UxMS5wbmdcIixcbiAgICAgICAgXCIuL2ltZ3MvZWFydGhfZnJvbV9zcGFjZS9QUk9DLWVhcnRoIGZyb20gc3BhY2UxMi5qcGdcIixcbiAgICAgICAgXCIuL2ltZ3MvZWFydGhfZnJvbV9zcGFjZS9QUk9DLWVhcnRoIGZyb20gc3BhY2UxMy5qcGdcIixcbiAgICAgICAgXCIuL2ltZ3MvZWFydGhfZnJvbV9zcGFjZS9QUk9DLWVhcnRoIGZyb20gc3BhY2UxNC5qcGdcIixcbiAgICAgICAgXCIuL2ltZ3MvZWFydGhfZnJvbV9zcGFjZS9QUk9DLWVhcnRoIGZyb20gc3BhY2UxNS5qcGdcIixcbiAgICAgICAgXCIuL2ltZ3MvZWFydGhfZnJvbV9zcGFjZS9QUk9DLWVhcnRoIGZyb20gc3BhY2UxNi5qcGdcIixcbiAgICAgICAgXCIuL2ltZ3MvZWFydGhfZnJvbV9zcGFjZS9QUk9DLWVhcnRoIGZyb20gc3BhY2UxNy5qcGdcIixcbiAgICAgICAgXCIuL2ltZ3MvZWFydGhfZnJvbV9zcGFjZS9QUk9DLWVhcnRoIGZyb20gc3BhY2UxOC5qcGdcIixcbiAgICAgICAgXCIuL2ltZ3MvZWFydGhfZnJvbV9zcGFjZS9QUk9DLWVhcnRoIGZyb20gc3BhY2UxOS5qcGdcIixcbiAgICAgICAgXCIuL2ltZ3MvZWFydGhfZnJvbV9zcGFjZS9QUk9DLWVhcnRoIGZyb20gc3BhY2UyLmpwZ1wiLFxuICAgICAgICBcIi4vaW1ncy9lYXJ0aF9mcm9tX3NwYWNlL1BST0MtZWFydGggZnJvbSBzcGFjZTIwLmpwZ1wiLFxuICAgICAgICBcIi4vaW1ncy9lYXJ0aF9mcm9tX3NwYWNlL1BST0MtZWFydGggZnJvbSBzcGFjZTIxLmpwZ1wiLFxuICAgICAgICBcIi4vaW1ncy9lYXJ0aF9mcm9tX3NwYWNlL1BST0MtZWFydGggZnJvbSBzcGFjZTIyLmpwZ1wiLFxuICAgICAgICBcIi4vaW1ncy9lYXJ0aF9mcm9tX3NwYWNlL1BST0MtZWFydGggZnJvbSBzcGFjZTIzLmpwZ1wiLFxuICAgICAgICBcIi4vaW1ncy9lYXJ0aF9mcm9tX3NwYWNlL1BST0MtZWFydGggZnJvbSBzcGFjZTI0LmpwZ1wiLFxuICAgICAgICBcIi4vaW1ncy9lYXJ0aF9mcm9tX3NwYWNlL1BST0MtZWFydGggZnJvbSBzcGFjZTMuanBnXCIsXG4gICAgICAgIFwiLi9pbWdzL2VhcnRoX2Zyb21fc3BhY2UvUFJPQy1lYXJ0aCBmcm9tIHNwYWNlNC5qcGdcIixcbiAgICAgICAgXCIuL2ltZ3MvZWFydGhfZnJvbV9zcGFjZS9QUk9DLWVhcnRoIGZyb20gc3BhY2U1LmpwZ1wiLFxuICAgICAgICBcIi4vaW1ncy9lYXJ0aF9mcm9tX3NwYWNlL1BST0MtZWFydGggZnJvbSBzcGFjZTYuanBnXCIsXG4gICAgICAgIFwiLi9pbWdzL2VhcnRoX2Zyb21fc3BhY2UvUFJPQy1lYXJ0aCBmcm9tIHNwYWNlNy5qcGdcIixcbiAgICAgICAgXCIuL2ltZ3MvZWFydGhfZnJvbV9zcGFjZS9QUk9DLWVhcnRoIGZyb20gc3BhY2U4LmpwZ1wiLFxuICAgICAgICBcIi4vaW1ncy9lYXJ0aF9mcm9tX3NwYWNlL1BST0MtZWFydGggZnJvbSBzcGFjZTkuanBnXCIsXG4gICAgICAgIFwiLi9pbWdzL2VhcnRoX2Zyb21fc3BhY2UvZGVtby5qcGdcIlxuICAgICAgXVxuICAgIHZhciBpbWdQYXRoID0gcGljayhlYXJ0aHMpWzBdXG4gICAgdmFyIHRoZUVhcnRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICB0aGVFYXJ0aC5jbGFzc05hbWUgPSAnY292ZXItLWltZydcbiAgICB0aGVFYXJ0aC5zcmMgPSBpbWdQYXRoXG4gICAgY292ZXJQYWdlLmFwcGVuZENoaWxkKHRoZUVhcnRoKVxuXG4gICAgdmFyIHNlYXNvbiA9IHBpY2soWydTVU1NRVInLCAnRkFMTCcsICdXSU5URVInLCAnU1BSSU5HJywgJ1BSRS1XSU5URVInLCAnUE9TVC1TVU1NRVInLCAnRUFSTFktU1BSSU5HJywgJ1RSVVNUIEZBTExTJ10pWzBdXG4gICAgdmFyIGEgPSAoTWF0aC5yYW5kb20oKSA8IDAuNjYpID8gJzEnIDogJzInXG4gICAgdmFyIGIgPSAoYSA9PSAnMicpID8gJzAnIDogKChNYXRoLnJhbmRvbSgpIDwgMC44KSA/ICc5JyA6IH5+KE1hdGgucmFuZG9tKCkgKiAxMCkpXG4gICAgdmFyIGMgPSAoYSA9PSAnMicpID8gKChNYXRoLnJhbmRvbSgpIDwgMC42KSA/IDAgOiAxKSA6IH5+KE1hdGgucmFuZG9tKCkgKiAxMClcbiAgICB2YXIgZCA9IH5+KE1hdGgucmFuZG9tKCkgKiAxMClcbiAgICB2YXIgeWVhciA9IGEgKyBiICsgYyArIGRcbiAgICB2YXIgZWRpdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgZWRpdGlvbi5jbGFzc05hbWUgPSAnY292ZXItLWVkaXRpb24nXG4gICAgZWRpdGlvbi50ZXh0Q29udGVudCA9IHNlYXNvbiArICcsICcgKyB5ZWFyXG4gICAgY292ZXJQYWdlLmFwcGVuZENoaWxkKGVkaXRpb24pXG4gICAgcmV0dXJuIGNvdmVyUGFnZVxufSIsIm1vZHVsZS5leHBvcnRzID0gW1xuICBbXG4gICAgXCIuL2ltZ3MvYWJsZXRvbl9saXZlL1BST0MtYWJsZXRvbiBsaXZlMS5qcGdcIixcbiAgICBcIi4vaW1ncy9hYmxldG9uX2xpdmUvUFJPQy1hYmxldG9uIGxpdmUyLnBuZ1wiLFxuICAgIFwiLi9pbWdzL2FibGV0b25fbGl2ZS9QUk9DLWFibGV0b24gbGl2ZTQucG5nXCIsXG4gICAgXCIuL2ltZ3MvYWJsZXRvbl9saXZlL1BST0MtYWJsZXRvbiBsaXZlNi5qcGdcIixcbiAgICBcIi4vaW1ncy9hYmxldG9uX2xpdmUvUFJPQy1hYmxldG9uIGxpdmU4LnBuZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9haXJwbGFuZV9lbWVyZ2VuY3lfZGlhZ3JhbS9QUk9DLWFpcnBsYW5lIGVtZXJnZW5jeSBkaWFncmFtMC5qcGdcIixcbiAgICBcIi4vaW1ncy9haXJwbGFuZV9lbWVyZ2VuY3lfZGlhZ3JhbS9QUk9DLWFpcnBsYW5lIGVtZXJnZW5jeSBkaWFncmFtMS5qcGdcIixcbiAgICBcIi4vaW1ncy9haXJwbGFuZV9lbWVyZ2VuY3lfZGlhZ3JhbS9QUk9DLWFpcnBsYW5lIGVtZXJnZW5jeSBkaWFncmFtMi5qcGdcIixcbiAgICBcIi4vaW1ncy9haXJwbGFuZV9lbWVyZ2VuY3lfZGlhZ3JhbS9QUk9DLWFpcnBsYW5lIGVtZXJnZW5jeSBkaWFncmFtNC5qcGdcIixcbiAgICBcIi4vaW1ncy9haXJwbGFuZV9lbWVyZ2VuY3lfZGlhZ3JhbS9QUk9DLWFpcnBsYW5lIGVtZXJnZW5jeSBkaWFncmFtNS5qcGdcIixcbiAgICBcIi4vaW1ncy9haXJwbGFuZV9lbWVyZ2VuY3lfZGlhZ3JhbS9QUk9DLWFpcnBsYW5lIGVtZXJnZW5jeSBkaWFncmFtNi5qcGdcIixcbiAgICBcIi4vaW1ncy9haXJwbGFuZV9lbWVyZ2VuY3lfZGlhZ3JhbS9QUk9DLWFpcnBsYW5lIGVtZXJnZW5jeSBkaWFncmFtNy5qcGdcIixcbiAgICBcIi4vaW1ncy9haXJwbGFuZV9lbWVyZ2VuY3lfZGlhZ3JhbS9QUk9DLWFpcnBsYW5lIGVtZXJnZW5jeSBkaWFncmFtOC5qcGdcIixcbiAgICBcIi4vaW1ncy9haXJwbGFuZV9lbWVyZ2VuY3lfZGlhZ3JhbS9QUk9DLWFpcnBsYW5lIGVtZXJnZW5jeSBkaWFncmFtOS5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvYmFraW5nX3RpcHMvUFJPQy1iYWtpbmcgdGlwczAuanBnXCIsXG4gICAgXCIuL2ltZ3MvYmFraW5nX3RpcHMvUFJPQy1iYWtpbmcgdGlwczIuanBnXCIsXG4gICAgXCIuL2ltZ3MvYmFraW5nX3RpcHMvUFJPQy1iYWtpbmcgdGlwczMuanBnXCIsXG4gICAgXCIuL2ltZ3MvYmFraW5nX3RpcHMvUFJPQy1iYWtpbmcgdGlwczQuanBnXCIsXG4gICAgXCIuL2ltZ3MvYmFraW5nX3RpcHMvUFJPQy1iYWtpbmcgdGlwczUuanBnXCIsXG4gICAgXCIuL2ltZ3MvYmFraW5nX3RpcHMvUFJPQy1iYWtpbmcgdGlwczYuanBnXCIsXG4gICAgXCIuL2ltZ3MvYmFraW5nX3RpcHMvUFJPQy1iYWtpbmcgdGlwczguanBnXCIsXG4gICAgXCIuL2ltZ3MvYmFraW5nX3RpcHMvUFJPQy1iYWtpbmcgdGlwczkuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL2JhbmRfY2FtcC9QUk9DLWJhbmQgY2FtcDMuanBnXCIsXG4gICAgXCIuL2ltZ3MvYmFuZF9jYW1wL1BST0MtYmFuZCBjYW1wNC5qcGdcIixcbiAgICBcIi4vaW1ncy9iYW5kX2NhbXAvUFJPQy1iYW5kIGNhbXA1LnBuZ1wiLFxuICAgIFwiLi9pbWdzL2JhbmRfY2FtcC9QUk9DLWJhbmQgY2FtcDYucG5nXCIsXG4gICAgXCIuL2ltZ3MvYmFuZF9jYW1wL1BST0MtYmFuZCBjYW1wNy5wbmdcIixcbiAgICBcIi4vaW1ncy9iYW5kX2NhbXAvUFJPQy1iYW5kIGNhbXA4LnBuZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9iaWN5Y2xlX3JlcGFpci9QUk9DLWJpY3ljbGUgcmVwYWlyNS5qcGdcIixcbiAgICBcIi4vaW1ncy9iaWN5Y2xlX3JlcGFpci9QUk9DLWJpY3ljbGUgcmVwYWlyNi5qcGdcIixcbiAgICBcIi4vaW1ncy9iaWN5Y2xlX3JlcGFpci9QUk9DLWJpY3ljbGUgcmVwYWlyNy5qcGdcIixcbiAgICBcIi4vaW1ncy9iaWN5Y2xlX3JlcGFpci9QUk9DLWJpY3ljbGUgcmVwYWlyOC5qcGdcIixcbiAgICBcIi4vaW1ncy9iaWN5Y2xlX3JlcGFpci9QUk9DLWJpY3ljbGUgcmVwYWlyOS5wbmdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvYm9vbWJveF9tYW51YWwvUFJPQy1ib29tYm94IG1hbnVhbDAuanBnXCIsXG4gICAgXCIuL2ltZ3MvYm9vbWJveF9tYW51YWwvUFJPQy1ib29tYm94IG1hbnVhbDEuanBnXCIsXG4gICAgXCIuL2ltZ3MvYm9vbWJveF9tYW51YWwvUFJPQy1ib29tYm94IG1hbnVhbDIuanBnXCIsXG4gICAgXCIuL2ltZ3MvYm9vbWJveF9tYW51YWwvUFJPQy1ib29tYm94IG1hbnVhbDMuanBnXCIsXG4gICAgXCIuL2ltZ3MvYm9vbWJveF9tYW51YWwvUFJPQy1ib29tYm94IG1hbnVhbDQuanBnXCIsXG4gICAgXCIuL2ltZ3MvYm9vbWJveF9tYW51YWwvUFJPQy1ib29tYm94IG1hbnVhbDUuanBnXCIsXG4gICAgXCIuL2ltZ3MvYm9vbWJveF9tYW51YWwvUFJPQy1ib29tYm94IG1hbnVhbDYuanBnXCIsXG4gICAgXCIuL2ltZ3MvYm9vbWJveF9tYW51YWwvUFJPQy1ib29tYm94IG1hbnVhbDcuanBnXCIsXG4gICAgXCIuL2ltZ3MvYm9vbWJveF9tYW51YWwvUFJPQy1ib29tYm94IG1hbnVhbDguanBnXCIsXG4gICAgXCIuL2ltZ3MvYm9vbWJveF9tYW51YWwvUFJPQy1ib29tYm94IG1hbnVhbDkuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL2J1Y2ttaW5zdGVyX2Z1bGxlcl9kb21lcy9QUk9DLWJ1Y2ttaW5zdGVyIGZ1bGxlciBkb21lczAuanBnXCIsXG4gICAgXCIuL2ltZ3MvYnVja21pbnN0ZXJfZnVsbGVyX2RvbWVzL1BST0MtYnVja21pbnN0ZXIgZnVsbGVyIGRvbWVzMS5qcGdcIixcbiAgICBcIi4vaW1ncy9idWNrbWluc3Rlcl9mdWxsZXJfZG9tZXMvUFJPQy1idWNrbWluc3RlciBmdWxsZXIgZG9tZXMyLmpwZ1wiLFxuICAgIFwiLi9pbWdzL2J1Y2ttaW5zdGVyX2Z1bGxlcl9kb21lcy9QUk9DLWJ1Y2ttaW5zdGVyIGZ1bGxlciBkb21lczMuanBnXCIsXG4gICAgXCIuL2ltZ3MvYnVja21pbnN0ZXJfZnVsbGVyX2RvbWVzL1BST0MtYnVja21pbnN0ZXIgZnVsbGVyIGRvbWVzNC5qcGdcIixcbiAgICBcIi4vaW1ncy9idWNrbWluc3Rlcl9mdWxsZXJfZG9tZXMvUFJPQy1idWNrbWluc3RlciBmdWxsZXIgZG9tZXM1LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2J1Y2ttaW5zdGVyX2Z1bGxlcl9kb21lcy9QUk9DLWJ1Y2ttaW5zdGVyIGZ1bGxlciBkb21lczYuanBnXCIsXG4gICAgXCIuL2ltZ3MvYnVja21pbnN0ZXJfZnVsbGVyX2RvbWVzL1BST0MtYnVja21pbnN0ZXIgZnVsbGVyIGRvbWVzNy5qcGdcIixcbiAgICBcIi4vaW1ncy9idWNrbWluc3Rlcl9mdWxsZXJfZG9tZXMvUFJPQy1idWNrbWluc3RlciBmdWxsZXIgZG9tZXM4LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2J1Y2ttaW5zdGVyX2Z1bGxlcl9kb21lcy9QUk9DLWJ1Y2ttaW5zdGVyIGZ1bGxlciBkb21lczkuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL2Nhcl9lbmdpbmUvUFJPQy1jYXIgZW5naW5lMC5wbmdcIixcbiAgICBcIi4vaW1ncy9jYXJfZW5naW5lL1BST0MtY2FyIGVuZ2luZTEuanBnXCIsXG4gICAgXCIuL2ltZ3MvY2FyX2VuZ2luZS9QUk9DLWNhciBlbmdpbmUyLmpwZ1wiLFxuICAgIFwiLi9pbWdzL2Nhcl9lbmdpbmUvUFJPQy1jYXIgZW5naW5lMy5qcGdcIixcbiAgICBcIi4vaW1ncy9jYXJfZW5naW5lL1BST0MtY2FyIGVuZ2luZTQuanBnXCIsXG4gICAgXCIuL2ltZ3MvY2FyX2VuZ2luZS9QUk9DLWNhciBlbmdpbmU1LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2Nhcl9lbmdpbmUvUFJPQy1jYXIgZW5naW5lNi5qcGdcIixcbiAgICBcIi4vaW1ncy9jYXJfZW5naW5lL1BST0MtY2FyIGVuZ2luZTcuanBnXCIsXG4gICAgXCIuL2ltZ3MvY2FyX2VuZ2luZS9QUk9DLWNhciBlbmdpbmU4LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9jaXJjdWl0X2JlbmRpbmcvUFJPQy1jaXJjdWl0IGJlbmRpbmcwLmpwZ1wiLFxuICAgIFwiLi9pbWdzL2NpcmN1aXRfYmVuZGluZy9QUk9DLWNpcmN1aXQgYmVuZGluZzIuanBnXCIsXG4gICAgXCIuL2ltZ3MvY2lyY3VpdF9iZW5kaW5nL1BST0MtY2lyY3VpdCBiZW5kaW5nMy5qcGdcIixcbiAgICBcIi4vaW1ncy9jaXJjdWl0X2JlbmRpbmcvUFJPQy1jaXJjdWl0IGJlbmRpbmc0LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2NpcmN1aXRfYmVuZGluZy9QUk9DLWNpcmN1aXQgYmVuZGluZzUuanBnXCIsXG4gICAgXCIuL2ltZ3MvY2lyY3VpdF9iZW5kaW5nL1BST0MtY2lyY3VpdCBiZW5kaW5nOC5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvY2xvY2tzX2FuZF93YXRjaGVzL1BST0MtY2xvY2tzIGFuZCB3YXRjaGVzMC5qcGdcIixcbiAgICBcIi4vaW1ncy9jbG9ja3NfYW5kX3dhdGNoZXMvUFJPQy1jbG9ja3MgYW5kIHdhdGNoZXMxLmpwZ1wiLFxuICAgIFwiLi9pbWdzL2Nsb2Nrc19hbmRfd2F0Y2hlcy9QUk9DLWNsb2NrcyBhbmQgd2F0Y2hlczIuanBnXCIsXG4gICAgXCIuL2ltZ3MvY2xvY2tzX2FuZF93YXRjaGVzL1BST0MtY2xvY2tzIGFuZCB3YXRjaGVzMy5qcGdcIixcbiAgICBcIi4vaW1ncy9jbG9ja3NfYW5kX3dhdGNoZXMvUFJPQy1jbG9ja3MgYW5kIHdhdGNoZXM0LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2Nsb2Nrc19hbmRfd2F0Y2hlcy9QUk9DLWNsb2NrcyBhbmQgd2F0Y2hlczUuanBnXCIsXG4gICAgXCIuL2ltZ3MvY2xvY2tzX2FuZF93YXRjaGVzL1BST0MtY2xvY2tzIGFuZCB3YXRjaGVzNi5qcGdcIixcbiAgICBcIi4vaW1ncy9jbG9ja3NfYW5kX3dhdGNoZXMvUFJPQy1jbG9ja3MgYW5kIHdhdGNoZXM3LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2Nsb2Nrc19hbmRfd2F0Y2hlcy9QUk9DLWNsb2NrcyBhbmQgd2F0Y2hlczguanBnXCIsXG4gICAgXCIuL2ltZ3MvY2xvY2tzX2FuZF93YXRjaGVzL1BST0MtY2xvY2tzIGFuZCB3YXRjaGVzOS5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvY25uL1BST0MtY25uNS5qcGdcIixcbiAgICBcIi4vaW1ncy9jbm4vUFJPQy1jbm43LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2Nubi9QUk9DLWNubjkuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL2NvbG9yX2J5X251bWJlci9QUk9DLWNvbG9yIGJ5IG51bWJlcjAuanBnXCIsXG4gICAgXCIuL2ltZ3MvY29sb3JfYnlfbnVtYmVyL1BST0MtY29sb3IgYnkgbnVtYmVyMS5qcGdcIixcbiAgICBcIi4vaW1ncy9jb2xvcl9ieV9udW1iZXIvUFJPQy1jb2xvciBieSBudW1iZXIyLnBuZ1wiLFxuICAgIFwiLi9pbWdzL2NvbG9yX2J5X251bWJlci9QUk9DLWNvbG9yIGJ5IG51bWJlcjMuanBnXCIsXG4gICAgXCIuL2ltZ3MvY29sb3JfYnlfbnVtYmVyL1BST0MtY29sb3IgYnkgbnVtYmVyNS5qcGdcIixcbiAgICBcIi4vaW1ncy9jb2xvcl9ieV9udW1iZXIvUFJPQy1jb2xvciBieSBudW1iZXI2LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2NvbG9yX2J5X251bWJlci9QUk9DLWNvbG9yIGJ5IG51bWJlcjcuanBnXCIsXG4gICAgXCIuL2ltZ3MvY29sb3JfYnlfbnVtYmVyL1BST0MtY29sb3IgYnkgbnVtYmVyOC5qcGdcIixcbiAgICBcIi4vaW1ncy9jb2xvcl9ieV9udW1iZXIvUFJPQy1jb2xvciBieSBudW1iZXI5LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9jb3dib3lfdGVjaG5pcXVlcy9QUk9DLWNvd2JveSB0ZWNobmlxdWVzMC5qcGdcIixcbiAgICBcIi4vaW1ncy9jb3dib3lfdGVjaG5pcXVlcy9QUk9DLWNvd2JveSB0ZWNobmlxdWVzMS5qcGdcIixcbiAgICBcIi4vaW1ncy9jb3dib3lfdGVjaG5pcXVlcy9QUk9DLWNvd2JveSB0ZWNobmlxdWVzMi5qcGdcIixcbiAgICBcIi4vaW1ncy9jb3dib3lfdGVjaG5pcXVlcy9QUk9DLWNvd2JveSB0ZWNobmlxdWVzMy5qcGdcIixcbiAgICBcIi4vaW1ncy9jb3dib3lfdGVjaG5pcXVlcy9QUk9DLWNvd2JveSB0ZWNobmlxdWVzNC5qcGdcIixcbiAgICBcIi4vaW1ncy9jb3dib3lfdGVjaG5pcXVlcy9QUk9DLWNvd2JveSB0ZWNobmlxdWVzNS5qcGdcIixcbiAgICBcIi4vaW1ncy9jb3dib3lfdGVjaG5pcXVlcy9QUk9DLWNvd2JveSB0ZWNobmlxdWVzNi5qcGdcIixcbiAgICBcIi4vaW1ncy9jb3dib3lfdGVjaG5pcXVlcy9QUk9DLWNvd2JveSB0ZWNobmlxdWVzNy5qcGdcIixcbiAgICBcIi4vaW1ncy9jb3dib3lfdGVjaG5pcXVlcy9QUk9DLWNvd2JveSB0ZWNobmlxdWVzOS5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvY3Jhc3MvUFJPQy1jcmFzczAucG5nXCIsXG4gICAgXCIuL2ltZ3MvY3Jhc3MvUFJPQy1jcmFzczIuanBnXCIsXG4gICAgXCIuL2ltZ3MvY3Jhc3MvUFJPQy1jcmFzczQucG5nXCIsXG4gICAgXCIuL2ltZ3MvY3Jhc3MvUFJPQy1jcmFzczYuanBnXCIsXG4gICAgXCIuL2ltZ3MvY3Jhc3MvUFJPQy1jcmFzczguanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL2RhZGFpc3RfcG9lbS9QUk9DLWRhZGFpc3QgcG9lbTAuanBnXCIsXG4gICAgXCIuL2ltZ3MvZGFkYWlzdF9wb2VtL1BST0MtZGFkYWlzdCBwb2VtMS5qcGdcIixcbiAgICBcIi4vaW1ncy9kYWRhaXN0X3BvZW0vUFJPQy1kYWRhaXN0IHBvZW0yLmpwZ1wiLFxuICAgIFwiLi9pbWdzL2RhZGFpc3RfcG9lbS9QUk9DLWRhZGFpc3QgcG9lbTMuanBnXCIsXG4gICAgXCIuL2ltZ3MvZGFkYWlzdF9wb2VtL1BST0MtZGFkYWlzdCBwb2VtNC5qcGdcIixcbiAgICBcIi4vaW1ncy9kYWRhaXN0X3BvZW0vUFJPQy1kYWRhaXN0IHBvZW01LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2RhZGFpc3RfcG9lbS9QUk9DLWRhZGFpc3QgcG9lbTYuanBnXCIsXG4gICAgXCIuL2ltZ3MvZGFkYWlzdF9wb2VtL1BST0MtZGFkYWlzdCBwb2VtNy5qcGdcIixcbiAgICBcIi4vaW1ncy9kYWRhaXN0X3BvZW0vUFJPQy1kYWRhaXN0IHBvZW05LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9kaWFibG9fdHdvL1BST0MtZGlhYmxvIHR3bzIuanBnXCIsXG4gICAgXCIuL2ltZ3MvZGlhYmxvX3R3by9QUk9DLWRpYWJsbyB0d28zLmpwZ1wiLFxuICAgIFwiLi9pbWdzL2RpYWJsb190d28vUFJPQy1kaWFibG8gdHdvNS5qcGdcIixcbiAgICBcIi4vaW1ncy9kaWFibG9fdHdvL1BST0MtZGlhYmxvIHR3bzYucG5nXCIsXG4gICAgXCIuL2ltZ3MvZGlhYmxvX3R3by9QUk9DLWRpYWJsbyB0d283LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2RpYWJsb190d28vUFJPQy1kaWFibG8gdHdvOC5qcGdcIlxuICBdLFxuXG4gIFtcbiAgICBcIi4vaW1ncy9lbWFjcy9QUk9DLWVtYWNzMC5wbmdcIixcbiAgICBcIi4vaW1ncy9lbWFjcy9QUk9DLWVtYWNzMi5wbmdcIixcbiAgICBcIi4vaW1ncy9lbWFjcy9QUk9DLWVtYWNzNC5wbmdcIixcbiAgICBcIi4vaW1ncy9lbWFjcy9QUk9DLWVtYWNzNi5wbmdcIixcbiAgICBcIi4vaW1ncy9lbWFjcy9QUk9DLWVtYWNzOC5wbmdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvZmFjZWJvb2tfdWlfZmFpbHVyZS9QUk9DLWZhY2Vib29rIHVpIGZhaWx1cmUyLnBuZ1wiLFxuICAgIFwiLi9pbWdzL2ZhY2Vib29rX3VpX2ZhaWx1cmUvUFJPQy1mYWNlYm9vayB1aSBmYWlsdXJlMy5qcGdcIixcbiAgICBcIi4vaW1ncy9mYWNlYm9va191aV9mYWlsdXJlL1BST0MtZmFjZWJvb2sgdWkgZmFpbHVyZTQuanBnXCIsXG4gICAgXCIuL2ltZ3MvZmFjZWJvb2tfdWlfZmFpbHVyZS9QUk9DLWZhY2Vib29rIHVpIGZhaWx1cmU1LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2ZhY2Vib29rX3VpX2ZhaWx1cmUvUFJPQy1mYWNlYm9vayB1aSBmYWlsdXJlNi5qcGdcIixcbiAgICBcIi4vaW1ncy9mYWNlYm9va191aV9mYWlsdXJlL1BST0MtZmFjZWJvb2sgdWkgZmFpbHVyZTcuanBnXCIsXG4gICAgXCIuL2ltZ3MvZmFjZWJvb2tfdWlfZmFpbHVyZS9QUk9DLWZhY2Vib29rIHVpIGZhaWx1cmU4LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2ZhY2Vib29rX3VpX2ZhaWx1cmUvUFJPQy1mYWNlYm9vayB1aSBmYWlsdXJlOS5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvZmFybWluZ190YWN0aWNzL1BST0MtZmFybWluZyB0YWN0aWNzMC5qcGdcIixcbiAgICBcIi4vaW1ncy9mYXJtaW5nX3RhY3RpY3MvUFJPQy1mYXJtaW5nIHRhY3RpY3MxLmpwZ1wiLFxuICAgIFwiLi9pbWdzL2Zhcm1pbmdfdGFjdGljcy9QUk9DLWZhcm1pbmcgdGFjdGljczIuanBnXCIsXG4gICAgXCIuL2ltZ3MvZmFybWluZ190YWN0aWNzL1BST0MtZmFybWluZyB0YWN0aWNzMy5qcGdcIixcbiAgICBcIi4vaW1ncy9mYXJtaW5nX3RhY3RpY3MvUFJPQy1mYXJtaW5nIHRhY3RpY3M0LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2Zhcm1pbmdfdGFjdGljcy9QUk9DLWZhcm1pbmcgdGFjdGljczUuanBnXCIsXG4gICAgXCIuL2ltZ3MvZmFybWluZ190YWN0aWNzL1BST0MtZmFybWluZyB0YWN0aWNzNi5qcGdcIixcbiAgICBcIi4vaW1ncy9mYXJtaW5nX3RhY3RpY3MvUFJPQy1mYXJtaW5nIHRhY3RpY3M3LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2Zhcm1pbmdfdGFjdGljcy9QUk9DLWZhcm1pbmcgdGFjdGljczguanBnXCIsXG4gICAgXCIuL2ltZ3MvZmFybWluZ190YWN0aWNzL1BST0MtZmFybWluZyB0YWN0aWNzOS5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvZmFzaGlvbi9QUk9DLWZhc2hpb24wLmpwZ1wiLFxuICAgIFwiLi9pbWdzL2Zhc2hpb24vUFJPQy1mYXNoaW9uMS5qcGdcIixcbiAgICBcIi4vaW1ncy9mYXNoaW9uL1BST0MtZmFzaGlvbjIuanBnXCIsXG4gICAgXCIuL2ltZ3MvZmFzaGlvbi9QUk9DLWZhc2hpb24zLnBuZ1wiLFxuICAgIFwiLi9pbWdzL2Zhc2hpb24vUFJPQy1mYXNoaW9uNC5wbmdcIixcbiAgICBcIi4vaW1ncy9mYXNoaW9uL1BST0MtZmFzaGlvbjUucG5nXCIsXG4gICAgXCIuL2ltZ3MvZmFzaGlvbi9QUk9DLWZhc2hpb242LnBuZ1wiLFxuICAgIFwiLi9pbWdzL2Zhc2hpb24vUFJPQy1mYXNoaW9uNy5wbmdcIixcbiAgICBcIi4vaW1ncy9mYXNoaW9uL1BST0MtZmFzaGlvbjguanBnXCIsXG4gICAgXCIuL2ltZ3MvZmFzaGlvbi9QUk9DLWZhc2hpb245LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9maW5hbF9mYW50YXN5X3NldmVuX2ZpZ2h0L1BST0MtZmluYWwgZmFudGFzeSBzZXZlbiBmaWdodDEuanBnXCIsXG4gICAgXCIuL2ltZ3MvZmluYWxfZmFudGFzeV9zZXZlbl9maWdodC9QUk9DLWZpbmFsIGZhbnRhc3kgc2V2ZW4gZmlnaHQyLmpwZ1wiLFxuICAgIFwiLi9pbWdzL2ZpbmFsX2ZhbnRhc3lfc2V2ZW5fZmlnaHQvUFJPQy1maW5hbCBmYW50YXN5IHNldmVuIGZpZ2h0Ny5qcGdcIixcbiAgICBcIi4vaW1ncy9maW5hbF9mYW50YXN5X3NldmVuX2ZpZ2h0L1BST0MtZmluYWwgZmFudGFzeSBzZXZlbiBmaWdodDkuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL2dob3N0YnVzdGVyc19tYXJzaG1hbGxvdy9QUk9DLWdob3N0YnVzdGVycyBtYXJzaG1hbGxvdzAuanBnXCIsXG4gICAgXCIuL2ltZ3MvZ2hvc3RidXN0ZXJzX21hcnNobWFsbG93L1BST0MtZ2hvc3RidXN0ZXJzIG1hcnNobWFsbG93Mi5qcGdcIixcbiAgICBcIi4vaW1ncy9naG9zdGJ1c3RlcnNfbWFyc2htYWxsb3cvUFJPQy1naG9zdGJ1c3RlcnMgbWFyc2htYWxsb3c0LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2dob3N0YnVzdGVyc19tYXJzaG1hbGxvdy9QUk9DLWdob3N0YnVzdGVycyBtYXJzaG1hbGxvdzguanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL2dvb3NlYnVtcHMvUFJPQy1nb29zZWJ1bXBzMC5qcGdcIixcbiAgICBcIi4vaW1ncy9nb29zZWJ1bXBzL1BST0MtZ29vc2VidW1wczEuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL2d1aXRhcl9sZXNzb25zL1BST0MtZ3VpdGFyIGxlc3NvbnMxLnBuZ1wiLFxuICAgIFwiLi9pbWdzL2d1aXRhcl9sZXNzb25zL1BST0MtZ3VpdGFyIGxlc3NvbnMyLnBuZ1wiLFxuICAgIFwiLi9pbWdzL2d1aXRhcl9sZXNzb25zL1BST0MtZ3VpdGFyIGxlc3NvbnMzLnBuZ1wiLFxuICAgIFwiLi9pbWdzL2d1aXRhcl9sZXNzb25zL1BST0MtZ3VpdGFyIGxlc3NvbnM0LnBuZ1wiLFxuICAgIFwiLi9pbWdzL2d1aXRhcl9sZXNzb25zL1BST0MtZ3VpdGFyIGxlc3NvbnM3LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9ob2NrZXlfc3RpY2tfZ3JhcGhzL1BST0MtaG9ja2V5IHN0aWNrIGdyYXBoczAuanBnXCIsXG4gICAgXCIuL2ltZ3MvaG9ja2V5X3N0aWNrX2dyYXBocy9QUk9DLWhvY2tleSBzdGljayBncmFwaHMxLmpwZ1wiLFxuICAgIFwiLi9pbWdzL2hvY2tleV9zdGlja19ncmFwaHMvUFJPQy1ob2NrZXkgc3RpY2sgZ3JhcGhzMi5qcGVnXCIsXG4gICAgXCIuL2ltZ3MvaG9ja2V5X3N0aWNrX2dyYXBocy9QUk9DLWhvY2tleSBzdGljayBncmFwaHM0LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2hvY2tleV9zdGlja19ncmFwaHMvUFJPQy1ob2NrZXkgc3RpY2sgZ3JhcGhzNS5qcGdcIixcbiAgICBcIi4vaW1ncy9ob2NrZXlfc3RpY2tfZ3JhcGhzL1BST0MtaG9ja2V5IHN0aWNrIGdyYXBoczgucG5nXCIsXG4gICAgXCIuL2ltZ3MvaG9ja2V5X3N0aWNrX2dyYXBocy9QUk9DLWhvY2tleSBzdGljayBncmFwaHM5LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9ob3dfdG9fZmlzaC9QUk9DLWhvdyB0byBmaXNoMC5wbmdcIixcbiAgICBcIi4vaW1ncy9ob3dfdG9fZmlzaC9QUk9DLWhvdyB0byBmaXNoMS5wbmdcIixcbiAgICBcIi4vaW1ncy9ob3dfdG9fZmlzaC9QUk9DLWhvdyB0byBmaXNoMi5qcGdcIixcbiAgICBcIi4vaW1ncy9ob3dfdG9fZmlzaC9QUk9DLWhvdyB0byBmaXNoMy5wbmdcIixcbiAgICBcIi4vaW1ncy9ob3dfdG9fZmlzaC9QUk9DLWhvdyB0byBmaXNoNC5wbmdcIixcbiAgICBcIi4vaW1ncy9ob3dfdG9fZmlzaC9QUk9DLWhvdyB0byBmaXNoOC5qcGdcIixcbiAgICBcIi4vaW1ncy9ob3dfdG9fZmlzaC9QUk9DLWhvdyB0byBmaXNoOS5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvaG93X3RvX3NldF9hX3RhYmxlL1BST0MtaG93IHRvIHNldCBhIHRhYmxlMC5wbmdcIixcbiAgICBcIi4vaW1ncy9ob3dfdG9fc2V0X2FfdGFibGUvUFJPQy1ob3cgdG8gc2V0IGEgdGFibGUxLnBuZ1wiLFxuICAgIFwiLi9pbWdzL2hvd190b19zZXRfYV90YWJsZS9QUk9DLWhvdyB0byBzZXQgYSB0YWJsZTIucG5nXCIsXG4gICAgXCIuL2ltZ3MvaG93X3RvX3NldF9hX3RhYmxlL1BST0MtaG93IHRvIHNldCBhIHRhYmxlMy5wbmdcIixcbiAgICBcIi4vaW1ncy9ob3dfdG9fc2V0X2FfdGFibGUvUFJPQy1ob3cgdG8gc2V0IGEgdGFibGU0LnBuZ1wiLFxuICAgIFwiLi9pbWdzL2hvd190b19zZXRfYV90YWJsZS9QUk9DLWhvdyB0byBzZXQgYSB0YWJsZTUucG5nXCIsXG4gICAgXCIuL2ltZ3MvaG93X3RvX3NldF9hX3RhYmxlL1BST0MtaG93IHRvIHNldCBhIHRhYmxlOC5wbmdcIixcbiAgICBcIi4vaW1ncy9ob3dfdG9fc2V0X2FfdGFibGUvUFJPQy1ob3cgdG8gc2V0IGEgdGFibGU5LnBuZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9odWdlX2JvbmdzL1BST0MtaHVnZSBib25nczAuanBnXCIsXG4gICAgXCIuL2ltZ3MvaHVnZV9ib25ncy9QUk9DLWh1Z2UgYm9uZ3MyLmpwZ1wiLFxuICAgIFwiLi9pbWdzL2h1Z2VfYm9uZ3MvUFJPQy1odWdlIGJvbmdzNC5qcGdcIixcbiAgICBcIi4vaW1ncy9odWdlX2JvbmdzL1BST0MtaHVnZSBib25nczkuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL2phdmFzY3JpcHQvUFJPQy1qYXZhc2NyaXB0MS5wbmdcIixcbiAgICBcIi4vaW1ncy9qYXZhc2NyaXB0L1BST0MtamF2YXNjcmlwdDIuanBnXCIsXG4gICAgXCIuL2ltZ3MvamF2YXNjcmlwdC9QUk9DLWphdmFzY3JpcHQzLmpwZ1wiLFxuICAgIFwiLi9pbWdzL2phdmFzY3JpcHQvUFJPQy1qYXZhc2NyaXB0NC5qcGdcIixcbiAgICBcIi4vaW1ncy9qYXZhc2NyaXB0L1BST0MtamF2YXNjcmlwdDUuanBnXCIsXG4gICAgXCIuL2ltZ3MvamF2YXNjcmlwdC9QUk9DLWphdmFzY3JpcHQ2LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2phdmFzY3JpcHQvUFJPQy1qYXZhc2NyaXB0Ny5wbmdcIixcbiAgICBcIi4vaW1ncy9qYXZhc2NyaXB0L1BST0MtamF2YXNjcmlwdDgucG5nXCIsXG4gICAgXCIuL2ltZ3MvamF2YXNjcmlwdC9QUk9DLWphdmFzY3JpcHQ5LnBuZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9rYXJkYXNoaWFucy9QUk9DLWthcmRhc2hpYW5zNy5qcGdcIixcbiAgICBcIi4vaW1ncy9rYXJkYXNoaWFucy9QUk9DLWthcmRhc2hpYW5zOC5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3Mva2F0YW1hcmlfZGFtYWN5L1BST0Mta2F0YW1hcmkgZGFtYWN5Mi5qcGdcIixcbiAgICBcIi4vaW1ncy9rYXRhbWFyaV9kYW1hY3kvUFJPQy1rYXRhbWFyaSBkYW1hY3k0LmpwZ1wiLFxuICAgIFwiLi9pbWdzL2thdGFtYXJpX2RhbWFjeS9QUk9DLWthdGFtYXJpIGRhbWFjeTYuanBnXCIsXG4gICAgXCIuL2ltZ3Mva2F0YW1hcmlfZGFtYWN5L1BST0Mta2F0YW1hcmkgZGFtYWN5Ny5qcGdcIixcbiAgICBcIi4vaW1ncy9rYXRhbWFyaV9kYW1hY3kvUFJPQy1rYXRhbWFyaSBkYW1hY3k5LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9raW5nZG9tX2hlYXJ0cy9QUk9DLWtpbmdkb20gaGVhcnRzNC5wbmdcIixcbiAgICBcIi4vaW1ncy9raW5nZG9tX2hlYXJ0cy9QUk9DLWtpbmdkb20gaGVhcnRzNi5wbmdcIixcbiAgICBcIi4vaW1ncy9raW5nZG9tX2hlYXJ0cy9QUk9DLWtpbmdkb20gaGVhcnRzOC5wbmdcIixcbiAgICBcIi4vaW1ncy9raW5nZG9tX2hlYXJ0cy9QUk9DLWtpbmdkb20gaGVhcnRzOS5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvbWFnaWNfdGhlX2dhdGhlcmluZy9QUk9DLW1hZ2ljIHRoZSBnYXRoZXJpbmcwLmpwZ1wiLFxuICAgIFwiLi9pbWdzL21hZ2ljX3RoZV9nYXRoZXJpbmcvUFJPQy1tYWdpYyB0aGUgZ2F0aGVyaW5nMS5qcGdcIixcbiAgICBcIi4vaW1ncy9tYWdpY190aGVfZ2F0aGVyaW5nL1BST0MtbWFnaWMgdGhlIGdhdGhlcmluZzIuanBnXCIsXG4gICAgXCIuL2ltZ3MvbWFnaWNfdGhlX2dhdGhlcmluZy9QUk9DLW1hZ2ljIHRoZSBnYXRoZXJpbmc2LmpwZ1wiLFxuICAgIFwiLi9pbWdzL21hZ2ljX3RoZV9nYXRoZXJpbmcvUFJPQy1tYWdpYyB0aGUgZ2F0aGVyaW5nNy5qcGdcIixcbiAgICBcIi4vaW1ncy9tYWdpY190aGVfZ2F0aGVyaW5nL1BST0MtbWFnaWMgdGhlIGdhdGhlcmluZzguanBnXCIsXG4gICAgXCIuL2ltZ3MvbWFnaWNfdGhlX2dhdGhlcmluZy9QUk9DLW1hZ2ljIHRoZSBnYXRoZXJpbmc5LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9tYWtlX3VwX3RpcHMvUFJPQy1tYWtlIHVwIHRpcHMwLmpwZ1wiLFxuICAgIFwiLi9pbWdzL21ha2VfdXBfdGlwcy9QUk9DLW1ha2UgdXAgdGlwczEuanBnXCIsXG4gICAgXCIuL2ltZ3MvbWFrZV91cF90aXBzL1BST0MtbWFrZSB1cCB0aXBzMi5qcGdcIixcbiAgICBcIi4vaW1ncy9tYWtlX3VwX3RpcHMvUFJPQy1tYWtlIHVwIHRpcHMzLmpwZ1wiLFxuICAgIFwiLi9pbWdzL21ha2VfdXBfdGlwcy9QUk9DLW1ha2UgdXAgdGlwczQuanBnXCIsXG4gICAgXCIuL2ltZ3MvbWFrZV91cF90aXBzL1BST0MtbWFrZSB1cCB0aXBzNS5qcGdcIixcbiAgICBcIi4vaW1ncy9tYWtlX3VwX3RpcHMvUFJPQy1tYWtlIHVwIHRpcHM2LmpwZ1wiLFxuICAgIFwiLi9pbWdzL21ha2VfdXBfdGlwcy9QUk9DLW1ha2UgdXAgdGlwczcuanBnXCIsXG4gICAgXCIuL2ltZ3MvbWFrZV91cF90aXBzL1BST0MtbWFrZSB1cCB0aXBzOC5qcGdcIixcbiAgICBcIi4vaW1ncy9tYWtlX3VwX3RpcHMvUFJPQy1tYWtlIHVwIHRpcHM5LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9tYXJjZWxfZHVjaGFtcF9yZWFkeW1hZGVzL1BST0MtbWFyY2VsIGR1Y2hhbXAgcmVhZHltYWRlczAuanBnXCIsXG4gICAgXCIuL2ltZ3MvbWFyY2VsX2R1Y2hhbXBfcmVhZHltYWRlcy9QUk9DLW1hcmNlbCBkdWNoYW1wIHJlYWR5bWFkZXMxLnBuZ1wiLFxuICAgIFwiLi9pbWdzL21hcmNlbF9kdWNoYW1wX3JlYWR5bWFkZXMvUFJPQy1tYXJjZWwgZHVjaGFtcCByZWFkeW1hZGVzMi5qcGdcIixcbiAgICBcIi4vaW1ncy9tYXJjZWxfZHVjaGFtcF9yZWFkeW1hZGVzL1BST0MtbWFyY2VsIGR1Y2hhbXAgcmVhZHltYWRlczMuanBnXCIsXG4gICAgXCIuL2ltZ3MvbWFyY2VsX2R1Y2hhbXBfcmVhZHltYWRlcy9QUk9DLW1hcmNlbCBkdWNoYW1wIHJlYWR5bWFkZXM0LnBuZ1wiLFxuICAgIFwiLi9pbWdzL21hcmNlbF9kdWNoYW1wX3JlYWR5bWFkZXMvUFJPQy1tYXJjZWwgZHVjaGFtcCByZWFkeW1hZGVzNS5wbmdcIixcbiAgICBcIi4vaW1ncy9tYXJjZWxfZHVjaGFtcF9yZWFkeW1hZGVzL1BST0MtbWFyY2VsIGR1Y2hhbXAgcmVhZHltYWRlczYuanBnXCIsXG4gICAgXCIuL2ltZ3MvbWFyY2VsX2R1Y2hhbXBfcmVhZHltYWRlcy9QUk9DLW1hcmNlbCBkdWNoYW1wIHJlYWR5bWFkZXM3LmpwZ1wiLFxuICAgIFwiLi9pbWdzL21hcmNlbF9kdWNoYW1wX3JlYWR5bWFkZXMvUFJPQy1tYXJjZWwgZHVjaGFtcCByZWFkeW1hZGVzOC5qcGdcIixcbiAgICBcIi4vaW1ncy9tYXJjZWxfZHVjaGFtcF9yZWFkeW1hZGVzL1BST0MtbWFyY2VsIGR1Y2hhbXAgcmVhZHltYWRlczkuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL21hdGhlbWF0aWNzL1BST0MtbWF0aGVtYXRpY3MwLmpwZ1wiLFxuICAgIFwiLi9pbWdzL21hdGhlbWF0aWNzL1BST0MtbWF0aGVtYXRpY3MxLmpwZ1wiLFxuICAgIFwiLi9pbWdzL21hdGhlbWF0aWNzL1BST0MtbWF0aGVtYXRpY3MyLmpwZ1wiLFxuICAgIFwiLi9pbWdzL21hdGhlbWF0aWNzL1BST0MtbWF0aGVtYXRpY3M0LmpwZ1wiLFxuICAgIFwiLi9pbWdzL21hdGhlbWF0aWNzL1BST0MtbWF0aGVtYXRpY3M1LmpwZ1wiLFxuICAgIFwiLi9pbWdzL21hdGhlbWF0aWNzL1BST0MtbWF0aGVtYXRpY3M2LmpwZ1wiLFxuICAgIFwiLi9pbWdzL21hdGhlbWF0aWNzL1BST0MtbWF0aGVtYXRpY3M3LmpwZ1wiLFxuICAgIFwiLi9pbWdzL21hdGhlbWF0aWNzL1BST0MtbWF0aGVtYXRpY3M4LmpwZ1wiLFxuICAgIFwiLi9pbWdzL21hdGhlbWF0aWNzL1BST0MtbWF0aGVtYXRpY3M5LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9tb2R1bGFyX3N5bnRoZXNpemVycy9QUk9DLW1vZHVsYXIgc3ludGhlc2l6ZXJzMC5qcGdcIixcbiAgICBcIi4vaW1ncy9tb2R1bGFyX3N5bnRoZXNpemVycy9QUk9DLW1vZHVsYXIgc3ludGhlc2l6ZXJzMS5qcGdcIixcbiAgICBcIi4vaW1ncy9tb2R1bGFyX3N5bnRoZXNpemVycy9QUk9DLW1vZHVsYXIgc3ludGhlc2l6ZXJzMi5qcGdcIixcbiAgICBcIi4vaW1ncy9tb2R1bGFyX3N5bnRoZXNpemVycy9QUk9DLW1vZHVsYXIgc3ludGhlc2l6ZXJzNC5qcGdcIixcbiAgICBcIi4vaW1ncy9tb2R1bGFyX3N5bnRoZXNpemVycy9QUk9DLW1vZHVsYXIgc3ludGhlc2l6ZXJzNi5qcGdcIixcbiAgICBcIi4vaW1ncy9tb2R1bGFyX3N5bnRoZXNpemVycy9QUk9DLW1vZHVsYXIgc3ludGhlc2l6ZXJzNy5qcGdcIixcbiAgICBcIi4vaW1ncy9tb2R1bGFyX3N5bnRoZXNpemVycy9QUk9DLW1vZHVsYXIgc3ludGhlc2l6ZXJzOC5qcGdcIixcbiAgICBcIi4vaW1ncy9tb2R1bGFyX3N5bnRoZXNpemVycy9QUk9DLW1vZHVsYXIgc3ludGhlc2l6ZXJzOS5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvbmJhX2phbV9vbl9maXJlL1BST0MtbmJhIGphbSBvbiBmaXJlMS5qcGdcIixcbiAgICBcIi4vaW1ncy9uYmFfamFtX29uX2ZpcmUvUFJPQy1uYmEgamFtIG9uIGZpcmUzLmpwZ1wiLFxuICAgIFwiLi9pbWdzL25iYV9qYW1fb25fZmlyZS9QUk9DLW5iYSBqYW0gb24gZmlyZTQuanBnXCIsXG4gICAgXCIuL2ltZ3MvbmJhX2phbV9vbl9maXJlL1BST0MtbmJhIGphbSBvbiBmaXJlNS5qcGdcIixcbiAgICBcIi4vaW1ncy9uYmFfamFtX29uX2ZpcmUvUFJPQy1uYmEgamFtIG9uIGZpcmU2LmpwZ1wiLFxuICAgIFwiLi9pbWdzL25iYV9qYW1fb25fZmlyZS9QUk9DLW5iYSBqYW0gb24gZmlyZTcuanBnXCIsXG4gICAgXCIuL2ltZ3MvbmJhX2phbV9vbl9maXJlL1BST0MtbmJhIGphbSBvbiBmaXJlOC5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvcGhpbG9zb3BoZXJzL1BST0MtcGhpbG9zb3BoZXJzMC5qcGdcIixcbiAgICBcIi4vaW1ncy9waGlsb3NvcGhlcnMvUFJPQy1waGlsb3NvcGhlcnMxLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3BoaWxvc29waGVycy9QUk9DLXBoaWxvc29waGVyczIuanBnXCIsXG4gICAgXCIuL2ltZ3MvcGhpbG9zb3BoZXJzL1BST0MtcGhpbG9zb3BoZXJzMy5qcGdcIixcbiAgICBcIi4vaW1ncy9waGlsb3NvcGhlcnMvUFJPQy1waGlsb3NvcGhlcnM0LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3BoaWxvc29waGVycy9QUk9DLXBoaWxvc29waGVyczUuanBnXCIsXG4gICAgXCIuL2ltZ3MvcGhpbG9zb3BoZXJzL1BST0MtcGhpbG9zb3BoZXJzNi5qcGdcIixcbiAgICBcIi4vaW1ncy9waGlsb3NvcGhlcnMvUFJPQy1waGlsb3NvcGhlcnM3LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3BoaWxvc29waGVycy9QUk9DLXBoaWxvc29waGVyczguanBnXCIsXG4gICAgXCIuL2ltZ3MvcGhpbG9zb3BoZXJzL1BST0MtcGhpbG9zb3BoZXJzOS5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvcG9rZW1vbl9ibHVlL1BST0MtcG9rZW1vbiBibHVlMC5qcGdcIixcbiAgICBcIi4vaW1ncy9wb2tlbW9uX2JsdWUvUFJPQy1wb2tlbW9uIGJsdWUxLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3Bva2Vtb25fYmx1ZS9QUk9DLXBva2Vtb24gYmx1ZTIuanBnXCIsXG4gICAgXCIuL2ltZ3MvcG9rZW1vbl9ibHVlL1BST0MtcG9rZW1vbiBibHVlMy5qcGdcIixcbiAgICBcIi4vaW1ncy9wb2tlbW9uX2JsdWUvUFJPQy1wb2tlbW9uIGJsdWU0LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3Bva2Vtb25fYmx1ZS9QUk9DLXBva2Vtb24gYmx1ZTUuanBnXCIsXG4gICAgXCIuL2ltZ3MvcG9rZW1vbl9ibHVlL1BST0MtcG9rZW1vbiBibHVlNi5qcGdcIixcbiAgICBcIi4vaW1ncy9wb2tlbW9uX2JsdWUvUFJPQy1wb2tlbW9uIGJsdWU3LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3Bva2Vtb25fYmx1ZS9QUk9DLXBva2Vtb24gYmx1ZTguanBnXCIsXG4gICAgXCIuL2ltZ3MvcG9rZW1vbl9ibHVlL1BST0MtcG9rZW1vbiBibHVlOS5wbmdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvcG93ZXJfcmFuZ2Vyc19tZWdhem9yZC9QUk9DLXBvd2VyIHJhbmdlcnMgbWVnYXpvcmQwLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3Bvd2VyX3JhbmdlcnNfbWVnYXpvcmQvUFJPQy1wb3dlciByYW5nZXJzIG1lZ2F6b3JkMS5qcGdcIixcbiAgICBcIi4vaW1ncy9wb3dlcl9yYW5nZXJzX21lZ2F6b3JkL1BST0MtcG93ZXIgcmFuZ2VycyBtZWdhem9yZDIuanBnXCIsXG4gICAgXCIuL2ltZ3MvcG93ZXJfcmFuZ2Vyc19tZWdhem9yZC9QUk9DLXBvd2VyIHJhbmdlcnMgbWVnYXpvcmQzLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3Bvd2VyX3JhbmdlcnNfbWVnYXpvcmQvUFJPQy1wb3dlciByYW5nZXJzIG1lZ2F6b3JkNC5qcGdcIixcbiAgICBcIi4vaW1ncy9wb3dlcl9yYW5nZXJzX21lZ2F6b3JkL1BST0MtcG93ZXIgcmFuZ2VycyBtZWdhem9yZDUuanBnXCIsXG4gICAgXCIuL2ltZ3MvcG93ZXJfcmFuZ2Vyc19tZWdhem9yZC9QUk9DLXBvd2VyIHJhbmdlcnMgbWVnYXpvcmQ2LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3Bvd2VyX3JhbmdlcnNfbWVnYXpvcmQvUFJPQy1wb3dlciByYW5nZXJzIG1lZ2F6b3JkNy5qcGdcIixcbiAgICBcIi4vaW1ncy9wb3dlcl9yYW5nZXJzX21lZ2F6b3JkL1BST0MtcG93ZXIgcmFuZ2VycyBtZWdhem9yZDguanBnXCIsXG4gICAgXCIuL2ltZ3MvcG93ZXJfcmFuZ2Vyc19tZWdhem9yZC9QUk9DLXBvd2VyIHJhbmdlcnMgbWVnYXpvcmQ5LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9yZXpfcHMyL1BST0MtcmV6IHBzMjIuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL3JpY2hhcmRfc2VycmFfc2N1bHB0dXJlcy9QUk9DLXJpY2hhcmQgc2VycmEgc2N1bHB0dXJlczAuanBnXCIsXG4gICAgXCIuL2ltZ3MvcmljaGFyZF9zZXJyYV9zY3VscHR1cmVzL1BST0MtcmljaGFyZCBzZXJyYSBzY3VscHR1cmVzMS5qcGdcIixcbiAgICBcIi4vaW1ncy9yaWNoYXJkX3NlcnJhX3NjdWxwdHVyZXMvUFJPQy1yaWNoYXJkIHNlcnJhIHNjdWxwdHVyZXMyLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3JpY2hhcmRfc2VycmFfc2N1bHB0dXJlcy9QUk9DLXJpY2hhcmQgc2VycmEgc2N1bHB0dXJlczMuanBnXCIsXG4gICAgXCIuL2ltZ3MvcmljaGFyZF9zZXJyYV9zY3VscHR1cmVzL1BST0MtcmljaGFyZCBzZXJyYSBzY3VscHR1cmVzNC5qcGdcIixcbiAgICBcIi4vaW1ncy9yaWNoYXJkX3NlcnJhX3NjdWxwdHVyZXMvUFJPQy1yaWNoYXJkIHNlcnJhIHNjdWxwdHVyZXM1LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3JpY2hhcmRfc2VycmFfc2N1bHB0dXJlcy9QUk9DLXJpY2hhcmQgc2VycmEgc2N1bHB0dXJlczYuanBnXCIsXG4gICAgXCIuL2ltZ3MvcmljaGFyZF9zZXJyYV9zY3VscHR1cmVzL1BST0MtcmljaGFyZCBzZXJyYSBzY3VscHR1cmVzNy5qcGdcIixcbiAgICBcIi4vaW1ncy9yaWNoYXJkX3NlcnJhX3NjdWxwdHVyZXMvUFJPQy1yaWNoYXJkIHNlcnJhIHNjdWxwdHVyZXM4LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3JpY2hhcmRfc2VycmFfc2N1bHB0dXJlcy9QUk9DLXJpY2hhcmQgc2VycmEgc2N1bHB0dXJlczkuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL3NjaWVuY2VfZmljdGlvbl9hcnQvUFJPQy1zY2llbmNlIGZpY3Rpb24gYXJ0MC5qcGdcIixcbiAgICBcIi4vaW1ncy9zY2llbmNlX2ZpY3Rpb25fYXJ0L1BST0Mtc2NpZW5jZSBmaWN0aW9uIGFydDEuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc2NpZW5jZV9maWN0aW9uX2FydC9QUk9DLXNjaWVuY2UgZmljdGlvbiBhcnQyLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NjaWVuY2VfZmljdGlvbl9hcnQvUFJPQy1zY2llbmNlIGZpY3Rpb24gYXJ0My5qcGdcIixcbiAgICBcIi4vaW1ncy9zY2llbmNlX2ZpY3Rpb25fYXJ0L1BST0Mtc2NpZW5jZSBmaWN0aW9uIGFydDQuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc2NpZW5jZV9maWN0aW9uX2FydC9QUk9DLXNjaWVuY2UgZmljdGlvbiBhcnQ1LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NjaWVuY2VfZmljdGlvbl9hcnQvUFJPQy1zY2llbmNlIGZpY3Rpb24gYXJ0Ni5qcGdcIixcbiAgICBcIi4vaW1ncy9zY2llbmNlX2ZpY3Rpb25fYXJ0L1BST0Mtc2NpZW5jZSBmaWN0aW9uIGFydDcuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc2NpZW5jZV9maWN0aW9uX2FydC9QUk9DLXNjaWVuY2UgZmljdGlvbiBhcnQ4LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NjaWVuY2VfZmljdGlvbl9hcnQvUFJPQy1zY2llbmNlIGZpY3Rpb24gYXJ0OS5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3Mvc25vcmtlbGluZ19zYWZldHkvUFJPQy1zbm9ya2VsaW5nIHNhZmV0eTAucG5nXCIsXG4gICAgXCIuL2ltZ3Mvc25vcmtlbGluZ19zYWZldHkvUFJPQy1zbm9ya2VsaW5nIHNhZmV0eTEuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc25vcmtlbGluZ19zYWZldHkvUFJPQy1zbm9ya2VsaW5nIHNhZmV0eTQuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc25vcmtlbGluZ19zYWZldHkvUFJPQy1zbm9ya2VsaW5nIHNhZmV0eTUuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc25vcmtlbGluZ19zYWZldHkvUFJPQy1zbm9ya2VsaW5nIHNhZmV0eTYuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc25vcmtlbGluZ19zYWZldHkvUFJPQy1zbm9ya2VsaW5nIHNhZmV0eTcuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc25vcmtlbGluZ19zYWZldHkvUFJPQy1zbm9ya2VsaW5nIHNhZmV0eTguanBnXCIsXG4gICAgXCIuL2ltZ3Mvc25vcmtlbGluZ19zYWZldHkvUFJPQy1zbm9ya2VsaW5nIHNhZmV0eTkuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL3NvbF9sZXdpdHRfd2FsbF9kcmF3aW5ncy9QUk9DLXNvbCBsZXdpdHQgd2FsbCBkcmF3aW5nczAuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc29sX2xld2l0dF93YWxsX2RyYXdpbmdzL1BST0Mtc29sIGxld2l0dCB3YWxsIGRyYXdpbmdzMS5qcGdcIixcbiAgICBcIi4vaW1ncy9zb2xfbGV3aXR0X3dhbGxfZHJhd2luZ3MvUFJPQy1zb2wgbGV3aXR0IHdhbGwgZHJhd2luZ3MyLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NvbF9sZXdpdHRfd2FsbF9kcmF3aW5ncy9QUk9DLXNvbCBsZXdpdHQgd2FsbCBkcmF3aW5nczMuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc29sX2xld2l0dF93YWxsX2RyYXdpbmdzL1BST0Mtc29sIGxld2l0dCB3YWxsIGRyYXdpbmdzNC5qcGdcIixcbiAgICBcIi4vaW1ncy9zb2xfbGV3aXR0X3dhbGxfZHJhd2luZ3MvUFJPQy1zb2wgbGV3aXR0IHdhbGwgZHJhd2luZ3M1LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NvbF9sZXdpdHRfd2FsbF9kcmF3aW5ncy9QUk9DLXNvbCBsZXdpdHQgd2FsbCBkcmF3aW5nczYuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc29sX2xld2l0dF93YWxsX2RyYXdpbmdzL1BST0Mtc29sIGxld2l0dCB3YWxsIGRyYXdpbmdzNy5qcGdcIixcbiAgICBcIi4vaW1ncy9zb2xfbGV3aXR0X3dhbGxfZHJhd2luZ3MvUFJPQy1zb2wgbGV3aXR0IHdhbGwgZHJhd2luZ3M4LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NvbF9sZXdpdHRfd2FsbF9kcmF3aW5ncy9QUk9DLXNvbCBsZXdpdHQgd2FsbCBkcmF3aW5nczkuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL3NwXzUwNV9zYW1wbGVyL1BST0Mtc3AgNTA1IHNhbXBsZXIwLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NwXzUwNV9zYW1wbGVyL1BST0Mtc3AgNTA1IHNhbXBsZXIxLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NwXzUwNV9zYW1wbGVyL1BST0Mtc3AgNTA1IHNhbXBsZXIyLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NwXzUwNV9zYW1wbGVyL1BST0Mtc3AgNTA1IHNhbXBsZXIzLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NwXzUwNV9zYW1wbGVyL1BST0Mtc3AgNTA1IHNhbXBsZXI0LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NwXzUwNV9zYW1wbGVyL1BST0Mtc3AgNTA1IHNhbXBsZXI1LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NwXzUwNV9zYW1wbGVyL1BST0Mtc3AgNTA1IHNhbXBsZXI2LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NwXzUwNV9zYW1wbGVyL1BST0Mtc3AgNTA1IHNhbXBsZXI3LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NwXzUwNV9zYW1wbGVyL1BST0Mtc3AgNTA1IHNhbXBsZXI4LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3NwXzUwNV9zYW1wbGVyL1BST0Mtc3AgNTA1IHNhbXBsZXI5LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9zdGFyX3dhcnMvUFJPQy1zdGFyIHdhcnMzLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3N0YXJfd2Fycy9QUk9DLXN0YXIgd2FyczcuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc3Rhcl93YXJzL1BST0Mtc3RhciB3YXJzOC5qcGdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3Mvc3VwZXJoZXJvL1BST0Mtc3VwZXJoZXJvMC5wbmdcIixcbiAgICBcIi4vaW1ncy9zdXBlcmhlcm8vUFJPQy1zdXBlcmhlcm82LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3N1cGVyaGVyby9QUk9DLXN1cGVyaGVybzcuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc3VwZXJoZXJvL1BST0Mtc3VwZXJoZXJvOC5qcGdcIixcbiAgICBcIi4vaW1ncy9zdXBlcmhlcm8vUFJPQy1zdXBlcmhlcm85LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy9zd2ltbWluZ193aXRoX2RvbHBoaW5zL1BST0Mtc3dpbW1pbmcgd2l0aCBkb2xwaGluczAuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc3dpbW1pbmdfd2l0aF9kb2xwaGlucy9QUk9DLXN3aW1taW5nIHdpdGggZG9scGhpbnMxLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3N3aW1taW5nX3dpdGhfZG9scGhpbnMvUFJPQy1zd2ltbWluZyB3aXRoIGRvbHBoaW5zMi5qcGdcIixcbiAgICBcIi4vaW1ncy9zd2ltbWluZ193aXRoX2RvbHBoaW5zL1BST0Mtc3dpbW1pbmcgd2l0aCBkb2xwaGluczMuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc3dpbW1pbmdfd2l0aF9kb2xwaGlucy9QUk9DLXN3aW1taW5nIHdpdGggZG9scGhpbnM0LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3N3aW1taW5nX3dpdGhfZG9scGhpbnMvUFJPQy1zd2ltbWluZyB3aXRoIGRvbHBoaW5zNS5qcGdcIixcbiAgICBcIi4vaW1ncy9zd2ltbWluZ193aXRoX2RvbHBoaW5zL1BST0Mtc3dpbW1pbmcgd2l0aCBkb2xwaGluczYuanBnXCIsXG4gICAgXCIuL2ltZ3Mvc3dpbW1pbmdfd2l0aF9kb2xwaGlucy9QUk9DLXN3aW1taW5nIHdpdGggZG9scGhpbnM3LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3N3aW1taW5nX3dpdGhfZG9scGhpbnMvUFJPQy1zd2ltbWluZyB3aXRoIGRvbHBoaW5zOC5qcGdcIixcbiAgICBcIi4vaW1ncy9zd2ltbWluZ193aXRoX2RvbHBoaW5zL1BST0Mtc3dpbW1pbmcgd2l0aCBkb2xwaGluczkuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL3RvZWphbV9hbmRfZWFybC9QUk9DLXRvZWphbSBhbmQgZWFybDAuanBnXCIsXG4gICAgXCIuL2ltZ3MvdG9lamFtX2FuZF9lYXJsL1BST0MtdG9lamFtIGFuZCBlYXJsMS5wbmdcIixcbiAgICBcIi4vaW1ncy90b2VqYW1fYW5kX2VhcmwvUFJPQy10b2VqYW0gYW5kIGVhcmwyLnBuZ1wiLFxuICAgIFwiLi9pbWdzL3RvZWphbV9hbmRfZWFybC9QUk9DLXRvZWphbSBhbmQgZWFybDMucG5nXCIsXG4gICAgXCIuL2ltZ3MvdG9lamFtX2FuZF9lYXJsL1BST0MtdG9lamFtIGFuZCBlYXJsNC5qcGVnXCIsXG4gICAgXCIuL2ltZ3MvdG9lamFtX2FuZF9lYXJsL1BST0MtdG9lamFtIGFuZCBlYXJsNS5qcGVnXCIsXG4gICAgXCIuL2ltZ3MvdG9lamFtX2FuZF9lYXJsL1BST0MtdG9lamFtIGFuZCBlYXJsNi5wbmdcIixcbiAgICBcIi4vaW1ncy90b2VqYW1fYW5kX2VhcmwvUFJPQy10b2VqYW0gYW5kIGVhcmw3LnBuZ1wiLFxuICAgIFwiLi9pbWdzL3RvZWphbV9hbmRfZWFybC9QUk9DLXRvZWphbSBhbmQgZWFybDgucG5nXCIsXG4gICAgXCIuL2ltZ3MvdG9lamFtX2FuZF9lYXJsL1BST0MtdG9lamFtIGFuZCBlYXJsOS5wbmdcIlxuICBdLFxuICBbXG4gICAgXCIuL2ltZ3MvdG9mdV9yZWNpcGUvUFJPQy10b2Z1IHJlY2lwZTAuanBnXCIsXG4gICAgXCIuL2ltZ3MvdG9mdV9yZWNpcGUvUFJPQy10b2Z1IHJlY2lwZTEuanBnXCIsXG4gICAgXCIuL2ltZ3MvdG9mdV9yZWNpcGUvUFJPQy10b2Z1IHJlY2lwZTIuanBnXCIsXG4gICAgXCIuL2ltZ3MvdG9mdV9yZWNpcGUvUFJPQy10b2Z1IHJlY2lwZTQuanBnXCIsXG4gICAgXCIuL2ltZ3MvdG9mdV9yZWNpcGUvUFJPQy10b2Z1IHJlY2lwZTUuanBnXCIsXG4gICAgXCIuL2ltZ3MvdG9mdV9yZWNpcGUvUFJPQy10b2Z1IHJlY2lwZTcuanBnXCIsXG4gICAgXCIuL2ltZ3MvdG9mdV9yZWNpcGUvUFJPQy10b2Z1IHJlY2lwZTguanBnXCIsXG4gICAgXCIuL2ltZ3MvdG9mdV9yZWNpcGUvUFJPQy10b2Z1IHJlY2lwZTkuanBnXCJcbiAgXSxcbiAgW1xuICAgIFwiLi9pbWdzL3RyYW5zZm9ybWVyX2ZhY2VzL1BST0MtdHJhbnNmb3JtZXIgZmFjZXMwLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3RyYW5zZm9ybWVyX2ZhY2VzL1BST0MtdHJhbnNmb3JtZXIgZmFjZXMxLmpwZ1wiLFxuICAgIFwiLi9pbWdzL3RyYW5zZm9ybWVyX2ZhY2VzL1BST0MtdHJhbnNmb3JtZXIgZmFjZXM0LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3RyYW5zZm9ybWVyX2ZhY2VzL1BST0MtdHJhbnNmb3JtZXIgZmFjZXM1LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3RyYW5zZm9ybWVyX2ZhY2VzL1BST0MtdHJhbnNmb3JtZXIgZmFjZXM2LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3RyYW5zZm9ybWVyX2ZhY2VzL1BST0MtdHJhbnNmb3JtZXIgZmFjZXM3LmpwZ1wiLFxuICAgIFwiLi9pbWdzL3RyYW5zZm9ybWVyX2ZhY2VzL1BST0MtdHJhbnNmb3JtZXIgZmFjZXM4LmpwZ1wiXG4gIF0sXG4gIFtcbiAgICBcIi4vaW1ncy93b3JzdF9nb29nbGVfZG9vZGxlcy9QUk9DLXdvcnN0IGdvb2dsZSBkb29kbGVzMy5qcGdcIixcbiAgICBcIi4vaW1ncy93b3JzdF9nb29nbGVfZG9vZGxlcy9QUk9DLXdvcnN0IGdvb2dsZSBkb29kbGVzNC5qcGdcIixcbiAgICBcIi4vaW1ncy93b3JzdF9nb29nbGVfZG9vZGxlcy9QUk9DLXdvcnN0IGdvb2dsZSBkb29kbGVzNi5qcGdcIixcbiAgICBcIi4vaW1ncy93b3JzdF9nb29nbGVfZG9vZGxlcy9QUk9DLXdvcnN0IGdvb2dsZSBkb29kbGVzNy5qcGdcIixcbiAgICBcIi4vaW1ncy93b3JzdF9nb29nbGVfZG9vZGxlcy9QUk9DLXdvcnN0IGdvb2dsZSBkb29kbGVzOS5qcGdcIlxuICBdXG5dIiwidmFyIGNhdGFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuY2F0YWxvZy5jbGFzc05hbWUgPSAnY2F0YWxvZydcbnZhciBzZWN0aW9uID0gcmVxdWlyZSgnLi9zZWN0aW9uJylcbnZhciB0b3BpY3MgPSByZXF1aXJlKCcuL3RvYycpKClcbnZhciB1c2VzID0gcmVxdWlyZSgnLi91c2VzJykoKVxuXG5cbnZhciBwaWNrID0gcmVxdWlyZSgncGljay1yYW5kb20nKVxudmFyIGltYWdlTWFwID0gcmVxdWlyZSgnLi9pbWFnZU1hcCcpXG5cblxuXG52YXIgY292ZXJQYWdlID0gcmVxdWlyZSgnLi9jb3ZlclBhZ2UnKSgpXG5jYXRhbG9nLmFwcGVuZENoaWxkKGNvdmVyUGFnZSlcblxudmFyIHRvY1BhZ2UgPSByZXF1aXJlKCcuL3RvY1BhZ2UnKSh0b3BpY3MpXG5jYXRhbG9nLmFwcGVuZENoaWxkKHRvY1BhZ2UpXG5cbnZhciB1c2VQYWdlID0gcmVxdWlyZSgnLi91c2VQYWdlJykodXNlcylcbmNhdGFsb2cuYXBwZW5kQ2hpbGQodXNlUGFnZSlcblxuXG5cblxuXG4vLyB2YXIgc2VjdGlvbnMgPSB0b3BpY3MuZm9yRWFjaChmdW5jdGlvbiAodG9waWMsIGkpIHtcbi8vICAgY2F0YWxvZy5hcHBlbmRDaGlsZChzZWN0aW9uKHRvcGljLCBpICsgMSwgdG9waWNzKSlcbi8vIH0pXG5cbi8vIG1ha2UgaW5kZXg/IGdsb3NzYXJ5PyBjbG9zaW5nIHBhZ2U/XG5cblxuXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhdGFsb2cpXG4iLCJ2YXIgcSA9IHJlcXVpcmUoJ3F1ZW5lYXUtYnVja2V0cycpKClcblxuXG52YXIgdGV4dHMgPSByZXF1aXJlKCcuL2NvcnB1c2VzL1RPQycpXG4uY29uY2F0KHJlcXVpcmUoJy4vY29ycHVzZXMvc3VidGl0bGVzJykpXG4uY29uY2F0KHJlcXVpcmUoJy4vY29ycHVzZXMvbWFyeCcpKVxuLmNvbmNhdChyZXF1aXJlKCcuL2NvcnB1c2VzL3RzMTk4OScpKVxucS5zZWVkKHRleHRzKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIFtxLmZpbGwoNSArICh+fk1hdGgucmFuZG9tKCkgKiA3KSksXG4gIHEuZmlsbCg1ICsgKH5+TWF0aC5yYW5kb20oKSAqIDEyKSksXG4gIHEuZmlsbCg1ICsgKH5+TWF0aC5yYW5kb20oKSAqIDE4KSksXG4gIHEuZmlsbCg1ICsgKH5+TWF0aC5yYW5kb20oKSAqIDE1KSksXG4gIHEuZmlsbCg1ICsgKH5+TWF0aC5yYW5kb20oKSAqIDEyKSksXG4gIHEuZmlsbCg1ICsgKH5+TWF0aC5yYW5kb20oKSAqIDcpKSxcbiAgcS5maWxsKDUgKyAofn5NYXRoLnJhbmRvbSgpICogMykpXS5qb2luKCcuICcpXG59XG4iLCJ2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIGRlY2sgPSByZXF1aXJlKCdkZWNrJyk7XG52YXIgTGF6eSA9IHJlcXVpcmUoJ2xhenknKTtcbnZhciBIYXNoID0gcmVxdWlyZSgnaGFzaGlzaCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmRlcikge1xuICAgIGlmICghb3JkZXIpIG9yZGVyID0gMjtcbiAgICB2YXIgZGIgPSB7fTtcbiAgICB2YXIgc2VsZiA9IHt9O1xuICAgIFxuICAgIHNlbGYuc2VlZCA9IGZ1bmN0aW9uIChzZWVkLCBjYikge1xuICAgICAgICBpZiAoc2VlZCBpbnN0YW5jZW9mIEV2ZW50RW1pdHRlcikge1xuICAgICAgICAgICAgTGF6eShzZWVkKS5saW5lcy5mb3JFYWNoKHNlbGYuc2VlZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICAgIHNlZWQub24oJ2Vycm9yJywgY2IpO1xuICAgICAgICAgICAgICAgIHNlZWQub24oJ2VuZCcsIGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gKEJ1ZmZlci5pc0J1ZmZlcihzZWVkKSA/IHNlZWQudG9TdHJpbmcoKSA6IHNlZWQpXG4gICAgICAgICAgICB2YXIgd29yZHMgPSB0ZXh0LnNwbGl0KC9cXHMrLyk7XG4gICAgICAgICAgICB2YXIgbGlua3MgPSBbXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7IGkgKz0gb3JkZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGluayA9IHdvcmRzLnNsaWNlKGksIGkgKyBvcmRlcikuam9pbignICcpO1xuICAgICAgICAgICAgICAgIGxpbmtzLnB1c2gobGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChsaW5rcy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgICAgIGlmIChjYikgY2IobnVsbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxpbmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdvcmQgPSBsaW5rc1tpLTFdO1xuICAgICAgICAgICAgICAgIHZhciBjd29yZCA9IGNsZWFuKHdvcmQpO1xuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gbGlua3NbaV07XG4gICAgICAgICAgICAgICAgdmFyIGNuZXh0ID0gY2xlYW4obmV4dCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBIYXNoLmhhcyhkYiwgY3dvcmQpXG4gICAgICAgICAgICAgICAgICAgID8gZGJbY3dvcmRdXG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgd29yZHMgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICBkYltjd29yZF0gPSBub2RlO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIG5vZGUuY291bnQgKys7XG4gICAgICAgICAgICAgICAgbm9kZS53b3Jkc1t3b3JkXSA9IChcbiAgICAgICAgICAgICAgICAgICAgSGFzaC5oYXMobm9kZS53b3Jkcywgd29yZCkgPyBub2RlLndvcmRzW3dvcmRdIDogMFxuICAgICAgICAgICAgICAgICkgKyAxO1xuICAgICAgICAgICAgICAgIG5vZGUubmV4dFtjbmV4dF0gPSAoXG4gICAgICAgICAgICAgICAgICAgIEhhc2guaGFzKG5vZGUubmV4dCwgY25leHQpID8gbm9kZS5uZXh0W2NuZXh0XSA6IDBcbiAgICAgICAgICAgICAgICApICsgMVxuICAgICAgICAgICAgICAgIGlmIChpID4gMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldiA9IGNsZWFuKGxpbmtzW2ktMl0pO1xuICAgICAgICAgICAgICAgICAgICBub2RlLnByZXZbcHJldl0gPSAoXG4gICAgICAgICAgICAgICAgICAgICAgICBIYXNoLmhhcyhub2RlLnByZXYsIHByZXYpID8gbm9kZS5wcmV2W3ByZXZdIDogMFxuICAgICAgICAgICAgICAgICAgICApICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucHJldlsnJ10gPSAobm9kZS5wcmV2WycnXSB8fCAwKSArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIUhhc2guaGFzKGRiLCBjbmV4dCkpIGRiW2NuZXh0XSA9IHtcbiAgICAgICAgICAgICAgICBjb3VudCA6IDEsXG4gICAgICAgICAgICAgICAgd29yZHMgOiB7fSxcbiAgICAgICAgICAgICAgICBuZXh0IDogeyAnJyA6IDAgfSxcbiAgICAgICAgICAgICAgICBwcmV2IDoge30sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIG4gPSBkYltjbmV4dF07XG4gICAgICAgICAgICBuLndvcmRzW25leHRdID0gKEhhc2guaGFzKG4ud29yZHMsIG5leHQpID8gbi53b3Jkc1tuZXh0XSA6IDApICsgMTtcbiAgICAgICAgICAgIG4ucHJldltjd29yZF0gPSAoSGFzaC5oYXMobi5wcmV2LCBjd29yZCkgPyBuLnByZXZbY3dvcmRdIDogMCkgKyAxO1xuICAgICAgICAgICAgbi5uZXh0WycnXSA9IChuLm5leHRbJyddIHx8IDApICsgMTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGNiKSBjYihudWxsKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgc2VsZi5zZWFyY2ggPSBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICB2YXIgd29yZHMgPSB0ZXh0LnNwbGl0KC9cXHMrLyk7XG4gICAgICAgIFxuICAgICAgICAvLyBmaW5kIGEgc3RhcnRpbmcgcG9pbnQuLi5cbiAgICAgICAgdmFyIHN0YXJ0ID0gbnVsbDtcbiAgICAgICAgdmFyIGdyb3VwcyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgaSArPSBvcmRlcikge1xuICAgICAgICAgICAgdmFyIHdvcmQgPSBjbGVhbih3b3Jkcy5zbGljZShpLCBpICsgb3JkZXIpLmpvaW4oJyAnKSk7XG4gICAgICAgICAgICBpZiAoSGFzaC5oYXMoZGIsIHdvcmQpKSBncm91cHNbd29yZF0gPSBkYlt3b3JkXS5jb3VudDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGRlY2sucGljayhncm91cHMpO1xuICAgIH07XG4gICAgXG4gICAgc2VsZi5waWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZGVjay5waWNrKE9iamVjdC5rZXlzKGRiKSlcbiAgICB9O1xuICAgIFxuICAgIHNlbGYubmV4dCA9IGZ1bmN0aW9uIChjdXIpIHtcbiAgICAgICAgaWYgKCFjdXIgfHwgIWRiW2N1cl0pIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIFxuICAgICAgICB2YXIgbmV4dCA9IGRlY2sucGljayhkYltjdXJdLm5leHQpO1xuICAgICAgICByZXR1cm4gbmV4dCAmJiB7XG4gICAgICAgICAgICBrZXkgOiBuZXh0LFxuICAgICAgICAgICAgd29yZCA6IGRlY2sucGljayhkYltuZXh0XS53b3JkcyksXG4gICAgICAgIH0gfHwgdW5kZWZpbmVkO1xuICAgIH07XG4gICAgXG4gICAgc2VsZi5wcmV2ID0gZnVuY3Rpb24gKGN1cikge1xuICAgICAgICBpZiAoIWN1ciB8fCAhZGJbY3VyXSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgXG4gICAgICAgIHZhciBwcmV2ID0gZGVjay5waWNrKGRiW2N1cl0ucHJldik7XG4gICAgICAgIHJldHVybiBwcmV2ICYmIHtcbiAgICAgICAgICAgIGtleSA6IHByZXYsXG4gICAgICAgICAgICB3b3JkIDogZGVjay5waWNrKGRiW3ByZXZdLndvcmRzKSxcbiAgICAgICAgfSB8fCB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBcbiAgICBzZWxmLmZvcndhcmQgPSBmdW5jdGlvbiAoY3VyLCBsaW1pdCkge1xuICAgICAgICB2YXIgcmVzID0gW107XG4gICAgICAgIHdoaWxlIChjdXIgJiYgIWxpbWl0IHx8IHJlcy5sZW5ndGggPCBsaW1pdCkge1xuICAgICAgICAgICAgdmFyIG5leHQgPSBzZWxmLm5leHQoY3VyKTtcbiAgICAgICAgICAgIGlmICghbmV4dCkgYnJlYWs7XG4gICAgICAgICAgICBjdXIgPSBuZXh0LmtleTtcbiAgICAgICAgICAgIHJlcy5wdXNoKG5leHQud29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBcbiAgICBzZWxmLmJhY2t3YXJkID0gZnVuY3Rpb24gKGN1ciwgbGltaXQpIHtcbiAgICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgICB3aGlsZSAoY3VyICYmICFsaW1pdCB8fCByZXMubGVuZ3RoIDwgbGltaXQpIHtcbiAgICAgICAgICAgIHZhciBwcmV2ID0gc2VsZi5wcmV2KGN1cik7XG4gICAgICAgICAgICBpZiAoIXByZXYpIGJyZWFrO1xuICAgICAgICAgICAgY3VyID0gcHJldi5rZXk7XG4gICAgICAgICAgICByZXMudW5zaGlmdChwcmV2LndvcmQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgXG4gICAgc2VsZi5maWxsID0gZnVuY3Rpb24gKGN1ciwgbGltaXQpIHtcbiAgICAgICAgdmFyIHJlcyA9IFsgZGVjay5waWNrKGRiW2N1cl0ud29yZHMpIF07XG4gICAgICAgIGlmICghcmVzWzBdKSByZXR1cm4gW107XG4gICAgICAgIGlmIChsaW1pdCAmJiByZXMubGVuZ3RoID49IGxpbWl0KSByZXR1cm4gcmVzOztcbiAgICAgICAgXG4gICAgICAgIHZhciBwY3VyID0gY3VyO1xuICAgICAgICB2YXIgbmN1ciA9IGN1cjtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlIChwY3VyIHx8IG5jdXIpIHtcbiAgICAgICAgICAgIGlmIChwY3VyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZXYgPSBzZWxmLnByZXYocGN1cik7XG4gICAgICAgICAgICAgICAgcGN1ciA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgcGN1ciA9IHByZXYua2V5O1xuICAgICAgICAgICAgICAgICAgICByZXMudW5zaGlmdChwcmV2LndvcmQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGltaXQgJiYgcmVzLmxlbmd0aCA+PSBsaW1pdCkgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAobmN1cikge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gc2VsZi5uZXh0KG5jdXIpO1xuICAgICAgICAgICAgICAgIG5jdXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIG5jdXIgPSBuZXh0LmtleTtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnB1c2gobmV4dC53b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbWl0ICYmIHJlcy5sZW5ndGggPj0gbGltaXQpIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFxuICAgIHNlbGYucmVzcG9uZCA9IGZ1bmN0aW9uICh0ZXh0LCBsaW1pdCkge1xuICAgICAgICB2YXIgY3VyID0gc2VsZi5zZWFyY2godGV4dCkgfHwgc2VsZi5waWNrKCk7XG4gICAgICAgIHJldHVybiBzZWxmLmZpbGwoY3VyLCBsaW1pdCk7XG4gICAgfTtcbiAgICBcbiAgICBzZWxmLndvcmQgPSBmdW5jdGlvbiAoY3VyKSB7XG4gICAgICAgIHJldHVybiBkYltjdXJdICYmIGRlY2sucGljayhkYltjdXJdLndvcmRzKTtcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiBzZWxmO1xufTtcblxuZnVuY3Rpb24gY2xlYW4gKHMpIHtcbiAgICByZXR1cm4gc1xuICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAucmVwbGFjZSgvW15hLXpcXGRdKy9nLCAnXycpXG4gICAgICAgIC5yZXBsYWNlKC9eXy8sICcnKVxuICAgICAgICAucmVwbGFjZSgvXyQvLCAnJylcbiAgICA7XG59XG4iLCJ2YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHhzKSB7XG4gICAgaWYgKHR5cGVvZiB4cyAhPT0gJ29iamVjdCcpIHsgLy8gb2Ygd2hpY2ggQXJyYXlzIGFyZVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNdXN0IGJlIGFuIEFycmF5IG9yIGFuIG9iamVjdCcpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoZXhwb3J0cykucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG5hbWUpIHtcbiAgICAgICAgYWNjW25hbWVdID0gZXhwb3J0c1tuYW1lXS5iaW5kKG51bGwsIHhzKTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG59O1xuXG5leHBvcnRzLnNodWZmbGUgPSBmdW5jdGlvbiAoeHMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh4cykpIHtcbiAgICAgICAgLy8gdW5pZm9ybSBzaHVmZmxlXG4gICAgICAgIHZhciByZXMgPSB4cy5zbGljZSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gcmVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGkpO1xuICAgICAgICAgICAgdmFyIHQgPSByZXNbaV07XG4gICAgICAgICAgICByZXNbaV0gPSByZXNbbl07XG4gICAgICAgICAgICByZXNbbl0gPSB0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB4cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gd2VpZ2h0ZWQgc2h1ZmZsZVxuICAgICAgICB2YXIgd2VpZ2h0cyA9IE9iamVjdC5rZXlzKHhzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHhzW2tleV07XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIFxuICAgICAgICB2YXIgcmV0ID0gW107XG4gICAgICAgIFxuICAgICAgICB3aGlsZSAoT2JqZWN0LmtleXMod2VpZ2h0cykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGV4cG9ydHMucGljayh3ZWlnaHRzKTtcbiAgICAgICAgICAgIGRlbGV0ZSB3ZWlnaHRzW2tleV07XG4gICAgICAgICAgICByZXQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTXVzdCBiZSBhbiBBcnJheSBvciBhbiBvYmplY3QnKTtcbiAgICB9XG59O1xuXG5leHBvcnRzLnBpY2sgPSBmdW5jdGlvbiAoeHMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh4cykpIHtcbiAgICAgICAgLy8gdW5pZm9ybSBzYW1wbGVcbiAgICAgICAgcmV0dXJuIHhzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHhzLmxlbmd0aCldO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgeHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIHdlaWdodGVkIHNhbXBsZVxuICAgICAgICB2YXIgd2VpZ2h0cyA9IGV4cG9ydHMubm9ybWFsaXplKHhzKTtcbiAgICAgICAgaWYgKCF3ZWlnaHRzKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBcbiAgICAgICAgdmFyIG4gPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICB2YXIgdGhyZXNob2xkID0gMDtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh3ZWlnaHRzKTtcbiAgICAgICAgXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhyZXNob2xkICs9IHdlaWdodHNba2V5c1tpXV07XG4gICAgICAgICAgICBpZiAobiA8IHRocmVzaG9sZCkgcmV0dXJuIGtleXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeGNlZWRlZCB0aHJlc2hvbGQuIFNvbWV0aGluZyBpcyB2ZXJ5IHdyb25nLicpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTXVzdCBiZSBhbiBBcnJheSBvciBhbiBvYmplY3QnKTtcbiAgICB9XG59O1xuXG5leHBvcnRzLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uICh3ZWlnaHRzKSB7XG4gICAgaWYgKHR5cGVvZiB3ZWlnaHRzICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHdlaWdodHMpKSB7XG4gICAgICAgIHRocm93ICdOb3QgYW4gb2JqZWN0J1xuICAgIH1cbiAgICBcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHdlaWdodHMpO1xuICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBcbiAgICB2YXIgdG90YWwgPSBrZXlzLnJlZHVjZShmdW5jdGlvbiAoc3VtLCBrZXkpIHtcbiAgICAgICAgdmFyIHggPSB3ZWlnaHRzW2tleV07XG4gICAgICAgIGlmICh4IDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZWdhdGl2ZSB3ZWlnaHQgZW5jb3VudGVyZWQgYXQga2V5ICcgKyBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB4ICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTnVtYmVyIGV4cGVjdGVkLCBnb3QgJyArIHR5cGVvZiB4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdW0gKyB4O1xuICAgICAgICB9XG4gICAgfSwgMCk7XG4gICAgXG4gICAgcmV0dXJuIHRvdGFsID09PSAxXG4gICAgICAgID8gd2VpZ2h0c1xuICAgICAgICA6IGtleXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICAgICAgYWNjW2tleV0gPSB3ZWlnaHRzW2tleV0gLyB0b3RhbDtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KVxuICAgIDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IEhhc2g7XG52YXIgVHJhdmVyc2UgPSByZXF1aXJlKCd0cmF2ZXJzZScpO1xuXG5mdW5jdGlvbiBIYXNoIChoYXNoLCB4cykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGhhc2gpICYmIEFycmF5LmlzQXJyYXkoeHMpKSB7XG4gICAgICAgIHZhciB0byA9IE1hdGgubWluKGhhc2gubGVuZ3RoLCB4cy5sZW5ndGgpO1xuICAgICAgICB2YXIgYWNjID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG87IGkrKykge1xuICAgICAgICAgICAgYWNjW2hhc2hbaV1dID0geHNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEhhc2goYWNjKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGhhc2ggPT09IHVuZGVmaW5lZCkgcmV0dXJuIEhhc2goe30pO1xuICAgIFxuICAgIHZhciBzZWxmID0ge1xuICAgICAgICBtYXAgOiBmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgdmFyIGFjYyA9IHsgX19wcm90b19fIDogaGFzaC5fX3Byb3RvX18gfTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGhhc2gpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gZi5jYWxsKHNlbGYsIGhhc2hba2V5XSwga2V5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIEhhc2goYWNjKTtcbiAgICAgICAgfSxcbiAgICAgICAgZm9yRWFjaCA6IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhoYXNoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBmLmNhbGwoc2VsZiwgaGFzaFtrZXldLCBrZXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfSxcbiAgICAgICAgZmlsdGVyIDogZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgIHZhciBhY2MgPSB7IF9fcHJvdG9fXyA6IGhhc2guX19wcm90b19fIH07XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhoYXNoKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZi5jYWxsKHNlbGYsIGhhc2hba2V5XSwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IGhhc2hba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBIYXNoKGFjYyk7XG4gICAgICAgIH0sXG4gICAgICAgIGRldGVjdCA6IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gaGFzaCkge1xuICAgICAgICAgICAgICAgIGlmIChmLmNhbGwoc2VsZiwgaGFzaFtrZXldLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNoW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVkdWNlIDogZnVuY3Rpb24gKGYsIGFjYykge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhoYXNoKTtcbiAgICAgICAgICAgIGlmIChhY2MgPT09IHVuZGVmaW5lZCkgYWNjID0ga2V5cy5zaGlmdCgpO1xuICAgICAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBhY2MgPSBmLmNhbGwoc2VsZiwgYWNjLCBoYXNoW2tleV0sIGtleSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sXG4gICAgICAgIHNvbWUgOiBmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGhhc2gpIHtcbiAgICAgICAgICAgICAgICBpZiAoZi5jYWxsKHNlbGYsIGhhc2hba2V5XSwga2V5KSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlQWxsKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBoYXNoW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVBbGwgOiBmdW5jdGlvbiAoeHMpIHtcbiAgICAgICAgICAgIHhzLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGUoeCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzZWxmO1xuICAgICAgICB9LFxuICAgICAgICBtZXJnZSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmNvcHkudXBkYXRlQWxsKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5jb3B5LnVwZGF0ZShvYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtZXJnZUFsbCA6IGZ1bmN0aW9uICh4cykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY29weS51cGRhdGVBbGwoeHMpO1xuICAgICAgICB9LFxuICAgICAgICBoYXMgOiBmdW5jdGlvbiAoa2V5KSB7IC8vIG9ubHkgb3BlcmF0ZXMgb24gZW51bWVyYWJsZXNcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGtleSlcbiAgICAgICAgICAgICAgICA/IGtleS5ldmVyeShmdW5jdGlvbiAoaykgeyByZXR1cm4gc2VsZi5oYXMoaykgfSlcbiAgICAgICAgICAgICAgICA6IHNlbGYua2V5cy5pbmRleE9mKGtleS50b1N0cmluZygpKSA+PSAwO1xuICAgICAgICB9LFxuICAgICAgICB2YWx1ZXNBdCA6IGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShrZXlzKVxuICAgICAgICAgICAgICAgID8ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gaGFzaFtrZXldIH0pXG4gICAgICAgICAgICAgICAgOiBoYXNoW2tleXNdXG4gICAgICAgICAgICA7XG4gICAgICAgIH0sXG4gICAgICAgIHRhcCA6IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICBmLmNhbGwoc2VsZiwgaGFzaCk7XG4gICAgICAgICAgICByZXR1cm4gc2VsZjtcbiAgICAgICAgfSxcbiAgICAgICAgZXh0cmFjdCA6IGZ1bmN0aW9uIChrZXlzKSB7XG4gICAgICAgICAgICB2YXIgYWNjID0ge307XG4gICAgICAgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGFjY1trZXldID0gaGFzaFtrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSGFzaChhY2MpO1xuICAgICAgICB9LFxuICAgICAgICBleGNsdWRlIDogZnVuY3Rpb24gKGtleXMpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmZpbHRlcihmdW5jdGlvbiAoXywga2V5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXMuaW5kZXhPZihrZXkpIDwgMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVuZCA6IGhhc2gsXG4gICAgICAgIGl0ZW1zIDogaGFzaFxuICAgIH07XG4gICAgXG4gICAgdmFyIHByb3BzID0ge1xuICAgICAgICBrZXlzIDogZnVuY3Rpb24gKCkgeyByZXR1cm4gT2JqZWN0LmtleXMoaGFzaCkgfSxcbiAgICAgICAgdmFsdWVzIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGhhc2gpLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBoYXNoW2tleV0gfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBhY3QgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggIT09IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xvbmUgOiBmdW5jdGlvbiAoKSB7IHJldHVybiBIYXNoKEhhc2guY2xvbmUoaGFzaCkpIH0sXG4gICAgICAgIGNvcHkgOiBmdW5jdGlvbiAoKSB7IHJldHVybiBIYXNoKEhhc2guY29weShoYXNoKSkgfSxcbiAgICAgICAgbGVuZ3RoIDogZnVuY3Rpb24gKCkgeyByZXR1cm4gT2JqZWN0LmtleXMoaGFzaCkubGVuZ3RoIH0sXG4gICAgICAgIHNpemUgOiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZWxmLmxlbmd0aCB9XG4gICAgfTtcbiAgICBcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIC8vIGVzNS1zaGltIGhhcyBhbiBPYmplY3QuZGVmaW5lUHJvcGVydHkgYnV0IGl0IHRocm93cyBmb3IgZ2V0dGVyc1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYsIGtleSwgeyBnZXQgOiBwcm9wc1trZXldIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09ICdjbG9uZScgJiYga2V5ICE9PSAnY29weScgJiYga2V5ICE9PSAnY29tcGFjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gXiB0aG9zZSBrZXlzIHVzZSBIYXNoKCkgc28gY2FuJ3QgY2FsbCB0aGVtIHdpdGhvdXRcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBzdGFjayBvdmVyZmxvd1xuICAgICAgICAgICAgICAgICAgICBzZWxmW2tleV0gPSBwcm9wc1trZXldKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHNlbGYuX19kZWZpbmVHZXR0ZXJfXykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgIHNlbGYuX19kZWZpbmVHZXR0ZXJfXyhrZXksIHByb3BzW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBub24tbGF6eSB2ZXJzaW9uIGZvciBicm93c2VycyB0aGF0IHN1Y2sgPl88XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgICAgICAgc2VsZltrZXldID0gcHJvcHNba2V5XSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBzZWxmO1xufTtcblxuLy8gZGVlcCBjb3B5XG5IYXNoLmNsb25lID0gZnVuY3Rpb24gKHJlZikge1xuICAgIHJldHVybiBUcmF2ZXJzZS5jbG9uZShyZWYpO1xufTtcblxuLy8gc2hhbGxvdyBjb3B5XG5IYXNoLmNvcHkgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgdmFyIGhhc2ggPSB7IF9fcHJvdG9fXyA6IHJlZi5fX3Byb3RvX18gfTtcbiAgICBPYmplY3Qua2V5cyhyZWYpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBoYXNoW2tleV0gPSByZWZba2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4gaGFzaDtcbn07XG5cbkhhc2gubWFwID0gZnVuY3Rpb24gKHJlZiwgZikge1xuICAgIHJldHVybiBIYXNoKHJlZikubWFwKGYpLml0ZW1zO1xufTtcblxuSGFzaC5mb3JFYWNoID0gZnVuY3Rpb24gKHJlZiwgZikge1xuICAgIEhhc2gocmVmKS5mb3JFYWNoKGYpO1xufTtcblxuSGFzaC5maWx0ZXIgPSBmdW5jdGlvbiAocmVmLCBmKSB7XG4gICAgcmV0dXJuIEhhc2gocmVmKS5maWx0ZXIoZikuaXRlbXM7XG59O1xuXG5IYXNoLmRldGVjdCA9IGZ1bmN0aW9uIChyZWYsIGYpIHtcbiAgICByZXR1cm4gSGFzaChyZWYpLmRldGVjdChmKTtcbn07XG5cbkhhc2gucmVkdWNlID0gZnVuY3Rpb24gKHJlZiwgZiwgYWNjKSB7XG4gICAgcmV0dXJuIEhhc2gocmVmKS5yZWR1Y2UoZiwgYWNjKTtcbn07XG5cbkhhc2guc29tZSA9IGZ1bmN0aW9uIChyZWYsIGYpIHtcbiAgICByZXR1cm4gSGFzaChyZWYpLnNvbWUoZik7XG59O1xuXG5IYXNoLnVwZGF0ZSA9IGZ1bmN0aW9uIChhIC8qLCBiLCBjLCAuLi4gKi8pIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgdmFyIGhhc2ggPSBIYXNoKGEpO1xuICAgIHJldHVybiBoYXNoLnVwZGF0ZS5hcHBseShoYXNoLCBhcmdzKS5pdGVtcztcbn07XG5cbkhhc2gubWVyZ2UgPSBmdW5jdGlvbiAoYSAvKiwgYiwgYywgLi4uICovKSB7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciBoYXNoID0gSGFzaChhKTtcbiAgICByZXR1cm4gaGFzaC5tZXJnZS5hcHBseShoYXNoLCBhcmdzKS5pdGVtcztcbn07XG5cbkhhc2guaGFzID0gZnVuY3Rpb24gKHJlZiwga2V5KSB7XG4gICAgcmV0dXJuIEhhc2gocmVmKS5oYXMoa2V5KTtcbn07XG5cbkhhc2gudmFsdWVzQXQgPSBmdW5jdGlvbiAocmVmLCBrZXlzKSB7XG4gICAgcmV0dXJuIEhhc2gocmVmKS52YWx1ZXNBdChrZXlzKTtcbn07XG5cbkhhc2gudGFwID0gZnVuY3Rpb24gKHJlZiwgZikge1xuICAgIHJldHVybiBIYXNoKHJlZikudGFwKGYpLml0ZW1zO1xufTtcblxuSGFzaC5leHRyYWN0ID0gZnVuY3Rpb24gKHJlZiwga2V5cykge1xuICAgIHJldHVybiBIYXNoKHJlZikuZXh0cmFjdChrZXlzKS5pdGVtcztcbn07XG5cbkhhc2guZXhjbHVkZSA9IGZ1bmN0aW9uIChyZWYsIGtleXMpIHtcbiAgICByZXR1cm4gSGFzaChyZWYpLmV4Y2x1ZGUoa2V5cykuaXRlbXM7XG59O1xuXG5IYXNoLmNvbmNhdCA9IGZ1bmN0aW9uICh4cykge1xuICAgIHZhciBoYXNoID0gSGFzaCh7fSk7XG4gICAgeHMuZm9yRWFjaChmdW5jdGlvbiAoeCkgeyBoYXNoLnVwZGF0ZSh4KSB9KTtcbiAgICByZXR1cm4gaGFzaC5pdGVtcztcbn07XG5cbkhhc2guemlwID0gZnVuY3Rpb24gKHhzLCB5cykge1xuICAgIHJldHVybiBIYXNoKHhzLCB5cykuaXRlbXM7XG59O1xuXG4vLyAubGVuZ3RoIGlzIGFscmVhZHkgZGVmaW5lZCBmb3IgZnVuY3Rpb24gcHJvdG90eXBlc1xuSGFzaC5zaXplID0gZnVuY3Rpb24gKHJlZikge1xuICAgIHJldHVybiBIYXNoKHJlZikuc2l6ZTtcbn07XG5cbkhhc2guY29tcGFjdCA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICByZXR1cm4gSGFzaChyZWYpLmNvbXBhY3QuaXRlbXM7XG59O1xuIiwidmFyIHRyYXZlcnNlID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG5ldyBUcmF2ZXJzZShvYmopO1xufTtcblxuZnVuY3Rpb24gVHJhdmVyc2UgKG9iaikge1xuICAgIHRoaXMudmFsdWUgPSBvYmo7XG59XG5cblRyYXZlcnNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAocHMpIHtcbiAgICB2YXIgbm9kZSA9IHRoaXMudmFsdWU7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcy5sZW5ndGg7IGkgKyspIHtcbiAgICAgICAgdmFyIGtleSA9IHBzW2ldO1xuICAgICAgICBpZiAoIW5vZGUgfHwgIWhhc093blByb3BlcnR5LmNhbGwobm9kZSwga2V5KSkge1xuICAgICAgICAgICAgbm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlW2tleV07XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xufTtcblxuVHJhdmVyc2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChwcykge1xuICAgIHZhciBub2RlID0gdGhpcy52YWx1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBzLmxlbmd0aDsgaSArKykge1xuICAgICAgICB2YXIga2V5ID0gcHNbaV07XG4gICAgICAgIGlmICghbm9kZSB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChub2RlLCBrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGVba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5UcmF2ZXJzZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHBzLCB2YWx1ZSkge1xuICAgIHZhciBub2RlID0gdGhpcy52YWx1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBzLmxlbmd0aCAtIDE7IGkgKyspIHtcbiAgICAgICAgdmFyIGtleSA9IHBzW2ldO1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwobm9kZSwga2V5KSkgbm9kZVtrZXldID0ge307XG4gICAgICAgIG5vZGUgPSBub2RlW2tleV07XG4gICAgfVxuICAgIG5vZGVbcHNbaV1dID0gdmFsdWU7XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxuVHJhdmVyc2UucHJvdG90eXBlLm1hcCA9IGZ1bmN0aW9uIChjYikge1xuICAgIHJldHVybiB3YWxrKHRoaXMudmFsdWUsIGNiLCB0cnVlKTtcbn07XG5cblRyYXZlcnNlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgdGhpcy52YWx1ZSA9IHdhbGsodGhpcy52YWx1ZSwgY2IsIGZhbHNlKTtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbn07XG5cblRyYXZlcnNlLnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbiAoY2IsIGluaXQpIHtcbiAgICB2YXIgc2tpcCA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDE7XG4gICAgdmFyIGFjYyA9IHNraXAgPyB0aGlzLnZhbHVlIDogaW5pdDtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzUm9vdCB8fCAhc2tpcCkge1xuICAgICAgICAgICAgYWNjID0gY2IuY2FsbCh0aGlzLCBhY2MsIHgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGFjYztcbn07XG5cblRyYXZlcnNlLnByb3RvdHlwZS5wYXRocyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYWNjID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIGFjYy5wdXNoKHRoaXMucGF0aCk7IFxuICAgIH0pO1xuICAgIHJldHVybiBhY2M7XG59O1xuXG5UcmF2ZXJzZS5wcm90b3R5cGUubm9kZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFjYyA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICBhY2MucHVzaCh0aGlzLm5vZGUpO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2M7XG59O1xuXG5UcmF2ZXJzZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBhcmVudHMgPSBbXSwgbm9kZXMgPSBbXTtcbiAgICBcbiAgICByZXR1cm4gKGZ1bmN0aW9uIGNsb25lIChzcmMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50c1tpXSA9PT0gc3JjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodHlwZW9mIHNyYyA9PT0gJ29iamVjdCcgJiYgc3JjICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgZHN0ID0gY29weShzcmMpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYXJlbnRzLnB1c2goc3JjKTtcbiAgICAgICAgICAgIG5vZGVzLnB1c2goZHN0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yRWFjaChvYmplY3RLZXlzKHNyYyksIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICBkc3Rba2V5XSA9IGNsb25lKHNyY1trZXldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwYXJlbnRzLnBvcCgpO1xuICAgICAgICAgICAgbm9kZXMucG9wKCk7XG4gICAgICAgICAgICByZXR1cm4gZHN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNyYztcbiAgICAgICAgfVxuICAgIH0pKHRoaXMudmFsdWUpO1xufTtcblxuZnVuY3Rpb24gd2FsayAocm9vdCwgY2IsIGltbXV0YWJsZSkge1xuICAgIHZhciBwYXRoID0gW107XG4gICAgdmFyIHBhcmVudHMgPSBbXTtcbiAgICB2YXIgYWxpdmUgPSB0cnVlO1xuICAgIFxuICAgIHJldHVybiAoZnVuY3Rpb24gd2Fsa2VyIChub2RlXykge1xuICAgICAgICB2YXIgbm9kZSA9IGltbXV0YWJsZSA/IGNvcHkobm9kZV8pIDogbm9kZV87XG4gICAgICAgIHZhciBtb2RpZmllcnMgPSB7fTtcbiAgICAgICAgXG4gICAgICAgIHZhciBrZWVwR29pbmcgPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgdmFyIHN0YXRlID0ge1xuICAgICAgICAgICAgbm9kZSA6IG5vZGUsXG4gICAgICAgICAgICBub2RlXyA6IG5vZGVfLFxuICAgICAgICAgICAgcGF0aCA6IFtdLmNvbmNhdChwYXRoKSxcbiAgICAgICAgICAgIHBhcmVudCA6IHBhcmVudHNbcGFyZW50cy5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgIHBhcmVudHMgOiBwYXJlbnRzLFxuICAgICAgICAgICAga2V5IDogcGF0aC5zbGljZSgtMSlbMF0sXG4gICAgICAgICAgICBpc1Jvb3QgOiBwYXRoLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgICAgIGxldmVsIDogcGF0aC5sZW5ndGgsXG4gICAgICAgICAgICBjaXJjdWxhciA6IG51bGwsXG4gICAgICAgICAgICB1cGRhdGUgOiBmdW5jdGlvbiAoeCwgc3RvcEhlcmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLmlzUm9vdCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS5wYXJlbnQubm9kZVtzdGF0ZS5rZXldID0geDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhdGUubm9kZSA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHN0b3BIZXJlKSBrZWVwR29pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnZGVsZXRlJyA6IGZ1bmN0aW9uIChzdG9wSGVyZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBzdGF0ZS5wYXJlbnQubm9kZVtzdGF0ZS5rZXldO1xuICAgICAgICAgICAgICAgIGlmIChzdG9wSGVyZSkga2VlcEdvaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlIDogZnVuY3Rpb24gKHN0b3BIZXJlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoc3RhdGUucGFyZW50Lm5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLnBhcmVudC5ub2RlLnNwbGljZShzdGF0ZS5rZXksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHN0YXRlLnBhcmVudC5ub2RlW3N0YXRlLmtleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzdG9wSGVyZSkga2VlcEdvaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5cyA6IG51bGwsXG4gICAgICAgICAgICBiZWZvcmUgOiBmdW5jdGlvbiAoZikgeyBtb2RpZmllcnMuYmVmb3JlID0gZiB9LFxuICAgICAgICAgICAgYWZ0ZXIgOiBmdW5jdGlvbiAoZikgeyBtb2RpZmllcnMuYWZ0ZXIgPSBmIH0sXG4gICAgICAgICAgICBwcmUgOiBmdW5jdGlvbiAoZikgeyBtb2RpZmllcnMucHJlID0gZiB9LFxuICAgICAgICAgICAgcG9zdCA6IGZ1bmN0aW9uIChmKSB7IG1vZGlmaWVycy5wb3N0ID0gZiB9LFxuICAgICAgICAgICAgc3RvcCA6IGZ1bmN0aW9uICgpIHsgYWxpdmUgPSBmYWxzZSB9LFxuICAgICAgICAgICAgYmxvY2sgOiBmdW5jdGlvbiAoKSB7IGtlZXBHb2luZyA9IGZhbHNlIH1cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIGlmICghYWxpdmUpIHJldHVybiBzdGF0ZTtcbiAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVN0YXRlKCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZS5ub2RlID09PSAnb2JqZWN0JyAmJiBzdGF0ZS5ub2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0ZS5rZXlzIHx8IHN0YXRlLm5vZGVfICE9PSBzdGF0ZS5ub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLmtleXMgPSBvYmplY3RLZXlzKHN0YXRlLm5vZGUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHN0YXRlLmlzTGVhZiA9IHN0YXRlLmtleXMubGVuZ3RoID09IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRzW2ldLm5vZGVfID09PSBub2RlXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuY2lyY3VsYXIgPSBwYXJlbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5pc0xlYWYgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0YXRlLmtleXMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzdGF0ZS5ub3RMZWFmID0gIXN0YXRlLmlzTGVhZjtcbiAgICAgICAgICAgIHN0YXRlLm5vdFJvb3QgPSAhc3RhdGUuaXNSb290O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB1cGRhdGVTdGF0ZSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gdXNlIHJldHVybiB2YWx1ZXMgdG8gdXBkYXRlIGlmIGRlZmluZWRcbiAgICAgICAgdmFyIHJldCA9IGNiLmNhbGwoc3RhdGUsIHN0YXRlLm5vZGUpO1xuICAgICAgICBpZiAocmV0ICE9PSB1bmRlZmluZWQgJiYgc3RhdGUudXBkYXRlKSBzdGF0ZS51cGRhdGUocmV0KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChtb2RpZmllcnMuYmVmb3JlKSBtb2RpZmllcnMuYmVmb3JlLmNhbGwoc3RhdGUsIHN0YXRlLm5vZGUpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFrZWVwR29pbmcpIHJldHVybiBzdGF0ZTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0eXBlb2Ygc3RhdGUubm9kZSA9PSAnb2JqZWN0J1xuICAgICAgICAmJiBzdGF0ZS5ub2RlICE9PSBudWxsICYmICFzdGF0ZS5jaXJjdWxhcikge1xuICAgICAgICAgICAgcGFyZW50cy5wdXNoKHN0YXRlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdXBkYXRlU3RhdGUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yRWFjaChzdGF0ZS5rZXlzLCBmdW5jdGlvbiAoa2V5LCBpKSB7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVycy5wcmUpIG1vZGlmaWVycy5wcmUuY2FsbChzdGF0ZSwgc3RhdGUubm9kZVtrZXldLCBrZXkpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IHdhbGtlcihzdGF0ZS5ub2RlW2tleV0pO1xuICAgICAgICAgICAgICAgIGlmIChpbW11dGFibGUgJiYgaGFzT3duUHJvcGVydHkuY2FsbChzdGF0ZS5ub2RlLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlLm5vZGVba2V5XSA9IGNoaWxkLm5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNoaWxkLmlzTGFzdCA9IGkgPT0gc3RhdGUua2V5cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGNoaWxkLmlzRmlyc3QgPSBpID09IDA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVycy5wb3N0KSBtb2RpZmllcnMucG9zdC5jYWxsKHN0YXRlLCBjaGlsZCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcGF0aC5wb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGFyZW50cy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKG1vZGlmaWVycy5hZnRlcikgbW9kaWZpZXJzLmFmdGVyLmNhbGwoc3RhdGUsIHN0YXRlLm5vZGUpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0pKHJvb3QpLm5vZGU7XG59XG5cbmZ1bmN0aW9uIGNvcHkgKHNyYykge1xuICAgIGlmICh0eXBlb2Ygc3JjID09PSAnb2JqZWN0JyAmJiBzcmMgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIGRzdDtcbiAgICAgICAgXG4gICAgICAgIGlmIChpc0FycmF5KHNyYykpIHtcbiAgICAgICAgICAgIGRzdCA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRGF0ZShzcmMpKSB7XG4gICAgICAgICAgICBkc3QgPSBuZXcgRGF0ZShzcmMuZ2V0VGltZSA/IHNyYy5nZXRUaW1lKCkgOiBzcmMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUmVnRXhwKHNyYykpIHtcbiAgICAgICAgICAgIGRzdCA9IG5ldyBSZWdFeHAoc3JjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Vycm9yKHNyYykpIHtcbiAgICAgICAgICAgIGRzdCA9IHsgbWVzc2FnZTogc3JjLm1lc3NhZ2UgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Jvb2xlYW4oc3JjKSkge1xuICAgICAgICAgICAgZHN0ID0gbmV3IEJvb2xlYW4oc3JjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc051bWJlcihzcmMpKSB7XG4gICAgICAgICAgICBkc3QgPSBuZXcgTnVtYmVyKHNyYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdHJpbmcoc3JjKSkge1xuICAgICAgICAgICAgZHN0ID0gbmV3IFN0cmluZyhzcmMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKE9iamVjdC5jcmVhdGUgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgICBkc3QgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihzcmMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzcmMuY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgICAgZHN0ID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcHJvdG8gPVxuICAgICAgICAgICAgICAgIChzcmMuY29uc3RydWN0b3IgJiYgc3JjLmNvbnN0cnVjdG9yLnByb3RvdHlwZSlcbiAgICAgICAgICAgICAgICB8fCBzcmMuX19wcm90b19fXG4gICAgICAgICAgICAgICAgfHwge31cbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIHZhciBUID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgICAgICBULnByb3RvdHlwZSA9IHByb3RvO1xuICAgICAgICAgICAgZHN0ID0gbmV3IFQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZvckVhY2gob2JqZWN0S2V5cyhzcmMpLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBkc3Rba2V5XSA9IHNyY1trZXldO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRzdDtcbiAgICB9XG4gICAgZWxzZSByZXR1cm4gc3JjO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMgKG9iaikge1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSByZXMucHVzaChrZXkpXG4gICAgcmV0dXJuIHJlcztcbn07XG5cbmZ1bmN0aW9uIHRvUyAob2JqKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSB9XG5mdW5jdGlvbiBpc0RhdGUgKG9iaikgeyByZXR1cm4gdG9TKG9iaikgPT09ICdbb2JqZWN0IERhdGVdJyB9XG5mdW5jdGlvbiBpc1JlZ0V4cCAob2JqKSB7IHJldHVybiB0b1Mob2JqKSA9PT0gJ1tvYmplY3QgUmVnRXhwXScgfVxuZnVuY3Rpb24gaXNFcnJvciAob2JqKSB7IHJldHVybiB0b1Mob2JqKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB9XG5mdW5jdGlvbiBpc0Jvb2xlYW4gKG9iaikgeyByZXR1cm4gdG9TKG9iaikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJyB9XG5mdW5jdGlvbiBpc051bWJlciAob2JqKSB7IHJldHVybiB0b1Mob2JqKSA9PT0gJ1tvYmplY3QgTnVtYmVyXScgfVxuZnVuY3Rpb24gaXNTdHJpbmcgKG9iaikgeyByZXR1cm4gdG9TKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nIH1cblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIGlzQXJyYXkgKHhzKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG52YXIgZm9yRWFjaCA9IGZ1bmN0aW9uICh4cywgZm4pIHtcbiAgICBpZiAoeHMuZm9yRWFjaCkgcmV0dXJuIHhzLmZvckVhY2goZm4pXG4gICAgZWxzZSBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZuKHhzW2ldLCBpLCB4cyk7XG4gICAgfVxufTtcblxuZm9yRWFjaChvYmplY3RLZXlzKFRyYXZlcnNlLnByb3RvdHlwZSksIGZ1bmN0aW9uIChrZXkpIHtcbiAgICB0cmF2ZXJzZVtrZXldID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgdmFyIHQgPSBuZXcgVHJhdmVyc2Uob2JqKTtcbiAgICAgICAgcmV0dXJuIHRba2V5XS5hcHBseSh0LCBhcmdzKTtcbiAgICB9O1xufSk7XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5oYXNPd25Qcm9wZXJ0eSB8fCBmdW5jdGlvbiAob2JqLCBrZXkpIHtcbiAgICByZXR1cm4ga2V5IGluIG9iajtcbn07XG4iLCJ2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG52YXIgc3RyZWFtID0gcmVxdWlyZSgnc3RyZWFtJyk7XG5cbmZ1bmN0aW9uIExhenkoZW0sIG9wdHMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTGF6eSkpIHJldHVybiBuZXcgTGF6eShlbSwgb3B0cyk7XG4gICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG5cbiAgICBzZWxmLm9uY2UgPSBmdW5jdGlvbiAobmFtZSwgZikge1xuICAgICAgICBzZWxmLm9uKG5hbWUsIGZ1bmN0aW9uIGcgKCkge1xuICAgICAgICAgICAgc2VsZi5yZW1vdmVMaXN0ZW5lcihuYW1lLCBnKTtcbiAgICAgICAgICAgIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRzKSBvcHRzID0ge307XG4gICAgdmFyIGRhdGFOYW1lID0gb3B0cy5kYXRhIHx8ICdkYXRhJztcbiAgICB2YXIgcGlwZU5hbWUgPSBvcHRzLnBpcGUgfHwgJ3BpcGUnO1xuICAgIHZhciBlbmROYW1lID0gb3B0cy5waXBlIHx8ICdlbmQnO1xuXG4gICAgaWYgKHBpcGVOYW1lICE9IGVuZE5hbWUpIHtcbiAgICAgICAgdmFyIHBpcGVkID0gZmFsc2U7XG4gICAgICAgIHNlbGYub25jZShwaXBlTmFtZSwgZnVuY3Rpb24gKCkgeyBwaXBlZCA9IHRydWUgfSk7XG4gICAgICAgIHNlbGYub25jZShlbmROYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXBpcGVkKSBzZWxmLmVtaXQocGlwZU5hbWUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZWxmLnB1c2ggPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICBzZWxmLmVtaXQoZGF0YU5hbWUsIHgpO1xuICAgIH1cblxuICAgIHNlbGYuZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLmVtaXQoZW5kTmFtZSk7XG4gICAgfVxuXG4gICAgaWYgKGVtICYmIGVtLm9uKSB7XG4gICAgICAgIGVtLm9uKGVuZE5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuZW1pdChlbmROYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGYub24ocGlwZU5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVtLmVtaXQocGlwZU5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHYwLjEwIG9yIEdyZWF0ZXIgKFN0cmVhbTIgaGFzIER1cGxleCB0eXBlKVxuICAgICAgICBpZiAoc3RyZWFtLkR1cGxleCAmJiBlbSBpbnN0YW5jZW9mKHN0cmVhbSkpIHtcbiAgICAgICAgICAgIGVtLm9uKCdyZWFkYWJsZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgeCA9IGVtLnJlYWQoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmVtaXQoZGF0YU5hbWUsIHgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBPbGQgU3RyZWFtMSBvciBFdmVudCBzdXBwb3J0XG4gICAgICAgICAgICBlbS5vbihkYXRhTmFtZSwgZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmVtaXQoZGF0YU5hbWUsIHgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBuZXdMYXp5IChnLCBoLCBsKSB7XG4gICAgICAgIGlmICghZykge1xuICAgICAgICAgICAgZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoKSB7XG4gICAgICAgICAgICBoID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhenkgPSBuZXcgTGF6eShudWxsLCBvcHRzLCBsKTtcbiAgICAgICAgc2VsZi5vbihkYXRhTmFtZSwgZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIGlmIChnLmNhbGwobGF6eSwgeCkpIHtcbiAgICAgICAgICAgICAgICBsYXp5LmVtaXQoZGF0YU5hbWUsIGgoeCksIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2VsZi5vbmNlKHBpcGVOYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsYXp5LmVtaXQocGlwZU5hbWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGxhenk7XG4gICAgfVxuXG4gICAgc2VsZi5maWx0ZXIgPSBmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gbmV3TGF6eShmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgcmV0dXJuIGYoeCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlbGYuZm9yRWFjaCA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHJldHVybiBuZXdMYXp5KGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICBmKHgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlbGYubWFwID0gZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgcmV0dXJuIG5ld0xhenkoXG4gICAgICAgICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlIH0sXG4gICAgICAgICAgICBmdW5jdGlvbiAoeCkgeyByZXR1cm4gZih4KSB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc2VsZi5oZWFkID0gZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgdmFyIGxhenkgPSBuZXdMYXp5KCk7XG4gICAgICAgIGxhenkub24oZGF0YU5hbWUsIGZ1bmN0aW9uIGcgKHgpIHtcbiAgICAgICAgICAgIGYoeClcbiAgICAgICAgICAgIGxhenkucmVtb3ZlTGlzdGVuZXIoZGF0YU5hbWUsIGcpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc2VsZi50YWlsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2tpcCA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXdMYXp5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChza2lwKSB7XG4gICAgICAgICAgICAgICAgc2tpcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZWxmLnNraXAgPSBmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gbmV3TGF6eShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobiA+IDApIHtcbiAgICAgICAgICAgICAgICBuLS07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlbGYudGFrZSA9IGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHJldHVybiBuZXdMYXp5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChuID09IDApIHNlbGYuZW1pdChwaXBlTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gbi0tID4gMDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2VsZi50YWtlV2hpbGUgPSBmdW5jdGlvbiAoZikge1xuICAgICAgICB2YXIgY29uZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBuZXdMYXp5KGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICBpZiAoY29uZCAmJiBmKHgpKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNvbmQgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYuZW1pdChwaXBlTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlbGYuZm9sZHIgPSBmdW5jdGlvbiAob3AsIGksIGYpIHtcbiAgICAgICAgdmFyIGFjYyA9IGk7XG4gICAgICAgIHZhciBsYXp5ID0gbmV3TGF6eSgpO1xuICAgICAgICBsYXp5Lm9uKGRhdGFOYW1lLCBmdW5jdGlvbiBnICh4KSB7XG4gICAgICAgICAgICBhY2MgPSBvcCh4LCBhY2MpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGF6eS5vbmNlKHBpcGVOYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmKGFjYyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNlbGYuc3VtID0gZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuZm9sZHIoZnVuY3Rpb24gKHgsIGFjYykgeyByZXR1cm4geCArIGFjYyB9LCAwLCBmKTtcbiAgICB9XG5cbiAgICBzZWxmLnByb2R1Y3QgPSBmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gc2VsZi5mb2xkcihmdW5jdGlvbiAoeCwgYWNjKSB7IHJldHVybiB4KmFjYyB9LCAxLCBmKTtcbiAgICB9XG5cbiAgICBzZWxmLmpvaW4gPSBmdW5jdGlvbiAoZikge1xuICAgICAgICB2YXIgZGF0YSA9IFtdXG4gICAgICAgIHZhciBsYXp5ID0gbmV3TGF6eShmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgZGF0YS5wdXNoKHgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBsYXp5Lm9uY2UocGlwZU5hbWUsIGZ1bmN0aW9uICgpIHsgZihkYXRhKSB9KTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgc2VsZi5idWNrZXQgPSBmdW5jdGlvbiAoaW5pdCwgZikge1xuICAgICAgICB2YXIgbGF6eSA9IG5ldyBMYXp5KG51bGwsIG9wdHMpO1xuICAgICAgICB2YXIgeWllbGRUbyA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICBsYXp5LmVtaXQoZGF0YU5hbWUsIHgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBhY2MgPSBpbml0O1xuXG4gICAgICAgIHNlbGYub24oZGF0YU5hbWUsIGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICBhY2MgPSBmLmNhbGwoeWllbGRUbywgYWNjLCB4KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi5vbmNlKHBpcGVOYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsYXp5LmVtaXQocGlwZU5hbWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBmbHVzaCBvbiBlbmQgZXZlbnRcbiAgICAgICAgc2VsZi5vbmNlKGVuZE5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBmaW5hbEJ1ZmZlciA9IG1lcmdlQnVmZmVycyhhY2MpO1xuICAgICAgICAgICAgaWYgKGZpbmFsQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgeWllbGRUbyhmaW5hbEJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBsYXp5O1xuICAgIH1cblxuICAgIC8vIFN0cmVhbXMgdGhhdCB1c2UgdGhpcyBzaG91bGQgZW1pdCBzdHJpbmdzIG9yIGJ1ZmZlcnMgb25seVxuICAgIHNlbGYuX19kZWZpbmVHZXR0ZXJfXygnbGluZXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmJ1Y2tldChbXSwgZnVuY3Rpb24gKGNodW5rQXJyYXksIGNodW5rKSB7XG4gICAgICAgICAgICB2YXIgbmV3bGluZSA9ICdcXG4nLmNoYXJDb2RlQXQoMCksIGxhc3ROZXdMaW5lSW5kZXggPSAwO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycpIGNodW5rID0gbmV3IEJ1ZmZlcihjaHVuayk7XG4gICAgICAgIGlmIChjaHVuayl7XG4gICAgICAgICAgICBcdGZvciAodmFyIGkgPSAwOyBpIDwgY2h1bmsubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBcdGlmIChjaHVua1tpXSA9PT0gbmV3bGluZSkge1xuICAgICAgICAgICAgICAgICAgICBcdC8vIElmIHdlIGhhdmUgY29udGVudCBmcm9tIHRoZSBjdXJyZW50IGNodW5rIHRvIGFwcGVuZCB0byBvdXIgYnVmZmVycywgZG8gaXQuXG4gICAgICAgICAgICAgICAgICAgIFx0XHRpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFx0XHRjaHVua0FycmF5LnB1c2goY2h1bmsuc2xpY2UobGFzdE5ld0xpbmVJbmRleCwgaSkpO1xuICAgICAgICAgICAgICAgICAgICBcdFx0fVxuXG4gICAgICAgICAgICAgICAgICAgIFx0XHQvLyBXcmFwIGFsbCBvdXIgYnVmZmVycyBhbmQgZW1pdCBpdC5cbiAgICAgICAgICAgICAgICAgICAgXHRcdHRoaXMobWVyZ2VCdWZmZXJzKGNodW5rQXJyYXkpKTtcbiAgICAgICAgICAgICAgICAgICAgXHRcdGxhc3ROZXdMaW5lSW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgICAgICBcdH1cbiAgICAgICAgICAgIH1cblx0ICAgIH1cblxuICAgICAgICAgICAgaWYgKGxhc3ROZXdMaW5lSW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gTmV3IGxpbmUgZm91bmQgaW4gdGhlIGNodW5rLCBwdXNoIHRoZSByZW1haW5pbmcgcGFydCBvZiB0aGUgYnVmZmVyLlxuICAgICAgICAgICAgICAgIGlmIChsYXN0TmV3TGluZUluZGV4IDwgY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rQXJyYXkucHVzaChjaHVuay5zbGljZShsYXN0TmV3TGluZUluZGV4KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBObyBuZXcgbGluZSBmb3VuZCwgcHVzaCB0aGUgd2hvbGUgYnVmZmVyLlxuICAgICAgICAgICAgICAgIGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtBcnJheS5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2h1bmtBcnJheTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbkxhenkucmFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIHN0ZXAgPSAxO1xuICAgIHZhciBpbmZpbml0ZSA9IGZhbHNlO1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09IDEgJiYgdHlwZW9mIGFyZ3NbMF0gPT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIGkgPSAwLCBqID0gYXJnc1swXTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJncy5sZW5ndGggPT0gMSAmJiB0eXBlb2YgYXJnc1swXSA9PSAnc3RyaW5nJykgeyAvLyAnc3RhcnRbLG5leHRdLi5bZW5kXSdcbiAgICAgICAgdmFyIGFyZyA9IGFyZ3NbMF07XG4gICAgICAgIHZhciBzdGFydE9wZW4gPSBmYWxzZSwgZW5kQ2xvc2VkID0gZmFsc2U7XG4gICAgICAgIGlmIChhcmdbMF0gPT0gJygnIHx8IGFyZ1swXSA9PSAnWycpIHtcbiAgICAgICAgICAgIGlmIChhcmdbMF0gPT0gJygnKSBzdGFydE9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmcuc2xpY2UoLTEpID09ICddJykgZW5kQ2xvc2VkID0gdHJ1ZTtcblxuICAgICAgICB2YXIgcGFydHMgPSBhcmcuc3BsaXQoJy4uJyk7XG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGggIT0gMilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInNpbmdsZSBhcmd1bWVudCByYW5nZSB0YWtlcyAnc3RhcnQuLicgb3IgJ3N0YXJ0Li5lbmQnIG9yICdzdGFydCxuZXh0Li5lbmQnXCIpO1xuXG4gICAgICAgIGlmIChwYXJ0c1sxXSA9PSAnJykgeyAvLyAnc3RhcnQuLidcbiAgICAgICAgICAgIHZhciBpID0gcGFydHNbMF07XG4gICAgICAgICAgICBpbmZpbml0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vICdzdGFydFssbmV4dF0uLmVuZCdcbiAgICAgICAgICAgIHZhciBwcm9ncmVzc2lvbiA9IHBhcnRzWzBdLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICBpZiAocHJvZ3Jlc3Npb24ubGVuZ3RoID09IDEpIHsgLy8gc3RhcnQuLmVuZFxuICAgICAgICAgICAgICAgIHZhciBpID0gcGFydHNbMF0sIGogPSBwYXJ0c1sxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgeyAvLyAnc3RhcnQsbmV4dC4uZW5kJ1xuICAgICAgICAgICAgICAgIHZhciBpID0gcHJvZ3Jlc3Npb25bMF0sIGogPSBwYXJ0c1sxXTtcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5hYnMocHJvZ3Jlc3Npb25bMV0taSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpID0gcGFyc2VJbnQoaSwgMTApO1xuICAgICAgICBqID0gcGFyc2VJbnQoaiwgMTApO1xuXG4gICAgICAgIGlmIChzdGFydE9wZW4pIHtcbiAgICAgICAgICAgIGlmIChpbmZpbml0ZSB8fCBpIDwgaikgaSsrO1xuICAgICAgICAgICAgZWxzZSBpLS07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5kQ2xvc2VkKSB7XG4gICAgICAgICAgICBpZiAoaSA8IGopIGorKztcbiAgICAgICAgICAgIGVsc2Ugai0tO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09IDIgfHwgYXJncy5sZW5ndGggPT0gMykgeyAvLyBzdGFydCwgZW5kWywgc3RlcF1cbiAgICAgICAgdmFyIGkgPSBhcmdzWzBdLCBqID0gYXJnc1sxXTtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09IDMpIHtcbiAgICAgICAgICAgIHZhciBzdGVwID0gYXJnc1syXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwicmFuZ2UgdGFrZXMgMSwgMiBvciAzIGFyZ3VtZW50c1wiKTtcbiAgICB9XG4gICAgdmFyIGxhenkgPSBuZXcgTGF6eTtcbiAgICB2YXIgc3RvcEluZmluaXRlID0gZmFsc2U7XG4gICAgbGF6eS5vbigncGlwZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcEluZmluaXRlID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBpZiAoaW5maW5pdGUpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiBnICgpIHtcbiAgICAgICAgICAgIGlmIChzdG9wSW5maW5pdGUpIHJldHVybjtcbiAgICAgICAgICAgIGxhenkuZW1pdCgnZGF0YScsIGkrKyk7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGcpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGkgPCBqKSB7XG4gICAgICAgICAgICAgICAgZm9yICg7IGk8ajsgaSs9c3RlcCkge1xuICAgICAgICAgICAgICAgICAgICBsYXp5LmVtaXQoJ2RhdGEnLCBpKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoOyBpPmo7IGktPXN0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgbGF6eS5lbWl0KCdkYXRhJywgaSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXp5LmVtaXQoJ2VuZCcpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGxhenk7XG59XG5cbnZhciBtZXJnZUJ1ZmZlcnMgPSBmdW5jdGlvbiBtZXJnZUJ1ZmZlcnMoYnVmZmVycykge1xuICAvLyBXZSBleHBlY3QgYnVmZmVycyB0byBiZSBhIG5vbi1lbXB0eSBBcnJheVxuICBpZiAoIWJ1ZmZlcnMgfHwgIUFycmF5LmlzQXJyYXkoYnVmZmVycykgfHwgIWJ1ZmZlcnMubGVuZ3RoKSByZXR1cm47XG5cbiAgdmFyIGZpbmFsQnVmZmVyTGVuZ3RoLCBmaW5hbEJ1ZmZlciwgY3VycmVudEJ1ZmZlciwgY3VycmVudFNpemUgPSAwO1xuXG4gIC8vIFN1bSBhbGwgdGhlIGJ1ZmZlcnMgbGVuZ3Roc1xuICBmaW5hbEJ1ZmZlckxlbmd0aCA9IGJ1ZmZlcnMucmVkdWNlKGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7IHJldHVybiAobGVmdC5sZW5ndGh8fGxlZnQpICsgKHJpZ2h0Lmxlbmd0aHx8cmlnaHQpOyB9LCAwKTtcbiAgZmluYWxCdWZmZXIgPSBuZXcgQnVmZmVyKGZpbmFsQnVmZmVyTGVuZ3RoKTtcbiAgd2hpbGUoYnVmZmVycy5sZW5ndGgpIHtcbiAgICBjdXJyZW50QnVmZmVyID0gYnVmZmVycy5zaGlmdCgpO1xuICAgIGN1cnJlbnRCdWZmZXIuY29weShmaW5hbEJ1ZmZlciwgY3VycmVudFNpemUpO1xuICAgIGN1cnJlbnRTaXplICs9IGN1cnJlbnRCdWZmZXIubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIGZpbmFsQnVmZmVyO1xufVxuXG5cbnV0aWwuaW5oZXJpdHMoTGF6eSwgRXZlbnRFbWl0dGVyKTtcbm1vZHVsZS5leHBvcnRzID0gTGF6eTtcbiIsInZhciBsb29rdXAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG5cbjsoZnVuY3Rpb24gKGV4cG9ydHMpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG4gIHZhciBBcnIgPSAodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnKVxuICAgID8gVWludDhBcnJheVxuICAgIDogQXJyYXlcblxuXHR2YXIgUExVUyAgID0gJysnLmNoYXJDb2RlQXQoMClcblx0dmFyIFNMQVNIICA9ICcvJy5jaGFyQ29kZUF0KDApXG5cdHZhciBOVU1CRVIgPSAnMCcuY2hhckNvZGVBdCgwKVxuXHR2YXIgTE9XRVIgID0gJ2EnLmNoYXJDb2RlQXQoMClcblx0dmFyIFVQUEVSICA9ICdBJy5jaGFyQ29kZUF0KDApXG5cdHZhciBQTFVTX1VSTF9TQUZFID0gJy0nLmNoYXJDb2RlQXQoMClcblx0dmFyIFNMQVNIX1VSTF9TQUZFID0gJ18nLmNoYXJDb2RlQXQoMClcblxuXHRmdW5jdGlvbiBkZWNvZGUgKGVsdCkge1xuXHRcdHZhciBjb2RlID0gZWx0LmNoYXJDb2RlQXQoMClcblx0XHRpZiAoY29kZSA9PT0gUExVUyB8fFxuXHRcdCAgICBjb2RlID09PSBQTFVTX1VSTF9TQUZFKVxuXHRcdFx0cmV0dXJuIDYyIC8vICcrJ1xuXHRcdGlmIChjb2RlID09PSBTTEFTSCB8fFxuXHRcdCAgICBjb2RlID09PSBTTEFTSF9VUkxfU0FGRSlcblx0XHRcdHJldHVybiA2MyAvLyAnLydcblx0XHRpZiAoY29kZSA8IE5VTUJFUilcblx0XHRcdHJldHVybiAtMSAvL25vIG1hdGNoXG5cdFx0aWYgKGNvZGUgPCBOVU1CRVIgKyAxMClcblx0XHRcdHJldHVybiBjb2RlIC0gTlVNQkVSICsgMjYgKyAyNlxuXHRcdGlmIChjb2RlIDwgVVBQRVIgKyAyNilcblx0XHRcdHJldHVybiBjb2RlIC0gVVBQRVJcblx0XHRpZiAoY29kZSA8IExPV0VSICsgMjYpXG5cdFx0XHRyZXR1cm4gY29kZSAtIExPV0VSICsgMjZcblx0fVxuXG5cdGZ1bmN0aW9uIGI2NFRvQnl0ZUFycmF5IChiNjQpIHtcblx0XHR2YXIgaSwgaiwgbCwgdG1wLCBwbGFjZUhvbGRlcnMsIGFyclxuXG5cdFx0aWYgKGI2NC5sZW5ndGggJSA0ID4gMCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHN0cmluZy4gTGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA0Jylcblx0XHR9XG5cblx0XHQvLyB0aGUgbnVtYmVyIG9mIGVxdWFsIHNpZ25zIChwbGFjZSBob2xkZXJzKVxuXHRcdC8vIGlmIHRoZXJlIGFyZSB0d28gcGxhY2Vob2xkZXJzLCB0aGFuIHRoZSB0d28gY2hhcmFjdGVycyBiZWZvcmUgaXRcblx0XHQvLyByZXByZXNlbnQgb25lIGJ5dGVcblx0XHQvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSwgdGhlbiB0aGUgdGhyZWUgY2hhcmFjdGVycyBiZWZvcmUgaXQgcmVwcmVzZW50IDIgYnl0ZXNcblx0XHQvLyB0aGlzIGlzIGp1c3QgYSBjaGVhcCBoYWNrIHRvIG5vdCBkbyBpbmRleE9mIHR3aWNlXG5cdFx0dmFyIGxlbiA9IGI2NC5sZW5ndGhcblx0XHRwbGFjZUhvbGRlcnMgPSAnPScgPT09IGI2NC5jaGFyQXQobGVuIC0gMikgPyAyIDogJz0nID09PSBiNjQuY2hhckF0KGxlbiAtIDEpID8gMSA6IDBcblxuXHRcdC8vIGJhc2U2NCBpcyA0LzMgKyB1cCB0byB0d28gY2hhcmFjdGVycyBvZiB0aGUgb3JpZ2luYWwgZGF0YVxuXHRcdGFyciA9IG5ldyBBcnIoYjY0Lmxlbmd0aCAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzKVxuXG5cdFx0Ly8gaWYgdGhlcmUgYXJlIHBsYWNlaG9sZGVycywgb25seSBnZXQgdXAgdG8gdGhlIGxhc3QgY29tcGxldGUgNCBjaGFyc1xuXHRcdGwgPSBwbGFjZUhvbGRlcnMgPiAwID8gYjY0Lmxlbmd0aCAtIDQgOiBiNjQubGVuZ3RoXG5cblx0XHR2YXIgTCA9IDBcblxuXHRcdGZ1bmN0aW9uIHB1c2ggKHYpIHtcblx0XHRcdGFycltMKytdID0gdlxuXHRcdH1cblxuXHRcdGZvciAoaSA9IDAsIGogPSAwOyBpIDwgbDsgaSArPSA0LCBqICs9IDMpIHtcblx0XHRcdHRtcCA9IChkZWNvZGUoYjY0LmNoYXJBdChpKSkgPDwgMTgpIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAxKSkgPDwgMTIpIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAyKSkgPDwgNikgfCBkZWNvZGUoYjY0LmNoYXJBdChpICsgMykpXG5cdFx0XHRwdXNoKCh0bXAgJiAweEZGMDAwMCkgPj4gMTYpXG5cdFx0XHRwdXNoKCh0bXAgJiAweEZGMDApID4+IDgpXG5cdFx0XHRwdXNoKHRtcCAmIDB4RkYpXG5cdFx0fVxuXG5cdFx0aWYgKHBsYWNlSG9sZGVycyA9PT0gMikge1xuXHRcdFx0dG1wID0gKGRlY29kZShiNjQuY2hhckF0KGkpKSA8PCAyKSB8IChkZWNvZGUoYjY0LmNoYXJBdChpICsgMSkpID4+IDQpXG5cdFx0XHRwdXNoKHRtcCAmIDB4RkYpXG5cdFx0fSBlbHNlIGlmIChwbGFjZUhvbGRlcnMgPT09IDEpIHtcblx0XHRcdHRtcCA9IChkZWNvZGUoYjY0LmNoYXJBdChpKSkgPDwgMTApIHwgKGRlY29kZShiNjQuY2hhckF0KGkgKyAxKSkgPDwgNCkgfCAoZGVjb2RlKGI2NC5jaGFyQXQoaSArIDIpKSA+PiAyKVxuXHRcdFx0cHVzaCgodG1wID4+IDgpICYgMHhGRilcblx0XHRcdHB1c2godG1wICYgMHhGRilcblx0XHR9XG5cblx0XHRyZXR1cm4gYXJyXG5cdH1cblxuXHRmdW5jdGlvbiB1aW50OFRvQmFzZTY0ICh1aW50OCkge1xuXHRcdHZhciBpLFxuXHRcdFx0ZXh0cmFCeXRlcyA9IHVpbnQ4Lmxlbmd0aCAlIDMsIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG5cdFx0XHRvdXRwdXQgPSBcIlwiLFxuXHRcdFx0dGVtcCwgbGVuZ3RoXG5cblx0XHRmdW5jdGlvbiBlbmNvZGUgKG51bSkge1xuXHRcdFx0cmV0dXJuIGxvb2t1cC5jaGFyQXQobnVtKVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHRyaXBsZXRUb0Jhc2U2NCAobnVtKSB7XG5cdFx0XHRyZXR1cm4gZW5jb2RlKG51bSA+PiAxOCAmIDB4M0YpICsgZW5jb2RlKG51bSA+PiAxMiAmIDB4M0YpICsgZW5jb2RlKG51bSA+PiA2ICYgMHgzRikgKyBlbmNvZGUobnVtICYgMHgzRilcblx0XHR9XG5cblx0XHQvLyBnbyB0aHJvdWdoIHRoZSBhcnJheSBldmVyeSB0aHJlZSBieXRlcywgd2UnbGwgZGVhbCB3aXRoIHRyYWlsaW5nIHN0dWZmIGxhdGVyXG5cdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gdWludDgubGVuZ3RoIC0gZXh0cmFCeXRlczsgaSA8IGxlbmd0aDsgaSArPSAzKSB7XG5cdFx0XHR0ZW1wID0gKHVpbnQ4W2ldIDw8IDE2KSArICh1aW50OFtpICsgMV0gPDwgOCkgKyAodWludDhbaSArIDJdKVxuXHRcdFx0b3V0cHV0ICs9IHRyaXBsZXRUb0Jhc2U2NCh0ZW1wKVxuXHRcdH1cblxuXHRcdC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcblx0XHRzd2l0Y2ggKGV4dHJhQnl0ZXMpIHtcblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0dGVtcCA9IHVpbnQ4W3VpbnQ4Lmxlbmd0aCAtIDFdXG5cdFx0XHRcdG91dHB1dCArPSBlbmNvZGUodGVtcCA+PiAyKVxuXHRcdFx0XHRvdXRwdXQgKz0gZW5jb2RlKCh0ZW1wIDw8IDQpICYgMHgzRilcblx0XHRcdFx0b3V0cHV0ICs9ICc9PSdcblx0XHRcdFx0YnJlYWtcblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0dGVtcCA9ICh1aW50OFt1aW50OC5sZW5ndGggLSAyXSA8PCA4KSArICh1aW50OFt1aW50OC5sZW5ndGggLSAxXSlcblx0XHRcdFx0b3V0cHV0ICs9IGVuY29kZSh0ZW1wID4+IDEwKVxuXHRcdFx0XHRvdXRwdXQgKz0gZW5jb2RlKCh0ZW1wID4+IDQpICYgMHgzRilcblx0XHRcdFx0b3V0cHV0ICs9IGVuY29kZSgodGVtcCA8PCAyKSAmIDB4M0YpXG5cdFx0XHRcdG91dHB1dCArPSAnPSdcblx0XHRcdFx0YnJlYWtcblx0XHR9XG5cblx0XHRyZXR1cm4gb3V0cHV0XG5cdH1cblxuXHRleHBvcnRzLnRvQnl0ZUFycmF5ID0gYjY0VG9CeXRlQXJyYXlcblx0ZXhwb3J0cy5mcm9tQnl0ZUFycmF5ID0gdWludDhUb0Jhc2U2NFxufSh0eXBlb2YgZXhwb3J0cyA9PT0gJ3VuZGVmaW5lZCcgPyAodGhpcy5iYXNlNjRqcyA9IHt9KSA6IGV4cG9ydHMpKVxuIiwiIiwiLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cblxudmFyIGJhc2U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpXG52YXIgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKVxudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdpcy1hcnJheScpXG5cbmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyXG5leHBvcnRzLlNsb3dCdWZmZXIgPSBTbG93QnVmZmVyXG5leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTID0gNTBcbkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvblxuXG52YXIgcm9vdFBhcmVudCA9IHt9XG5cbi8qKlxuICogSWYgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYDpcbiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpXG4gKiAgID09PSBmYWxzZSAgIFVzZSBPYmplY3QgaW1wbGVtZW50YXRpb24gKG1vc3QgY29tcGF0aWJsZSwgZXZlbiBJRTYpXG4gKlxuICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLFxuICogT3BlcmEgMTEuNissIGlPUyA0LjIrLlxuICpcbiAqIER1ZSB0byB2YXJpb3VzIGJyb3dzZXIgYnVncywgc29tZXRpbWVzIHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB1c2VkIGV2ZW5cbiAqIHdoZW4gdGhlIGJyb3dzZXIgc3VwcG9ydHMgdHlwZWQgYXJyYXlzLlxuICpcbiAqIE5vdGU6XG4gKlxuICogICAtIEZpcmVmb3ggNC0yOSBsYWNrcyBzdXBwb3J0IGZvciBhZGRpbmcgbmV3IHByb3BlcnRpZXMgdG8gYFVpbnQ4QXJyYXlgIGluc3RhbmNlcyxcbiAqICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC5cbiAqXG4gKiAgIC0gU2FmYXJpIDUtNyBsYWNrcyBzdXBwb3J0IGZvciBjaGFuZ2luZyB0aGUgYE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3JgIHByb3BlcnR5XG4gKiAgICAgb24gb2JqZWN0cy5cbiAqXG4gKiAgIC0gQ2hyb21lIDktMTAgaXMgbWlzc2luZyB0aGUgYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbi5cbiAqXG4gKiAgIC0gSUUxMCBoYXMgYSBicm9rZW4gYFR5cGVkQXJyYXkucHJvdG90eXBlLnN1YmFycmF5YCBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFycmF5cyBvZlxuICogICAgIGluY29ycmVjdCBsZW5ndGggaW4gc29tZSBzaXR1YXRpb25zLlxuXG4gKiBXZSBkZXRlY3QgdGhlc2UgYnVnZ3kgYnJvd3NlcnMgYW5kIHNldCBgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlRgIHRvIGBmYWxzZWAgc28gdGhleVxuICogZ2V0IHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24sIHdoaWNoIGlzIHNsb3dlciBidXQgYmVoYXZlcyBjb3JyZWN0bHkuXG4gKi9cbkJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUID0gZ2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQgIT09IHVuZGVmaW5lZFxuICA/IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUXG4gIDogdHlwZWRBcnJheVN1cHBvcnQoKVxuXG5mdW5jdGlvbiB0eXBlZEFycmF5U3VwcG9ydCAoKSB7XG4gIGZ1bmN0aW9uIEJhciAoKSB7fVxuICB0cnkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxKVxuICAgIGFyci5mb28gPSBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9XG4gICAgYXJyLmNvbnN0cnVjdG9yID0gQmFyXG4gICAgcmV0dXJuIGFyci5mb28oKSA9PT0gNDIgJiYgLy8gdHlwZWQgYXJyYXkgaW5zdGFuY2VzIGNhbiBiZSBhdWdtZW50ZWRcbiAgICAgICAgYXJyLmNvbnN0cnVjdG9yID09PSBCYXIgJiYgLy8gY29uc3RydWN0b3IgY2FuIGJlIHNldFxuICAgICAgICB0eXBlb2YgYXJyLnN1YmFycmF5ID09PSAnZnVuY3Rpb24nICYmIC8vIGNocm9tZSA5LTEwIGxhY2sgYHN1YmFycmF5YFxuICAgICAgICBhcnIuc3ViYXJyYXkoMSwgMSkuYnl0ZUxlbmd0aCA9PT0gMCAvLyBpZTEwIGhhcyBicm9rZW4gYHN1YmFycmF5YFxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24ga01heExlbmd0aCAoKSB7XG4gIHJldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVFxuICAgID8gMHg3ZmZmZmZmZlxuICAgIDogMHgzZmZmZmZmZlxufVxuXG4vKipcbiAqIENsYXNzOiBCdWZmZXJcbiAqID09PT09PT09PT09PT1cbiAqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGFyZSBhdWdtZW50ZWRcbiAqIHdpdGggZnVuY3Rpb24gcHJvcGVydGllcyBmb3IgYWxsIHRoZSBub2RlIGBCdWZmZXJgIEFQSSBmdW5jdGlvbnMuIFdlIHVzZVxuICogYFVpbnQ4QXJyYXlgIHNvIHRoYXQgc3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXQgcmV0dXJuc1xuICogYSBzaW5nbGUgb2N0ZXQuXG4gKlxuICogQnkgYXVnbWVudGluZyB0aGUgaW5zdGFuY2VzLCB3ZSBjYW4gYXZvaWQgbW9kaWZ5aW5nIHRoZSBgVWludDhBcnJheWBcbiAqIHByb3RvdHlwZS5cbiAqL1xuZnVuY3Rpb24gQnVmZmVyIChhcmcpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICAvLyBBdm9pZCBnb2luZyB0aHJvdWdoIGFuIEFyZ3VtZW50c0FkYXB0b3JUcmFtcG9saW5lIGluIHRoZSBjb21tb24gY2FzZS5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHJldHVybiBuZXcgQnVmZmVyKGFyZywgYXJndW1lbnRzWzFdKVxuICAgIHJldHVybiBuZXcgQnVmZmVyKGFyZylcbiAgfVxuXG4gIHRoaXMubGVuZ3RoID0gMFxuICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZFxuXG4gIC8vIENvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gZnJvbU51bWJlcih0aGlzLCBhcmcpXG4gIH1cblxuICAvLyBTbGlnaHRseSBsZXNzIGNvbW1vbiBjYXNlLlxuICBpZiAodHlwZW9mIGFyZyA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh0aGlzLCBhcmcsIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogJ3V0ZjgnKVxuICB9XG5cbiAgLy8gVW51c3VhbC5cbiAgcmV0dXJuIGZyb21PYmplY3QodGhpcywgYXJnKVxufVxuXG5mdW5jdGlvbiBmcm9tTnVtYmVyICh0aGF0LCBsZW5ndGgpIHtcbiAgdGhhdCA9IGFsbG9jYXRlKHRoYXQsIGxlbmd0aCA8IDAgPyAwIDogY2hlY2tlZChsZW5ndGgpIHwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoYXRbaV0gPSAwXG4gICAgfVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHRoYXQsIHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIC8vIEFzc3VtcHRpb246IGJ5dGVMZW5ndGgoKSByZXR1cm4gdmFsdWUgaXMgYWx3YXlzIDwga01heExlbmd0aC5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHRoYXQgPSBhbGxvY2F0ZSh0aGF0LCBsZW5ndGgpXG5cbiAgdGhhdC53cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tT2JqZWN0ICh0aGF0LCBvYmplY3QpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihvYmplY3QpKSByZXR1cm4gZnJvbUJ1ZmZlcih0aGF0LCBvYmplY3QpXG5cbiAgaWYgKGlzQXJyYXkob2JqZWN0KSkgcmV0dXJuIGZyb21BcnJheSh0aGF0LCBvYmplY3QpXG5cbiAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbXVzdCBzdGFydCB3aXRoIG51bWJlciwgYnVmZmVyLCBhcnJheSBvciBzdHJpbmcnKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob2JqZWN0LmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICByZXR1cm4gZnJvbVR5cGVkQXJyYXkodGhhdCwgb2JqZWN0KVxuICAgIH1cbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlCdWZmZXIodGhhdCwgb2JqZWN0KVxuICAgIH1cbiAgfVxuXG4gIGlmIChvYmplY3QubGVuZ3RoKSByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmplY3QpXG5cbiAgcmV0dXJuIGZyb21Kc29uT2JqZWN0KHRoYXQsIG9iamVjdClcbn1cblxuZnVuY3Rpb24gZnJvbUJ1ZmZlciAodGhhdCwgYnVmZmVyKSB7XG4gIHZhciBsZW5ndGggPSBjaGVja2VkKGJ1ZmZlci5sZW5ndGgpIHwgMFxuICB0aGF0ID0gYWxsb2NhdGUodGhhdCwgbGVuZ3RoKVxuICBidWZmZXIuY29weSh0aGF0LCAwLCAwLCBsZW5ndGgpXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheSAodGhhdCwgYXJyYXkpIHtcbiAgdmFyIGxlbmd0aCA9IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDBcbiAgdGhhdCA9IGFsbG9jYXRlKHRoYXQsIGxlbmd0aClcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbi8vIER1cGxpY2F0ZSBvZiBmcm9tQXJyYXkoKSB0byBrZWVwIGZyb21BcnJheSgpIG1vbm9tb3JwaGljLlxuZnVuY3Rpb24gZnJvbVR5cGVkQXJyYXkgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIHRoYXQgPSBhbGxvY2F0ZSh0aGF0LCBsZW5ndGgpXG4gIC8vIFRydW5jYXRpbmcgdGhlIGVsZW1lbnRzIGlzIHByb2JhYmx5IG5vdCB3aGF0IHBlb3BsZSBleHBlY3QgZnJvbSB0eXBlZFxuICAvLyBhcnJheXMgd2l0aCBCWVRFU19QRVJfRUxFTUVOVCA+IDEgYnV0IGl0J3MgY29tcGF0aWJsZSB3aXRoIHRoZSBiZWhhdmlvclxuICAvLyBvZiB0aGUgb2xkIEJ1ZmZlciBjb25zdHJ1Y3Rvci5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUJ1ZmZlciAodGhhdCwgYXJyYXkpIHtcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gUmV0dXJuIGFuIGF1Z21lbnRlZCBgVWludDhBcnJheWAgaW5zdGFuY2UsIGZvciBiZXN0IHBlcmZvcm1hbmNlXG4gICAgYXJyYXkuYnl0ZUxlbmd0aFxuICAgIHRoYXQgPSBCdWZmZXIuX2F1Z21lbnQobmV3IFVpbnQ4QXJyYXkoYXJyYXkpKVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICB0aGF0ID0gZnJvbVR5cGVkQXJyYXkodGhhdCwgbmV3IFVpbnQ4QXJyYXkoYXJyYXkpKVxuICB9XG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKHRoYXQsIGFycmF5KSB7XG4gIHZhciBsZW5ndGggPSBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIHRoYXQgPSBhbGxvY2F0ZSh0aGF0LCBsZW5ndGgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTVcbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG4vLyBEZXNlcmlhbGl6ZSB7IHR5cGU6ICdCdWZmZXInLCBkYXRhOiBbMSwyLDMsLi4uXSB9IGludG8gYSBCdWZmZXIgb2JqZWN0LlxuLy8gUmV0dXJucyBhIHplcm8tbGVuZ3RoIGJ1ZmZlciBmb3IgaW5wdXRzIHRoYXQgZG9uJ3QgY29uZm9ybSB0byB0aGUgc3BlYy5cbmZ1bmN0aW9uIGZyb21Kc29uT2JqZWN0ICh0aGF0LCBvYmplY3QpIHtcbiAgdmFyIGFycmF5XG4gIHZhciBsZW5ndGggPSAwXG5cbiAgaWYgKG9iamVjdC50eXBlID09PSAnQnVmZmVyJyAmJiBpc0FycmF5KG9iamVjdC5kYXRhKSkge1xuICAgIGFycmF5ID0gb2JqZWN0LmRhdGFcbiAgICBsZW5ndGggPSBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIH1cbiAgdGhhdCA9IGFsbG9jYXRlKHRoYXQsIGxlbmd0aClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gIEJ1ZmZlci5wcm90b3R5cGUuX19wcm90b19fID0gVWludDhBcnJheS5wcm90b3R5cGVcbiAgQnVmZmVyLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXlcbn1cblxuZnVuY3Rpb24gYWxsb2NhdGUgKHRoYXQsIGxlbmd0aCkge1xuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gQnVmZmVyLl9hdWdtZW50KG5ldyBVaW50OEFycmF5KGxlbmd0aCkpXG4gICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIH0gZWxzZSB7XG4gICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzc1xuICAgIHRoYXQubGVuZ3RoID0gbGVuZ3RoXG4gICAgdGhhdC5faXNCdWZmZXIgPSB0cnVlXG4gIH1cblxuICB2YXIgZnJvbVBvb2wgPSBsZW5ndGggIT09IDAgJiYgbGVuZ3RoIDw9IEJ1ZmZlci5wb29sU2l6ZSA+Pj4gMVxuICBpZiAoZnJvbVBvb2wpIHRoYXQucGFyZW50ID0gcm9vdFBhcmVudFxuXG4gIHJldHVybiB0aGF0XG59XG5cbmZ1bmN0aW9uIGNoZWNrZWQgKGxlbmd0aCkge1xuICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBrTWF4TGVuZ3RoYCBoZXJlIGJlY2F1c2UgdGhhdCBmYWlscyB3aGVuXG4gIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKVxuICBpZiAobGVuZ3RoID49IGtNYXhMZW5ndGgoKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpXG4gIH1cbiAgcmV0dXJuIGxlbmd0aCB8IDBcbn1cblxuZnVuY3Rpb24gU2xvd0J1ZmZlciAoc3ViamVjdCwgZW5jb2RpbmcpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNsb3dCdWZmZXIpKSByZXR1cm4gbmV3IFNsb3dCdWZmZXIoc3ViamVjdCwgZW5jb2RpbmcpXG5cbiAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIoc3ViamVjdCwgZW5jb2RpbmcpXG4gIGRlbGV0ZSBidWYucGFyZW50XG4gIHJldHVybiBidWZcbn1cblxuQnVmZmVyLmlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIgKGIpIHtcbiAgcmV0dXJuICEhKGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlcilcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIHZhciB4ID0gYS5sZW5ndGhcbiAgdmFyIHkgPSBiLmxlbmd0aFxuXG4gIHZhciBpID0gMFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICBpZiAoYVtpXSAhPT0gYltpXSkgYnJlYWtcblxuICAgICsraVxuICB9XG5cbiAgaWYgKGkgIT09IGxlbikge1xuICAgIHggPSBhW2ldXG4gICAgeSA9IGJbaV1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykge1xuICBzd2l0Y2ggKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2hleCc6XG4gICAgY2FzZSAndXRmOCc6XG4gICAgY2FzZSAndXRmLTgnOlxuICAgIGNhc2UgJ2FzY2lpJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAncmF3JzpcbiAgICBjYXNlICd1Y3MyJzpcbiAgICBjYXNlICd1Y3MtMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgcmV0dXJuIHRydWVcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuQnVmZmVyLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCAobGlzdCwgbGVuZ3RoKSB7XG4gIGlmICghaXNBcnJheShsaXN0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcignbGlzdCBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMuJylcblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbmV3IEJ1ZmZlcigwKVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG4gIHZhciBwb3MgPSAwXG4gIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldXG4gICAgaXRlbS5jb3B5KGJ1ZiwgcG9zKVxuICAgIHBvcyArPSBpdGVtLmxlbmd0aFxuICB9XG4gIHJldHVybiBidWZcbn1cblxuZnVuY3Rpb24gYnl0ZUxlbmd0aCAoc3RyaW5nLCBlbmNvZGluZykge1xuICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHN0cmluZyA9ICcnICsgc3RyaW5nXG5cbiAgdmFyIGxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBVc2UgYSBmb3IgbG9vcCB0byBhdm9pZCByZWN1cnNpb25cbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcbiAgZm9yICg7Oykge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAvLyBEZXByZWNhdGVkXG4gICAgICBjYXNlICdyYXcnOlxuICAgICAgY2FzZSAncmF3cyc6XG4gICAgICAgIHJldHVybiBsZW5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGhcbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiBsZW4gKiAyXG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gbGVuID4+PiAxXG4gICAgICBjYXNlICdiYXNlNjQnOlxuICAgICAgICByZXR1cm4gYmFzZTY0VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSByZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGggLy8gYXNzdW1lIHV0ZjhcbiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKVxuICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbkJ1ZmZlci5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuXG4vLyBwcmUtc2V0IGZvciB2YWx1ZXMgdGhhdCBtYXkgZXhpc3QgaW4gdGhlIGZ1dHVyZVxuQnVmZmVyLnByb3RvdHlwZS5sZW5ndGggPSB1bmRlZmluZWRcbkJ1ZmZlci5wcm90b3R5cGUucGFyZW50ID0gdW5kZWZpbmVkXG5cbmZ1bmN0aW9uIHNsb3dUb1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcblxuICBzdGFydCA9IHN0YXJ0IHwgMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPT09IEluZmluaXR5ID8gdGhpcy5sZW5ndGggOiBlbmQgfCAwXG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcbiAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIGlmIChlbmQgPiB0aGlzLmxlbmd0aCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKGVuZCA8PSBzdGFydCkgcmV0dXJuICcnXG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gYmluYXJ5U2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1dGYxNmxlU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8IDBcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgdmFyIHN0ciA9ICcnXG4gIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLm1hdGNoKC8uezJ9L2cpLmpvaW4oJyAnKVxuICAgIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiAwXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQpIHtcbiAgaWYgKGJ5dGVPZmZzZXQgPiAweDdmZmZmZmZmKSBieXRlT2Zmc2V0ID0gMHg3ZmZmZmZmZlxuICBlbHNlIGlmIChieXRlT2Zmc2V0IDwgLTB4ODAwMDAwMDApIGJ5dGVPZmZzZXQgPSAtMHg4MDAwMDAwMFxuICBieXRlT2Zmc2V0ID4+PSAwXG5cbiAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcbiAgaWYgKGJ5dGVPZmZzZXQgPj0gdGhpcy5sZW5ndGgpIHJldHVybiAtMVxuXG4gIC8vIE5lZ2F0aXZlIG9mZnNldHMgc3RhcnQgZnJvbSB0aGUgZW5kIG9mIHRoZSBidWZmZXJcbiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gTWF0aC5tYXgodGhpcy5sZW5ndGggKyBieXRlT2Zmc2V0LCAwKVxuXG4gIGlmICh0eXBlb2YgdmFsID09PSAnc3RyaW5nJykge1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSByZXR1cm4gLTEgLy8gc3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcgYWx3YXlzIGZhaWxzXG4gICAgcmV0dXJuIFN0cmluZy5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHRoaXMsIHZhbCwgYnl0ZU9mZnNldClcbiAgfVxuICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHtcbiAgICByZXR1cm4gYXJyYXlJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldClcbiAgfVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0aGlzLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YodGhpcywgWyB2YWwgXSwgYnl0ZU9mZnNldClcbiAgfVxuXG4gIGZ1bmN0aW9uIGFycmF5SW5kZXhPZiAoYXJyLCB2YWwsIGJ5dGVPZmZzZXQpIHtcbiAgICB2YXIgZm91bmRJbmRleCA9IC0xXG4gICAgZm9yICh2YXIgaSA9IDA7IGJ5dGVPZmZzZXQgKyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYXJyW2J5dGVPZmZzZXQgKyBpXSA9PT0gdmFsW2ZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4XSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbC5sZW5ndGgpIHJldHVybiBieXRlT2Zmc2V0ICsgZm91bmRJbmRleFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm91bmRJbmRleCA9IC0xXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuLy8gYGdldGAgaXMgZGVwcmVjYXRlZFxuQnVmZmVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKG9mZnNldCkge1xuICBjb25zb2xlLmxvZygnLmdldCgpIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB1c2luZyBhcnJheSBpbmRleGVzIGluc3RlYWQuJylcbiAgcmV0dXJuIHRoaXMucmVhZFVJbnQ4KG9mZnNldClcbn1cblxuLy8gYHNldGAgaXMgZGVwcmVjYXRlZFxuQnVmZmVyLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKHYsIG9mZnNldCkge1xuICBjb25zb2xlLmxvZygnLnNldCgpIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB1c2luZyBhcnJheSBpbmRleGVzIGluc3RlYWQuJylcbiAgcmV0dXJuIHRoaXMud3JpdGVVSW50OCh2LCBvZmZzZXQpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKHN0ckxlbiAlIDIgIT09IDApIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBoZXggc3RyaW5nJylcblxuICBpZiAobGVuZ3RoID4gc3RyTGVuIC8gMikge1xuICAgIGxlbmd0aCA9IHN0ckxlbiAvIDJcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHBhcnNlZCA9IHBhcnNlSW50KHN0cmluZy5zdWJzdHIoaSAqIDIsIDIpLCAxNilcbiAgICBpZiAoaXNOYU4ocGFyc2VkKSkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKVxuICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHBhcnNlZFxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGFzY2lpV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihhc2NpaVRvQnl0ZXMoc3RyaW5nKSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmluYXJ5V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiB1Y3MyV3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcih1dGYxNmxlVG9CeXRlcyhzdHJpbmcsIGJ1Zi5sZW5ndGggLSBvZmZzZXQpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gd3JpdGUgKHN0cmluZywgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpXG4gIGlmIChvZmZzZXQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuY29kaW5nID0gJ3V0ZjgnXG4gICAgbGVuZ3RoID0gdGhpcy5sZW5ndGhcbiAgICBvZmZzZXQgPSAwXG4gIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcsIGVuY29kaW5nKVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBvZmZzZXRcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgb2Zmc2V0WywgbGVuZ3RoXVssIGVuY29kaW5nXSlcbiAgfSBlbHNlIGlmIChpc0Zpbml0ZShvZmZzZXQpKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICAgIGlmIChpc0Zpbml0ZShsZW5ndGgpKSB7XG4gICAgICBsZW5ndGggPSBsZW5ndGggfCAwXG4gICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCdcbiAgICB9IGVsc2Uge1xuICAgICAgZW5jb2RpbmcgPSBsZW5ndGhcbiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZFxuICAgIH1cbiAgLy8gbGVnYWN5IHdyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldCwgbGVuZ3RoKSAtIHJlbW92ZSBpbiB2MC4xM1xuICB9IGVsc2Uge1xuICAgIHZhciBzd2FwID0gZW5jb2RpbmdcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIG9mZnNldCA9IGxlbmd0aCB8IDBcbiAgICBsZW5ndGggPSBzd2FwXG4gIH1cblxuICB2YXIgcmVtYWluaW5nID0gdGhpcy5sZW5ndGggLSBvZmZzZXRcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkIHx8IGxlbmd0aCA+IHJlbWFpbmluZykgbGVuZ3RoID0gcmVtYWluaW5nXG5cbiAgaWYgKChzdHJpbmcubGVuZ3RoID4gMCAmJiAobGVuZ3RoIDwgMCB8fCBvZmZzZXQgPCAwKSkgfHwgb2Zmc2V0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHMnKVxuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnaGV4JzpcbiAgICAgICAgcmV0dXJuIGhleFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2FzY2lpJzpcbiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGJpbmFyeVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgdmFyIHJlcyA9IFtdXG5cbiAgdmFyIGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICB2YXIgY29kZVBvaW50ID0gbnVsbFxuICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpID8gNFxuICAgICAgOiAoZmlyc3RCeXRlID4gMHhERikgPyAzXG4gICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcbiAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxudmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICB2YXIgcmVzID0gJydcbiAgdmFyIGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gYmluYXJ5U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIHZhciBvdXQgPSAnJ1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuICAgIG91dCArPSB0b0hleChidWZbaV0pXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG5mdW5jdGlvbiB1dGYxNmxlU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcbiAgdmFyIHJlcyA9ICcnXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIGJ5dGVzW2kgKyAxXSAqIDI1NilcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIG5ld0J1ZiA9IEJ1ZmZlci5fYXVnbWVudCh0aGlzLnN1YmFycmF5KHN0YXJ0LCBlbmQpKVxuICB9IGVsc2Uge1xuICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgbmV3QnVmID0gbmV3IEJ1ZmZlcihzbGljZUxlbiwgdW5kZWZpbmVkKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpY2VMZW47IGkrKykge1xuICAgICAgbmV3QnVmW2ldID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9XG5cbiAgaWYgKG5ld0J1Zi5sZW5ndGgpIG5ld0J1Zi5wYXJlbnQgPSB0aGlzLnBhcmVudCB8fCB0aGlzXG5cbiAgcmV0dXJuIG5ld0J1ZlxufVxuXG4vKlxuICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XG4gIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgdmFyIG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHxcbiAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgaSA9IGJ5dGVMZW5ndGhcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXVxuICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdidWZmZXIgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpXG4gIGlmICh2YWx1ZSA+IG1heCB8fCB2YWx1ZSA8IG1pbikgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3ZhbHVlIGlzIG91dCBvZiBib3VuZHMnKVxuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnRMRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpLCAwKVxuXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB0aGlzW29mZnNldF0gPSB2YWx1ZSAmIDB4RkZcbiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpLCAwKVxuXG4gIHZhciBpID0gYnl0ZUxlbmd0aCAtIDFcbiAgdmFyIG11bCA9IDFcbiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OCA9IGZ1bmN0aW9uIHdyaXRlVUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHhmZiwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7IGkrKykge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSAmICgweGZmIDw8ICg4ICogKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkpKSkgPj4+XG4gICAgICAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSAqIDhcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG9mZnNldCArIDJcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MTZCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweGZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMiAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4pIHtcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGZvciAodmFyIGkgPSAwLCBqID0gTWF0aC5taW4oYnVmLmxlbmd0aCAtIG9mZnNldCwgNCk7IGkgPCBqOyBpKyspIHtcbiAgICBidWZbb2Zmc2V0ICsgaV0gPSAodmFsdWUgPj4+IChsaXR0bGVFbmRpYW4gPyBpIDogMyAtIGkpICogOCkgJiAweGZmXG4gIH1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICB2YXIgbGltaXQgPSBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCAtIDEpXG5cbiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdClcbiAgfVxuXG4gIHZhciBpID0gMFxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gdmFsdWUgPCAwID8gMSA6IDBcbiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFID0gZnVuY3Rpb24gd3JpdGVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKVxuXG4gICAgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbGltaXQgLSAxLCAtbGltaXQpXG4gIH1cblxuICB2YXIgaSA9IGJ5dGVMZW5ndGggLSAxXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSB2YWx1ZSA8IDAgPyAxIDogMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCd2YWx1ZSBpcyBvdXQgb2YgYm91bmRzJylcbiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdpbmRleCBvdXQgb2YgcmFuZ2UnKVxuICBpZiAob2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2luZGV4IG91dCBvZiByYW5nZScpXG59XG5cbmZ1bmN0aW9uIHdyaXRlRmxvYXQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgNCwgMy40MDI4MjM0NjYzODUyODg2ZSszOCwgLTMuNDAyODIzNDY2Mzg1Mjg4NmUrMzgpXG4gIH1cbiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpXG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdExFID0gZnVuY3Rpb24gd3JpdGVGbG9hdExFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVGbG9hdCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlLCBub0Fzc2VydClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0QkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydClcbn1cblxuZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tJRUVFNzU0KGJ1ZiwgdmFsdWUsIG9mZnNldCwgOCwgMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgsIC0xLjc5NzY5MzEzNDg2MjMxNTdFKzMwOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCA1MiwgOClcbiAgcmV0dXJuIG9mZnNldCArIDhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZURvdWJsZUxFID0gZnVuY3Rpb24gd3JpdGVEb3VibGVMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG4vLyBjb3B5KHRhcmdldEJ1ZmZlciwgdGFyZ2V0U3RhcnQ9MCwgc291cmNlU3RhcnQ9MCwgc291cmNlRW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5ICh0YXJnZXQsIHRhcmdldFN0YXJ0LCBzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQpIHN0YXJ0ID0gMFxuICBpZiAoIWVuZCAmJiBlbmQgIT09IDApIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXRTdGFydCA+PSB0YXJnZXQubGVuZ3RoKSB0YXJnZXRTdGFydCA9IHRhcmdldC5sZW5ndGhcbiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwXG4gIGlmIChlbmQgPiAwICYmIGVuZCA8IHN0YXJ0KSBlbmQgPSBzdGFydFxuXG4gIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZVxuICBpZiAoZW5kID09PSBzdGFydCkgcmV0dXJuIDBcbiAgaWYgKHRhcmdldC5sZW5ndGggPT09IDAgfHwgdGhpcy5sZW5ndGggPT09IDApIHJldHVybiAwXG5cbiAgLy8gRmF0YWwgZXJyb3IgY29uZGl0aW9uc1xuICBpZiAodGFyZ2V0U3RhcnQgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICB9XG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VTdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgLy8gQXJlIHdlIG9vYj9cbiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aFxuICBpZiAodGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0IDwgZW5kIC0gc3RhcnQpIHtcbiAgICBlbmQgPSB0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgKyBzdGFydFxuICB9XG5cbiAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0XG4gIHZhciBpXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCAmJiBzdGFydCA8IHRhcmdldFN0YXJ0ICYmIHRhcmdldFN0YXJ0IDwgZW5kKSB7XG4gICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kXG4gICAgZm9yIChpID0gbGVuIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRhcmdldFtpICsgdGFyZ2V0U3RhcnRdID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9IGVsc2UgaWYgKGxlbiA8IDEwMDAgfHwgIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgLy8gYXNjZW5kaW5nIGNvcHkgZnJvbSBzdGFydFxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0Ll9zZXQodGhpcy5zdWJhcnJheShzdGFydCwgc3RhcnQgKyBsZW4pLCB0YXJnZXRTdGFydClcbiAgfVxuXG4gIHJldHVybiBsZW5cbn1cblxuLy8gZmlsbCh2YWx1ZSwgc3RhcnQ9MCwgZW5kPWJ1ZmZlci5sZW5ndGgpXG5CdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICBpZiAoIXZhbHVlKSB2YWx1ZSA9IDBcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kKSBlbmQgPSB0aGlzLmxlbmd0aFxuXG4gIGlmIChlbmQgPCBzdGFydCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2VuZCA8IHN0YXJ0JylcblxuICAvLyBGaWxsIDAgYnl0ZXM7IHdlJ3JlIGRvbmVcbiAgaWYgKGVuZCA9PT0gc3RhcnQpIHJldHVyblxuICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVyblxuXG4gIGlmIChzdGFydCA8IDAgfHwgc3RhcnQgPj0gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdzdGFydCBvdXQgb2YgYm91bmRzJylcbiAgaWYgKGVuZCA8IDAgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdlbmQgb3V0IG9mIGJvdW5kcycpXG5cbiAgdmFyIGlcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICB0aGlzW2ldID0gdmFsdWVcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJ5dGVzID0gdXRmOFRvQnl0ZXModmFsdWUudG9TdHJpbmcoKSlcbiAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoXG4gICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuICAgICAgdGhpc1tpXSA9IGJ5dGVzW2kgJSBsZW5dXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGBBcnJheUJ1ZmZlcmAgd2l0aCB0aGUgKmNvcGllZCogbWVtb3J5IG9mIHRoZSBidWZmZXIgaW5zdGFuY2UuXG4gKiBBZGRlZCBpbiBOb2RlIDAuMTIuIE9ubHkgYXZhaWxhYmxlIGluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBBcnJheUJ1ZmZlci5cbiAqL1xuQnVmZmVyLnByb3RvdHlwZS50b0FycmF5QnVmZmVyID0gZnVuY3Rpb24gdG9BcnJheUJ1ZmZlciAoKSB7XG4gIGlmICh0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAgIHJldHVybiAobmV3IEJ1ZmZlcih0aGlzKSkuYnVmZmVyXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBidWYgPSBuZXcgVWludDhBcnJheSh0aGlzLmxlbmd0aClcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBidWYubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgYnVmW2ldID0gdGhpc1tpXVxuICAgICAgfVxuICAgICAgcmV0dXJuIGJ1Zi5idWZmZXJcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQnVmZmVyLnRvQXJyYXlCdWZmZXIgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXInKVxuICB9XG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxudmFyIEJQID0gQnVmZmVyLnByb3RvdHlwZVxuXG4vKipcbiAqIEF1Z21lbnQgYSBVaW50OEFycmF5ICppbnN0YW5jZSogKG5vdCB0aGUgVWludDhBcnJheSBjbGFzcyEpIHdpdGggQnVmZmVyIG1ldGhvZHNcbiAqL1xuQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gX2F1Z21lbnQgKGFycikge1xuICBhcnIuY29uc3RydWN0b3IgPSBCdWZmZXJcbiAgYXJyLl9pc0J1ZmZlciA9IHRydWVcblxuICAvLyBzYXZlIHJlZmVyZW5jZSB0byBvcmlnaW5hbCBVaW50OEFycmF5IHNldCBtZXRob2QgYmVmb3JlIG92ZXJ3cml0aW5nXG4gIGFyci5fc2V0ID0gYXJyLnNldFxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgYXJyLmdldCA9IEJQLmdldFxuICBhcnIuc2V0ID0gQlAuc2V0XG5cbiAgYXJyLndyaXRlID0gQlAud3JpdGVcbiAgYXJyLnRvU3RyaW5nID0gQlAudG9TdHJpbmdcbiAgYXJyLnRvTG9jYWxlU3RyaW5nID0gQlAudG9TdHJpbmdcbiAgYXJyLnRvSlNPTiA9IEJQLnRvSlNPTlxuICBhcnIuZXF1YWxzID0gQlAuZXF1YWxzXG4gIGFyci5jb21wYXJlID0gQlAuY29tcGFyZVxuICBhcnIuaW5kZXhPZiA9IEJQLmluZGV4T2ZcbiAgYXJyLmNvcHkgPSBCUC5jb3B5XG4gIGFyci5zbGljZSA9IEJQLnNsaWNlXG4gIGFyci5yZWFkVUludExFID0gQlAucmVhZFVJbnRMRVxuICBhcnIucmVhZFVJbnRCRSA9IEJQLnJlYWRVSW50QkVcbiAgYXJyLnJlYWRVSW50OCA9IEJQLnJlYWRVSW50OFxuICBhcnIucmVhZFVJbnQxNkxFID0gQlAucmVhZFVJbnQxNkxFXG4gIGFyci5yZWFkVUludDE2QkUgPSBCUC5yZWFkVUludDE2QkVcbiAgYXJyLnJlYWRVSW50MzJMRSA9IEJQLnJlYWRVSW50MzJMRVxuICBhcnIucmVhZFVJbnQzMkJFID0gQlAucmVhZFVJbnQzMkJFXG4gIGFyci5yZWFkSW50TEUgPSBCUC5yZWFkSW50TEVcbiAgYXJyLnJlYWRJbnRCRSA9IEJQLnJlYWRJbnRCRVxuICBhcnIucmVhZEludDggPSBCUC5yZWFkSW50OFxuICBhcnIucmVhZEludDE2TEUgPSBCUC5yZWFkSW50MTZMRVxuICBhcnIucmVhZEludDE2QkUgPSBCUC5yZWFkSW50MTZCRVxuICBhcnIucmVhZEludDMyTEUgPSBCUC5yZWFkSW50MzJMRVxuICBhcnIucmVhZEludDMyQkUgPSBCUC5yZWFkSW50MzJCRVxuICBhcnIucmVhZEZsb2F0TEUgPSBCUC5yZWFkRmxvYXRMRVxuICBhcnIucmVhZEZsb2F0QkUgPSBCUC5yZWFkRmxvYXRCRVxuICBhcnIucmVhZERvdWJsZUxFID0gQlAucmVhZERvdWJsZUxFXG4gIGFyci5yZWFkRG91YmxlQkUgPSBCUC5yZWFkRG91YmxlQkVcbiAgYXJyLndyaXRlVUludDggPSBCUC53cml0ZVVJbnQ4XG4gIGFyci53cml0ZVVJbnRMRSA9IEJQLndyaXRlVUludExFXG4gIGFyci53cml0ZVVJbnRCRSA9IEJQLndyaXRlVUludEJFXG4gIGFyci53cml0ZVVJbnQxNkxFID0gQlAud3JpdGVVSW50MTZMRVxuICBhcnIud3JpdGVVSW50MTZCRSA9IEJQLndyaXRlVUludDE2QkVcbiAgYXJyLndyaXRlVUludDMyTEUgPSBCUC53cml0ZVVJbnQzMkxFXG4gIGFyci53cml0ZVVJbnQzMkJFID0gQlAud3JpdGVVSW50MzJCRVxuICBhcnIud3JpdGVJbnRMRSA9IEJQLndyaXRlSW50TEVcbiAgYXJyLndyaXRlSW50QkUgPSBCUC53cml0ZUludEJFXG4gIGFyci53cml0ZUludDggPSBCUC53cml0ZUludDhcbiAgYXJyLndyaXRlSW50MTZMRSA9IEJQLndyaXRlSW50MTZMRVxuICBhcnIud3JpdGVJbnQxNkJFID0gQlAud3JpdGVJbnQxNkJFXG4gIGFyci53cml0ZUludDMyTEUgPSBCUC53cml0ZUludDMyTEVcbiAgYXJyLndyaXRlSW50MzJCRSA9IEJQLndyaXRlSW50MzJCRVxuICBhcnIud3JpdGVGbG9hdExFID0gQlAud3JpdGVGbG9hdExFXG4gIGFyci53cml0ZUZsb2F0QkUgPSBCUC53cml0ZUZsb2F0QkVcbiAgYXJyLndyaXRlRG91YmxlTEUgPSBCUC53cml0ZURvdWJsZUxFXG4gIGFyci53cml0ZURvdWJsZUJFID0gQlAud3JpdGVEb3VibGVCRVxuICBhcnIuZmlsbCA9IEJQLmZpbGxcbiAgYXJyLmluc3BlY3QgPSBCUC5pbnNwZWN0XG4gIGFyci50b0FycmF5QnVmZmVyID0gQlAudG9BcnJheUJ1ZmZlclxuXG4gIHJldHVybiBhcnJcbn1cblxudmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teK1xcLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0cmluZ3RyaW0oc3RyKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiBzdHJpbmd0cmltIChzdHIpIHtcbiAgaWYgKHN0ci50cmltKSByZXR1cm4gc3RyLnRyaW0oKVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgdmFyIGNvZGVQb2ludFxuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgdmFyIGJ5dGVzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zdWJzdHJpbmcoMSk7XG59XG5cbm1vZHVsZS5leHBvcnRzLndvcmRzID0gZnVuY3Rpb24gKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhefFteYS16QS1aXFx1MDBDMC1cXHUwMTdGJ10pKFthLXpBLVpcXHUwMEMwLVxcdTAxN0ZdKS9nLCBmdW5jdGlvbiAobSkge1xuICAgIHJldHVybiBtLnRvVXBwZXJDYXNlKClcbiAgfSlcbn1cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBCdWZmZXIuaXNCdWZmZXIoYXJnKTtcbn1cbmV4cG9ydHMuaXNCdWZmZXIgPSBpc0J1ZmZlcjtcblxuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufSIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuJyk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xuICBpZiAodGhpcy5fZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSlcbiAgICAgIHJldHVybiAxO1xuICAgIGVsc2UgaWYgKGV2bGlzdGVuZXIpXG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbiIsImV4cG9ydHMucmVhZCA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtXG4gIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxXG4gIHZhciBlTWF4ID0gKDEgPDwgZUxlbikgLSAxXG4gIHZhciBlQmlhcyA9IGVNYXggPj4gMVxuICB2YXIgbkJpdHMgPSAtN1xuICB2YXIgaSA9IGlzTEUgPyAobkJ5dGVzIC0gMSkgOiAwXG4gIHZhciBkID0gaXNMRSA/IC0xIDogMVxuICB2YXIgcyA9IGJ1ZmZlcltvZmZzZXQgKyBpXVxuXG4gIGkgKz0gZFxuXG4gIGUgPSBzICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpXG4gIHMgPj49ICgtbkJpdHMpXG4gIG5CaXRzICs9IGVMZW5cbiAgZm9yICg7IG5CaXRzID4gMDsgZSA9IGUgKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSBtICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9XG5cbiAgaWYgKGUgPT09IDApIHtcbiAgICBlID0gMSAtIGVCaWFzXG4gIH0gZWxzZSBpZiAoZSA9PT0gZU1heCkge1xuICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KVxuICB9IGVsc2Uge1xuICAgIG0gPSBtICsgTWF0aC5wb3coMiwgbUxlbilcbiAgICBlID0gZSAtIGVCaWFzXG4gIH1cbiAgcmV0dXJuIChzID8gLTEgOiAxKSAqIG0gKiBNYXRoLnBvdygyLCBlIC0gbUxlbilcbn1cblxuZXhwb3J0cy53cml0ZSA9IGZ1bmN0aW9uIChidWZmZXIsIHZhbHVlLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykge1xuICB2YXIgZSwgbSwgY1xuICB2YXIgZUxlbiA9IG5CeXRlcyAqIDggLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIHJ0ID0gKG1MZW4gPT09IDIzID8gTWF0aC5wb3coMiwgLTI0KSAtIE1hdGgucG93KDIsIC03NykgOiAwKVxuICB2YXIgaSA9IGlzTEUgPyAwIDogKG5CeXRlcyAtIDEpXG4gIHZhciBkID0gaXNMRSA/IDEgOiAtMVxuICB2YXIgcyA9IHZhbHVlIDwgMCB8fCAodmFsdWUgPT09IDAgJiYgMSAvIHZhbHVlIDwgMCkgPyAxIDogMFxuXG4gIHZhbHVlID0gTWF0aC5hYnModmFsdWUpXG5cbiAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA9PT0gSW5maW5pdHkpIHtcbiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDBcbiAgICBlID0gZU1heFxuICB9IGVsc2Uge1xuICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKVxuICAgIGlmICh2YWx1ZSAqIChjID0gTWF0aC5wb3coMiwgLWUpKSA8IDEpIHtcbiAgICAgIGUtLVxuICAgICAgYyAqPSAyXG4gICAgfVxuICAgIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgdmFsdWUgKz0gcnQgLyBjXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlICs9IHJ0ICogTWF0aC5wb3coMiwgMSAtIGVCaWFzKVxuICAgIH1cbiAgICBpZiAodmFsdWUgKiBjID49IDIpIHtcbiAgICAgIGUrK1xuICAgICAgYyAvPSAyXG4gICAgfVxuXG4gICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7XG4gICAgICBtID0gMFxuICAgICAgZSA9IGVNYXhcbiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7XG4gICAgICBtID0gKHZhbHVlICogYyAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG4iLCJcbi8qKlxuICogaXNBcnJheVxuICovXG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiB0b1N0cmluZ1xuICovXG5cbnZhciBzdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIFdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBgdmFsYFxuICogaXMgYW4gYXJyYXkuXG4gKlxuICogZXhhbXBsZTpcbiAqXG4gKiAgICAgICAgaXNBcnJheShbXSk7XG4gKiAgICAgICAgLy8gPiB0cnVlXG4gKiAgICAgICAgaXNBcnJheShhcmd1bWVudHMpO1xuICogICAgICAgIC8vID4gZmFsc2VcbiAqICAgICAgICBpc0FycmF5KCcnKTtcbiAqICAgICAgICAvLyA+IGZhbHNlXG4gKlxuICogQHBhcmFtIHttaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtib29sfVxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gaXNBcnJheSB8fCBmdW5jdGlvbiAodmFsKSB7XG4gIHJldHVybiAhISB2YWwgJiYgJ1tvYmplY3QgQXJyYXldJyA9PSBzdHIuY2FsbCh2YWwpO1xufTtcbiIsIi8qKlxuICogRGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBCdWZmZXJcbiAqXG4gKiBBdXRob3I6ICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIExpY2Vuc2U6ICBNSVRcbiAqXG4gKiBgbnBtIGluc3RhbGwgaXMtYnVmZmVyYFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gISEob2JqICE9IG51bGwgJiZcbiAgICAob2JqLl9pc0J1ZmZlciB8fCAvLyBGb3IgU2FmYXJpIDUtNyAobWlzc2luZyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yKVxuICAgICAgKG9iai5jb25zdHJ1Y3RvciAmJlxuICAgICAgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iaikpXG4gICAgKSlcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGV4dCwgcmV2ZXJzZSl7XG4gIHJldHVybiB0ZXh0LnNwbGl0KFwiIFwiKS5ldmVyeShmdW5jdGlvbih3b3JkLCBpLCBhcnIpe1xuICAgIHZhciBsYXN0ID0gaSA/IGFycltpIC0gMV0ubGVuZ3RoIDogZmFsc2VcbiAgICB2YXIgY3VyciA9IHdvcmQubGVuZ3RoXG4gICAgdmFyIGRpZmYgPSByZXZlcnNlID8gbGFzdCAtIGN1cnIgOiBjdXJyIC0gbGFzdFxuICAgIHJldHVybiAhKGxhc3QgJiYgZGlmZiAhPT0gMSlcbiAgfSlcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyKSA9PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc3RyaW5nLCBfYyl7XG4gIHZhciByZXN1bHQgPSB0cnVlXG4gIHZhciBjb25zdHJhaW50XG5cbiAgaWYoQXJyYXkuaXNBcnJheShfYykpe1xuICAgIGNvbnN0cmFpbnQgPSBfY1xuICB9IGVsc2UgaWYgKF9jKXtcbiAgICBjb25zdHJhaW50ID0gWydiJywgJ2QnLCAnZicsICdnJywgJ2gnLCAnaicsICdrJywgJ2wnLCAncCcsICdxJywgJ3QnLCAneSddXG4gIH1cblxuICB2YXIgbGV0dGVycyA9IHN0cmluZy50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiXCIpLmZpbHRlcihmdW5jdGlvbihlbCl7cmV0dXJuIGVsLm1hdGNoKC9bYS16XS8pfSlcblxuICB2YXIgbWFwID0ge31cblxuICBsZXR0ZXJzLmZvckVhY2goZnVuY3Rpb24obGV0dGVyKXtcbiAgICBtYXBbbGV0dGVyXSA9IHRydWVcbiAgfSlcblxuICBpZihjb25zdHJhaW50KXtcbiAgICBjb25zdHJhaW50LmV2ZXJ5KGZ1bmN0aW9uKGxldHRlcil7XG4gICAgICByZXR1cm4gbWFwW2xldHRlcl0gPyByZXN1bHQgPSBmYWxzZSA6IHRydWVcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicuc3BsaXQoXCJcIikuZmlsdGVyKGZ1bmN0aW9uKGxldHRlcil7cmV0dXJuICFtYXBbbGV0dGVyXX0pXG4gICAgaWYoIXJlc3VsdC5sZW5ndGgpIHJlc3VsdCA9IGZhbHNlXG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsInZhciBjb252ZXJzaW9uTWFwID0ge1xuICBvdWdoOiAnZXdlJyxcbiAgYW50OiAnYXVudCcsXG4gIGVuZDogJ2lobmQnLFxuICBhbmQ6ICd1aG4nLFxuICBlbnQ6ICdpbmQnLFxuICBsYW46ICdsb3duJyxcbiAgYXN0OiAnaW5zdCcsXG4gIG91OiAnb28nLFxuICBvdzogJ2F1JyxcbiAgaWw6ICdpbGlpbCcsXG4gIGFnOiAnYWNrJyxcbiAgZXc6ICdlZW9vJ1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHRleHQsIGxldiwgY29udil7XG4gIHZhciBuZXdTdHIgPSB0ZXh0XG4gIHZhciBsZXZlbCA9IGxldiAhPT0gdW5kZWZpbmVkID8gbGV2IDogMC41XG4gIHZhciBjb252ZXJzaW9ucyA9IGNvbnYgIT09IHVuZGVmaW5lZCA/IGNvbnYgOiBjb252ZXJzaW9uTWFwXG4gIE9iamVjdC5rZXlzKGNvbnZlcnNpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKHN1YnN0cil7XG4gICAgaWYobmV3U3RyLmluZGV4T2Yoc3Vic3RyKSAhPT0gLTEgJiYgTWF0aC5yYW5kb20oKSA8IGxldmVsKXtcbiAgICAgIG5ld1N0ciA9IG5ld1N0ci5yZXBsYWNlKG5ldyBSZWdFeHAoc3Vic3RyLCAnZycpLCBjb252ZXJzaW9uc1tzdWJzdHJdKVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIG5ld1N0clxufVxuXG5tb2R1bGUuZXhwb3J0cy5jb252ZXJzaW9ucyA9IGNvbnZlcnNpb25NYXAiLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChkYXRhLCBvcHRpb25zKSB7XG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXHRkYXRhID0gZGF0YS5zbGljZSgpO1xuXG5cdHZhciBjb3VudCA9IE51bWJlcihvcHRpb25zLmNvdW50KSB8fCAxO1xuXHR2YXIgcmV0ID0gW107XG5cblx0aWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYW4gYXJyYXkgYXMgdGhlIGZpcnN0IGFyZ3VtZW50Jyk7XG5cdH1cblxuXHRpZiAoY291bnQgPj0gZGF0YS5sZW5ndGgpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ29wdGlvbnMuY291bnQgbXVzdCBiZSBsb3dlciB0aGFuIHRoZSBudW1iZXIgb2YgcGlja3MnKTtcblx0fVxuXG5cdHdoaWxlIChjb3VudC0tKSB7XG5cdFx0cmV0LnB1c2goZGF0YS5zcGxpY2UoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGF0YS5sZW5ndGgpLCAxKVswXSk7XG5cdH1cblxuXHRyZXR1cm4gcmV0O1xufTtcbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gbmV4dFRpY2s7XG5cbmZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgdmFyIGkgPSAwO1xuICB3aGlsZSAoaSA8IGFyZ3MubGVuZ3RoKSB7XG4gICAgYXJnc1tpKytdID0gYXJndW1lbnRzW2ldO1xuICB9XG4gIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gYWZ0ZXJUaWNrKCkge1xuICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICB9KTtcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxuXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBzZXRUaW1lb3V0KGRyYWluUXVldWUsIDApO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIHBpY2sgPSByZXF1aXJlKCdwaWNrLXJhbmRvbScpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICBhOiBbXSxcbiAgICBiOiBbXSxcbiAgICBjOiBbXSxcbiAgICBzZWVkOiBmdW5jdGlvbiAobHMpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpc1xuICAgICAgbHMuZm9yRWFjaChmdW5jdGlvbiAobCkge1xuICAgICAgICAvLyBmb3IgZWFjaCBsaW5lXG4gICAgICAgIHZhciB3cyA9IGwuc3BsaXQoJyAnKVxuICAgICAgICAvLyBwdXQgdGhlIGZpcnN0IHdvcmQgaW4gYSBidWNrZXRcbiAgICAgICAgdGhhdC5hLnB1c2god3Muc2hpZnQoKSlcbiAgICAgICAgLy8gbGFzdCB3b3JkIGluIGMgYnVja2V0XG4gICAgICAgIGlmICh3cy5sZW5ndGgpIHRoYXQuYy5wdXNoKHdzLnBvcCgpKVxuICAgICAgICAvLyBhbmQgZXZlcnl0aGluZyBlbHNlIGluIHRoZSBiIGJ1Y2tldC5cbiAgICAgICAgaWYgKHdzLmxlbmd0aCkgdGhhdC5iLnB1c2god3Muam9pbignICcpKVxuICAgICAgfSlcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcbiAgICBmaWxsOiBmdW5jdGlvbiAobGVuZ3RoKSB7XG4gICAgICAvLyBpZiB1c2VyIHBhc3NlcyAwLCB1bW0sIHVuZGVmaW5lZCFcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgLy8gd2Ugc3RhcnQgd2l0aCBhIHJhbmRvbSB3b3JkIGZyb20gdGhlIGEgYnVja2V0XG4gICAgICAgIHZhciByZXMgPSBbcGljayh0aGlzLmEpXVxuICAgICAgICAvLyB0aGVuIHdlIHBpY2sgYSByYW5kb20gbWlkZGxlIHRoaW5nIGFuZCBzcGxpdCBpdCB1cFxuICAgICAgICB2YXIgbWlkID0gcGljayh0aGlzLmIpWzBdLnNwbGl0KCcgJylcbiAgICAgICAgLy8gYXMgbG9uZyBhcyB3ZSBoYXZlIHN0dWZmIGZyb20gdGhlIG1pZGRsZSB0aGluZyxcbiAgICAgICAgLy8gYW5kIG91ciByZXMgaXMgbm90IG9uZSBsZXNzIHRoYW4gdGhlIHRhcmdldCBsZW5ndGguLi5cbiAgICAgICAgd2hpbGUgKHJlcy5sZW5ndGggPCBsZW5ndGggLSAxICYmIG1pZC5sZW5ndGgpIHtcbiAgICAgICAgICAvLyB3ZSBwdXNoIHRoZSBuZXh0IHdvcmQgZnJvbSBvdXIgbWlkZGxlIHRoaW5nXG4gICAgICAgICAgcmVzLnB1c2gobWlkLnNoaWZ0KCkpXG4gICAgICAgICAgLy8gaWYgdGhlIG1pZGRsZSB0aGluZyBpcyBkZXBsZXRlZCwgd2UgcGljayBhIG5ldyBvbmUuXG4gICAgICAgICAgLy8gaWYgdGhlIGJ1Y2tldHMgYXJlIGluc3VmZmljaWVudGx5IGZpbGxlZCB0aGlzIG1pZ2h0IGVycm9yIG91dC4gaSBzaG91bGQgZml4IHRoYXQgc29tZXRpbWVcbiAgICAgICAgICBpZiAoIW1pZC5sZW5ndGgpIG1pZCA9IHBpY2sodGhpcy5iKVswXS5zcGxpdCgnICcpXG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgd2FudHMgbGVuZ3RoID4gMiwgcG9wIGFuIGVuZGluZyB0aGluZyBmcm9tIHRoZSBjIGJ1Y2tldCBvbiB0aGUgZW5kXG4gICAgICAgIGlmIChsZW5ndGggPiAxKSByZXMucHVzaChwaWNrKHRoaXMuYykpXG4gICAgICAgIC8vIHJldHVybiB0aGUgZ2VuZXJhdGVkIHN0cmluZ1xuICAgICAgICByZXR1cm4gcmVzLmpvaW4oJyAnKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9saWIvX3N0cmVhbV9kdXBsZXguanNcIilcbiIsIi8vIGEgZHVwbGV4IHN0cmVhbSBpcyBqdXN0IGEgc3RyZWFtIHRoYXQgaXMgYm90aCByZWFkYWJsZSBhbmQgd3JpdGFibGUuXG4vLyBTaW5jZSBKUyBkb2Vzbid0IGhhdmUgbXVsdGlwbGUgcHJvdG90eXBhbCBpbmhlcml0YW5jZSwgdGhpcyBjbGFzc1xuLy8gcHJvdG90eXBhbGx5IGluaGVyaXRzIGZyb20gUmVhZGFibGUsIGFuZCB0aGVuIHBhcmFzaXRpY2FsbHkgZnJvbVxuLy8gV3JpdGFibGUuXG5cbid1c2Ugc3RyaWN0JztcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIga2V5cyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgcmV0dXJuIGtleXM7XG59XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuXG5tb2R1bGUuZXhwb3J0cyA9IER1cGxleDtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBwcm9jZXNzTmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzLW5leHRpY2stYXJncycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cblxuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTtcbnV0aWwuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBSZWFkYWJsZSA9IHJlcXVpcmUoJy4vX3N0cmVhbV9yZWFkYWJsZScpO1xudmFyIFdyaXRhYmxlID0gcmVxdWlyZSgnLi9fc3RyZWFtX3dyaXRhYmxlJyk7XG5cbnV0aWwuaW5oZXJpdHMoRHVwbGV4LCBSZWFkYWJsZSk7XG5cbnZhciBrZXlzID0gb2JqZWN0S2V5cyhXcml0YWJsZS5wcm90b3R5cGUpO1xuZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gIHZhciBtZXRob2QgPSBrZXlzW3ZdO1xuICBpZiAoIUR1cGxleC5wcm90b3R5cGVbbWV0aG9kXSlcbiAgICBEdXBsZXgucHJvdG90eXBlW21ldGhvZF0gPSBXcml0YWJsZS5wcm90b3R5cGVbbWV0aG9kXTtcbn1cblxuZnVuY3Rpb24gRHVwbGV4KG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpXG4gICAgcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7XG5cbiAgUmVhZGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgV3JpdGFibGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJlYWRhYmxlID09PSBmYWxzZSlcbiAgICB0aGlzLnJlYWRhYmxlID0gZmFsc2U7XG5cbiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy53cml0YWJsZSA9PT0gZmFsc2UpXG4gICAgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuXG4gIHRoaXMuYWxsb3dIYWxmT3BlbiA9IHRydWU7XG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuYWxsb3dIYWxmT3BlbiA9PT0gZmFsc2UpXG4gICAgdGhpcy5hbGxvd0hhbGZPcGVuID0gZmFsc2U7XG5cbiAgdGhpcy5vbmNlKCdlbmQnLCBvbmVuZCk7XG59XG5cbi8vIHRoZSBuby1oYWxmLW9wZW4gZW5mb3JjZXJcbmZ1bmN0aW9uIG9uZW5kKCkge1xuICAvLyBpZiB3ZSBhbGxvdyBoYWxmLW9wZW4gc3RhdGUsIG9yIGlmIHRoZSB3cml0YWJsZSBzaWRlIGVuZGVkLFxuICAvLyB0aGVuIHdlJ3JlIG9rLlxuICBpZiAodGhpcy5hbGxvd0hhbGZPcGVuIHx8IHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQpXG4gICAgcmV0dXJuO1xuXG4gIC8vIG5vIG1vcmUgZGF0YSBjYW4gYmUgd3JpdHRlbi5cbiAgLy8gQnV0IGFsbG93IG1vcmUgd3JpdGVzIHRvIGhhcHBlbiBpbiB0aGlzIHRpY2suXG4gIHByb2Nlc3NOZXh0VGljayhvbkVuZE5ULCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gb25FbmROVChzZWxmKSB7XG4gIHNlbGYuZW5kKCk7XG59XG5cbmZ1bmN0aW9uIGZvckVhY2ggKHhzLCBmKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZih4c1tpXSwgaSk7XG4gIH1cbn1cbiIsIi8vIGEgcGFzc3Rocm91Z2ggc3RyZWFtLlxuLy8gYmFzaWNhbGx5IGp1c3QgdGhlIG1vc3QgbWluaW1hbCBzb3J0IG9mIFRyYW5zZm9ybSBzdHJlYW0uXG4vLyBFdmVyeSB3cml0dGVuIGNodW5rIGdldHMgb3V0cHV0IGFzLWlzLlxuXG4ndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFzc1Rocm91Z2g7XG5cbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCcuL19zdHJlYW1fdHJhbnNmb3JtJyk7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2NvcmUtdXRpbC1pcycpO1xudXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudXRpbC5pbmhlcml0cyhQYXNzVGhyb3VnaCwgVHJhbnNmb3JtKTtcblxuZnVuY3Rpb24gUGFzc1Rocm91Z2gob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUGFzc1Rocm91Z2gpKVxuICAgIHJldHVybiBuZXcgUGFzc1Rocm91Z2gob3B0aW9ucyk7XG5cbiAgVHJhbnNmb3JtLmNhbGwodGhpcywgb3B0aW9ucyk7XG59XG5cblBhc3NUaHJvdWdoLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24oY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBjYihudWxsLCBjaHVuayk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWRhYmxlO1xuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIHByb2Nlc3NOZXh0VGljayA9IHJlcXVpcmUoJ3Byb2Nlc3MtbmV4dGljay1hcmdzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdpc2FycmF5Jyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuXG4vKjxyZXBsYWNlbWVudD4qL1xudmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlcjtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5SZWFkYWJsZS5SZWFkYWJsZVN0YXRlID0gUmVhZGFibGVTdGF0ZTtcblxudmFyIEVFID0gcmVxdWlyZSgnZXZlbnRzJyk7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgRUVsaXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICByZXR1cm4gZW1pdHRlci5saXN0ZW5lcnModHlwZSkubGVuZ3RoO1xufTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBTdHJlYW07XG4oZnVuY3Rpb24gKCl7dHJ5e1xuICBTdHJlYW0gPSByZXF1aXJlKCdzdCcgKyAncmVhbScpO1xufWNhdGNoKF8pe31maW5hbGx5e1xuICBpZiAoIVN0cmVhbSlcbiAgICBTdHJlYW0gPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7XG59fSgpKVxuLyo8L3JlcGxhY2VtZW50PiovXG5cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2NvcmUtdXRpbC1pcycpO1xudXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgZGVidWdVdGlsID0gcmVxdWlyZSgndXRpbCcpO1xudmFyIGRlYnVnO1xuaWYgKGRlYnVnVXRpbCAmJiBkZWJ1Z1V0aWwuZGVidWdsb2cpIHtcbiAgZGVidWcgPSBkZWJ1Z1V0aWwuZGVidWdsb2coJ3N0cmVhbScpO1xufSBlbHNlIHtcbiAgZGVidWcgPSBmdW5jdGlvbiAoKSB7fTtcbn1cbi8qPC9yZXBsYWNlbWVudD4qL1xuXG52YXIgU3RyaW5nRGVjb2RlcjtcblxudXRpbC5pbmhlcml0cyhSZWFkYWJsZSwgU3RyZWFtKTtcblxuZnVuY3Rpb24gUmVhZGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0pIHtcbiAgdmFyIER1cGxleCA9IHJlcXVpcmUoJy4vX3N0cmVhbV9kdXBsZXgnKTtcblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcuIFVzZWQgdG8gbWFrZSByZWFkKG4pIGlnbm9yZSBuIGFuZCB0b1xuICAvLyBtYWtlIGFsbCB0aGUgYnVmZmVyIG1lcmdpbmcgYW5kIGxlbmd0aCBjaGVja3MgZ28gYXdheVxuICB0aGlzLm9iamVjdE1vZGUgPSAhIW9wdGlvbnMub2JqZWN0TW9kZTtcblxuICBpZiAoc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4KVxuICAgIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMucmVhZGFibGVPYmplY3RNb2RlO1xuXG4gIC8vIHRoZSBwb2ludCBhdCB3aGljaCBpdCBzdG9wcyBjYWxsaW5nIF9yZWFkKCkgdG8gZmlsbCB0aGUgYnVmZmVyXG4gIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgXCJkb24ndCBjYWxsIF9yZWFkIHByZWVtcHRpdmVseSBldmVyXCJcbiAgdmFyIGh3bSA9IG9wdGlvbnMuaGlnaFdhdGVyTWFyaztcbiAgdmFyIGRlZmF1bHRId20gPSB0aGlzLm9iamVjdE1vZGUgPyAxNiA6IDE2ICogMTAyNDtcbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gKGh3bSB8fCBod20gPT09IDApID8gaHdtIDogZGVmYXVsdEh3bTtcblxuICAvLyBjYXN0IHRvIGludHMuXG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IH5+dGhpcy5oaWdoV2F0ZXJNYXJrO1xuXG4gIHRoaXMuYnVmZmVyID0gW107XG4gIHRoaXMubGVuZ3RoID0gMDtcbiAgdGhpcy5waXBlcyA9IG51bGw7XG4gIHRoaXMucGlwZXNDb3VudCA9IDA7XG4gIHRoaXMuZmxvd2luZyA9IG51bGw7XG4gIHRoaXMuZW5kZWQgPSBmYWxzZTtcbiAgdGhpcy5lbmRFbWl0dGVkID0gZmFsc2U7XG4gIHRoaXMucmVhZGluZyA9IGZhbHNlO1xuXG4gIC8vIGEgZmxhZyB0byBiZSBhYmxlIHRvIHRlbGwgaWYgdGhlIG9ud3JpdGUgY2IgaXMgY2FsbGVkIGltbWVkaWF0ZWx5LFxuICAvLyBvciBvbiBhIGxhdGVyIHRpY2suICBXZSBzZXQgdGhpcyB0byB0cnVlIGF0IGZpcnN0LCBiZWNhdXNlIGFueVxuICAvLyBhY3Rpb25zIHRoYXQgc2hvdWxkbid0IGhhcHBlbiB1bnRpbCBcImxhdGVyXCIgc2hvdWxkIGdlbmVyYWxseSBhbHNvXG4gIC8vIG5vdCBoYXBwZW4gYmVmb3JlIHRoZSBmaXJzdCB3cml0ZSBjYWxsLlxuICB0aGlzLnN5bmMgPSB0cnVlO1xuXG4gIC8vIHdoZW5ldmVyIHdlIHJldHVybiBudWxsLCB0aGVuIHdlIHNldCBhIGZsYWcgdG8gc2F5XG4gIC8vIHRoYXQgd2UncmUgYXdhaXRpbmcgYSAncmVhZGFibGUnIGV2ZW50IGVtaXNzaW9uLlxuICB0aGlzLm5lZWRSZWFkYWJsZSA9IGZhbHNlO1xuICB0aGlzLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICB0aGlzLnJlYWRhYmxlTGlzdGVuaW5nID0gZmFsc2U7XG5cbiAgLy8gQ3J5cHRvIGlzIGtpbmQgb2Ygb2xkIGFuZCBjcnVzdHkuICBIaXN0b3JpY2FsbHksIGl0cyBkZWZhdWx0IHN0cmluZ1xuICAvLyBlbmNvZGluZyBpcyAnYmluYXJ5JyBzbyB3ZSBoYXZlIHRvIG1ha2UgdGhpcyBjb25maWd1cmFibGUuXG4gIC8vIEV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgdW5pdmVyc2UgdXNlcyAndXRmOCcsIHRob3VnaC5cbiAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7XG5cbiAgLy8gd2hlbiBwaXBpbmcsIHdlIG9ubHkgY2FyZSBhYm91dCAncmVhZGFibGUnIGV2ZW50cyB0aGF0IGhhcHBlblxuICAvLyBhZnRlciByZWFkKClpbmcgYWxsIHRoZSBieXRlcyBhbmQgbm90IGdldHRpbmcgYW55IHB1c2hiYWNrLlxuICB0aGlzLnJhbk91dCA9IGZhbHNlO1xuXG4gIC8vIHRoZSBudW1iZXIgb2Ygd3JpdGVycyB0aGF0IGFyZSBhd2FpdGluZyBhIGRyYWluIGV2ZW50IGluIC5waXBlKClzXG4gIHRoaXMuYXdhaXREcmFpbiA9IDA7XG5cbiAgLy8gaWYgdHJ1ZSwgYSBtYXliZVJlYWRNb3JlIGhhcyBiZWVuIHNjaGVkdWxlZFxuICB0aGlzLnJlYWRpbmdNb3JlID0gZmFsc2U7XG5cbiAgdGhpcy5kZWNvZGVyID0gbnVsbDtcbiAgdGhpcy5lbmNvZGluZyA9IG51bGw7XG4gIGlmIChvcHRpb25zLmVuY29kaW5nKSB7XG4gICAgaWYgKCFTdHJpbmdEZWNvZGVyKVxuICAgICAgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyLycpLlN0cmluZ0RlY29kZXI7XG4gICAgdGhpcy5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIob3B0aW9ucy5lbmNvZGluZyk7XG4gICAgdGhpcy5lbmNvZGluZyA9IG9wdGlvbnMuZW5jb2Rpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gUmVhZGFibGUob3B0aW9ucykge1xuICB2YXIgRHVwbGV4ID0gcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpO1xuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZWFkYWJsZSkpXG4gICAgcmV0dXJuIG5ldyBSZWFkYWJsZShvcHRpb25zKTtcblxuICB0aGlzLl9yZWFkYWJsZVN0YXRlID0gbmV3IFJlYWRhYmxlU3RhdGUob3B0aW9ucywgdGhpcyk7XG5cbiAgLy8gbGVnYWN5XG4gIHRoaXMucmVhZGFibGUgPSB0cnVlO1xuXG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLnJlYWQgPT09ICdmdW5jdGlvbicpXG4gICAgdGhpcy5fcmVhZCA9IG9wdGlvbnMucmVhZDtcblxuICBTdHJlYW0uY2FsbCh0aGlzKTtcbn1cblxuLy8gTWFudWFsbHkgc2hvdmUgc29tZXRoaW5nIGludG8gdGhlIHJlYWQoKSBidWZmZXIuXG4vLyBUaGlzIHJldHVybnMgdHJ1ZSBpZiB0aGUgaGlnaFdhdGVyTWFyayBoYXMgbm90IGJlZW4gaGl0IHlldCxcbi8vIHNpbWlsYXIgdG8gaG93IFdyaXRhYmxlLndyaXRlKCkgcmV0dXJucyB0cnVlIGlmIHlvdSBzaG91bGRcbi8vIHdyaXRlKCkgc29tZSBtb3JlLlxuUmVhZGFibGUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihjaHVuaywgZW5jb2RpbmcpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcblxuICBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgdHlwZW9mIGNodW5rID09PSAnc3RyaW5nJykge1xuICAgIGVuY29kaW5nID0gZW5jb2RpbmcgfHwgc3RhdGUuZGVmYXVsdEVuY29kaW5nO1xuICAgIGlmIChlbmNvZGluZyAhPT0gc3RhdGUuZW5jb2RpbmcpIHtcbiAgICAgIGNodW5rID0gbmV3IEJ1ZmZlcihjaHVuaywgZW5jb2RpbmcpO1xuICAgICAgZW5jb2RpbmcgPSAnJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBmYWxzZSk7XG59O1xuXG4vLyBVbnNoaWZ0IHNob3VsZCAqYWx3YXlzKiBiZSBzb21ldGhpbmcgZGlyZWN0bHkgb3V0IG9mIHJlYWQoKVxuUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbihjaHVuaykge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICByZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLCBzdGF0ZSwgY2h1bmssICcnLCB0cnVlKTtcbn07XG5cblJlYWRhYmxlLnByb3RvdHlwZS5pc1BhdXNlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID09PSBmYWxzZTtcbn07XG5cbmZ1bmN0aW9uIHJlYWRhYmxlQWRkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBhZGRUb0Zyb250KSB7XG4gIHZhciBlciA9IGNodW5rSW52YWxpZChzdGF0ZSwgY2h1bmspO1xuICBpZiAoZXIpIHtcbiAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG4gIH0gZWxzZSBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gICAgb25Fb2ZDaHVuayhzdHJlYW0sIHN0YXRlKTtcbiAgfSBlbHNlIGlmIChzdGF0ZS5vYmplY3RNb2RlIHx8IGNodW5rICYmIGNodW5rLmxlbmd0aCA+IDApIHtcbiAgICBpZiAoc3RhdGUuZW5kZWQgJiYgIWFkZFRvRnJvbnQpIHtcbiAgICAgIHZhciBlID0gbmV3IEVycm9yKCdzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRicpO1xuICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZSk7XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5lbmRFbWl0dGVkICYmIGFkZFRvRnJvbnQpIHtcbiAgICAgIHZhciBlID0gbmV3IEVycm9yKCdzdHJlYW0udW5zaGlmdCgpIGFmdGVyIGVuZCBldmVudCcpO1xuICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGF0ZS5kZWNvZGVyICYmICFhZGRUb0Zyb250ICYmICFlbmNvZGluZylcbiAgICAgICAgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKTtcblxuICAgICAgaWYgKCFhZGRUb0Zyb250KVxuICAgICAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG5cbiAgICAgIC8vIGlmIHdlIHdhbnQgdGhlIGRhdGEgbm93LCBqdXN0IGVtaXQgaXQuXG4gICAgICBpZiAoc3RhdGUuZmxvd2luZyAmJiBzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLnN5bmMpIHtcbiAgICAgICAgc3RyZWFtLmVtaXQoJ2RhdGEnLCBjaHVuayk7XG4gICAgICAgIHN0cmVhbS5yZWFkKDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdXBkYXRlIHRoZSBidWZmZXIgaW5mby5cbiAgICAgICAgc3RhdGUubGVuZ3RoICs9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuICAgICAgICBpZiAoYWRkVG9Gcm9udClcbiAgICAgICAgICBzdGF0ZS5idWZmZXIudW5zaGlmdChjaHVuayk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7XG5cbiAgICAgICAgaWYgKHN0YXRlLm5lZWRSZWFkYWJsZSlcbiAgICAgICAgICBlbWl0UmVhZGFibGUoc3RyZWFtKTtcbiAgICAgIH1cblxuICAgICAgbWF5YmVSZWFkTW9yZShzdHJlYW0sIHN0YXRlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWFkZFRvRnJvbnQpIHtcbiAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gbmVlZE1vcmVEYXRhKHN0YXRlKTtcbn1cblxuXG4vLyBpZiBpdCdzIHBhc3QgdGhlIGhpZ2ggd2F0ZXIgbWFyaywgd2UgY2FuIHB1c2ggaW4gc29tZSBtb3JlLlxuLy8gQWxzbywgaWYgd2UgaGF2ZSBubyBkYXRhIHlldCwgd2UgY2FuIHN0YW5kIHNvbWVcbi8vIG1vcmUgYnl0ZXMuICBUaGlzIGlzIHRvIHdvcmsgYXJvdW5kIGNhc2VzIHdoZXJlIGh3bT0wLFxuLy8gc3VjaCBhcyB0aGUgcmVwbC4gIEFsc28sIGlmIHRoZSBwdXNoKCkgdHJpZ2dlcmVkIGFcbi8vIHJlYWRhYmxlIGV2ZW50LCBhbmQgdGhlIHVzZXIgY2FsbGVkIHJlYWQobGFyZ2VOdW1iZXIpIHN1Y2ggdGhhdFxuLy8gbmVlZFJlYWRhYmxlIHdhcyBzZXQsIHRoZW4gd2Ugb3VnaHQgdG8gcHVzaCBtb3JlLCBzbyB0aGF0IGFub3RoZXJcbi8vICdyZWFkYWJsZScgZXZlbnQgd2lsbCBiZSB0cmlnZ2VyZWQuXG5mdW5jdGlvbiBuZWVkTW9yZURhdGEoc3RhdGUpIHtcbiAgcmV0dXJuICFzdGF0ZS5lbmRlZCAmJlxuICAgICAgICAgKHN0YXRlLm5lZWRSZWFkYWJsZSB8fFxuICAgICAgICAgIHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmsgfHxcbiAgICAgICAgICBzdGF0ZS5sZW5ndGggPT09IDApO1xufVxuXG4vLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cblJlYWRhYmxlLnByb3RvdHlwZS5zZXRFbmNvZGluZyA9IGZ1bmN0aW9uKGVuYykge1xuICBpZiAoIVN0cmluZ0RlY29kZXIpXG4gICAgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyLycpLlN0cmluZ0RlY29kZXI7XG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKGVuYyk7XG4gIHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2RpbmcgPSBlbmM7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gRG9uJ3QgcmFpc2UgdGhlIGh3bSA+IDhNQlxudmFyIE1BWF9IV00gPSAweDgwMDAwMDtcbmZ1bmN0aW9uIGNvbXB1dGVOZXdIaWdoV2F0ZXJNYXJrKG4pIHtcbiAgaWYgKG4gPj0gTUFYX0hXTSkge1xuICAgIG4gPSBNQVhfSFdNO1xuICB9IGVsc2Uge1xuICAgIC8vIEdldCB0aGUgbmV4dCBoaWdoZXN0IHBvd2VyIG9mIDJcbiAgICBuLS07XG4gICAgbiB8PSBuID4+PiAxO1xuICAgIG4gfD0gbiA+Pj4gMjtcbiAgICBuIHw9IG4gPj4+IDQ7XG4gICAgbiB8PSBuID4+PiA4O1xuICAgIG4gfD0gbiA+Pj4gMTY7XG4gICAgbisrO1xuICB9XG4gIHJldHVybiBuO1xufVxuXG5mdW5jdGlvbiBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKSB7XG4gIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuZW5kZWQpXG4gICAgcmV0dXJuIDA7XG5cbiAgaWYgKHN0YXRlLm9iamVjdE1vZGUpXG4gICAgcmV0dXJuIG4gPT09IDAgPyAwIDogMTtcblxuICBpZiAobiA9PT0gbnVsbCB8fCBpc05hTihuKSkge1xuICAgIC8vIG9ubHkgZmxvdyBvbmUgYnVmZmVyIGF0IGEgdGltZVxuICAgIGlmIChzdGF0ZS5mbG93aW5nICYmIHN0YXRlLmJ1ZmZlci5sZW5ndGgpXG4gICAgICByZXR1cm4gc3RhdGUuYnVmZmVyWzBdLmxlbmd0aDtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gc3RhdGUubGVuZ3RoO1xuICB9XG5cbiAgaWYgKG4gPD0gMClcbiAgICByZXR1cm4gMDtcblxuICAvLyBJZiB3ZSdyZSBhc2tpbmcgZm9yIG1vcmUgdGhhbiB0aGUgdGFyZ2V0IGJ1ZmZlciBsZXZlbCxcbiAgLy8gdGhlbiByYWlzZSB0aGUgd2F0ZXIgbWFyay4gIEJ1bXAgdXAgdG8gdGhlIG5leHQgaGlnaGVzdFxuICAvLyBwb3dlciBvZiAyLCB0byBwcmV2ZW50IGluY3JlYXNpbmcgaXQgZXhjZXNzaXZlbHkgaW4gdGlueVxuICAvLyBhbW91bnRzLlxuICBpZiAobiA+IHN0YXRlLmhpZ2hXYXRlck1hcmspXG4gICAgc3RhdGUuaGlnaFdhdGVyTWFyayA9IGNvbXB1dGVOZXdIaWdoV2F0ZXJNYXJrKG4pO1xuXG4gIC8vIGRvbid0IGhhdmUgdGhhdCBtdWNoLiAgcmV0dXJuIG51bGwsIHVubGVzcyB3ZSd2ZSBlbmRlZC5cbiAgaWYgKG4gPiBzdGF0ZS5sZW5ndGgpIHtcbiAgICBpZiAoIXN0YXRlLmVuZGVkKSB7XG4gICAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdGF0ZS5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG47XG59XG5cbi8vIHlvdSBjYW4gb3ZlcnJpZGUgZWl0aGVyIHRoaXMgbWV0aG9kLCBvciB0aGUgYXN5bmMgX3JlYWQobikgYmVsb3cuXG5SZWFkYWJsZS5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uKG4pIHtcbiAgZGVidWcoJ3JlYWQnLCBuKTtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgdmFyIG5PcmlnID0gbjtcblxuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPiAwKVxuICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuXG4gIC8vIGlmIHdlJ3JlIGRvaW5nIHJlYWQoMCkgdG8gdHJpZ2dlciBhIHJlYWRhYmxlIGV2ZW50LCBidXQgd2VcbiAgLy8gYWxyZWFkeSBoYXZlIGEgYnVuY2ggb2YgZGF0YSBpbiB0aGUgYnVmZmVyLCB0aGVuIGp1c3QgdHJpZ2dlclxuICAvLyB0aGUgJ3JlYWRhYmxlJyBldmVudCBhbmQgbW92ZSBvbi5cbiAgaWYgKG4gPT09IDAgJiZcbiAgICAgIHN0YXRlLm5lZWRSZWFkYWJsZSAmJlxuICAgICAgKHN0YXRlLmxlbmd0aCA+PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmVuZGVkKSkge1xuICAgIGRlYnVnKCdyZWFkOiBlbWl0UmVhZGFibGUnLCBzdGF0ZS5sZW5ndGgsIHN0YXRlLmVuZGVkKTtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLmVuZGVkKVxuICAgICAgZW5kUmVhZGFibGUodGhpcyk7XG4gICAgZWxzZVxuICAgICAgZW1pdFJlYWRhYmxlKHRoaXMpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbiA9IGhvd011Y2hUb1JlYWQobiwgc3RhdGUpO1xuXG4gIC8vIGlmIHdlJ3ZlIGVuZGVkLCBhbmQgd2UncmUgbm93IGNsZWFyLCB0aGVuIGZpbmlzaCBpdCB1cC5cbiAgaWYgKG4gPT09IDAgJiYgc3RhdGUuZW5kZWQpIHtcbiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKVxuICAgICAgZW5kUmVhZGFibGUodGhpcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBBbGwgdGhlIGFjdHVhbCBjaHVuayBnZW5lcmF0aW9uIGxvZ2ljIG5lZWRzIHRvIGJlXG4gIC8vICpiZWxvdyogdGhlIGNhbGwgdG8gX3JlYWQuICBUaGUgcmVhc29uIGlzIHRoYXQgaW4gY2VydGFpblxuICAvLyBzeW50aGV0aWMgc3RyZWFtIGNhc2VzLCBzdWNoIGFzIHBhc3N0aHJvdWdoIHN0cmVhbXMsIF9yZWFkXG4gIC8vIG1heSBiZSBhIGNvbXBsZXRlbHkgc3luY2hyb25vdXMgb3BlcmF0aW9uIHdoaWNoIG1heSBjaGFuZ2VcbiAgLy8gdGhlIHN0YXRlIG9mIHRoZSByZWFkIGJ1ZmZlciwgcHJvdmlkaW5nIGVub3VnaCBkYXRhIHdoZW5cbiAgLy8gYmVmb3JlIHRoZXJlIHdhcyAqbm90KiBlbm91Z2guXG4gIC8vXG4gIC8vIFNvLCB0aGUgc3RlcHMgYXJlOlxuICAvLyAxLiBGaWd1cmUgb3V0IHdoYXQgdGhlIHN0YXRlIG9mIHRoaW5ncyB3aWxsIGJlIGFmdGVyIHdlIGRvXG4gIC8vIGEgcmVhZCBmcm9tIHRoZSBidWZmZXIuXG4gIC8vXG4gIC8vIDIuIElmIHRoYXQgcmVzdWx0aW5nIHN0YXRlIHdpbGwgdHJpZ2dlciBhIF9yZWFkLCB0aGVuIGNhbGwgX3JlYWQuXG4gIC8vIE5vdGUgdGhhdCB0aGlzIG1heSBiZSBhc3luY2hyb25vdXMsIG9yIHN5bmNocm9ub3VzLiAgWWVzLCBpdCBpc1xuICAvLyBkZWVwbHkgdWdseSB0byB3cml0ZSBBUElzIHRoaXMgd2F5LCBidXQgdGhhdCBzdGlsbCBkb2Vzbid0IG1lYW5cbiAgLy8gdGhhdCB0aGUgUmVhZGFibGUgY2xhc3Mgc2hvdWxkIGJlaGF2ZSBpbXByb3Blcmx5LCBhcyBzdHJlYW1zIGFyZVxuICAvLyBkZXNpZ25lZCB0byBiZSBzeW5jL2FzeW5jIGFnbm9zdGljLlxuICAvLyBUYWtlIG5vdGUgaWYgdGhlIF9yZWFkIGNhbGwgaXMgc3luYyBvciBhc3luYyAoaWUsIGlmIHRoZSByZWFkIGNhbGxcbiAgLy8gaGFzIHJldHVybmVkIHlldCksIHNvIHRoYXQgd2Uga25vdyB3aGV0aGVyIG9yIG5vdCBpdCdzIHNhZmUgdG8gZW1pdFxuICAvLyAncmVhZGFibGUnIGV0Yy5cbiAgLy9cbiAgLy8gMy4gQWN0dWFsbHkgcHVsbCB0aGUgcmVxdWVzdGVkIGNodW5rcyBvdXQgb2YgdGhlIGJ1ZmZlciBhbmQgcmV0dXJuLlxuXG4gIC8vIGlmIHdlIG5lZWQgYSByZWFkYWJsZSBldmVudCwgdGhlbiB3ZSBuZWVkIHRvIGRvIHNvbWUgcmVhZGluZy5cbiAgdmFyIGRvUmVhZCA9IHN0YXRlLm5lZWRSZWFkYWJsZTtcbiAgZGVidWcoJ25lZWQgcmVhZGFibGUnLCBkb1JlYWQpO1xuXG4gIC8vIGlmIHdlIGN1cnJlbnRseSBoYXZlIGxlc3MgdGhhbiB0aGUgaGlnaFdhdGVyTWFyaywgdGhlbiBhbHNvIHJlYWQgc29tZVxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwIHx8IHN0YXRlLmxlbmd0aCAtIG4gPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgZG9SZWFkID0gdHJ1ZTtcbiAgICBkZWJ1ZygnbGVuZ3RoIGxlc3MgdGhhbiB3YXRlcm1hcmsnLCBkb1JlYWQpO1xuICB9XG5cbiAgLy8gaG93ZXZlciwgaWYgd2UndmUgZW5kZWQsIHRoZW4gdGhlcmUncyBubyBwb2ludCwgYW5kIGlmIHdlJ3JlIGFscmVhZHlcbiAgLy8gcmVhZGluZywgdGhlbiBpdCdzIHVubmVjZXNzYXJ5LlxuICBpZiAoc3RhdGUuZW5kZWQgfHwgc3RhdGUucmVhZGluZykge1xuICAgIGRvUmVhZCA9IGZhbHNlO1xuICAgIGRlYnVnKCdyZWFkaW5nIG9yIGVuZGVkJywgZG9SZWFkKTtcbiAgfVxuXG4gIGlmIChkb1JlYWQpIHtcbiAgICBkZWJ1ZygnZG8gcmVhZCcpO1xuICAgIHN0YXRlLnJlYWRpbmcgPSB0cnVlO1xuICAgIHN0YXRlLnN5bmMgPSB0cnVlO1xuICAgIC8vIGlmIHRoZSBsZW5ndGggaXMgY3VycmVudGx5IHplcm8sIHRoZW4gd2UgKm5lZWQqIGEgcmVhZGFibGUgZXZlbnQuXG4gICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMClcbiAgICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgLy8gY2FsbCBpbnRlcm5hbCByZWFkIG1ldGhvZFxuICAgIHRoaXMuX3JlYWQoc3RhdGUuaGlnaFdhdGVyTWFyayk7XG4gICAgc3RhdGUuc3luYyA9IGZhbHNlO1xuICB9XG5cbiAgLy8gSWYgX3JlYWQgcHVzaGVkIGRhdGEgc3luY2hyb25vdXNseSwgdGhlbiBgcmVhZGluZ2Agd2lsbCBiZSBmYWxzZSxcbiAgLy8gYW5kIHdlIG5lZWQgdG8gcmUtZXZhbHVhdGUgaG93IG11Y2ggZGF0YSB3ZSBjYW4gcmV0dXJuIHRvIHRoZSB1c2VyLlxuICBpZiAoZG9SZWFkICYmICFzdGF0ZS5yZWFkaW5nKVxuICAgIG4gPSBob3dNdWNoVG9SZWFkKG5PcmlnLCBzdGF0ZSk7XG5cbiAgdmFyIHJldDtcbiAgaWYgKG4gPiAwKVxuICAgIHJldCA9IGZyb21MaXN0KG4sIHN0YXRlKTtcbiAgZWxzZVxuICAgIHJldCA9IG51bGw7XG5cbiAgaWYgKHJldCA9PT0gbnVsbCkge1xuICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgbiA9IDA7XG4gIH1cblxuICBzdGF0ZS5sZW5ndGggLT0gbjtcblxuICAvLyBJZiB3ZSBoYXZlIG5vdGhpbmcgaW4gdGhlIGJ1ZmZlciwgdGhlbiB3ZSB3YW50IHRvIGtub3dcbiAgLy8gYXMgc29vbiBhcyB3ZSAqZG8qIGdldCBzb21ldGhpbmcgaW50byB0aGUgYnVmZmVyLlxuICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmICFzdGF0ZS5lbmRlZClcbiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlO1xuXG4gIC8vIElmIHdlIHRyaWVkIHRvIHJlYWQoKSBwYXN0IHRoZSBFT0YsIHRoZW4gZW1pdCBlbmQgb24gdGhlIG5leHQgdGljay5cbiAgaWYgKG5PcmlnICE9PSBuICYmIHN0YXRlLmVuZGVkICYmIHN0YXRlLmxlbmd0aCA9PT0gMClcbiAgICBlbmRSZWFkYWJsZSh0aGlzKTtcblxuICBpZiAocmV0ICE9PSBudWxsKVxuICAgIHRoaXMuZW1pdCgnZGF0YScsIHJldCk7XG5cbiAgcmV0dXJuIHJldDtcbn07XG5cbmZ1bmN0aW9uIGNodW5rSW52YWxpZChzdGF0ZSwgY2h1bmspIHtcbiAgdmFyIGVyID0gbnVsbDtcbiAgaWYgKCEoQnVmZmVyLmlzQnVmZmVyKGNodW5rKSkgJiZcbiAgICAgIHR5cGVvZiBjaHVuayAhPT0gJ3N0cmluZycgJiZcbiAgICAgIGNodW5rICE9PSBudWxsICYmXG4gICAgICBjaHVuayAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAhc3RhdGUub2JqZWN0TW9kZSkge1xuICAgIGVyID0gbmV3IFR5cGVFcnJvcignSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVuaycpO1xuICB9XG4gIHJldHVybiBlcjtcbn1cblxuXG5mdW5jdGlvbiBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmVuZGVkKSByZXR1cm47XG4gIGlmIChzdGF0ZS5kZWNvZGVyKSB7XG4gICAgdmFyIGNodW5rID0gc3RhdGUuZGVjb2Rlci5lbmQoKTtcbiAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5idWZmZXIucHVzaChjaHVuayk7XG4gICAgICBzdGF0ZS5sZW5ndGggKz0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG4gICAgfVxuICB9XG4gIHN0YXRlLmVuZGVkID0gdHJ1ZTtcblxuICAvLyBlbWl0ICdyZWFkYWJsZScgbm93IHRvIG1ha2Ugc3VyZSBpdCBnZXRzIHBpY2tlZCB1cC5cbiAgZW1pdFJlYWRhYmxlKHN0cmVhbSk7XG59XG5cbi8vIERvbid0IGVtaXQgcmVhZGFibGUgcmlnaHQgYXdheSBpbiBzeW5jIG1vZGUsIGJlY2F1c2UgdGhpcyBjYW4gdHJpZ2dlclxuLy8gYW5vdGhlciByZWFkKCkgY2FsbCA9PiBzdGFjayBvdmVyZmxvdy4gIFRoaXMgd2F5LCBpdCBtaWdodCB0cmlnZ2VyXG4vLyBhIG5leHRUaWNrIHJlY3Vyc2lvbiB3YXJuaW5nLCBidXQgdGhhdCdzIG5vdCBzbyBiYWQuXG5mdW5jdGlvbiBlbWl0UmVhZGFibGUoc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgc3RhdGUubmVlZFJlYWRhYmxlID0gZmFsc2U7XG4gIGlmICghc3RhdGUuZW1pdHRlZFJlYWRhYmxlKSB7XG4gICAgZGVidWcoJ2VtaXRSZWFkYWJsZScsIHN0YXRlLmZsb3dpbmcpO1xuICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IHRydWU7XG4gICAgaWYgKHN0YXRlLnN5bmMpXG4gICAgICBwcm9jZXNzTmV4dFRpY2soZW1pdFJlYWRhYmxlXywgc3RyZWFtKTtcbiAgICBlbHNlXG4gICAgICBlbWl0UmVhZGFibGVfKHN0cmVhbSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZW1pdFJlYWRhYmxlXyhzdHJlYW0pIHtcbiAgZGVidWcoJ2VtaXQgcmVhZGFibGUnKTtcbiAgc3RyZWFtLmVtaXQoJ3JlYWRhYmxlJyk7XG4gIGZsb3coc3RyZWFtKTtcbn1cblxuXG4vLyBhdCB0aGlzIHBvaW50LCB0aGUgdXNlciBoYXMgcHJlc3VtYWJseSBzZWVuIHRoZSAncmVhZGFibGUnIGV2ZW50LFxuLy8gYW5kIGNhbGxlZCByZWFkKCkgdG8gY29uc3VtZSBzb21lIGRhdGEuICB0aGF0IG1heSBoYXZlIHRyaWdnZXJlZFxuLy8gaW4gdHVybiBhbm90aGVyIF9yZWFkKG4pIGNhbGwsIGluIHdoaWNoIGNhc2UgcmVhZGluZyA9IHRydWUgaWZcbi8vIGl0J3MgaW4gcHJvZ3Jlc3MuXG4vLyBIb3dldmVyLCBpZiB3ZSdyZSBub3QgZW5kZWQsIG9yIHJlYWRpbmcsIGFuZCB0aGUgbGVuZ3RoIDwgaHdtLFxuLy8gdGhlbiBnbyBhaGVhZCBhbmQgdHJ5IHRvIHJlYWQgc29tZSBtb3JlIHByZWVtcHRpdmVseS5cbmZ1bmN0aW9uIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlYWRpbmdNb3JlKSB7XG4gICAgc3RhdGUucmVhZGluZ01vcmUgPSB0cnVlO1xuICAgIHByb2Nlc3NOZXh0VGljayhtYXliZVJlYWRNb3JlXywgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWF5YmVSZWFkTW9yZV8oc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgbGVuID0gc3RhdGUubGVuZ3RoO1xuICB3aGlsZSAoIXN0YXRlLnJlYWRpbmcgJiYgIXN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLmVuZGVkICYmXG4gICAgICAgICBzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7XG4gICAgZGVidWcoJ21heWJlUmVhZE1vcmUgcmVhZCAwJyk7XG4gICAgc3RyZWFtLnJlYWQoMCk7XG4gICAgaWYgKGxlbiA9PT0gc3RhdGUubGVuZ3RoKVxuICAgICAgLy8gZGlkbid0IGdldCBhbnkgZGF0YSwgc3RvcCBzcGlubmluZy5cbiAgICAgIGJyZWFrO1xuICAgIGVsc2VcbiAgICAgIGxlbiA9IHN0YXRlLmxlbmd0aDtcbiAgfVxuICBzdGF0ZS5yZWFkaW5nTW9yZSA9IGZhbHNlO1xufVxuXG4vLyBhYnN0cmFjdCBtZXRob2QuICB0byBiZSBvdmVycmlkZGVuIGluIHNwZWNpZmljIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuXG4vLyBjYWxsIGNiKGVyLCBkYXRhKSB3aGVyZSBkYXRhIGlzIDw9IG4gaW4gbGVuZ3RoLlxuLy8gZm9yIHZpcnR1YWwgKG5vbi1zdHJpbmcsIG5vbi1idWZmZXIpIHN0cmVhbXMsIFwibGVuZ3RoXCIgaXMgc29tZXdoYXRcbi8vIGFyYml0cmFyeSwgYW5kIHBlcmhhcHMgbm90IHZlcnkgbWVhbmluZ2Z1bC5cblJlYWRhYmxlLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uKG4pIHtcbiAgdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJykpO1xufTtcblxuUmVhZGFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbihkZXN0LCBwaXBlT3B0cykge1xuICB2YXIgc3JjID0gdGhpcztcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcblxuICBzd2l0Y2ggKHN0YXRlLnBpcGVzQ291bnQpIHtcbiAgICBjYXNlIDA6XG4gICAgICBzdGF0ZS5waXBlcyA9IGRlc3Q7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDE6XG4gICAgICBzdGF0ZS5waXBlcyA9IFtzdGF0ZS5waXBlcywgZGVzdF07XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgc3RhdGUucGlwZXMucHVzaChkZXN0KTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIHN0YXRlLnBpcGVzQ291bnQgKz0gMTtcbiAgZGVidWcoJ3BpcGUgY291bnQ9JWQgb3B0cz0laicsIHN0YXRlLnBpcGVzQ291bnQsIHBpcGVPcHRzKTtcblxuICB2YXIgZG9FbmQgPSAoIXBpcGVPcHRzIHx8IHBpcGVPcHRzLmVuZCAhPT0gZmFsc2UpICYmXG4gICAgICAgICAgICAgIGRlc3QgIT09IHByb2Nlc3Muc3Rkb3V0ICYmXG4gICAgICAgICAgICAgIGRlc3QgIT09IHByb2Nlc3Muc3RkZXJyO1xuXG4gIHZhciBlbmRGbiA9IGRvRW5kID8gb25lbmQgOiBjbGVhbnVwO1xuICBpZiAoc3RhdGUuZW5kRW1pdHRlZClcbiAgICBwcm9jZXNzTmV4dFRpY2soZW5kRm4pO1xuICBlbHNlXG4gICAgc3JjLm9uY2UoJ2VuZCcsIGVuZEZuKTtcblxuICBkZXN0Lm9uKCd1bnBpcGUnLCBvbnVucGlwZSk7XG4gIGZ1bmN0aW9uIG9udW5waXBlKHJlYWRhYmxlKSB7XG4gICAgZGVidWcoJ29udW5waXBlJyk7XG4gICAgaWYgKHJlYWRhYmxlID09PSBzcmMpIHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbmVuZCgpIHtcbiAgICBkZWJ1Zygnb25lbmQnKTtcbiAgICBkZXN0LmVuZCgpO1xuICB9XG5cbiAgLy8gd2hlbiB0aGUgZGVzdCBkcmFpbnMsIGl0IHJlZHVjZXMgdGhlIGF3YWl0RHJhaW4gY291bnRlclxuICAvLyBvbiB0aGUgc291cmNlLiAgVGhpcyB3b3VsZCBiZSBtb3JlIGVsZWdhbnQgd2l0aCBhIC5vbmNlKClcbiAgLy8gaGFuZGxlciBpbiBmbG93KCksIGJ1dCBhZGRpbmcgYW5kIHJlbW92aW5nIHJlcGVhdGVkbHkgaXNcbiAgLy8gdG9vIHNsb3cuXG4gIHZhciBvbmRyYWluID0gcGlwZU9uRHJhaW4oc3JjKTtcbiAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTtcblxuICB2YXIgY2xlYW5lZFVwID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgZGVidWcoJ2NsZWFudXAnKTtcbiAgICAvLyBjbGVhbnVwIGV2ZW50IGhhbmRsZXJzIG9uY2UgdGhlIHBpcGUgaXMgYnJva2VuXG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBvbmNsb3NlKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZHJhaW4nLCBvbmRyYWluKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ3VucGlwZScsIG9udW5waXBlKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIG9uZW5kKTtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIGNsZWFudXApO1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uZGF0YSk7XG5cbiAgICBjbGVhbmVkVXAgPSB0cnVlO1xuXG4gICAgLy8gaWYgdGhlIHJlYWRlciBpcyB3YWl0aW5nIGZvciBhIGRyYWluIGV2ZW50IGZyb20gdGhpc1xuICAgIC8vIHNwZWNpZmljIHdyaXRlciwgdGhlbiBpdCB3b3VsZCBjYXVzZSBpdCB0byBuZXZlciBzdGFydFxuICAgIC8vIGZsb3dpbmcgYWdhaW4uXG4gICAgLy8gU28sIGlmIHRoaXMgaXMgYXdhaXRpbmcgYSBkcmFpbiwgdGhlbiB3ZSBqdXN0IGNhbGwgaXQgbm93LlxuICAgIC8vIElmIHdlIGRvbid0IGtub3csIHRoZW4gYXNzdW1lIHRoYXQgd2UgYXJlIHdhaXRpbmcgZm9yIG9uZS5cbiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiAmJlxuICAgICAgICAoIWRlc3QuX3dyaXRhYmxlU3RhdGUgfHwgZGVzdC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pKVxuICAgICAgb25kcmFpbigpO1xuICB9XG5cbiAgc3JjLm9uKCdkYXRhJywgb25kYXRhKTtcbiAgZnVuY3Rpb24gb25kYXRhKGNodW5rKSB7XG4gICAgZGVidWcoJ29uZGF0YScpO1xuICAgIHZhciByZXQgPSBkZXN0LndyaXRlKGNodW5rKTtcbiAgICBpZiAoZmFsc2UgPT09IHJldCkge1xuICAgICAgLy8gSWYgdGhlIHVzZXIgdW5waXBlZCBkdXJpbmcgYGRlc3Qud3JpdGUoKWAsIGl0IGlzIHBvc3NpYmxlXG4gICAgICAvLyB0byBnZXQgc3R1Y2sgaW4gYSBwZXJtYW5lbnRseSBwYXVzZWQgc3RhdGUgaWYgdGhhdCB3cml0ZVxuICAgICAgLy8gYWxzbyByZXR1cm5lZCBmYWxzZS5cbiAgICAgIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAxICYmXG4gICAgICAgICAgc3RhdGUucGlwZXNbMF0gPT09IGRlc3QgJiZcbiAgICAgICAgICBzcmMubGlzdGVuZXJDb3VudCgnZGF0YScpID09PSAxICYmXG4gICAgICAgICAgIWNsZWFuZWRVcCkge1xuICAgICAgICBkZWJ1ZygnZmFsc2Ugd3JpdGUgcmVzcG9uc2UsIHBhdXNlJywgc3JjLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4pO1xuICAgICAgICBzcmMuX3JlYWRhYmxlU3RhdGUuYXdhaXREcmFpbisrO1xuICAgICAgfVxuICAgICAgc3JjLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIGRlc3QgaGFzIGFuIGVycm9yLCB0aGVuIHN0b3AgcGlwaW5nIGludG8gaXQuXG4gIC8vIGhvd2V2ZXIsIGRvbid0IHN1cHByZXNzIHRoZSB0aHJvd2luZyBiZWhhdmlvciBmb3IgdGhpcy5cbiAgZnVuY3Rpb24gb25lcnJvcihlcikge1xuICAgIGRlYnVnKCdvbmVycm9yJywgZXIpO1xuICAgIHVucGlwZSgpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG4gICAgaWYgKEVFbGlzdGVuZXJDb3VudChkZXN0LCAnZXJyb3InKSA9PT0gMClcbiAgICAgIGRlc3QuZW1pdCgnZXJyb3InLCBlcik7XG4gIH1cbiAgLy8gVGhpcyBpcyBhIGJydXRhbGx5IHVnbHkgaGFjayB0byBtYWtlIHN1cmUgdGhhdCBvdXIgZXJyb3IgaGFuZGxlclxuICAvLyBpcyBhdHRhY2hlZCBiZWZvcmUgYW55IHVzZXJsYW5kIG9uZXMuICBORVZFUiBETyBUSElTLlxuICBpZiAoIWRlc3QuX2V2ZW50cyB8fCAhZGVzdC5fZXZlbnRzLmVycm9yKVxuICAgIGRlc3Qub24oJ2Vycm9yJywgb25lcnJvcik7XG4gIGVsc2UgaWYgKGlzQXJyYXkoZGVzdC5fZXZlbnRzLmVycm9yKSlcbiAgICBkZXN0Ll9ldmVudHMuZXJyb3IudW5zaGlmdChvbmVycm9yKTtcbiAgZWxzZVxuICAgIGRlc3QuX2V2ZW50cy5lcnJvciA9IFtvbmVycm9yLCBkZXN0Ll9ldmVudHMuZXJyb3JdO1xuXG5cbiAgLy8gQm90aCBjbG9zZSBhbmQgZmluaXNoIHNob3VsZCB0cmlnZ2VyIHVucGlwZSwgYnV0IG9ubHkgb25jZS5cbiAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7XG4gICAgdW5waXBlKCk7XG4gIH1cbiAgZGVzdC5vbmNlKCdjbG9zZScsIG9uY2xvc2UpO1xuICBmdW5jdGlvbiBvbmZpbmlzaCgpIHtcbiAgICBkZWJ1Zygnb25maW5pc2gnKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuICAgIHVucGlwZSgpO1xuICB9XG4gIGRlc3Qub25jZSgnZmluaXNoJywgb25maW5pc2gpO1xuXG4gIGZ1bmN0aW9uIHVucGlwZSgpIHtcbiAgICBkZWJ1ZygndW5waXBlJyk7XG4gICAgc3JjLnVucGlwZShkZXN0KTtcbiAgfVxuXG4gIC8vIHRlbGwgdGhlIGRlc3QgdGhhdCBpdCdzIGJlaW5nIHBpcGVkIHRvXG4gIGRlc3QuZW1pdCgncGlwZScsIHNyYyk7XG5cbiAgLy8gc3RhcnQgdGhlIGZsb3cgaWYgaXQgaGFzbid0IGJlZW4gc3RhcnRlZCBhbHJlYWR5LlxuICBpZiAoIXN0YXRlLmZsb3dpbmcpIHtcbiAgICBkZWJ1ZygncGlwZSByZXN1bWUnKTtcbiAgICBzcmMucmVzdW1lKCk7XG4gIH1cblxuICByZXR1cm4gZGVzdDtcbn07XG5cbmZ1bmN0aW9uIHBpcGVPbkRyYWluKHNyYykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXRlID0gc3JjLl9yZWFkYWJsZVN0YXRlO1xuICAgIGRlYnVnKCdwaXBlT25EcmFpbicsIHN0YXRlLmF3YWl0RHJhaW4pO1xuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluKVxuICAgICAgc3RhdGUuYXdhaXREcmFpbi0tO1xuICAgIGlmIChzdGF0ZS5hd2FpdERyYWluID09PSAwICYmIEVFbGlzdGVuZXJDb3VudChzcmMsICdkYXRhJykpIHtcbiAgICAgIHN0YXRlLmZsb3dpbmcgPSB0cnVlO1xuICAgICAgZmxvdyhzcmMpO1xuICAgIH1cbiAgfTtcbn1cblxuXG5SZWFkYWJsZS5wcm90b3R5cGUudW5waXBlID0gZnVuY3Rpb24oZGVzdCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuXG4gIC8vIGlmIHdlJ3JlIG5vdCBwaXBpbmcgYW55d2hlcmUsIHRoZW4gZG8gbm90aGluZy5cbiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDApXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8ganVzdCBvbmUgZGVzdGluYXRpb24uICBtb3N0IGNvbW1vbiBjYXNlLlxuICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMSkge1xuICAgIC8vIHBhc3NlZCBpbiBvbmUsIGJ1dCBpdCdzIG5vdCB0aGUgcmlnaHQgb25lLlxuICAgIGlmIChkZXN0ICYmIGRlc3QgIT09IHN0YXRlLnBpcGVzKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAoIWRlc3QpXG4gICAgICBkZXN0ID0gc3RhdGUucGlwZXM7XG5cbiAgICAvLyBnb3QgYSBtYXRjaC5cbiAgICBzdGF0ZS5waXBlcyA9IG51bGw7XG4gICAgc3RhdGUucGlwZXNDb3VudCA9IDA7XG4gICAgc3RhdGUuZmxvd2luZyA9IGZhbHNlO1xuICAgIGlmIChkZXN0KVxuICAgICAgZGVzdC5lbWl0KCd1bnBpcGUnLCB0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHNsb3cgY2FzZS4gbXVsdGlwbGUgcGlwZSBkZXN0aW5hdGlvbnMuXG5cbiAgaWYgKCFkZXN0KSB7XG4gICAgLy8gcmVtb3ZlIGFsbC5cbiAgICB2YXIgZGVzdHMgPSBzdGF0ZS5waXBlcztcbiAgICB2YXIgbGVuID0gc3RhdGUucGlwZXNDb3VudDtcbiAgICBzdGF0ZS5waXBlcyA9IG51bGw7XG4gICAgc3RhdGUucGlwZXNDb3VudCA9IDA7XG4gICAgc3RhdGUuZmxvd2luZyA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGRlc3RzW2ldLmVtaXQoJ3VucGlwZScsIHRoaXMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gdHJ5IHRvIGZpbmQgdGhlIHJpZ2h0IG9uZS5cbiAgdmFyIGkgPSBpbmRleE9mKHN0YXRlLnBpcGVzLCBkZXN0KTtcbiAgaWYgKGkgPT09IC0xKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIHN0YXRlLnBpcGVzLnNwbGljZShpLCAxKTtcbiAgc3RhdGUucGlwZXNDb3VudCAtPSAxO1xuICBpZiAoc3RhdGUucGlwZXNDb3VudCA9PT0gMSlcbiAgICBzdGF0ZS5waXBlcyA9IHN0YXRlLnBpcGVzWzBdO1xuXG4gIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBzZXQgdXAgZGF0YSBldmVudHMgaWYgdGhleSBhcmUgYXNrZWQgZm9yXG4vLyBFbnN1cmUgcmVhZGFibGUgbGlzdGVuZXJzIGV2ZW50dWFsbHkgZ2V0IHNvbWV0aGluZ1xuUmVhZGFibGUucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZXYsIGZuKSB7XG4gIHZhciByZXMgPSBTdHJlYW0ucHJvdG90eXBlLm9uLmNhbGwodGhpcywgZXYsIGZuKTtcblxuICAvLyBJZiBsaXN0ZW5pbmcgdG8gZGF0YSwgYW5kIGl0IGhhcyBub3QgZXhwbGljaXRseSBiZWVuIHBhdXNlZCxcbiAgLy8gdGhlbiBjYWxsIHJlc3VtZSB0byBzdGFydCB0aGUgZmxvdyBvZiBkYXRhIG9uIHRoZSBuZXh0IHRpY2suXG4gIGlmIChldiA9PT0gJ2RhdGEnICYmIGZhbHNlICE9PSB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpIHtcbiAgICB0aGlzLnJlc3VtZSgpO1xuICB9XG5cbiAgaWYgKGV2ID09PSAncmVhZGFibGUnICYmIHRoaXMucmVhZGFibGUpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlO1xuICAgIGlmICghc3RhdGUucmVhZGFibGVMaXN0ZW5pbmcpIHtcbiAgICAgIHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nID0gdHJ1ZTtcbiAgICAgIHN0YXRlLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlO1xuICAgICAgc3RhdGUubmVlZFJlYWRhYmxlID0gdHJ1ZTtcbiAgICAgIGlmICghc3RhdGUucmVhZGluZykge1xuICAgICAgICBwcm9jZXNzTmV4dFRpY2soblJlYWRpbmdOZXh0VGljaywgdGhpcyk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmxlbmd0aCkge1xuICAgICAgICBlbWl0UmVhZGFibGUodGhpcywgc3RhdGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuUmVhZGFibGUucHJvdG90eXBlLmFkZExpc3RlbmVyID0gUmVhZGFibGUucHJvdG90eXBlLm9uO1xuXG5mdW5jdGlvbiBuUmVhZGluZ05leHRUaWNrKHNlbGYpIHtcbiAgZGVidWcoJ3JlYWRhYmxlIG5leHR0aWNrIHJlYWQgMCcpO1xuICBzZWxmLnJlYWQoMCk7XG59XG5cbi8vIHBhdXNlKCkgYW5kIHJlc3VtZSgpIGFyZSByZW1uYW50cyBvZiB0aGUgbGVnYWN5IHJlYWRhYmxlIHN0cmVhbSBBUElcbi8vIElmIHRoZSB1c2VyIHVzZXMgdGhlbSwgdGhlbiBzd2l0Y2ggaW50byBvbGQgbW9kZS5cblJlYWRhYmxlLnByb3RvdHlwZS5yZXN1bWUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgaWYgKCFzdGF0ZS5mbG93aW5nKSB7XG4gICAgZGVidWcoJ3Jlc3VtZScpO1xuICAgIHN0YXRlLmZsb3dpbmcgPSB0cnVlO1xuICAgIHJlc3VtZSh0aGlzLCBzdGF0ZSk7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiByZXN1bWUoc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlc3VtZVNjaGVkdWxlZCkge1xuICAgIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IHRydWU7XG4gICAgcHJvY2Vzc05leHRUaWNrKHJlc3VtZV8sIHN0cmVhbSwgc3RhdGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc3VtZV8oc3RyZWFtLCBzdGF0ZSkge1xuICBpZiAoIXN0YXRlLnJlYWRpbmcpIHtcbiAgICBkZWJ1ZygncmVzdW1lIHJlYWQgMCcpO1xuICAgIHN0cmVhbS5yZWFkKDApO1xuICB9XG5cbiAgc3RhdGUucmVzdW1lU2NoZWR1bGVkID0gZmFsc2U7XG4gIHN0cmVhbS5lbWl0KCdyZXN1bWUnKTtcbiAgZmxvdyhzdHJlYW0pO1xuICBpZiAoc3RhdGUuZmxvd2luZyAmJiAhc3RhdGUucmVhZGluZylcbiAgICBzdHJlYW0ucmVhZCgwKTtcbn1cblxuUmVhZGFibGUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gIGRlYnVnKCdjYWxsIHBhdXNlIGZsb3dpbmc9JWonLCB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpO1xuICBpZiAoZmFsc2UgIT09IHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZykge1xuICAgIGRlYnVnKCdwYXVzZScpO1xuICAgIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdCgncGF1c2UnKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIGZsb3coc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgZGVidWcoJ2Zsb3cnLCBzdGF0ZS5mbG93aW5nKTtcbiAgaWYgKHN0YXRlLmZsb3dpbmcpIHtcbiAgICBkbyB7XG4gICAgICB2YXIgY2h1bmsgPSBzdHJlYW0ucmVhZCgpO1xuICAgIH0gd2hpbGUgKG51bGwgIT09IGNodW5rICYmIHN0YXRlLmZsb3dpbmcpO1xuICB9XG59XG5cbi8vIHdyYXAgYW4gb2xkLXN0eWxlIHN0cmVhbSBhcyB0aGUgYXN5bmMgZGF0YSBzb3VyY2UuXG4vLyBUaGlzIGlzICpub3QqIHBhcnQgb2YgdGhlIHJlYWRhYmxlIHN0cmVhbSBpbnRlcmZhY2UuXG4vLyBJdCBpcyBhbiB1Z2x5IHVuZm9ydHVuYXRlIG1lc3Mgb2YgaGlzdG9yeS5cblJlYWRhYmxlLnByb3RvdHlwZS53cmFwID0gZnVuY3Rpb24oc3RyZWFtKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7XG4gIHZhciBwYXVzZWQgPSBmYWxzZTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHN0cmVhbS5vbignZW5kJywgZnVuY3Rpb24oKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgZW5kJyk7XG4gICAgaWYgKHN0YXRlLmRlY29kZXIgJiYgIXN0YXRlLmVuZGVkKSB7XG4gICAgICB2YXIgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLmVuZCgpO1xuICAgICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aClcbiAgICAgICAgc2VsZi5wdXNoKGNodW5rKTtcbiAgICB9XG5cbiAgICBzZWxmLnB1c2gobnVsbCk7XG4gIH0pO1xuXG4gIHN0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgZGF0YScpO1xuICAgIGlmIChzdGF0ZS5kZWNvZGVyKVxuICAgICAgY2h1bmsgPSBzdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKTtcblxuICAgIC8vIGRvbid0IHNraXAgb3ZlciBmYWxzeSB2YWx1ZXMgaW4gb2JqZWN0TW9kZVxuICAgIGlmIChzdGF0ZS5vYmplY3RNb2RlICYmIChjaHVuayA9PT0gbnVsbCB8fCBjaHVuayA9PT0gdW5kZWZpbmVkKSlcbiAgICAgIHJldHVybjtcbiAgICBlbHNlIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiAoIWNodW5rIHx8ICFjaHVuay5sZW5ndGgpKVxuICAgICAgcmV0dXJuO1xuXG4gICAgdmFyIHJldCA9IHNlbGYucHVzaChjaHVuayk7XG4gICAgaWYgKCFyZXQpIHtcbiAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgICBzdHJlYW0ucGF1c2UoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHByb3h5IGFsbCB0aGUgb3RoZXIgbWV0aG9kcy5cbiAgLy8gaW1wb3J0YW50IHdoZW4gd3JhcHBpbmcgZmlsdGVycyBhbmQgZHVwbGV4ZXMuXG4gIGZvciAodmFyIGkgaW4gc3RyZWFtKSB7XG4gICAgaWYgKHRoaXNbaV0gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc3RyZWFtW2ldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW2ldID0gZnVuY3Rpb24obWV0aG9kKSB7IHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHN0cmVhbVttZXRob2RdLmFwcGx5KHN0cmVhbSwgYXJndW1lbnRzKTtcbiAgICAgIH07IH0oaSk7XG4gICAgfVxuICB9XG5cbiAgLy8gcHJveHkgY2VydGFpbiBpbXBvcnRhbnQgZXZlbnRzLlxuICB2YXIgZXZlbnRzID0gWydlcnJvcicsICdjbG9zZScsICdkZXN0cm95JywgJ3BhdXNlJywgJ3Jlc3VtZSddO1xuICBmb3JFYWNoKGV2ZW50cywgZnVuY3Rpb24oZXYpIHtcbiAgICBzdHJlYW0ub24oZXYsIHNlbGYuZW1pdC5iaW5kKHNlbGYsIGV2KSk7XG4gIH0pO1xuXG4gIC8vIHdoZW4gd2UgdHJ5IHRvIGNvbnN1bWUgc29tZSBtb3JlIGJ5dGVzLCBzaW1wbHkgdW5wYXVzZSB0aGVcbiAgLy8gdW5kZXJseWluZyBzdHJlYW0uXG4gIHNlbGYuX3JlYWQgPSBmdW5jdGlvbihuKSB7XG4gICAgZGVidWcoJ3dyYXBwZWQgX3JlYWQnLCBuKTtcbiAgICBpZiAocGF1c2VkKSB7XG4gICAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICAgIHN0cmVhbS5yZXN1bWUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHNlbGY7XG59O1xuXG5cbi8vIGV4cG9zZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMgb25seS5cblJlYWRhYmxlLl9mcm9tTGlzdCA9IGZyb21MaXN0O1xuXG4vLyBQbHVjayBvZmYgbiBieXRlcyBmcm9tIGFuIGFycmF5IG9mIGJ1ZmZlcnMuXG4vLyBMZW5ndGggaXMgdGhlIGNvbWJpbmVkIGxlbmd0aHMgb2YgYWxsIHRoZSBidWZmZXJzIGluIHRoZSBsaXN0LlxuZnVuY3Rpb24gZnJvbUxpc3Qobiwgc3RhdGUpIHtcbiAgdmFyIGxpc3QgPSBzdGF0ZS5idWZmZXI7XG4gIHZhciBsZW5ndGggPSBzdGF0ZS5sZW5ndGg7XG4gIHZhciBzdHJpbmdNb2RlID0gISFzdGF0ZS5kZWNvZGVyO1xuICB2YXIgb2JqZWN0TW9kZSA9ICEhc3RhdGUub2JqZWN0TW9kZTtcbiAgdmFyIHJldDtcblxuICAvLyBub3RoaW5nIGluIHRoZSBsaXN0LCBkZWZpbml0ZWx5IGVtcHR5LlxuICBpZiAobGlzdC5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuIG51bGw7XG5cbiAgaWYgKGxlbmd0aCA9PT0gMClcbiAgICByZXQgPSBudWxsO1xuICBlbHNlIGlmIChvYmplY3RNb2RlKVxuICAgIHJldCA9IGxpc3Quc2hpZnQoKTtcbiAgZWxzZSBpZiAoIW4gfHwgbiA+PSBsZW5ndGgpIHtcbiAgICAvLyByZWFkIGl0IGFsbCwgdHJ1bmNhdGUgdGhlIGFycmF5LlxuICAgIGlmIChzdHJpbmdNb2RlKVxuICAgICAgcmV0ID0gbGlzdC5qb2luKCcnKTtcbiAgICBlbHNlIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgIHJldCA9IGxpc3RbMF07XG4gICAgZWxzZVxuICAgICAgcmV0ID0gQnVmZmVyLmNvbmNhdChsaXN0LCBsZW5ndGgpO1xuICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyByZWFkIGp1c3Qgc29tZSBvZiBpdC5cbiAgICBpZiAobiA8IGxpc3RbMF0ubGVuZ3RoKSB7XG4gICAgICAvLyBqdXN0IHRha2UgYSBwYXJ0IG9mIHRoZSBmaXJzdCBsaXN0IGl0ZW0uXG4gICAgICAvLyBzbGljZSBpcyB0aGUgc2FtZSBmb3IgYnVmZmVycyBhbmQgc3RyaW5ncy5cbiAgICAgIHZhciBidWYgPSBsaXN0WzBdO1xuICAgICAgcmV0ID0gYnVmLnNsaWNlKDAsIG4pO1xuICAgICAgbGlzdFswXSA9IGJ1Zi5zbGljZShuKTtcbiAgICB9IGVsc2UgaWYgKG4gPT09IGxpc3RbMF0ubGVuZ3RoKSB7XG4gICAgICAvLyBmaXJzdCBsaXN0IGlzIGEgcGVyZmVjdCBtYXRjaFxuICAgICAgcmV0ID0gbGlzdC5zaGlmdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBjb21wbGV4IGNhc2UuXG4gICAgICAvLyB3ZSBoYXZlIGVub3VnaCB0byBjb3ZlciBpdCwgYnV0IGl0IHNwYW5zIHBhc3QgdGhlIGZpcnN0IGJ1ZmZlci5cbiAgICAgIGlmIChzdHJpbmdNb2RlKVxuICAgICAgICByZXQgPSAnJztcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0ID0gbmV3IEJ1ZmZlcihuKTtcblxuICAgICAgdmFyIGMgPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBsaXN0Lmxlbmd0aDsgaSA8IGwgJiYgYyA8IG47IGkrKykge1xuICAgICAgICB2YXIgYnVmID0gbGlzdFswXTtcbiAgICAgICAgdmFyIGNweSA9IE1hdGgubWluKG4gLSBjLCBidWYubGVuZ3RoKTtcblxuICAgICAgICBpZiAoc3RyaW5nTW9kZSlcbiAgICAgICAgICByZXQgKz0gYnVmLnNsaWNlKDAsIGNweSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBidWYuY29weShyZXQsIGMsIDAsIGNweSk7XG5cbiAgICAgICAgaWYgKGNweSA8IGJ1Zi5sZW5ndGgpXG4gICAgICAgICAgbGlzdFswXSA9IGJ1Zi5zbGljZShjcHkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuXG4gICAgICAgIGMgKz0gY3B5O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGVuZFJlYWRhYmxlKHN0cmVhbSkge1xuICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7XG5cbiAgLy8gSWYgd2UgZ2V0IGhlcmUgYmVmb3JlIGNvbnN1bWluZyBhbGwgdGhlIGJ5dGVzLCB0aGVuIHRoYXQgaXMgYVxuICAvLyBidWcgaW4gbm9kZS4gIFNob3VsZCBuZXZlciBoYXBwZW4uXG4gIGlmIChzdGF0ZS5sZW5ndGggPiAwKVxuICAgIHRocm93IG5ldyBFcnJvcignZW5kUmVhZGFibGUgY2FsbGVkIG9uIG5vbi1lbXB0eSBzdHJlYW0nKTtcblxuICBpZiAoIXN0YXRlLmVuZEVtaXR0ZWQpIHtcbiAgICBzdGF0ZS5lbmRlZCA9IHRydWU7XG4gICAgcHJvY2Vzc05leHRUaWNrKGVuZFJlYWRhYmxlTlQsIHN0YXRlLCBzdHJlYW0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuZFJlYWRhYmxlTlQoc3RhdGUsIHN0cmVhbSkge1xuICAvLyBDaGVjayB0aGF0IHdlIGRpZG4ndCBnZXQgb25lIGxhc3QgdW5zaGlmdC5cbiAgaWYgKCFzdGF0ZS5lbmRFbWl0dGVkICYmIHN0YXRlLmxlbmd0aCA9PT0gMCkge1xuICAgIHN0YXRlLmVuZEVtaXR0ZWQgPSB0cnVlO1xuICAgIHN0cmVhbS5yZWFkYWJsZSA9IGZhbHNlO1xuICAgIHN0cmVhbS5lbWl0KCdlbmQnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JFYWNoICh4cywgZikge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHhzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGYoeHNbaV0sIGkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluZGV4T2YgKHhzLCB4KSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHhzW2ldID09PSB4KSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59XG4iLCIvLyBhIHRyYW5zZm9ybSBzdHJlYW0gaXMgYSByZWFkYWJsZS93cml0YWJsZSBzdHJlYW0gd2hlcmUgeW91IGRvXG4vLyBzb21ldGhpbmcgd2l0aCB0aGUgZGF0YS4gIFNvbWV0aW1lcyBpdCdzIGNhbGxlZCBhIFwiZmlsdGVyXCIsXG4vLyBidXQgdGhhdCdzIG5vdCBhIGdyZWF0IG5hbWUgZm9yIGl0LCBzaW5jZSB0aGF0IGltcGxpZXMgYSB0aGluZyB3aGVyZVxuLy8gc29tZSBiaXRzIHBhc3MgdGhyb3VnaCwgYW5kIG90aGVycyBhcmUgc2ltcGx5IGlnbm9yZWQuICAoVGhhdCB3b3VsZFxuLy8gYmUgYSB2YWxpZCBleGFtcGxlIG9mIGEgdHJhbnNmb3JtLCBvZiBjb3Vyc2UuKVxuLy9cbi8vIFdoaWxlIHRoZSBvdXRwdXQgaXMgY2F1c2FsbHkgcmVsYXRlZCB0byB0aGUgaW5wdXQsIGl0J3Mgbm90IGFcbi8vIG5lY2Vzc2FyaWx5IHN5bW1ldHJpYyBvciBzeW5jaHJvbm91cyB0cmFuc2Zvcm1hdGlvbi4gIEZvciBleGFtcGxlLFxuLy8gYSB6bGliIHN0cmVhbSBtaWdodCB0YWtlIG11bHRpcGxlIHBsYWluLXRleHQgd3JpdGVzKCksIGFuZCB0aGVuXG4vLyBlbWl0IGEgc2luZ2xlIGNvbXByZXNzZWQgY2h1bmsgc29tZSB0aW1lIGluIHRoZSBmdXR1cmUuXG4vL1xuLy8gSGVyZSdzIGhvdyB0aGlzIHdvcmtzOlxuLy9cbi8vIFRoZSBUcmFuc2Zvcm0gc3RyZWFtIGhhcyBhbGwgdGhlIGFzcGVjdHMgb2YgdGhlIHJlYWRhYmxlIGFuZCB3cml0YWJsZVxuLy8gc3RyZWFtIGNsYXNzZXMuICBXaGVuIHlvdSB3cml0ZShjaHVuayksIHRoYXQgY2FsbHMgX3dyaXRlKGNodW5rLGNiKVxuLy8gaW50ZXJuYWxseSwgYW5kIHJldHVybnMgZmFsc2UgaWYgdGhlcmUncyBhIGxvdCBvZiBwZW5kaW5nIHdyaXRlc1xuLy8gYnVmZmVyZWQgdXAuICBXaGVuIHlvdSBjYWxsIHJlYWQoKSwgdGhhdCBjYWxscyBfcmVhZChuKSB1bnRpbFxuLy8gdGhlcmUncyBlbm91Z2ggcGVuZGluZyByZWFkYWJsZSBkYXRhIGJ1ZmZlcmVkIHVwLlxuLy9cbi8vIEluIGEgdHJhbnNmb3JtIHN0cmVhbSwgdGhlIHdyaXR0ZW4gZGF0YSBpcyBwbGFjZWQgaW4gYSBidWZmZXIuICBXaGVuXG4vLyBfcmVhZChuKSBpcyBjYWxsZWQsIGl0IHRyYW5zZm9ybXMgdGhlIHF1ZXVlZCB1cCBkYXRhLCBjYWxsaW5nIHRoZVxuLy8gYnVmZmVyZWQgX3dyaXRlIGNiJ3MgYXMgaXQgY29uc3VtZXMgY2h1bmtzLiAgSWYgY29uc3VtaW5nIGEgc2luZ2xlXG4vLyB3cml0dGVuIGNodW5rIHdvdWxkIHJlc3VsdCBpbiBtdWx0aXBsZSBvdXRwdXQgY2h1bmtzLCB0aGVuIHRoZSBmaXJzdFxuLy8gb3V0cHV0dGVkIGJpdCBjYWxscyB0aGUgcmVhZGNiLCBhbmQgc3Vic2VxdWVudCBjaHVua3MganVzdCBnbyBpbnRvXG4vLyB0aGUgcmVhZCBidWZmZXIsIGFuZCB3aWxsIGNhdXNlIGl0IHRvIGVtaXQgJ3JlYWRhYmxlJyBpZiBuZWNlc3NhcnkuXG4vL1xuLy8gVGhpcyB3YXksIGJhY2stcHJlc3N1cmUgaXMgYWN0dWFsbHkgZGV0ZXJtaW5lZCBieSB0aGUgcmVhZGluZyBzaWRlLFxuLy8gc2luY2UgX3JlYWQgaGFzIHRvIGJlIGNhbGxlZCB0byBzdGFydCBwcm9jZXNzaW5nIGEgbmV3IGNodW5rLiAgSG93ZXZlcixcbi8vIGEgcGF0aG9sb2dpY2FsIGluZmxhdGUgdHlwZSBvZiB0cmFuc2Zvcm0gY2FuIGNhdXNlIGV4Y2Vzc2l2ZSBidWZmZXJpbmdcbi8vIGhlcmUuICBGb3IgZXhhbXBsZSwgaW1hZ2luZSBhIHN0cmVhbSB3aGVyZSBldmVyeSBieXRlIG9mIGlucHV0IGlzXG4vLyBpbnRlcnByZXRlZCBhcyBhbiBpbnRlZ2VyIGZyb20gMC0yNTUsIGFuZCB0aGVuIHJlc3VsdHMgaW4gdGhhdCBtYW55XG4vLyBieXRlcyBvZiBvdXRwdXQuICBXcml0aW5nIHRoZSA0IGJ5dGVzIHtmZixmZixmZixmZn0gd291bGQgcmVzdWx0IGluXG4vLyAxa2Igb2YgZGF0YSBiZWluZyBvdXRwdXQuICBJbiB0aGlzIGNhc2UsIHlvdSBjb3VsZCB3cml0ZSBhIHZlcnkgc21hbGxcbi8vIGFtb3VudCBvZiBpbnB1dCwgYW5kIGVuZCB1cCB3aXRoIGEgdmVyeSBsYXJnZSBhbW91bnQgb2Ygb3V0cHV0LiAgSW5cbi8vIHN1Y2ggYSBwYXRob2xvZ2ljYWwgaW5mbGF0aW5nIG1lY2hhbmlzbSwgdGhlcmUnZCBiZSBubyB3YXkgdG8gdGVsbFxuLy8gdGhlIHN5c3RlbSB0byBzdG9wIGRvaW5nIHRoZSB0cmFuc2Zvcm0uICBBIHNpbmdsZSA0TUIgd3JpdGUgY291bGRcbi8vIGNhdXNlIHRoZSBzeXN0ZW0gdG8gcnVuIG91dCBvZiBtZW1vcnkuXG4vL1xuLy8gSG93ZXZlciwgZXZlbiBpbiBzdWNoIGEgcGF0aG9sb2dpY2FsIGNhc2UsIG9ubHkgYSBzaW5nbGUgd3JpdHRlbiBjaHVua1xuLy8gd291bGQgYmUgY29uc3VtZWQsIGFuZCB0aGVuIHRoZSByZXN0IHdvdWxkIHdhaXQgKHVuLXRyYW5zZm9ybWVkKSB1bnRpbFxuLy8gdGhlIHJlc3VsdHMgb2YgdGhlIHByZXZpb3VzIHRyYW5zZm9ybWVkIGNodW5rIHdlcmUgY29uc3VtZWQuXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBUcmFuc2Zvcm07XG5cbnZhciBEdXBsZXggPSByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgdXRpbCA9IHJlcXVpcmUoJ2NvcmUtdXRpbC1pcycpO1xudXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxudXRpbC5pbmhlcml0cyhUcmFuc2Zvcm0sIER1cGxleCk7XG5cblxuZnVuY3Rpb24gVHJhbnNmb3JtU3RhdGUoc3RyZWFtKSB7XG4gIHRoaXMuYWZ0ZXJUcmFuc2Zvcm0gPSBmdW5jdGlvbihlciwgZGF0YSkge1xuICAgIHJldHVybiBhZnRlclRyYW5zZm9ybShzdHJlYW0sIGVyLCBkYXRhKTtcbiAgfTtcblxuICB0aGlzLm5lZWRUcmFuc2Zvcm0gPSBmYWxzZTtcbiAgdGhpcy50cmFuc2Zvcm1pbmcgPSBmYWxzZTtcbiAgdGhpcy53cml0ZWNiID0gbnVsbDtcbiAgdGhpcy53cml0ZWNodW5rID0gbnVsbDtcbn1cblxuZnVuY3Rpb24gYWZ0ZXJUcmFuc2Zvcm0oc3RyZWFtLCBlciwgZGF0YSkge1xuICB2YXIgdHMgPSBzdHJlYW0uX3RyYW5zZm9ybVN0YXRlO1xuICB0cy50cmFuc2Zvcm1pbmcgPSBmYWxzZTtcblxuICB2YXIgY2IgPSB0cy53cml0ZWNiO1xuXG4gIGlmICghY2IpXG4gICAgcmV0dXJuIHN0cmVhbS5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcignbm8gd3JpdGVjYiBpbiBUcmFuc2Zvcm0gY2xhc3MnKSk7XG5cbiAgdHMud3JpdGVjaHVuayA9IG51bGw7XG4gIHRzLndyaXRlY2IgPSBudWxsO1xuXG4gIGlmIChkYXRhICE9PSBudWxsICYmIGRhdGEgIT09IHVuZGVmaW5lZClcbiAgICBzdHJlYW0ucHVzaChkYXRhKTtcblxuICBpZiAoY2IpXG4gICAgY2IoZXIpO1xuXG4gIHZhciBycyA9IHN0cmVhbS5fcmVhZGFibGVTdGF0ZTtcbiAgcnMucmVhZGluZyA9IGZhbHNlO1xuICBpZiAocnMubmVlZFJlYWRhYmxlIHx8IHJzLmxlbmd0aCA8IHJzLmhpZ2hXYXRlck1hcmspIHtcbiAgICBzdHJlYW0uX3JlYWQocnMuaGlnaFdhdGVyTWFyayk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBUcmFuc2Zvcm0ob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVHJhbnNmb3JtKSlcbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybShvcHRpb25zKTtcblxuICBEdXBsZXguY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICB0aGlzLl90cmFuc2Zvcm1TdGF0ZSA9IG5ldyBUcmFuc2Zvcm1TdGF0ZSh0aGlzKTtcblxuICAvLyB3aGVuIHRoZSB3cml0YWJsZSBzaWRlIGZpbmlzaGVzLCB0aGVuIGZsdXNoIG91dCBhbnl0aGluZyByZW1haW5pbmcuXG4gIHZhciBzdHJlYW0gPSB0aGlzO1xuXG4gIC8vIHN0YXJ0IG91dCBhc2tpbmcgZm9yIGEgcmVhZGFibGUgZXZlbnQgb25jZSBkYXRhIGlzIHRyYW5zZm9ybWVkLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7XG5cbiAgLy8gd2UgaGF2ZSBpbXBsZW1lbnRlZCB0aGUgX3JlYWQgbWV0aG9kLCBhbmQgZG9uZSB0aGUgb3RoZXIgdGhpbmdzXG4gIC8vIHRoYXQgUmVhZGFibGUgd2FudHMgYmVmb3JlIHRoZSBmaXJzdCBfcmVhZCBjYWxsLCBzbyB1bnNldCB0aGVcbiAgLy8gc3luYyBndWFyZCBmbGFnLlxuICB0aGlzLl9yZWFkYWJsZVN0YXRlLnN5bmMgPSBmYWxzZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbicpXG4gICAgICB0aGlzLl90cmFuc2Zvcm0gPSBvcHRpb25zLnRyYW5zZm9ybTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5mbHVzaCA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHRoaXMuX2ZsdXNoID0gb3B0aW9ucy5mbHVzaDtcbiAgfVxuXG4gIHRoaXMub25jZSgncHJlZmluaXNoJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9mbHVzaCA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHRoaXMuX2ZsdXNoKGZ1bmN0aW9uKGVyKSB7XG4gICAgICAgIGRvbmUoc3RyZWFtLCBlcik7XG4gICAgICB9KTtcbiAgICBlbHNlXG4gICAgICBkb25lKHN0cmVhbSk7XG4gIH0pO1xufVxuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbihjaHVuaywgZW5jb2RpbmcpIHtcbiAgdGhpcy5fdHJhbnNmb3JtU3RhdGUubmVlZFRyYW5zZm9ybSA9IGZhbHNlO1xuICByZXR1cm4gRHVwbGV4LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGVuY29kaW5nKTtcbn07XG5cbi8vIFRoaXMgaXMgdGhlIHBhcnQgd2hlcmUgeW91IGRvIHN0dWZmIVxuLy8gb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiBpbiBpbXBsZW1lbnRhdGlvbiBjbGFzc2VzLlxuLy8gJ2NodW5rJyBpcyBhbiBpbnB1dCBjaHVuay5cbi8vXG4vLyBDYWxsIGBwdXNoKG5ld0NodW5rKWAgdG8gcGFzcyBhbG9uZyB0cmFuc2Zvcm1lZCBvdXRwdXRcbi8vIHRvIHRoZSByZWFkYWJsZSBzaWRlLiAgWW91IG1heSBjYWxsICdwdXNoJyB6ZXJvIG9yIG1vcmUgdGltZXMuXG4vL1xuLy8gQ2FsbCBgY2IoZXJyKWAgd2hlbiB5b3UgYXJlIGRvbmUgd2l0aCB0aGlzIGNodW5rLiAgSWYgeW91IHBhc3Ncbi8vIGFuIGVycm9yLCB0aGVuIHRoYXQnbGwgcHV0IHRoZSBodXJ0IG9uIHRoZSB3aG9sZSBvcGVyYXRpb24uICBJZiB5b3Vcbi8vIG5ldmVyIGNhbGwgY2IoKSwgdGhlbiB5b3UnbGwgbmV2ZXIgZ2V0IGFub3RoZXIgY2h1bmsuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbihjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHRocm93IG5ldyBFcnJvcignbm90IGltcGxlbWVudGVkJyk7XG59O1xuXG5UcmFuc2Zvcm0ucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgdmFyIHRzID0gdGhpcy5fdHJhbnNmb3JtU3RhdGU7XG4gIHRzLndyaXRlY2IgPSBjYjtcbiAgdHMud3JpdGVjaHVuayA9IGNodW5rO1xuICB0cy53cml0ZWVuY29kaW5nID0gZW5jb2Rpbmc7XG4gIGlmICghdHMudHJhbnNmb3JtaW5nKSB7XG4gICAgdmFyIHJzID0gdGhpcy5fcmVhZGFibGVTdGF0ZTtcbiAgICBpZiAodHMubmVlZFRyYW5zZm9ybSB8fFxuICAgICAgICBycy5uZWVkUmVhZGFibGUgfHxcbiAgICAgICAgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaylcbiAgICAgIHRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayk7XG4gIH1cbn07XG5cbi8vIERvZXNuJ3QgbWF0dGVyIHdoYXQgdGhlIGFyZ3MgYXJlIGhlcmUuXG4vLyBfdHJhbnNmb3JtIGRvZXMgYWxsIHRoZSB3b3JrLlxuLy8gVGhhdCB3ZSBnb3QgaGVyZSBtZWFucyB0aGF0IHRoZSByZWFkYWJsZSBzaWRlIHdhbnRzIG1vcmUgZGF0YS5cblRyYW5zZm9ybS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbihuKSB7XG4gIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlO1xuXG4gIGlmICh0cy53cml0ZWNodW5rICE9PSBudWxsICYmIHRzLndyaXRlY2IgJiYgIXRzLnRyYW5zZm9ybWluZykge1xuICAgIHRzLnRyYW5zZm9ybWluZyA9IHRydWU7XG4gICAgdGhpcy5fdHJhbnNmb3JtKHRzLndyaXRlY2h1bmssIHRzLndyaXRlZW5jb2RpbmcsIHRzLmFmdGVyVHJhbnNmb3JtKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBtYXJrIHRoYXQgd2UgbmVlZCBhIHRyYW5zZm9ybSwgc28gdGhhdCBhbnkgZGF0YSB0aGF0IGNvbWVzIGluXG4gICAgLy8gd2lsbCBnZXQgcHJvY2Vzc2VkLCBub3cgdGhhdCB3ZSd2ZSBhc2tlZCBmb3IgaXQuXG4gICAgdHMubmVlZFRyYW5zZm9ybSA9IHRydWU7XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gZG9uZShzdHJlYW0sIGVyKSB7XG4gIGlmIChlcilcbiAgICByZXR1cm4gc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpO1xuXG4gIC8vIGlmIHRoZXJlJ3Mgbm90aGluZyBpbiB0aGUgd3JpdGUgYnVmZmVyLCB0aGVuIHRoYXQgbWVhbnNcbiAgLy8gdGhhdCBub3RoaW5nIG1vcmUgd2lsbCBldmVyIGJlIHByb3ZpZGVkXG4gIHZhciB3cyA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZTtcbiAgdmFyIHRzID0gc3RyZWFtLl90cmFuc2Zvcm1TdGF0ZTtcblxuICBpZiAod3MubGVuZ3RoKVxuICAgIHRocm93IG5ldyBFcnJvcignY2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHdzLmxlbmd0aCAhPSAwJyk7XG5cbiAgaWYgKHRzLnRyYW5zZm9ybWluZylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiBzdGlsbCB0cmFuc2Zvcm1pbmcnKTtcblxuICByZXR1cm4gc3RyZWFtLnB1c2gobnVsbCk7XG59XG4iLCIvLyBBIGJpdCBzaW1wbGVyIHRoYW4gcmVhZGFibGUgc3RyZWFtcy5cbi8vIEltcGxlbWVudCBhbiBhc3luYyAuX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2IpLCBhbmQgaXQnbGwgaGFuZGxlIGFsbFxuLy8gdGhlIGRyYWluIGV2ZW50IGVtaXNzaW9uIGFuZCBidWZmZXJpbmcuXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBXcml0YWJsZTtcblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBwcm9jZXNzTmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzLW5leHRpY2stYXJncycpO1xuLyo8L3JlcGxhY2VtZW50PiovXG5cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuV3JpdGFibGUuV3JpdGFibGVTdGF0ZSA9IFdyaXRhYmxlU3RhdGU7XG5cblxuLyo8cmVwbGFjZW1lbnQ+Ki9cbnZhciB1dGlsID0gcmVxdWlyZSgnY29yZS11dGlsLWlzJyk7XG51dGlsLmluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgaW50ZXJuYWxVdGlsID0ge1xuICBkZXByZWNhdGU6IHJlcXVpcmUoJ3V0aWwtZGVwcmVjYXRlJylcbn07XG4vKjwvcmVwbGFjZW1lbnQ+Ki9cblxuXG5cbi8qPHJlcGxhY2VtZW50PiovXG52YXIgU3RyZWFtO1xuKGZ1bmN0aW9uICgpe3RyeXtcbiAgU3RyZWFtID0gcmVxdWlyZSgnc3QnICsgJ3JlYW0nKTtcbn1jYXRjaChfKXt9ZmluYWxseXtcbiAgaWYgKCFTdHJlYW0pXG4gICAgU3RyZWFtID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xufX0oKSlcbi8qPC9yZXBsYWNlbWVudD4qL1xuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuXG51dGlsLmluaGVyaXRzKFdyaXRhYmxlLCBTdHJlYW0pO1xuXG5mdW5jdGlvbiBub3AoKSB7fVxuXG5mdW5jdGlvbiBXcml0ZVJlcShjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHRoaXMuY2h1bmsgPSBjaHVuaztcbiAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nO1xuICB0aGlzLmNhbGxiYWNrID0gY2I7XG4gIHRoaXMubmV4dCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIFdyaXRhYmxlU3RhdGUob3B0aW9ucywgc3RyZWFtKSB7XG4gIHZhciBEdXBsZXggPSByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgLy8gb2JqZWN0IHN0cmVhbSBmbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgb3Igbm90IHRoaXMgc3RyZWFtXG4gIC8vIGNvbnRhaW5zIGJ1ZmZlcnMgb3Igb2JqZWN0cy5cbiAgdGhpcy5vYmplY3RNb2RlID0gISFvcHRpb25zLm9iamVjdE1vZGU7XG5cbiAgaWYgKHN0cmVhbSBpbnN0YW5jZW9mIER1cGxleClcbiAgICB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLndyaXRhYmxlT2JqZWN0TW9kZTtcblxuICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggd3JpdGUoKSBzdGFydHMgcmV0dXJuaW5nIGZhbHNlXG4gIC8vIE5vdGU6IDAgaXMgYSB2YWxpZCB2YWx1ZSwgbWVhbnMgdGhhdCB3ZSBhbHdheXMgcmV0dXJuIGZhbHNlIGlmXG4gIC8vIHRoZSBlbnRpcmUgYnVmZmVyIGlzIG5vdCBmbHVzaGVkIGltbWVkaWF0ZWx5IG9uIHdyaXRlKClcbiAgdmFyIGh3bSA9IG9wdGlvbnMuaGlnaFdhdGVyTWFyaztcbiAgdmFyIGRlZmF1bHRId20gPSB0aGlzLm9iamVjdE1vZGUgPyAxNiA6IDE2ICogMTAyNDtcbiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gKGh3bSB8fCBod20gPT09IDApID8gaHdtIDogZGVmYXVsdEh3bTtcblxuICAvLyBjYXN0IHRvIGludHMuXG4gIHRoaXMuaGlnaFdhdGVyTWFyayA9IH5+dGhpcy5oaWdoV2F0ZXJNYXJrO1xuXG4gIHRoaXMubmVlZERyYWluID0gZmFsc2U7XG4gIC8vIGF0IHRoZSBzdGFydCBvZiBjYWxsaW5nIGVuZCgpXG4gIHRoaXMuZW5kaW5nID0gZmFsc2U7XG4gIC8vIHdoZW4gZW5kKCkgaGFzIGJlZW4gY2FsbGVkLCBhbmQgcmV0dXJuZWRcbiAgdGhpcy5lbmRlZCA9IGZhbHNlO1xuICAvLyB3aGVuICdmaW5pc2gnIGlzIGVtaXR0ZWRcbiAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xuXG4gIC8vIHNob3VsZCB3ZSBkZWNvZGUgc3RyaW5ncyBpbnRvIGJ1ZmZlcnMgYmVmb3JlIHBhc3NpbmcgdG8gX3dyaXRlP1xuICAvLyB0aGlzIGlzIGhlcmUgc28gdGhhdCBzb21lIG5vZGUtY29yZSBzdHJlYW1zIGNhbiBvcHRpbWl6ZSBzdHJpbmdcbiAgLy8gaGFuZGxpbmcgYXQgYSBsb3dlciBsZXZlbC5cbiAgdmFyIG5vRGVjb2RlID0gb3B0aW9ucy5kZWNvZGVTdHJpbmdzID09PSBmYWxzZTtcbiAgdGhpcy5kZWNvZGVTdHJpbmdzID0gIW5vRGVjb2RlO1xuXG4gIC8vIENyeXB0byBpcyBraW5kIG9mIG9sZCBhbmQgY3J1c3R5LiAgSGlzdG9yaWNhbGx5LCBpdHMgZGVmYXVsdCBzdHJpbmdcbiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLlxuICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guXG4gIHRoaXMuZGVmYXVsdEVuY29kaW5nID0gb3B0aW9ucy5kZWZhdWx0RW5jb2RpbmcgfHwgJ3V0ZjgnO1xuXG4gIC8vIG5vdCBhbiBhY3R1YWwgYnVmZmVyIHdlIGtlZXAgdHJhY2sgb2YsIGJ1dCBhIG1lYXN1cmVtZW50XG4gIC8vIG9mIGhvdyBtdWNoIHdlJ3JlIHdhaXRpbmcgdG8gZ2V0IHB1c2hlZCB0byBzb21lIHVuZGVybHlpbmdcbiAgLy8gc29ja2V0IG9yIGZpbGUuXG4gIHRoaXMubGVuZ3RoID0gMDtcblxuICAvLyBhIGZsYWcgdG8gc2VlIHdoZW4gd2UncmUgaW4gdGhlIG1pZGRsZSBvZiBhIHdyaXRlLlxuICB0aGlzLndyaXRpbmcgPSBmYWxzZTtcblxuICAvLyB3aGVuIHRydWUgYWxsIHdyaXRlcyB3aWxsIGJlIGJ1ZmZlcmVkIHVudGlsIC51bmNvcmsoKSBjYWxsXG4gIHRoaXMuY29ya2VkID0gMDtcblxuICAvLyBhIGZsYWcgdG8gYmUgYWJsZSB0byB0ZWxsIGlmIHRoZSBvbndyaXRlIGNiIGlzIGNhbGxlZCBpbW1lZGlhdGVseSxcbiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnlcbiAgLy8gYWN0aW9ucyB0aGF0IHNob3VsZG4ndCBoYXBwZW4gdW50aWwgXCJsYXRlclwiIHNob3VsZCBnZW5lcmFsbHkgYWxzb1xuICAvLyBub3QgaGFwcGVuIGJlZm9yZSB0aGUgZmlyc3Qgd3JpdGUgY2FsbC5cbiAgdGhpcy5zeW5jID0gdHJ1ZTtcblxuICAvLyBhIGZsYWcgdG8ga25vdyBpZiB3ZSdyZSBwcm9jZXNzaW5nIHByZXZpb3VzbHkgYnVmZmVyZWQgaXRlbXMsIHdoaWNoXG4gIC8vIG1heSBjYWxsIHRoZSBfd3JpdGUoKSBjYWxsYmFjayBpbiB0aGUgc2FtZSB0aWNrLCBzbyB0aGF0IHdlIGRvbid0XG4gIC8vIGVuZCB1cCBpbiBhbiBvdmVybGFwcGVkIG9ud3JpdGUgc2l0dWF0aW9uLlxuICB0aGlzLmJ1ZmZlclByb2Nlc3NpbmcgPSBmYWxzZTtcblxuICAvLyB0aGUgY2FsbGJhY2sgdGhhdCdzIHBhc3NlZCB0byBfd3JpdGUoY2h1bmssY2IpXG4gIHRoaXMub253cml0ZSA9IGZ1bmN0aW9uKGVyKSB7XG4gICAgb253cml0ZShzdHJlYW0sIGVyKTtcbiAgfTtcblxuICAvLyB0aGUgY2FsbGJhY2sgdGhhdCB0aGUgdXNlciBzdXBwbGllcyB0byB3cml0ZShjaHVuayxlbmNvZGluZyxjYilcbiAgdGhpcy53cml0ZWNiID0gbnVsbDtcblxuICAvLyB0aGUgYW1vdW50IHRoYXQgaXMgYmVpbmcgd3JpdHRlbiB3aGVuIF93cml0ZSBpcyBjYWxsZWQuXG4gIHRoaXMud3JpdGVsZW4gPSAwO1xuXG4gIHRoaXMuYnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcblxuICAvLyBudW1iZXIgb2YgcGVuZGluZyB1c2VyLXN1cHBsaWVkIHdyaXRlIGNhbGxiYWNrc1xuICAvLyB0aGlzIG11c3QgYmUgMCBiZWZvcmUgJ2ZpbmlzaCcgY2FuIGJlIGVtaXR0ZWRcbiAgdGhpcy5wZW5kaW5nY2IgPSAwO1xuXG4gIC8vIGVtaXQgcHJlZmluaXNoIGlmIHRoZSBvbmx5IHRoaW5nIHdlJ3JlIHdhaXRpbmcgZm9yIGlzIF93cml0ZSBjYnNcbiAgLy8gVGhpcyBpcyByZWxldmFudCBmb3Igc3luY2hyb25vdXMgVHJhbnNmb3JtIHN0cmVhbXNcbiAgdGhpcy5wcmVmaW5pc2hlZCA9IGZhbHNlO1xuXG4gIC8vIFRydWUgaWYgdGhlIGVycm9yIHdhcyBhbHJlYWR5IGVtaXR0ZWQgYW5kIHNob3VsZCBub3QgYmUgdGhyb3duIGFnYWluXG4gIHRoaXMuZXJyb3JFbWl0dGVkID0gZmFsc2U7XG59XG5cbldyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIHdyaXRhYmxlU3RhdGVHZXRCdWZmZXIoKSB7XG4gIHZhciBjdXJyZW50ID0gdGhpcy5idWZmZXJlZFJlcXVlc3Q7XG4gIHZhciBvdXQgPSBbXTtcbiAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICBvdXQucHVzaChjdXJyZW50KTtcbiAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuXG4oZnVuY3Rpb24gKCl7dHJ5IHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0YXRlLnByb3RvdHlwZSwgJ2J1ZmZlcicsIHtcbiAgZ2V0OiBpbnRlcm5hbFV0aWwuZGVwcmVjYXRlKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldEJ1ZmZlcigpO1xuICB9LCAnX3dyaXRhYmxlU3RhdGUuYnVmZmVyIGlzIGRlcHJlY2F0ZWQuIFVzZSBfd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIgJyArXG4gICAgICdpbnN0ZWFkLicpXG59KTtcbn1jYXRjaChfKXt9fSgpKTtcblxuXG5mdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKSB7XG4gIHZhciBEdXBsZXggPSByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7XG5cbiAgLy8gV3JpdGFibGUgY3RvciBpcyBhcHBsaWVkIHRvIER1cGxleGVzLCB0aG91Z2ggdGhleSdyZSBub3RcbiAgLy8gaW5zdGFuY2VvZiBXcml0YWJsZSwgdGhleSdyZSBpbnN0YW5jZW9mIFJlYWRhYmxlLlxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgV3JpdGFibGUpICYmICEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpXG4gICAgcmV0dXJuIG5ldyBXcml0YWJsZShvcHRpb25zKTtcblxuICB0aGlzLl93cml0YWJsZVN0YXRlID0gbmV3IFdyaXRhYmxlU3RhdGUob3B0aW9ucywgdGhpcyk7XG5cbiAgLy8gbGVnYWN5LlxuICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcblxuICBpZiAob3B0aW9ucykge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgIHRoaXMuX3dyaXRlID0gb3B0aW9ucy53cml0ZTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy53cml0ZXYgPT09ICdmdW5jdGlvbicpXG4gICAgICB0aGlzLl93cml0ZXYgPSBvcHRpb25zLndyaXRldjtcbiAgfVxuXG4gIFN0cmVhbS5jYWxsKHRoaXMpO1xufVxuXG4vLyBPdGhlcndpc2UgcGVvcGxlIGNhbiBwaXBlIFdyaXRhYmxlIHN0cmVhbXMsIHdoaWNoIGlzIGp1c3Qgd3JvbmcuXG5Xcml0YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdDYW5ub3QgcGlwZS4gTm90IHJlYWRhYmxlLicpKTtcbn07XG5cblxuZnVuY3Rpb24gd3JpdGVBZnRlckVuZChzdHJlYW0sIGNiKSB7XG4gIHZhciBlciA9IG5ldyBFcnJvcignd3JpdGUgYWZ0ZXIgZW5kJyk7XG4gIC8vIFRPRE86IGRlZmVyIGVycm9yIGV2ZW50cyBjb25zaXN0ZW50bHkgZXZlcnl3aGVyZSwgbm90IGp1c3QgdGhlIGNiXG4gIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgcHJvY2Vzc05leHRUaWNrKGNiLCBlcik7XG59XG5cbi8vIElmIHdlIGdldCBzb21ldGhpbmcgdGhhdCBpcyBub3QgYSBidWZmZXIsIHN0cmluZywgbnVsbCwgb3IgdW5kZWZpbmVkLFxuLy8gYW5kIHdlJ3JlIG5vdCBpbiBvYmplY3RNb2RlLCB0aGVuIHRoYXQncyBhbiBlcnJvci5cbi8vIE90aGVyd2lzZSBzdHJlYW0gY2h1bmtzIGFyZSBhbGwgY29uc2lkZXJlZCB0byBiZSBvZiBsZW5ndGg9MSwgYW5kIHRoZVxuLy8gd2F0ZXJtYXJrcyBkZXRlcm1pbmUgaG93IG1hbnkgb2JqZWN0cyB0byBrZWVwIGluIHRoZSBidWZmZXIsIHJhdGhlciB0aGFuXG4vLyBob3cgbWFueSBieXRlcyBvciBjaGFyYWN0ZXJzLlxuZnVuY3Rpb24gdmFsaWRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgY2IpIHtcbiAgdmFyIHZhbGlkID0gdHJ1ZTtcblxuICBpZiAoIShCdWZmZXIuaXNCdWZmZXIoY2h1bmspKSAmJlxuICAgICAgdHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJlxuICAgICAgY2h1bmsgIT09IG51bGwgJiZcbiAgICAgIGNodW5rICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICFzdGF0ZS5vYmplY3RNb2RlKSB7XG4gICAgdmFyIGVyID0gbmV3IFR5cGVFcnJvcignSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVuaycpO1xuICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTtcbiAgICBwcm9jZXNzTmV4dFRpY2soY2IsIGVyKTtcbiAgICB2YWxpZCA9IGZhbHNlO1xuICB9XG4gIHJldHVybiB2YWxpZDtcbn1cblxuV3JpdGFibGUucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oY2h1bmssIGVuY29kaW5nLCBjYikge1xuICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlO1xuICB2YXIgcmV0ID0gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBlbmNvZGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gZW5jb2Rpbmc7XG4gICAgZW5jb2RpbmcgPSBudWxsO1xuICB9XG5cbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihjaHVuaykpXG4gICAgZW5jb2RpbmcgPSAnYnVmZmVyJztcbiAgZWxzZSBpZiAoIWVuY29kaW5nKVxuICAgIGVuY29kaW5nID0gc3RhdGUuZGVmYXVsdEVuY29kaW5nO1xuXG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpXG4gICAgY2IgPSBub3A7XG5cbiAgaWYgKHN0YXRlLmVuZGVkKVxuICAgIHdyaXRlQWZ0ZXJFbmQodGhpcywgY2IpO1xuICBlbHNlIGlmICh2YWxpZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgY2IpKSB7XG4gICAgc3RhdGUucGVuZGluZ2NiKys7XG4gICAgcmV0ID0gd3JpdGVPckJ1ZmZlcih0aGlzLCBzdGF0ZSwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufTtcblxuV3JpdGFibGUucHJvdG90eXBlLmNvcmsgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcblxuICBzdGF0ZS5jb3JrZWQrKztcbn07XG5cbldyaXRhYmxlLnByb3RvdHlwZS51bmNvcmsgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTtcblxuICBpZiAoc3RhdGUuY29ya2VkKSB7XG4gICAgc3RhdGUuY29ya2VkLS07XG5cbiAgICBpZiAoIXN0YXRlLndyaXRpbmcgJiZcbiAgICAgICAgIXN0YXRlLmNvcmtlZCAmJlxuICAgICAgICAhc3RhdGUuZmluaXNoZWQgJiZcbiAgICAgICAgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiZcbiAgICAgICAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KVxuICAgICAgY2xlYXJCdWZmZXIodGhpcywgc3RhdGUpO1xuICB9XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuc2V0RGVmYXVsdEVuY29kaW5nID0gZnVuY3Rpb24gc2V0RGVmYXVsdEVuY29kaW5nKGVuY29kaW5nKSB7XG4gIC8vIG5vZGU6OlBhcnNlRW5jb2RpbmcoKSByZXF1aXJlcyBsb3dlciBjYXNlLlxuICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJylcbiAgICBlbmNvZGluZyA9IGVuY29kaW5nLnRvTG93ZXJDYXNlKCk7XG4gIGlmICghKFsnaGV4JywgJ3V0ZjgnLCAndXRmLTgnLCAnYXNjaWknLCAnYmluYXJ5JywgJ2Jhc2U2NCcsXG4ndWNzMicsICd1Y3MtMicsJ3V0ZjE2bGUnLCAndXRmLTE2bGUnLCAncmF3J11cbi5pbmRleE9mKChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpKSA+IC0xKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpO1xuICB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZyA9IGVuY29kaW5nO1xufTtcblxuZnVuY3Rpb24gZGVjb2RlQ2h1bmsoc3RhdGUsIGNodW5rLCBlbmNvZGluZykge1xuICBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiZcbiAgICAgIHN0YXRlLmRlY29kZVN0cmluZ3MgIT09IGZhbHNlICYmXG4gICAgICB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgY2h1bmsgPSBuZXcgQnVmZmVyKGNodW5rLCBlbmNvZGluZyk7XG4gIH1cbiAgcmV0dXJuIGNodW5rO1xufVxuXG4vLyBpZiB3ZSdyZSBhbHJlYWR5IHdyaXRpbmcgc29tZXRoaW5nLCB0aGVuIGp1c3QgcHV0IHRoaXNcbi8vIGluIHRoZSBxdWV1ZSwgYW5kIHdhaXQgb3VyIHR1cm4uICBPdGhlcndpc2UsIGNhbGwgX3dyaXRlXG4vLyBJZiB3ZSByZXR1cm4gZmFsc2UsIHRoZW4gd2UgbmVlZCBhIGRyYWluIGV2ZW50LCBzbyBzZXQgdGhhdCBmbGFnLlxuZnVuY3Rpb24gd3JpdGVPckJ1ZmZlcihzdHJlYW0sIHN0YXRlLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIGNodW5rID0gZGVjb2RlQ2h1bmsoc3RhdGUsIGNodW5rLCBlbmNvZGluZyk7XG5cbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihjaHVuaykpXG4gICAgZW5jb2RpbmcgPSAnYnVmZmVyJztcbiAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoO1xuXG4gIHN0YXRlLmxlbmd0aCArPSBsZW47XG5cbiAgdmFyIHJldCA9IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcms7XG4gIC8vIHdlIG11c3QgZW5zdXJlIHRoYXQgcHJldmlvdXMgbmVlZERyYWluIHdpbGwgbm90IGJlIHJlc2V0IHRvIGZhbHNlLlxuICBpZiAoIXJldClcbiAgICBzdGF0ZS5uZWVkRHJhaW4gPSB0cnVlO1xuXG4gIGlmIChzdGF0ZS53cml0aW5nIHx8IHN0YXRlLmNvcmtlZCkge1xuICAgIHZhciBsYXN0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbmV3IFdyaXRlUmVxKGNodW5rLCBlbmNvZGluZywgY2IpO1xuICAgIGlmIChsYXN0KSB7XG4gICAgICBsYXN0Lm5leHQgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPSBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIGZhbHNlLCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB3cml0ZXYsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYikge1xuICBzdGF0ZS53cml0ZWxlbiA9IGxlbjtcbiAgc3RhdGUud3JpdGVjYiA9IGNiO1xuICBzdGF0ZS53cml0aW5nID0gdHJ1ZTtcbiAgc3RhdGUuc3luYyA9IHRydWU7XG4gIGlmICh3cml0ZXYpXG4gICAgc3RyZWFtLl93cml0ZXYoY2h1bmssIHN0YXRlLm9ud3JpdGUpO1xuICBlbHNlXG4gICAgc3RyZWFtLl93cml0ZShjaHVuaywgZW5jb2RpbmcsIHN0YXRlLm9ud3JpdGUpO1xuICBzdGF0ZS5zeW5jID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpIHtcbiAgLS1zdGF0ZS5wZW5kaW5nY2I7XG4gIGlmIChzeW5jKVxuICAgIHByb2Nlc3NOZXh0VGljayhjYiwgZXIpO1xuICBlbHNlXG4gICAgY2IoZXIpO1xuXG4gIHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQgPSB0cnVlO1xuICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7XG59XG5cbmZ1bmN0aW9uIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSkge1xuICBzdGF0ZS53cml0aW5nID0gZmFsc2U7XG4gIHN0YXRlLndyaXRlY2IgPSBudWxsO1xuICBzdGF0ZS5sZW5ndGggLT0gc3RhdGUud3JpdGVsZW47XG4gIHN0YXRlLndyaXRlbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gb253cml0ZShzdHJlYW0sIGVyKSB7XG4gIHZhciBzdGF0ZSA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZTtcbiAgdmFyIHN5bmMgPSBzdGF0ZS5zeW5jO1xuICB2YXIgY2IgPSBzdGF0ZS53cml0ZWNiO1xuXG4gIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSk7XG5cbiAgaWYgKGVyKVxuICAgIG9ud3JpdGVFcnJvcihzdHJlYW0sIHN0YXRlLCBzeW5jLCBlciwgY2IpO1xuICBlbHNlIHtcbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSByZWFkeSB0byBmaW5pc2gsIGJ1dCBkb24ndCBlbWl0IHlldFxuICAgIHZhciBmaW5pc2hlZCA9IG5lZWRGaW5pc2goc3RhdGUpO1xuXG4gICAgaWYgKCFmaW5pc2hlZCAmJlxuICAgICAgICAhc3RhdGUuY29ya2VkICYmXG4gICAgICAgICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmXG4gICAgICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkge1xuICAgICAgY2xlYXJCdWZmZXIoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKHN5bmMpIHtcbiAgICAgIHByb2Nlc3NOZXh0VGljayhhZnRlcldyaXRlLCBzdHJlYW0sIHN0YXRlLCBmaW5pc2hlZCwgY2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKSB7XG4gIGlmICghZmluaXNoZWQpXG4gICAgb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpO1xuICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgY2IoKTtcbiAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG59XG5cbi8vIE11c3QgZm9yY2UgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIG9uIG5leHRUaWNrLCBzbyB0aGF0IHdlIGRvbid0XG4vLyBlbWl0ICdkcmFpbicgYmVmb3JlIHRoZSB3cml0ZSgpIGNvbnN1bWVyIGdldHMgdGhlICdmYWxzZScgcmV0dXJuXG4vLyB2YWx1ZSwgYW5kIGhhcyBhIGNoYW5jZSB0byBhdHRhY2ggYSAnZHJhaW4nIGxpc3RlbmVyLlxuZnVuY3Rpb24gb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5uZWVkRHJhaW4pIHtcbiAgICBzdGF0ZS5uZWVkRHJhaW4gPSBmYWxzZTtcbiAgICBzdHJlYW0uZW1pdCgnZHJhaW4nKTtcbiAgfVxufVxuXG5cbi8vIGlmIHRoZXJlJ3Mgc29tZXRoaW5nIGluIHRoZSBidWZmZXIgd2FpdGluZywgdGhlbiBwcm9jZXNzIGl0XG5mdW5jdGlvbiBjbGVhckJ1ZmZlcihzdHJlYW0sIHN0YXRlKSB7XG4gIHN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgPSB0cnVlO1xuICB2YXIgZW50cnkgPSBzdGF0ZS5idWZmZXJlZFJlcXVlc3Q7XG5cbiAgaWYgKHN0cmVhbS5fd3JpdGV2ICYmIGVudHJ5ICYmIGVudHJ5Lm5leHQpIHtcbiAgICAvLyBGYXN0IGNhc2UsIHdyaXRlIGV2ZXJ5dGhpbmcgdXNpbmcgX3dyaXRldigpXG4gICAgdmFyIGJ1ZmZlciA9IFtdO1xuICAgIHZhciBjYnMgPSBbXTtcbiAgICB3aGlsZSAoZW50cnkpIHtcbiAgICAgIGNicy5wdXNoKGVudHJ5LmNhbGxiYWNrKTtcbiAgICAgIGJ1ZmZlci5wdXNoKGVudHJ5KTtcbiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDtcbiAgICB9XG5cbiAgICAvLyBjb3VudCB0aGUgb25lIHdlIGFyZSBhZGRpbmcsIGFzIHdlbGwuXG4gICAgLy8gVE9ETyhpc2FhY3MpIGNsZWFuIHRoaXMgdXBcbiAgICBzdGF0ZS5wZW5kaW5nY2IrKztcbiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbnVsbDtcbiAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIHRydWUsIHN0YXRlLmxlbmd0aCwgYnVmZmVyLCAnJywgZnVuY3Rpb24oZXJyKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNicy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzdGF0ZS5wZW5kaW5nY2ItLTtcbiAgICAgICAgY2JzW2ldKGVycik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDbGVhciBidWZmZXJcbiAgfSBlbHNlIHtcbiAgICAvLyBTbG93IGNhc2UsIHdyaXRlIGNodW5rcyBvbmUtYnktb25lXG4gICAgd2hpbGUgKGVudHJ5KSB7XG4gICAgICB2YXIgY2h1bmsgPSBlbnRyeS5jaHVuaztcbiAgICAgIHZhciBlbmNvZGluZyA9IGVudHJ5LmVuY29kaW5nO1xuICAgICAgdmFyIGNiID0gZW50cnkuY2FsbGJhY2s7XG4gICAgICB2YXIgbGVuID0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7XG5cbiAgICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7XG4gICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7XG4gICAgICAvLyBpZiB3ZSBkaWRuJ3QgY2FsbCB0aGUgb253cml0ZSBpbW1lZGlhdGVseSwgdGhlblxuICAgICAgLy8gaXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHdhaXQgdW50aWwgaXQgZG9lcy5cbiAgICAgIC8vIGFsc28sIHRoYXQgbWVhbnMgdGhhdCB0aGUgY2h1bmsgYW5kIGNiIGFyZSBjdXJyZW50bHlcbiAgICAgIC8vIGJlaW5nIHByb2Nlc3NlZCwgc28gbW92ZSB0aGUgYnVmZmVyIGNvdW50ZXIgcGFzdCB0aGVtLlxuICAgICAgaWYgKHN0YXRlLndyaXRpbmcpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVudHJ5ID09PSBudWxsKVxuICAgICAgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7XG4gIH1cbiAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID0gZW50cnk7XG4gIHN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgPSBmYWxzZTtcbn1cblxuV3JpdGFibGUucHJvdG90eXBlLl93cml0ZSA9IGZ1bmN0aW9uKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgY2IobmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKSk7XG59O1xuXG5Xcml0YWJsZS5wcm90b3R5cGUuX3dyaXRldiA9IG51bGw7XG5cbldyaXRhYmxlLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbihjaHVuaywgZW5jb2RpbmcsIGNiKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7XG5cbiAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gY2h1bms7XG4gICAgY2h1bmsgPSBudWxsO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IGVuY29kaW5nO1xuICAgIGVuY29kaW5nID0gbnVsbDtcbiAgfVxuXG4gIGlmIChjaHVuayAhPT0gbnVsbCAmJiBjaHVuayAhPT0gdW5kZWZpbmVkKVxuICAgIHRoaXMud3JpdGUoY2h1bmssIGVuY29kaW5nKTtcblxuICAvLyAuZW5kKCkgZnVsbHkgdW5jb3Jrc1xuICBpZiAoc3RhdGUuY29ya2VkKSB7XG4gICAgc3RhdGUuY29ya2VkID0gMTtcbiAgICB0aGlzLnVuY29yaygpO1xuICB9XG5cbiAgLy8gaWdub3JlIHVubmVjZXNzYXJ5IGVuZCgpIGNhbGxzLlxuICBpZiAoIXN0YXRlLmVuZGluZyAmJiAhc3RhdGUuZmluaXNoZWQpXG4gICAgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTtcbn07XG5cblxuZnVuY3Rpb24gbmVlZEZpbmlzaChzdGF0ZSkge1xuICByZXR1cm4gKHN0YXRlLmVuZGluZyAmJlxuICAgICAgICAgIHN0YXRlLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCA9PT0gbnVsbCAmJlxuICAgICAgICAgICFzdGF0ZS5maW5pc2hlZCAmJlxuICAgICAgICAgICFzdGF0ZS53cml0aW5nKTtcbn1cblxuZnVuY3Rpb24gcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpIHtcbiAgaWYgKCFzdGF0ZS5wcmVmaW5pc2hlZCkge1xuICAgIHN0YXRlLnByZWZpbmlzaGVkID0gdHJ1ZTtcbiAgICBzdHJlYW0uZW1pdCgncHJlZmluaXNoJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgbmVlZCA9IG5lZWRGaW5pc2goc3RhdGUpO1xuICBpZiAobmVlZCkge1xuICAgIGlmIChzdGF0ZS5wZW5kaW5nY2IgPT09IDApIHtcbiAgICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTtcbiAgICAgIHN0YXRlLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgIHN0cmVhbS5lbWl0KCdmaW5pc2gnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJlZmluaXNoKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmVlZDtcbn1cblxuZnVuY3Rpb24gZW5kV3JpdGFibGUoc3RyZWFtLCBzdGF0ZSwgY2IpIHtcbiAgc3RhdGUuZW5kaW5nID0gdHJ1ZTtcbiAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7XG4gIGlmIChjYikge1xuICAgIGlmIChzdGF0ZS5maW5pc2hlZClcbiAgICAgIHByb2Nlc3NOZXh0VGljayhjYik7XG4gICAgZWxzZVxuICAgICAgc3RyZWFtLm9uY2UoJ2ZpbmlzaCcsIGNiKTtcbiAgfVxuICBzdGF0ZS5lbmRlZCA9IHRydWU7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL2xpYi9fc3RyZWFtX3Bhc3N0aHJvdWdoLmpzXCIpXG4iLCJ2YXIgU3RyZWFtID0gKGZ1bmN0aW9uICgpe1xuICB0cnkge1xuICAgIHJldHVybiByZXF1aXJlKCdzdCcgKyAncmVhbScpOyAvLyBoYWNrIHRvIGZpeCBhIGNpcmN1bGFyIGRlcGVuZGVuY3kgaXNzdWUgd2hlbiB1c2VkIHdpdGggYnJvd3NlcmlmeVxuICB9IGNhdGNoKF8pe31cbn0oKSk7XG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3JlYWRhYmxlLmpzJyk7XG5leHBvcnRzLlN0cmVhbSA9IFN0cmVhbSB8fCBleHBvcnRzO1xuZXhwb3J0cy5SZWFkYWJsZSA9IGV4cG9ydHM7XG5leHBvcnRzLldyaXRhYmxlID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV93cml0YWJsZS5qcycpO1xuZXhwb3J0cy5EdXBsZXggPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX2R1cGxleC5qcycpO1xuZXhwb3J0cy5UcmFuc2Zvcm0gPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcycpO1xuZXhwb3J0cy5QYXNzVGhyb3VnaCA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMnKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzXCIpXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzXCIpXG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxubW9kdWxlLmV4cG9ydHMgPSBTdHJlYW07XG5cbnZhciBFRSA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmluaGVyaXRzKFN0cmVhbSwgRUUpO1xuU3RyZWFtLlJlYWRhYmxlID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtL3JlYWRhYmxlLmpzJyk7XG5TdHJlYW0uV3JpdGFibGUgPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vd3JpdGFibGUuanMnKTtcblN0cmVhbS5EdXBsZXggPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vZHVwbGV4LmpzJyk7XG5TdHJlYW0uVHJhbnNmb3JtID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtL3RyYW5zZm9ybS5qcycpO1xuU3RyZWFtLlBhc3NUaHJvdWdoID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtL3Bhc3N0aHJvdWdoLmpzJyk7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuNC54XG5TdHJlYW0uU3RyZWFtID0gU3RyZWFtO1xuXG5cblxuLy8gb2xkLXN0eWxlIHN0cmVhbXMuICBOb3RlIHRoYXQgdGhlIHBpcGUgbWV0aG9kICh0aGUgb25seSByZWxldmFudFxuLy8gcGFydCBvZiB0aGlzIGNsYXNzKSBpcyBvdmVycmlkZGVuIGluIHRoZSBSZWFkYWJsZSBjbGFzcy5cblxuZnVuY3Rpb24gU3RyZWFtKCkge1xuICBFRS5jYWxsKHRoaXMpO1xufVxuXG5TdHJlYW0ucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbihkZXN0LCBvcHRpb25zKSB7XG4gIHZhciBzb3VyY2UgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykge1xuICAgIGlmIChkZXN0LndyaXRhYmxlKSB7XG4gICAgICBpZiAoZmFsc2UgPT09IGRlc3Qud3JpdGUoY2h1bmspICYmIHNvdXJjZS5wYXVzZSkge1xuICAgICAgICBzb3VyY2UucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzb3VyY2Uub24oJ2RhdGEnLCBvbmRhdGEpO1xuXG4gIGZ1bmN0aW9uIG9uZHJhaW4oKSB7XG4gICAgaWYgKHNvdXJjZS5yZWFkYWJsZSAmJiBzb3VyY2UucmVzdW1lKSB7XG4gICAgICBzb3VyY2UucmVzdW1lKCk7XG4gICAgfVxuICB9XG5cbiAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTtcblxuICAvLyBJZiB0aGUgJ2VuZCcgb3B0aW9uIGlzIG5vdCBzdXBwbGllZCwgZGVzdC5lbmQoKSB3aWxsIGJlIGNhbGxlZCB3aGVuXG4gIC8vIHNvdXJjZSBnZXRzIHRoZSAnZW5kJyBvciAnY2xvc2UnIGV2ZW50cy4gIE9ubHkgZGVzdC5lbmQoKSBvbmNlLlxuICBpZiAoIWRlc3QuX2lzU3RkaW8gJiYgKCFvcHRpb25zIHx8IG9wdGlvbnMuZW5kICE9PSBmYWxzZSkpIHtcbiAgICBzb3VyY2Uub24oJ2VuZCcsIG9uZW5kKTtcbiAgICBzb3VyY2Uub24oJ2Nsb3NlJywgb25jbG9zZSk7XG4gIH1cblxuICB2YXIgZGlkT25FbmQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gb25lbmQoKSB7XG4gICAgaWYgKGRpZE9uRW5kKSByZXR1cm47XG4gICAgZGlkT25FbmQgPSB0cnVlO1xuXG4gICAgZGVzdC5lbmQoKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25jbG9zZSgpIHtcbiAgICBpZiAoZGlkT25FbmQpIHJldHVybjtcbiAgICBkaWRPbkVuZCA9IHRydWU7XG5cbiAgICBpZiAodHlwZW9mIGRlc3QuZGVzdHJveSA9PT0gJ2Z1bmN0aW9uJykgZGVzdC5kZXN0cm95KCk7XG4gIH1cblxuICAvLyBkb24ndCBsZWF2ZSBkYW5nbGluZyBwaXBlcyB3aGVuIHRoZXJlIGFyZSBlcnJvcnMuXG4gIGZ1bmN0aW9uIG9uZXJyb3IoZXIpIHtcbiAgICBjbGVhbnVwKCk7XG4gICAgaWYgKEVFLmxpc3RlbmVyQ291bnQodGhpcywgJ2Vycm9yJykgPT09IDApIHtcbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgc3RyZWFtIGVycm9yIGluIHBpcGUuXG4gICAgfVxuICB9XG5cbiAgc291cmNlLm9uKCdlcnJvcicsIG9uZXJyb3IpO1xuICBkZXN0Lm9uKCdlcnJvcicsIG9uZXJyb3IpO1xuXG4gIC8vIHJlbW92ZSBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycyB0aGF0IHdlcmUgYWRkZWQuXG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgb25kYXRhKTtcbiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBvbmVuZCk7XG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpO1xuXG4gICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uZXJyb3IpO1xuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7XG5cbiAgICBzb3VyY2UucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIGNsZWFudXApO1xuICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBjbGVhbnVwKTtcblxuICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xlYW51cCk7XG4gIH1cblxuICBzb3VyY2Uub24oJ2VuZCcsIGNsZWFudXApO1xuICBzb3VyY2Uub24oJ2Nsb3NlJywgY2xlYW51cCk7XG5cbiAgZGVzdC5vbignY2xvc2UnLCBjbGVhbnVwKTtcblxuICBkZXN0LmVtaXQoJ3BpcGUnLCBzb3VyY2UpO1xuXG4gIC8vIEFsbG93IGZvciB1bml4LWxpa2UgdXNhZ2U6IEEucGlwZShCKS5waXBlKEMpXG4gIHJldHVybiBkZXN0O1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuXG52YXIgaXNCdWZmZXJFbmNvZGluZyA9IEJ1ZmZlci5pc0VuY29kaW5nXG4gIHx8IGZ1bmN0aW9uKGVuY29kaW5nKSB7XG4gICAgICAgc3dpdGNoIChlbmNvZGluZyAmJiBlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICBjYXNlICdoZXgnOiBjYXNlICd1dGY4JzogY2FzZSAndXRmLTgnOiBjYXNlICdhc2NpaSc6IGNhc2UgJ2JpbmFyeSc6IGNhc2UgJ2Jhc2U2NCc6IGNhc2UgJ3VjczInOiBjYXNlICd1Y3MtMic6IGNhc2UgJ3V0ZjE2bGUnOiBjYXNlICd1dGYtMTZsZSc6IGNhc2UgJ3Jhdyc6IHJldHVybiB0cnVlO1xuICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGZhbHNlO1xuICAgICAgIH1cbiAgICAgfVxuXG5cbmZ1bmN0aW9uIGFzc2VydEVuY29kaW5nKGVuY29kaW5nKSB7XG4gIGlmIChlbmNvZGluZyAmJiAhaXNCdWZmZXJFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZyk7XG4gIH1cbn1cblxuLy8gU3RyaW5nRGVjb2RlciBwcm92aWRlcyBhbiBpbnRlcmZhY2UgZm9yIGVmZmljaWVudGx5IHNwbGl0dGluZyBhIHNlcmllcyBvZlxuLy8gYnVmZmVycyBpbnRvIGEgc2VyaWVzIG9mIEpTIHN0cmluZ3Mgd2l0aG91dCBicmVha2luZyBhcGFydCBtdWx0aS1ieXRlXG4vLyBjaGFyYWN0ZXJzLiBDRVNVLTggaXMgaGFuZGxlZCBhcyBwYXJ0IG9mIHRoZSBVVEYtOCBlbmNvZGluZy5cbi8vXG4vLyBAVE9ETyBIYW5kbGluZyBhbGwgZW5jb2RpbmdzIGluc2lkZSBhIHNpbmdsZSBvYmplY3QgbWFrZXMgaXQgdmVyeSBkaWZmaWN1bHRcbi8vIHRvIHJlYXNvbiBhYm91dCB0aGlzIGNvZGUsIHNvIGl0IHNob3VsZCBiZSBzcGxpdCB1cCBpbiB0aGUgZnV0dXJlLlxuLy8gQFRPRE8gVGhlcmUgc2hvdWxkIGJlIGEgdXRmOC1zdHJpY3QgZW5jb2RpbmcgdGhhdCByZWplY3RzIGludmFsaWQgVVRGLTggY29kZVxuLy8gcG9pbnRzIGFzIHVzZWQgYnkgQ0VTVS04LlxudmFyIFN0cmluZ0RlY29kZXIgPSBleHBvcnRzLlN0cmluZ0RlY29kZXIgPSBmdW5jdGlvbihlbmNvZGluZykge1xuICB0aGlzLmVuY29kaW5nID0gKGVuY29kaW5nIHx8ICd1dGY4JykudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bLV9dLywgJycpO1xuICBhc3NlcnRFbmNvZGluZyhlbmNvZGluZyk7XG4gIHN3aXRjaCAodGhpcy5lbmNvZGluZykge1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgLy8gQ0VTVS04IHJlcHJlc2VudHMgZWFjaCBvZiBTdXJyb2dhdGUgUGFpciBieSAzLWJ5dGVzXG4gICAgICB0aGlzLnN1cnJvZ2F0ZVNpemUgPSAzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICAvLyBVVEYtMTYgcmVwcmVzZW50cyBlYWNoIG9mIFN1cnJvZ2F0ZSBQYWlyIGJ5IDItYnl0ZXNcbiAgICAgIHRoaXMuc3Vycm9nYXRlU2l6ZSA9IDI7XG4gICAgICB0aGlzLmRldGVjdEluY29tcGxldGVDaGFyID0gdXRmMTZEZXRlY3RJbmNvbXBsZXRlQ2hhcjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAvLyBCYXNlLTY0IHN0b3JlcyAzIGJ5dGVzIGluIDQgY2hhcnMsIGFuZCBwYWRzIHRoZSByZW1haW5kZXIuXG4gICAgICB0aGlzLnN1cnJvZ2F0ZVNpemUgPSAzO1xuICAgICAgdGhpcy5kZXRlY3RJbmNvbXBsZXRlQ2hhciA9IGJhc2U2NERldGVjdEluY29tcGxldGVDaGFyO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRoaXMud3JpdGUgPSBwYXNzVGhyb3VnaFdyaXRlO1xuICAgICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRW5vdWdoIHNwYWNlIHRvIHN0b3JlIGFsbCBieXRlcyBvZiBhIHNpbmdsZSBjaGFyYWN0ZXIuIFVURi04IG5lZWRzIDRcbiAgLy8gYnl0ZXMsIGJ1dCBDRVNVLTggbWF5IHJlcXVpcmUgdXAgdG8gNiAoMyBieXRlcyBwZXIgc3Vycm9nYXRlKS5cbiAgdGhpcy5jaGFyQnVmZmVyID0gbmV3IEJ1ZmZlcig2KTtcbiAgLy8gTnVtYmVyIG9mIGJ5dGVzIHJlY2VpdmVkIGZvciB0aGUgY3VycmVudCBpbmNvbXBsZXRlIG11bHRpLWJ5dGUgY2hhcmFjdGVyLlxuICB0aGlzLmNoYXJSZWNlaXZlZCA9IDA7XG4gIC8vIE51bWJlciBvZiBieXRlcyBleHBlY3RlZCBmb3IgdGhlIGN1cnJlbnQgaW5jb21wbGV0ZSBtdWx0aS1ieXRlIGNoYXJhY3Rlci5cbiAgdGhpcy5jaGFyTGVuZ3RoID0gMDtcbn07XG5cblxuLy8gd3JpdGUgZGVjb2RlcyB0aGUgZ2l2ZW4gYnVmZmVyIGFuZCByZXR1cm5zIGl0IGFzIEpTIHN0cmluZyB0aGF0IGlzXG4vLyBndWFyYW50ZWVkIHRvIG5vdCBjb250YWluIGFueSBwYXJ0aWFsIG11bHRpLWJ5dGUgY2hhcmFjdGVycy4gQW55IHBhcnRpYWxcbi8vIGNoYXJhY3RlciBmb3VuZCBhdCB0aGUgZW5kIG9mIHRoZSBidWZmZXIgaXMgYnVmZmVyZWQgdXAsIGFuZCB3aWxsIGJlXG4vLyByZXR1cm5lZCB3aGVuIGNhbGxpbmcgd3JpdGUgYWdhaW4gd2l0aCB0aGUgcmVtYWluaW5nIGJ5dGVzLlxuLy9cbi8vIE5vdGU6IENvbnZlcnRpbmcgYSBCdWZmZXIgY29udGFpbmluZyBhbiBvcnBoYW4gc3Vycm9nYXRlIHRvIGEgU3RyaW5nXG4vLyBjdXJyZW50bHkgd29ya3MsIGJ1dCBjb252ZXJ0aW5nIGEgU3RyaW5nIHRvIGEgQnVmZmVyICh2aWEgYG5ldyBCdWZmZXJgLCBvclxuLy8gQnVmZmVyI3dyaXRlKSB3aWxsIHJlcGxhY2UgaW5jb21wbGV0ZSBzdXJyb2dhdGVzIHdpdGggdGhlIHVuaWNvZGVcbi8vIHJlcGxhY2VtZW50IGNoYXJhY3Rlci4gU2VlIGh0dHBzOi8vY29kZXJldmlldy5jaHJvbWl1bS5vcmcvMTIxMTczMDA5LyAuXG5TdHJpbmdEZWNvZGVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICB2YXIgY2hhclN0ciA9ICcnO1xuICAvLyBpZiBvdXIgbGFzdCB3cml0ZSBlbmRlZCB3aXRoIGFuIGluY29tcGxldGUgbXVsdGlieXRlIGNoYXJhY3RlclxuICB3aGlsZSAodGhpcy5jaGFyTGVuZ3RoKSB7XG4gICAgLy8gZGV0ZXJtaW5lIGhvdyBtYW55IHJlbWFpbmluZyBieXRlcyB0aGlzIGJ1ZmZlciBoYXMgdG8gb2ZmZXIgZm9yIHRoaXMgY2hhclxuICAgIHZhciBhdmFpbGFibGUgPSAoYnVmZmVyLmxlbmd0aCA+PSB0aGlzLmNoYXJMZW5ndGggLSB0aGlzLmNoYXJSZWNlaXZlZCkgP1xuICAgICAgICB0aGlzLmNoYXJMZW5ndGggLSB0aGlzLmNoYXJSZWNlaXZlZCA6XG4gICAgICAgIGJ1ZmZlci5sZW5ndGg7XG5cbiAgICAvLyBhZGQgdGhlIG5ldyBieXRlcyB0byB0aGUgY2hhciBidWZmZXJcbiAgICBidWZmZXIuY29weSh0aGlzLmNoYXJCdWZmZXIsIHRoaXMuY2hhclJlY2VpdmVkLCAwLCBhdmFpbGFibGUpO1xuICAgIHRoaXMuY2hhclJlY2VpdmVkICs9IGF2YWlsYWJsZTtcblxuICAgIGlmICh0aGlzLmNoYXJSZWNlaXZlZCA8IHRoaXMuY2hhckxlbmd0aCkge1xuICAgICAgLy8gc3RpbGwgbm90IGVub3VnaCBjaGFycyBpbiB0aGlzIGJ1ZmZlcj8gd2FpdCBmb3IgbW9yZSAuLi5cbiAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvLyByZW1vdmUgYnl0ZXMgYmVsb25naW5nIHRvIHRoZSBjdXJyZW50IGNoYXJhY3RlciBmcm9tIHRoZSBidWZmZXJcbiAgICBidWZmZXIgPSBidWZmZXIuc2xpY2UoYXZhaWxhYmxlLCBidWZmZXIubGVuZ3RoKTtcblxuICAgIC8vIGdldCB0aGUgY2hhcmFjdGVyIHRoYXQgd2FzIHNwbGl0XG4gICAgY2hhclN0ciA9IHRoaXMuY2hhckJ1ZmZlci5zbGljZSgwLCB0aGlzLmNoYXJMZW5ndGgpLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpO1xuXG4gICAgLy8gQ0VTVS04OiBsZWFkIHN1cnJvZ2F0ZSAoRDgwMC1EQkZGKSBpcyBhbHNvIHRoZSBpbmNvbXBsZXRlIGNoYXJhY3RlclxuICAgIHZhciBjaGFyQ29kZSA9IGNoYXJTdHIuY2hhckNvZGVBdChjaGFyU3RyLmxlbmd0aCAtIDEpO1xuICAgIGlmIChjaGFyQ29kZSA+PSAweEQ4MDAgJiYgY2hhckNvZGUgPD0gMHhEQkZGKSB7XG4gICAgICB0aGlzLmNoYXJMZW5ndGggKz0gdGhpcy5zdXJyb2dhdGVTaXplO1xuICAgICAgY2hhclN0ciA9ICcnO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHRoaXMuY2hhclJlY2VpdmVkID0gdGhpcy5jaGFyTGVuZ3RoID0gMDtcblxuICAgIC8vIGlmIHRoZXJlIGFyZSBubyBtb3JlIGJ5dGVzIGluIHRoaXMgYnVmZmVyLCBqdXN0IGVtaXQgb3VyIGNoYXJcbiAgICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGNoYXJTdHI7XG4gICAgfVxuICAgIGJyZWFrO1xuICB9XG5cbiAgLy8gZGV0ZXJtaW5lIGFuZCBzZXQgY2hhckxlbmd0aCAvIGNoYXJSZWNlaXZlZFxuICB0aGlzLmRldGVjdEluY29tcGxldGVDaGFyKGJ1ZmZlcik7XG5cbiAgdmFyIGVuZCA9IGJ1ZmZlci5sZW5ndGg7XG4gIGlmICh0aGlzLmNoYXJMZW5ndGgpIHtcbiAgICAvLyBidWZmZXIgdGhlIGluY29tcGxldGUgY2hhcmFjdGVyIGJ5dGVzIHdlIGdvdFxuICAgIGJ1ZmZlci5jb3B5KHRoaXMuY2hhckJ1ZmZlciwgMCwgYnVmZmVyLmxlbmd0aCAtIHRoaXMuY2hhclJlY2VpdmVkLCBlbmQpO1xuICAgIGVuZCAtPSB0aGlzLmNoYXJSZWNlaXZlZDtcbiAgfVxuXG4gIGNoYXJTdHIgKz0gYnVmZmVyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIGVuZCk7XG5cbiAgdmFyIGVuZCA9IGNoYXJTdHIubGVuZ3RoIC0gMTtcbiAgdmFyIGNoYXJDb2RlID0gY2hhclN0ci5jaGFyQ29kZUF0KGVuZCk7XG4gIC8vIENFU1UtODogbGVhZCBzdXJyb2dhdGUgKEQ4MDAtREJGRikgaXMgYWxzbyB0aGUgaW5jb21wbGV0ZSBjaGFyYWN0ZXJcbiAgaWYgKGNoYXJDb2RlID49IDB4RDgwMCAmJiBjaGFyQ29kZSA8PSAweERCRkYpIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc3Vycm9nYXRlU2l6ZTtcbiAgICB0aGlzLmNoYXJMZW5ndGggKz0gc2l6ZTtcbiAgICB0aGlzLmNoYXJSZWNlaXZlZCArPSBzaXplO1xuICAgIHRoaXMuY2hhckJ1ZmZlci5jb3B5KHRoaXMuY2hhckJ1ZmZlciwgc2l6ZSwgMCwgc2l6ZSk7XG4gICAgYnVmZmVyLmNvcHkodGhpcy5jaGFyQnVmZmVyLCAwLCAwLCBzaXplKTtcbiAgICByZXR1cm4gY2hhclN0ci5zdWJzdHJpbmcoMCwgZW5kKTtcbiAgfVxuXG4gIC8vIG9yIGp1c3QgZW1pdCB0aGUgY2hhclN0clxuICByZXR1cm4gY2hhclN0cjtcbn07XG5cbi8vIGRldGVjdEluY29tcGxldGVDaGFyIGRldGVybWluZXMgaWYgdGhlcmUgaXMgYW4gaW5jb21wbGV0ZSBVVEYtOCBjaGFyYWN0ZXIgYXRcbi8vIHRoZSBlbmQgb2YgdGhlIGdpdmVuIGJ1ZmZlci4gSWYgc28sIGl0IHNldHMgdGhpcy5jaGFyTGVuZ3RoIHRvIHRoZSBieXRlXG4vLyBsZW5ndGggdGhhdCBjaGFyYWN0ZXIsIGFuZCBzZXRzIHRoaXMuY2hhclJlY2VpdmVkIHRvIHRoZSBudW1iZXIgb2YgYnl0ZXNcbi8vIHRoYXQgYXJlIGF2YWlsYWJsZSBmb3IgdGhpcyBjaGFyYWN0ZXIuXG5TdHJpbmdEZWNvZGVyLnByb3RvdHlwZS5kZXRlY3RJbmNvbXBsZXRlQ2hhciA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICAvLyBkZXRlcm1pbmUgaG93IG1hbnkgYnl0ZXMgd2UgaGF2ZSB0byBjaGVjayBhdCB0aGUgZW5kIG9mIHRoaXMgYnVmZmVyXG4gIHZhciBpID0gKGJ1ZmZlci5sZW5ndGggPj0gMykgPyAzIDogYnVmZmVyLmxlbmd0aDtcblxuICAvLyBGaWd1cmUgb3V0IGlmIG9uZSBvZiB0aGUgbGFzdCBpIGJ5dGVzIG9mIG91ciBidWZmZXIgYW5ub3VuY2VzIGFuXG4gIC8vIGluY29tcGxldGUgY2hhci5cbiAgZm9yICg7IGkgPiAwOyBpLS0pIHtcbiAgICB2YXIgYyA9IGJ1ZmZlcltidWZmZXIubGVuZ3RoIC0gaV07XG5cbiAgICAvLyBTZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9VVEYtOCNEZXNjcmlwdGlvblxuXG4gICAgLy8gMTEwWFhYWFhcbiAgICBpZiAoaSA9PSAxICYmIGMgPj4gNSA9PSAweDA2KSB7XG4gICAgICB0aGlzLmNoYXJMZW5ndGggPSAyO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gMTExMFhYWFhcbiAgICBpZiAoaSA8PSAyICYmIGMgPj4gNCA9PSAweDBFKSB7XG4gICAgICB0aGlzLmNoYXJMZW5ndGggPSAzO1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy8gMTExMTBYWFhcbiAgICBpZiAoaSA8PSAzICYmIGMgPj4gMyA9PSAweDFFKSB7XG4gICAgICB0aGlzLmNoYXJMZW5ndGggPSA0O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHRoaXMuY2hhclJlY2VpdmVkID0gaTtcbn07XG5cblN0cmluZ0RlY29kZXIucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKGJ1ZmZlcikge1xuICB2YXIgcmVzID0gJyc7XG4gIGlmIChidWZmZXIgJiYgYnVmZmVyLmxlbmd0aClcbiAgICByZXMgPSB0aGlzLndyaXRlKGJ1ZmZlcik7XG5cbiAgaWYgKHRoaXMuY2hhclJlY2VpdmVkKSB7XG4gICAgdmFyIGNyID0gdGhpcy5jaGFyUmVjZWl2ZWQ7XG4gICAgdmFyIGJ1ZiA9IHRoaXMuY2hhckJ1ZmZlcjtcbiAgICB2YXIgZW5jID0gdGhpcy5lbmNvZGluZztcbiAgICByZXMgKz0gYnVmLnNsaWNlKDAsIGNyKS50b1N0cmluZyhlbmMpO1xuICB9XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cbmZ1bmN0aW9uIHBhc3NUaHJvdWdoV3JpdGUoYnVmZmVyKSB7XG4gIHJldHVybiBidWZmZXIudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7XG59XG5cbmZ1bmN0aW9uIHV0ZjE2RGV0ZWN0SW5jb21wbGV0ZUNoYXIoYnVmZmVyKSB7XG4gIHRoaXMuY2hhclJlY2VpdmVkID0gYnVmZmVyLmxlbmd0aCAlIDI7XG4gIHRoaXMuY2hhckxlbmd0aCA9IHRoaXMuY2hhclJlY2VpdmVkID8gMiA6IDA7XG59XG5cbmZ1bmN0aW9uIGJhc2U2NERldGVjdEluY29tcGxldGVDaGFyKGJ1ZmZlcikge1xuICB0aGlzLmNoYXJSZWNlaXZlZCA9IGJ1ZmZlci5sZW5ndGggJSAzO1xuICB0aGlzLmNoYXJMZW5ndGggPSB0aGlzLmNoYXJSZWNlaXZlZCA/IDMgOiAwO1xufVxuIiwiXG52YXIgaXNDb29sID0gcmVxdWlyZSgnaXNjb29sJykoKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdCgnXFxXJykuZXZlcnkoZnVuY3Rpb24gKHdvcmQpIHtcbiAgICByZXR1cm4gISF3b3JkID8gaXNDb29sKHdvcmQpIDogdHJ1ZVxuICB9KVxufVxuIiwidmFyIEltbXV0YWJsZSA9IHJlcXVpcmUoJ2ltbXV0YWJsZScpO1xuXG4vLyBFdmVyeXRoaW5nIGluIHRoZSBsaXN0cyBzaG91bGQgYmUgbG93ZXJjYXNlLiBQb3RlbnRpYWwgbWF0Y2hlcyB3aWxsIGFsc28gXG4vLyBiZSBjb252ZXJ0ZWQgdG8gbG93ZXJjYXNlLlxuXG52YXIgbGlzdHMgPSB7XG4gIC8vIGZhbHNlUG9zaXRpdmVzTGlzdCBzaG91bGQgY29udGFpbiBvbmx5IHRoZSBzaW5ndWxhciBmb3JtcyBvZiB0aGUgd29yZHMsIFxuICAvLyB3b3JkcyB3aWxsIGJlIHNpbmd1bGFyaXplZCBiZWZvcmUgYmVpbmcgY2hlY2tlZCBhZ2FpbnN0IHRoaXMgbGlzdC5cbiAgZmFsc2VQb3NpdGl2ZXM6IFtcbiAgICAncnQnLFxuICAgICdodHRwJyxcbiAgICAnaGFoYScsXG4gICAgJ2FkdicsXG4gICAgJ3NhbicsXG4gICAgJ3RyaScsXG4gICAgJ2FzYScsXG4gICAgJ2F0dCcsXG4gICAgJ2lvJyxcbiAgICAnaW1vJyxcbiAgICAncGwnLFxuICAgICdkcicsXG4gICAgJ2FsYScsXG4gICAgJ2FtYSdcbiAgXSxcbiAgZXh0ZW5kZWRCbGFja2xpc3Q6IFtcbiAgICAnbmVncm8nLFxuICAgICduZWdyb2VzJyxcbiAgICAnY2hpbmsnLFxuICAgICdjaGlua3MnLFxuICAgICdnb29rJyxcbiAgICAnZ29va3MnLFxuICAgICduaWdnZXInLFxuICAgICduaWdnZXJzJyxcbiAgICAnbmlnZ2EnLFxuICAgICduaWdnYXMnLFxuICAgICdzcGljJyxcbiAgICAnc3BpY3MnLFxuICAgICdyYXBlJyxcbiAgICAncmFwZXMnLFxuICAgICdyYXBpc3QnLFxuICAgICdyYXBpc3RzJyxcbiAgICAnYm9tYmluZycsXG4gICAgJ2JvbWJpbmdzJyxcbiAgICAnc2hvb3RpbmdzJyxcbiAgICAnc2hvb3RpbmcnLFxuICAgICdtaXNjYXJyaWFnZScsXG4gICAgJ2Nvb24nLFxuICAgICd0cmFuc2dlbmRlcicsIC8vIE9LIG5vcm1hbGx5LCBub3QgT0sgYXMgYSBub3VuLlxuICAgICdzd2FzdGlrYScsXG4gICAgJ25hemknLFxuICAgICduYXppcycsXG4gICAgJ25hemlkb20nLFxuICAgICdob2xvY2F1c3QnLFxuICAgICdpc2xhbWlzdCcsXG4gICAgJ2ppaGFkaXN0JyxcbiAgICAna2xhbicsXG4gICAgJ2JsYWNrZmFjZScsXG4gICAgJ2FidXNlcicsXG4gICAgJ24td29yZCcsXG4gICAgJ2Rhcmt5JyxcbiAgICAnZGFya2llcycsXG4gICAgJ2NyaXAnLFxuICAgICdjcmlwcycsXG4gICAgJ2NyaXBwbGUnLFxuICAgICdjcmlwcGxlcycsXG4gICAgJ3BlZG9waGlsZScsXG4gICAgJ3BlZG9waGlsaWEnLFxuICAgICdjYW5jZXInLFxuICAgICdzZWl6dXJlJyxcbiAgICAnZXVsb2d5JyxcbiAgICAnbHluY2hpbmcnLFxuICAgICdzbGF2ZW93bmVyJyxcbiAgICAnc2xhdmVvd25lcnMnLFxuICAgICdjb25kb2xlbmNlJyxcbiAgICAnY29uZG9sZW5jZXMnLFxuICAgICdSSVAnLFxuICAgICdtb2xlc3RhdGlvbicsXG4gICAgJ21vbGVzdGF0aW9ucycsXG4gICAgJ21vbGVzdGVyJyxcbiAgICAnbW9sZXN0ZXJzJyxcbiAgICAndHJpZ2dlcmluZycsXG4gICAgJ3RyaWdnZXInXG4gIF0sXG4gIHRyYWdlZHlNb2RlQmxhY2tsaXN0OiBbXG4gICAgJ2dhemEnLFxuICAgICdpc3JhZWwnLFxuICAgICdwYWxlc3RpbmUnLFxuICAgICdpbnZhc2lvbicsXG4gICAgJ2hvcnJvcicsXG4gICAgJ2dlbm9jaWRlJyxcbiAgICAnZXhwbG9zaW9uJyxcbiAgICAnYXNzYXVsdCcsXG4gICAgJ2hhbWFzJyxcbiAgICAnYm9tYicsXG4gICAgJ3BsYW5lJyxcbiAgICAnZGVhdGgnLFxuICAgICdtaXNzaWxlJyxcbiAgICAnY3Jhc2gnLFxuICAgICdzdWljaWRlJyxcbiAgICAnYWlyc3RyaWtlJyxcbiAgICAnYnJpZ2FkaWVyJyxcbiAgICAnaWRmJyxcbiAgICAnaXNpcycsXG4gICAgJ21vdXJuZXInLFxuICAgICdtb3VybmVycycsXG4gICAgJ2lyYXEnLFxuICAgICdhY2NpZGVudCcsXG4gICAgJ2Vib2xhJyxcbiAgICAnZGVwcmVzc2lvbicsXG4gICAgJ2FzcGh5eGlhdGlvbicsXG4gICAgJ2Zlcmd1c29uJyxcbiAgICAnYmVoZWFkaW5nJyxcbiAgICAnZm9sZXknLFxuICAgICdndW4nLFxuICAgICdyaXAnLFxuICAgICdjaG9rZWhvbGQnLFxuICAgICdjb3JvbmVyJyxcbiAgICAnZXJpYycsXG4gICAgJ2dhcm5lcicsXG4gICAgJ3RvcnR1cmUnLFxuICAgICd0b3J0dXJlcicsXG4gICAgJ3VrcmFpbmUnLFxuICAgICdkb25ldHNrJyxcbiAgICAnamloYWQnLFxuICAgICdncmlldmluZycsXG4gICAgJ3dhbHRlcicsXG4gICAgJ3Njb3R0JyxcbiAgICAnY29wJyxcbiAgICAncG9saWNlJyxcbiAgICAnb2ZmaWNlcicsXG4gICAgJ25lcGFsJyxcbiAgICAnZWFydGhxdWFrZScsXG4gICAgJ2thdG1hbmR1JyxcbiAgICAnRHVyYmFyJyxcbiAgICAnd3JlY2thZ2UnLFxuICAgICdjYXJuYWdlJyxcbiAgICAncmlvdCcsXG4gICAgJ3Jpb3RpbmcnLFxuICAgICdiYWx0aW1vcmUnLFxuICAgICdmcmVkZGllJyxcbiAgICAnZ3JheScsXG4gICAgJ2RlcmFpbG1lbnQnLFxuICAgICdhbXRyYWsnLFxuICAgICd0cmFpbicsXG4gICAgJ3BoaWxhZGVscGhpYScsXG5cbiAgICAncmV2JyxcbiAgICAvLyAnc2hhcm9uZGEnLFxuICAgIC8vICdjb2xlbWFuJyxcbiAgICAnc2luZ2xldG9uJyxcblxuICAgIC8vICdjeW50aGlhJyxcbiAgICAnaHVyZCcsXG5cbiAgICAvLyAnc3VzaWUnLFxuICAgIC8vICdqYWNrc29uJyxcblxuICAgICdldGhlbCcsXG4gICAgJ2xhbmNlJyxcblxuICAgIC8vICdkZXBheW5lJyxcbiAgICAvLyAnbWlkZGxldG9uJyxcbiAgICAvLyAnZG9jdG9yJyxcblxuICAgIC8vICdjbGVtZW50YScsXG4gICAgLy8gJ3BpbmNrbmV5JyxcblxuICAgIC8vICd0eXdhbnphJyxcbiAgICAvLyAnc2FuZGVycycsXG4gICAgJ3NhbmRlcicsXG5cbiAgICAnZGFuaWVsJyxcbiAgICAvLyAnc2ltbW9ucycsXG4gICAgJ3NpbW1vbicsXG5cbiAgICAvLyAnbXlyYScsXG4gICAgLy8gJ3Rob21wc29uJyxcblxuICAgICdhbWUnLFxuICAgICdlbWFudWVsJyxcbiAgICAndmljdGltJyxcbiAgICAnY2hhcmxlc3RvbicsXG4gICAgJ2NvbHVtYmlhJyxcbiAgICAncmFjaXN0JyxcbiAgICAnc3VwcmVtYWNpc3QnLFxuICAgICdyYWNpc20nLFxuICAgICdzdXByZW1hY3knLFxuICAgICdkeWxhbm4nLFxuICAgICdyb29mJyxcbiAgICAnbXVyZGVyJyxcbiAgICAnbXVyZGVyZXInLFxuICAgICd3aGl0ZW5lc3MnLFxuICAgICdyaG9kZXNpYW4nLFxuICAgICdyaG9kZXNpYScsXG4gICAgJ2Z1bmVyYWwnLFxuICAgICdhcnNvbicsXG4gICAgJ2ZpcmVib21iaW5nJyxcbiAgICAna2lsbGVkJyxcblxuICAgICdjYW1lcmFtYW4nLFxuICAgICd2aXJnaW5pYSdcbiAgXSxcbiAgd2hpdGVsaXN0OiBbXG4gIF1cbn07XG5cbi8vIFRPRE86IERpZmZlcmVudGlhdGUgYmV0d2VlbiB3b3JkcyBub3QgY29vbCB0byBzYXkgdnMuIHdvcmRzIG5vdCBjb29sIHRvXG4vLyByZXNwb25kIHRvLlxuXG5tb2R1bGUuZXhwb3J0cyA9IEltbXV0YWJsZS5NYXAobGlzdHMpO1xuIiwidmFyIGRlZmF1bHRMaXN0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdGxpc3RzJyk7XG52YXIgd29yZGZpbHRlciA9IHJlcXVpcmUoJ3dvcmRmaWx0ZXInKTtcblxud29yZGZpbHRlci5yZW1vdmVXb3JkKCdjcmlwJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUlzQ29vbChvcHRzKSB7XG4gIHZhciBmYWxzZVBvc2l0aXZlcyA9IGRlZmF1bHRMaXN0cy5nZXQoJ2ZhbHNlUG9zaXRpdmVzJyk7XG4gIHZhciBleHRlbmRlZEJsYWNrbGlzdCA9IGRlZmF1bHRMaXN0cy5nZXQoJ2V4dGVuZGVkQmxhY2tsaXN0Jyk7XG4gIHZhciB0cmFnZWR5TW9kZUJsYWNrbGlzdCA9IGRlZmF1bHRMaXN0cy5nZXQoJ3RyYWdlZHlNb2RlQmxhY2tsaXN0Jyk7XG4gIHZhciB3aGl0ZWxpc3QgPSBkZWZhdWx0TGlzdHMuZ2V0KCd3aGl0ZWxpc3QnKTtcbiAgdmFyIGN1c3RvbUJsYWNrbGlzdDtcbiAgdmFyIGN1c3RvbVdoaXRlbGlzdDtcbiAgdmFyIHRyYWdlZHlIYXBwZW5lZFJlY2VudGx5ID0gdHJ1ZTtcbiAgdmFyIGxvZ2dlcjtcblxuICBpZiAodHlwZW9mIG9wdHMgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKG9wdHMubG9nZ2VyKSB7XG4gICAgICBsb2dnZXIgPSBvcHRzLmxvZ2dlcjtcbiAgICB9XG4gICAgaWYgKG9wdHMuZmFsc2VQb3NpdGl2ZXMpIHtcbiAgICAgIGZhbHNlUG9zaXRpdmVzID0gb3B0cy5mYWxzZVBvc2l0aXZlcztcbiAgICB9XG4gICAgaWYgKG9wdHMuZXh0ZW5kZWRCbGFja2xpc3QpIHtcbiAgICAgIGV4dGVuZGVkQmxhY2tsaXN0ID0gb3B0cy5leHRlbmRlZEJsYWNrbGlzdDtcbiAgICB9XG4gICAgaWYgKG9wdHMuY3VzdG9tQmxhY2tsaXN0KSB7XG4gICAgICBjdXN0b21CbGFja2xpc3QgPSBvcHRzLmN1c3RvbUJsYWNrbGlzdDtcbiAgICB9XG4gICAgaWYgKG9wdHMudHJhZ2VkeU1vZGVCbGFja2xpc3QpIHtcbiAgICAgIHRyYWdlZHlNb2RlQmxhY2tsaXN0ID0gb3B0cy50cmFnZWR5TW9kZUJsYWNrbGlzdDtcbiAgICB9XG4gICAgaWYgKCd0cmFnZWR5SGFwcGVuZWRSZWNlbnRseScgaW4gb3B0cykge1xuICAgICAgdHJhZ2VkeUhhcHBlbmVkUmVjZW50bHkgPSBvcHRzLnRyYWdlZHlIYXBwZW5lZFJlY2VudGx5O1xuICAgIH1cbiAgICBjdXN0b21XaGl0ZWxpc3QgPSBvcHRzLmN1c3RvbVdoaXRlbGlzdDtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpc2Nvb2wgY29uc3RydWN0b3IgZnVuY3Rpb24gZXhwZWN0ZWQgYW4gb3B0aW9ucyBvYmplY3QgYnV0IHJlY2VpdmVkICcgKyBvcHRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQ29vbCh3b3JkKSB7XG4gICAgdmFyIG5vcm1hbGl6ZWRXb3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgIFxuICAgIGlmICh3aGl0ZWxpc3QuaW5kZXhPZihub3JtYWxpemVkV29yZCkgIT09IC0xKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY3VzdG9tV2hpdGVsaXN0ICYmIGN1c3RvbVdoaXRlbGlzdC5pbmRleE9mKG5vcm1hbGl6ZWRXb3JkKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBjb29sID0gKGZhbHNlUG9zaXRpdmVzLmluZGV4T2Yobm9ybWFsaXplZFdvcmQpID09PSAtMSk7XG5cbiAgICBpZiAoY29vbCkge1xuICAgICAgY29vbCA9IChleHRlbmRlZEJsYWNrbGlzdC5pbmRleE9mKG5vcm1hbGl6ZWRXb3JkKSA9PT0gLTEpO1xuICAgIH1cblxuICAgIGlmIChjb29sKSB7XG4gICAgICBjb29sID0gIXdvcmRmaWx0ZXIuYmxhY2tsaXN0ZWQobm9ybWFsaXplZFdvcmQpO1xuICAgIH1cblxuICAgIGlmIChjb29sICYmIGN1c3RvbUJsYWNrbGlzdCkge1xuICAgICAgY29vbCA9IChjdXN0b21CbGFja2xpc3QuaW5kZXhPZihub3JtYWxpemVkV29yZCkgPT09IC0xKTtcbiAgICB9XG5cbiAgICBpZiAoY29vbCAmJiB0cmFnZWR5SGFwcGVuZWRSZWNlbnRseSkge1xuICAgICAgY29vbCA9ICh0cmFnZWR5TW9kZUJsYWNrbGlzdC5pbmRleE9mKG5vcm1hbGl6ZWRXb3JkKSA9PT0gLTEpO1xuICAgIH1cblxuICAgIGlmICghY29vbCAmJiBsb2dnZXIpIHtcbiAgICAgIGxvZ2dlci5sb2coJ1VuY29vbCB3b3JkOiAnICsgd29yZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvb2w7XG4gIH1cblxuICByZXR1cm4gaXNDb29sO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUlzQ29vbDtcbiIsIi8qKlxuICogIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIGdsb2JhbC5JbW11dGFibGUgPSBmYWN0b3J5KClcbn0odGhpcywgZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7dmFyIFNMSUNFJDAgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ2xhc3MoY3Rvciwgc3VwZXJDbGFzcykge1xuICAgIGlmIChzdXBlckNsYXNzKSB7XG4gICAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICAgIH1cbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3I7XG4gIH1cblxuICAvLyBVc2VkIGZvciBzZXR0aW5nIHByb3RvdHlwZSBtZXRob2RzIHRoYXQgSUU4IGNob2tlcyBvbi5cbiAgdmFyIERFTEVURSA9ICdkZWxldGUnO1xuXG4gIC8vIENvbnN0YW50cyBkZXNjcmliaW5nIHRoZSBzaXplIG9mIHRyaWUgbm9kZXMuXG4gIHZhciBTSElGVCA9IDU7IC8vIFJlc3VsdGVkIGluIGJlc3QgcGVyZm9ybWFuY2UgYWZ0ZXIgX19fX19fP1xuICB2YXIgU0laRSA9IDEgPDwgU0hJRlQ7XG4gIHZhciBNQVNLID0gU0laRSAtIDE7XG5cbiAgLy8gQSBjb25zaXN0ZW50IHNoYXJlZCB2YWx1ZSByZXByZXNlbnRpbmcgXCJub3Qgc2V0XCIgd2hpY2ggZXF1YWxzIG5vdGhpbmcgb3RoZXJcbiAgLy8gdGhhbiBpdHNlbGYsIGFuZCBub3RoaW5nIHRoYXQgY291bGQgYmUgcHJvdmlkZWQgZXh0ZXJuYWxseS5cbiAgdmFyIE5PVF9TRVQgPSB7fTtcblxuICAvLyBCb29sZWFuIHJlZmVyZW5jZXMsIFJvdWdoIGVxdWl2YWxlbnQgb2YgYGJvb2wgJmAuXG4gIHZhciBDSEFOR0VfTEVOR1RIID0geyB2YWx1ZTogZmFsc2UgfTtcbiAgdmFyIERJRF9BTFRFUiA9IHsgdmFsdWU6IGZhbHNlIH07XG5cbiAgZnVuY3Rpb24gTWFrZVJlZihyZWYpIHtcbiAgICByZWYudmFsdWUgPSBmYWxzZTtcbiAgICByZXR1cm4gcmVmO1xuICB9XG5cbiAgZnVuY3Rpb24gU2V0UmVmKHJlZikge1xuICAgIHJlZiAmJiAocmVmLnZhbHVlID0gdHJ1ZSk7XG4gIH1cblxuICAvLyBBIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYSB2YWx1ZSByZXByZXNlbnRpbmcgYW4gXCJvd25lclwiIGZvciB0cmFuc2llbnQgd3JpdGVzXG4gIC8vIHRvIHRyaWVzLiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgb25seSBldmVyIGVxdWFsIGl0c2VsZiwgYW5kIHdpbGwgbm90IGVxdWFsXG4gIC8vIHRoZSByZXR1cm4gb2YgYW55IHN1YnNlcXVlbnQgY2FsbCBvZiB0aGlzIGZ1bmN0aW9uLlxuICBmdW5jdGlvbiBPd25lcklEKCkge31cblxuICAvLyBodHRwOi8vanNwZXJmLmNvbS9jb3B5LWFycmF5LWlubGluZVxuICBmdW5jdGlvbiBhcnJDb3B5KGFyciwgb2Zmc2V0KSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG4gICAgdmFyIGxlbiA9IE1hdGgubWF4KDAsIGFyci5sZW5ndGggLSBvZmZzZXQpO1xuICAgIHZhciBuZXdBcnIgPSBuZXcgQXJyYXkobGVuKTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgICBuZXdBcnJbaWldID0gYXJyW2lpICsgb2Zmc2V0XTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0FycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuc3VyZVNpemUoaXRlcikge1xuICAgIGlmIChpdGVyLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaXRlci5zaXplID0gaXRlci5fX2l0ZXJhdGUocmV0dXJuVHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBpdGVyLnNpemU7XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwSW5kZXgoaXRlciwgaW5kZXgpIHtcbiAgICAvLyBUaGlzIGltcGxlbWVudHMgXCJpcyBhcnJheSBpbmRleFwiIHdoaWNoIHRoZSBFQ01BU3RyaW5nIHNwZWMgZGVmaW5lcyBhczpcbiAgICAvLyAgICAgQSBTdHJpbmcgcHJvcGVydHkgbmFtZSBQIGlzIGFuIGFycmF5IGluZGV4IGlmIGFuZCBvbmx5IGlmXG4gICAgLy8gICAgIFRvU3RyaW5nKFRvVWludDMyKFApKSBpcyBlcXVhbCB0byBQIGFuZCBUb1VpbnQzMihQKSBpcyBub3QgZXF1YWxcbiAgICAvLyAgICAgdG8gMl4zMuKIkjEuXG4gICAgLy8gSG93ZXZlciBub3RlIHRoYXQgd2UncmUgY3VycmVudGx5IGNhbGxpbmcgVG9OdW1iZXIoKSBpbnN0ZWFkIG9mIFRvVWludDMyKClcbiAgICAvLyB3aGljaCBzaG91bGQgYmUgaW1wcm92ZWQgaW4gdGhlIGZ1dHVyZSwgYXMgZmxvYXRpbmcgcG9pbnQgbnVtYmVycyBzaG91bGRcbiAgICAvLyBub3QgYmUgYWNjZXB0ZWQgYXMgYW4gYXJyYXkgaW5kZXguXG4gICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHZhciBudW1JbmRleCA9ICtpbmRleDtcbiAgICAgIGlmICgnJyArIG51bUluZGV4ICE9PSBpbmRleCkge1xuICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBudW1JbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4IDwgMCA/IGVuc3VyZVNpemUoaXRlcikgKyBpbmRleCA6IGluZGV4O1xuICB9XG5cbiAgZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgc2l6ZSkge1xuICAgIHJldHVybiAoYmVnaW4gPT09IDAgfHwgKHNpemUgIT09IHVuZGVmaW5lZCAmJiBiZWdpbiA8PSAtc2l6ZSkpICYmXG4gICAgICAoZW5kID09PSB1bmRlZmluZWQgfHwgKHNpemUgIT09IHVuZGVmaW5lZCAmJiBlbmQgPj0gc2l6ZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZUJlZ2luKGJlZ2luLCBzaXplKSB7XG4gICAgcmV0dXJuIHJlc29sdmVJbmRleChiZWdpbiwgc2l6ZSwgMCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXNvbHZlRW5kKGVuZCwgc2l6ZSkge1xuICAgIHJldHVybiByZXNvbHZlSW5kZXgoZW5kLCBzaXplLCBzaXplKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVJbmRleChpbmRleCwgc2l6ZSwgZGVmYXVsdEluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4ID09PSB1bmRlZmluZWQgP1xuICAgICAgZGVmYXVsdEluZGV4IDpcbiAgICAgIGluZGV4IDwgMCA/XG4gICAgICAgIE1hdGgubWF4KDAsIHNpemUgKyBpbmRleCkgOlxuICAgICAgICBzaXplID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgIGluZGV4IDpcbiAgICAgICAgICBNYXRoLm1pbihzaXplLCBpbmRleCk7XG4gIH1cblxuICBmdW5jdGlvbiBJdGVyYWJsZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSXRlcmFibGUodmFsdWUpID8gdmFsdWUgOiBTZXEodmFsdWUpO1xuICAgIH1cblxuXG4gIGNyZWF0ZUNsYXNzKEtleWVkSXRlcmFibGUsIEl0ZXJhYmxlKTtcbiAgICBmdW5jdGlvbiBLZXllZEl0ZXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNLZXllZCh2YWx1ZSkgPyB2YWx1ZSA6IEtleWVkU2VxKHZhbHVlKTtcbiAgICB9XG5cblxuICBjcmVhdGVDbGFzcyhJbmRleGVkSXRlcmFibGUsIEl0ZXJhYmxlKTtcbiAgICBmdW5jdGlvbiBJbmRleGVkSXRlcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc0luZGV4ZWQodmFsdWUpID8gdmFsdWUgOiBJbmRleGVkU2VxKHZhbHVlKTtcbiAgICB9XG5cblxuICBjcmVhdGVDbGFzcyhTZXRJdGVyYWJsZSwgSXRlcmFibGUpO1xuICAgIGZ1bmN0aW9uIFNldEl0ZXJhYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNJdGVyYWJsZSh2YWx1ZSkgJiYgIWlzQXNzb2NpYXRpdmUodmFsdWUpID8gdmFsdWUgOiBTZXRTZXEodmFsdWUpO1xuICAgIH1cblxuXG5cbiAgZnVuY3Rpb24gaXNJdGVyYWJsZShtYXliZUl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuICEhKG1heWJlSXRlcmFibGUgJiYgbWF5YmVJdGVyYWJsZVtJU19JVEVSQUJMRV9TRU5USU5FTF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNLZXllZChtYXliZUtleWVkKSB7XG4gICAgcmV0dXJuICEhKG1heWJlS2V5ZWQgJiYgbWF5YmVLZXllZFtJU19LRVlFRF9TRU5USU5FTF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNJbmRleGVkKG1heWJlSW5kZXhlZCkge1xuICAgIHJldHVybiAhIShtYXliZUluZGV4ZWQgJiYgbWF5YmVJbmRleGVkW0lTX0lOREVYRURfU0VOVElORUxdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQXNzb2NpYXRpdmUobWF5YmVBc3NvY2lhdGl2ZSkge1xuICAgIHJldHVybiBpc0tleWVkKG1heWJlQXNzb2NpYXRpdmUpIHx8IGlzSW5kZXhlZChtYXliZUFzc29jaWF0aXZlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzT3JkZXJlZChtYXliZU9yZGVyZWQpIHtcbiAgICByZXR1cm4gISEobWF5YmVPcmRlcmVkICYmIG1heWJlT3JkZXJlZFtJU19PUkRFUkVEX1NFTlRJTkVMXSk7XG4gIH1cblxuICBJdGVyYWJsZS5pc0l0ZXJhYmxlID0gaXNJdGVyYWJsZTtcbiAgSXRlcmFibGUuaXNLZXllZCA9IGlzS2V5ZWQ7XG4gIEl0ZXJhYmxlLmlzSW5kZXhlZCA9IGlzSW5kZXhlZDtcbiAgSXRlcmFibGUuaXNBc3NvY2lhdGl2ZSA9IGlzQXNzb2NpYXRpdmU7XG4gIEl0ZXJhYmxlLmlzT3JkZXJlZCA9IGlzT3JkZXJlZDtcblxuICBJdGVyYWJsZS5LZXllZCA9IEtleWVkSXRlcmFibGU7XG4gIEl0ZXJhYmxlLkluZGV4ZWQgPSBJbmRleGVkSXRlcmFibGU7XG4gIEl0ZXJhYmxlLlNldCA9IFNldEl0ZXJhYmxlO1xuXG5cbiAgdmFyIElTX0lURVJBQkxFX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfSVRFUkFCTEVfX0BAJztcbiAgdmFyIElTX0tFWUVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfS0VZRURfX0BAJztcbiAgdmFyIElTX0lOREVYRURfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9JTkRFWEVEX19AQCc7XG4gIHZhciBJU19PUkRFUkVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfT1JERVJFRF9fQEAnO1xuXG4gIC8qIGdsb2JhbCBTeW1ib2wgKi9cblxuICB2YXIgSVRFUkFURV9LRVlTID0gMDtcbiAgdmFyIElURVJBVEVfVkFMVUVTID0gMTtcbiAgdmFyIElURVJBVEVfRU5UUklFUyA9IDI7XG5cbiAgdmFyIFJFQUxfSVRFUkFUT1JfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuaXRlcmF0b3I7XG4gIHZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcblxuICB2YXIgSVRFUkFUT1JfU1lNQk9MID0gUkVBTF9JVEVSQVRPUl9TWU1CT0wgfHwgRkFVWF9JVEVSQVRPUl9TWU1CT0w7XG5cblxuICBmdW5jdGlvbiBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKG5leHQpIHtcbiAgICAgIHRoaXMubmV4dCA9IG5leHQ7XG4gICAgfVxuXG4gICAgc3JjX0l0ZXJhdG9yX19JdGVyYXRvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnW0l0ZXJhdG9yXSc7XG4gICAgfTtcblxuXG4gIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IuS0VZUyA9IElURVJBVEVfS0VZUztcbiAgc3JjX0l0ZXJhdG9yX19JdGVyYXRvci5WQUxVRVMgPSBJVEVSQVRFX1ZBTFVFUztcbiAgc3JjX0l0ZXJhdG9yX19JdGVyYXRvci5FTlRSSUVTID0gSVRFUkFURV9FTlRSSUVTO1xuXG4gIHNyY19JdGVyYXRvcl9fSXRlcmF0b3IucHJvdG90eXBlLmluc3BlY3QgPVxuICBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yLnByb3RvdHlwZS50b1NvdXJjZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudG9TdHJpbmcoKTsgfVxuICBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yLnByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG5cbiAgZnVuY3Rpb24gaXRlcmF0b3JWYWx1ZSh0eXBlLCBrLCB2LCBpdGVyYXRvclJlc3VsdCkge1xuICAgIHZhciB2YWx1ZSA9IHR5cGUgPT09IDAgPyBrIDogdHlwZSA9PT0gMSA/IHYgOiBbaywgdl07XG4gICAgaXRlcmF0b3JSZXN1bHQgPyAoaXRlcmF0b3JSZXN1bHQudmFsdWUgPSB2YWx1ZSkgOiAoaXRlcmF0b3JSZXN1bHQgPSB7XG4gICAgICB2YWx1ZTogdmFsdWUsIGRvbmU6IGZhbHNlXG4gICAgfSk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yUmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gaXRlcmF0b3JEb25lKCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0l0ZXJhdG9yKG1heWJlSXRlcmFibGUpIHtcbiAgICByZXR1cm4gISFnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNJdGVyYXRvcihtYXliZUl0ZXJhdG9yKSB7XG4gICAgcmV0dXJuIG1heWJlSXRlcmF0b3IgJiYgdHlwZW9mIG1heWJlSXRlcmF0b3IubmV4dCA9PT0gJ2Z1bmN0aW9uJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEl0ZXJhdG9yKGl0ZXJhYmxlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKGl0ZXJhYmxlKTtcbiAgICByZXR1cm4gaXRlcmF0b3JGbiAmJiBpdGVyYXRvckZuLmNhbGwoaXRlcmFibGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihpdGVyYWJsZSkge1xuICAgIHZhciBpdGVyYXRvckZuID0gaXRlcmFibGUgJiYgKFxuICAgICAgKFJFQUxfSVRFUkFUT1JfU1lNQk9MICYmIGl0ZXJhYmxlW1JFQUxfSVRFUkFUT1JfU1lNQk9MXSkgfHxcbiAgICAgIGl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXVxuICAgICk7XG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gaXRlcmF0b3JGbjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09PSAnbnVtYmVyJztcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFNlcSwgSXRlcmFibGUpO1xuICAgIGZ1bmN0aW9uIFNlcSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eVNlcXVlbmNlKCkgOlxuICAgICAgICBpc0l0ZXJhYmxlKHZhbHVlKSA/IHZhbHVlLnRvU2VxKCkgOiBzZXFGcm9tVmFsdWUodmFsdWUpO1xuICAgIH1cblxuICAgIFNlcS5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiBTZXEoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgU2VxLnByb3RvdHlwZS50b1NlcSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFNlcS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ1NlcSB7JywgJ30nKTtcbiAgICB9O1xuXG4gICAgU2VxLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLl9jYWNoZSAmJiB0aGlzLl9faXRlcmF0ZVVuY2FjaGVkKSB7XG4gICAgICAgIHRoaXMuX2NhY2hlID0gdGhpcy5lbnRyeVNlcSgpLnRvQXJyYXkoKTtcbiAgICAgICAgdGhpcy5zaXplID0gdGhpcy5fY2FjaGUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8vIGFic3RyYWN0IF9faXRlcmF0ZVVuY2FjaGVkKGZuLCByZXZlcnNlKVxuXG4gICAgU2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHNlcUl0ZXJhdGUodGhpcywgZm4sIHJldmVyc2UsIHRydWUpO1xuICAgIH07XG5cbiAgICAvLyBhYnN0cmFjdCBfX2l0ZXJhdG9yVW5jYWNoZWQodHlwZSwgcmV2ZXJzZSlcblxuICAgIFNlcS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiBzZXFJdGVyYXRvcih0aGlzLCB0eXBlLCByZXZlcnNlLCB0cnVlKTtcbiAgICB9O1xuXG5cblxuICBjcmVhdGVDbGFzcyhLZXllZFNlcSwgU2VxKTtcbiAgICBmdW5jdGlvbiBLZXllZFNlcSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgP1xuICAgICAgICBlbXB0eVNlcXVlbmNlKCkudG9LZXllZFNlcSgpIDpcbiAgICAgICAgaXNJdGVyYWJsZSh2YWx1ZSkgP1xuICAgICAgICAgIChpc0tleWVkKHZhbHVlKSA/IHZhbHVlLnRvU2VxKCkgOiB2YWx1ZS5mcm9tRW50cnlTZXEoKSkgOlxuICAgICAgICAgIGtleWVkU2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgICB9XG5cbiAgICBLZXllZFNlcS5wcm90b3R5cGUudG9LZXllZFNlcSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoSW5kZXhlZFNlcSwgU2VxKTtcbiAgICBmdW5jdGlvbiBJbmRleGVkU2VxKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5U2VxdWVuY2UoKSA6XG4gICAgICAgICFpc0l0ZXJhYmxlKHZhbHVlKSA/IGluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIDpcbiAgICAgICAgaXNLZXllZCh2YWx1ZSkgPyB2YWx1ZS5lbnRyeVNlcSgpIDogdmFsdWUudG9JbmRleGVkU2VxKCk7XG4gICAgfVxuXG4gICAgSW5kZXhlZFNlcS5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiBJbmRleGVkU2VxKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIEluZGV4ZWRTZXEucHJvdG90eXBlLnRvSW5kZXhlZFNlcSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIEluZGV4ZWRTZXEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXEgWycsICddJyk7XG4gICAgfTtcblxuICAgIEluZGV4ZWRTZXEucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICByZXR1cm4gc2VxSXRlcmF0ZSh0aGlzLCBmbiwgcmV2ZXJzZSwgZmFsc2UpO1xuICAgIH07XG5cbiAgICBJbmRleGVkU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHNlcUl0ZXJhdG9yKHRoaXMsIHR5cGUsIHJldmVyc2UsIGZhbHNlKTtcbiAgICB9O1xuXG5cblxuICBjcmVhdGVDbGFzcyhTZXRTZXEsIFNlcSk7XG4gICAgZnVuY3Rpb24gU2V0U2VxKHZhbHVlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlTZXF1ZW5jZSgpIDpcbiAgICAgICAgIWlzSXRlcmFibGUodmFsdWUpID8gaW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSkgOlxuICAgICAgICBpc0tleWVkKHZhbHVlKSA/IHZhbHVlLmVudHJ5U2VxKCkgOiB2YWx1ZVxuICAgICAgKS50b1NldFNlcSgpO1xuICAgIH1cblxuICAgIFNldFNlcS5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiBTZXRTZXEoYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgU2V0U2VxLnByb3RvdHlwZS50b1NldFNlcSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuXG5cbiAgU2VxLmlzU2VxID0gaXNTZXE7XG4gIFNlcS5LZXllZCA9IEtleWVkU2VxO1xuICBTZXEuU2V0ID0gU2V0U2VxO1xuICBTZXEuSW5kZXhlZCA9IEluZGV4ZWRTZXE7XG5cbiAgdmFyIElTX1NFUV9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1NFUV9fQEAnO1xuXG4gIFNlcS5wcm90b3R5cGVbSVNfU0VRX1NFTlRJTkVMXSA9IHRydWU7XG5cblxuXG4gIC8vICNwcmFnbWEgUm9vdCBTZXF1ZW5jZXNcblxuICBjcmVhdGVDbGFzcyhBcnJheVNlcSwgSW5kZXhlZFNlcSk7XG4gICAgZnVuY3Rpb24gQXJyYXlTZXEoYXJyYXkpIHtcbiAgICAgIHRoaXMuX2FycmF5ID0gYXJyYXk7XG4gICAgICB0aGlzLnNpemUgPSBhcnJheS5sZW5ndGg7XG4gICAgfVxuXG4gICAgQXJyYXlTZXEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaGFzKGluZGV4KSA/IHRoaXMuX2FycmF5W3dyYXBJbmRleCh0aGlzLCBpbmRleCldIDogbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIEFycmF5U2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fYXJyYXk7XG4gICAgICB2YXIgbWF4SW5kZXggPSBhcnJheS5sZW5ndGggLSAxO1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgICAgICBpZiAoZm4oYXJyYXlbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV0sIGlpLCB0aGlzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gaWkgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaWk7XG4gICAgfTtcblxuICAgIEFycmF5U2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGFycmF5ID0gdGhpcy5fYXJyYXk7XG4gICAgICB2YXIgbWF4SW5kZXggPSBhcnJheS5sZW5ndGggLSAxO1xuICAgICAgdmFyIGlpID0gMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpIFxuICAgICAgICB7cmV0dXJuIGlpID4gbWF4SW5kZXggP1xuICAgICAgICAgIGl0ZXJhdG9yRG9uZSgpIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGlpLCBhcnJheVtyZXZlcnNlID8gbWF4SW5kZXggLSBpaSsrIDogaWkrK10pfVxuICAgICAgKTtcbiAgICB9O1xuXG5cblxuICBjcmVhdGVDbGFzcyhPYmplY3RTZXEsIEtleWVkU2VxKTtcbiAgICBmdW5jdGlvbiBPYmplY3RTZXEob2JqZWN0KSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG4gICAgICB0aGlzLl9vYmplY3QgPSBvYmplY3Q7XG4gICAgICB0aGlzLl9rZXlzID0ga2V5cztcbiAgICAgIHRoaXMuc2l6ZSA9IGtleXMubGVuZ3RoO1xuICAgIH1cblxuICAgIE9iamVjdFNlcS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgaWYgKG5vdFNldFZhbHVlICE9PSB1bmRlZmluZWQgJiYgIXRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX29iamVjdFtrZXldO1xuICAgIH07XG5cbiAgICBPYmplY3RTZXEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX29iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgIH07XG5cbiAgICBPYmplY3RTZXEucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgb2JqZWN0ID0gdGhpcy5fb2JqZWN0O1xuICAgICAgdmFyIGtleXMgPSB0aGlzLl9rZXlzO1xuICAgICAgdmFyIG1heEluZGV4ID0ga2V5cy5sZW5ndGggLSAxO1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXTtcbiAgICAgICAgaWYgKGZuKG9iamVjdFtrZXldLCBrZXksIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpaTtcbiAgICB9O1xuXG4gICAgT2JqZWN0U2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIG9iamVjdCA9IHRoaXMuX29iamVjdDtcbiAgICAgIHZhciBrZXlzID0gdGhpcy5fa2V5cztcbiAgICAgIHZhciBtYXhJbmRleCA9IGtleXMubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBpaSA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXTtcbiAgICAgICAgcmV0dXJuIGlpKysgPiBtYXhJbmRleCA/XG4gICAgICAgICAgaXRlcmF0b3JEb25lKCkgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwga2V5LCBvYmplY3Rba2V5XSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gIE9iamVjdFNlcS5wcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuXG5cbiAgY3JlYXRlQ2xhc3MoSXRlcmFibGVTZXEsIEluZGV4ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIEl0ZXJhYmxlU2VxKGl0ZXJhYmxlKSB7XG4gICAgICB0aGlzLl9pdGVyYWJsZSA9IGl0ZXJhYmxlO1xuICAgICAgdGhpcy5zaXplID0gaXRlcmFibGUubGVuZ3RoIHx8IGl0ZXJhYmxlLnNpemU7XG4gICAgfVxuXG4gICAgSXRlcmFibGVTZXEucHJvdG90eXBlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYWJsZSA9IHRoaXMuX2l0ZXJhYmxlO1xuICAgICAgdmFyIGl0ZXJhdG9yID0gZ2V0SXRlcmF0b3IoaXRlcmFibGUpO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaWYgKGlzSXRlcmF0b3IoaXRlcmF0b3IpKSB7XG4gICAgICAgIHZhciBzdGVwO1xuICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgaWYgKGZuKHN0ZXAudmFsdWUsIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG5cbiAgICBJdGVyYWJsZVNlcS5wcm90b3R5cGUuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhYmxlID0gdGhpcy5faXRlcmFibGU7XG4gICAgICB2YXIgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihpdGVyYWJsZSk7XG4gICAgICBpZiAoIWlzSXRlcmF0b3IoaXRlcmF0b3IpKSB7XG4gICAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihpdGVyYXRvckRvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBzdGVwLmRvbmUgPyBzdGVwIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHN0ZXAudmFsdWUpO1xuICAgICAgfSk7XG4gICAgfTtcblxuXG5cbiAgY3JlYXRlQ2xhc3MoSXRlcmF0b3JTZXEsIEluZGV4ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIEl0ZXJhdG9yU2VxKGl0ZXJhdG9yKSB7XG4gICAgICB0aGlzLl9pdGVyYXRvciA9IGl0ZXJhdG9yO1xuICAgICAgdGhpcy5faXRlcmF0b3JDYWNoZSA9IFtdO1xuICAgIH1cblxuICAgIEl0ZXJhdG9yU2VxLnByb3RvdHlwZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyYXRvcjtcbiAgICAgIHZhciBjYWNoZSA9IHRoaXMuX2l0ZXJhdG9yQ2FjaGU7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB3aGlsZSAoaXRlcmF0aW9ucyA8IGNhY2hlLmxlbmd0aCkge1xuICAgICAgICBpZiAoZm4oY2FjaGVbaXRlcmF0aW9uc10sIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBzdGVwO1xuICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICB2YXIgdmFsID0gc3RlcC52YWx1ZTtcbiAgICAgICAgY2FjaGVbaXRlcmF0aW9uc10gPSB2YWw7XG4gICAgICAgIGlmIChmbih2YWwsIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG5cbiAgICBJdGVyYXRvclNlcS5wcm90b3R5cGUuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlcmF0b3I7XG4gICAgICB2YXIgY2FjaGUgPSB0aGlzLl9pdGVyYXRvckNhY2hlO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgaWYgKGl0ZXJhdGlvbnMgPj0gY2FjaGUubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhY2hlW2l0ZXJhdGlvbnNdID0gc3RlcC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zLCBjYWNoZVtpdGVyYXRpb25zKytdKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG5cbiAgLy8gIyBwcmFnbWEgSGVscGVyIGZ1bmN0aW9uc1xuXG4gIGZ1bmN0aW9uIGlzU2VxKG1heWJlU2VxKSB7XG4gICAgcmV0dXJuICEhKG1heWJlU2VxICYmIG1heWJlU2VxW0lTX1NFUV9TRU5USU5FTF0pO1xuICB9XG5cbiAgdmFyIEVNUFRZX1NFUTtcblxuICBmdW5jdGlvbiBlbXB0eVNlcXVlbmNlKCkge1xuICAgIHJldHVybiBFTVBUWV9TRVEgfHwgKEVNUFRZX1NFUSA9IG5ldyBBcnJheVNlcShbXSkpO1xuICB9XG5cbiAgZnVuY3Rpb24ga2V5ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgICB2YXIgc2VxID1cbiAgICAgIEFycmF5LmlzQXJyYXkodmFsdWUpID8gbmV3IEFycmF5U2VxKHZhbHVlKS5mcm9tRW50cnlTZXEoKSA6XG4gICAgICBpc0l0ZXJhdG9yKHZhbHVlKSA/IG5ldyBJdGVyYXRvclNlcSh2YWx1ZSkuZnJvbUVudHJ5U2VxKCkgOlxuICAgICAgaGFzSXRlcmF0b3IodmFsdWUpID8gbmV3IEl0ZXJhYmxlU2VxKHZhbHVlKS5mcm9tRW50cnlTZXEoKSA6XG4gICAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnID8gbmV3IE9iamVjdFNlcSh2YWx1ZSkgOlxuICAgICAgdW5kZWZpbmVkO1xuICAgIGlmICghc2VxKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnRXhwZWN0ZWQgQXJyYXkgb3IgaXRlcmFibGUgb2JqZWN0IG9mIFtrLCB2XSBlbnRyaWVzLCAnK1xuICAgICAgICAnb3Iga2V5ZWQgb2JqZWN0OiAnICsgdmFsdWVcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBzZXE7XG4gIH1cblxuICBmdW5jdGlvbiBpbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSB7XG4gICAgdmFyIHNlcSA9IG1heWJlSW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gICAgaWYgKCFzZXEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICdFeHBlY3RlZCBBcnJheSBvciBpdGVyYWJsZSBvYmplY3Qgb2YgdmFsdWVzOiAnICsgdmFsdWVcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBzZXE7XG4gIH1cblxuICBmdW5jdGlvbiBzZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgICB2YXIgc2VxID0gbWF5YmVJbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSB8fFxuICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgbmV3IE9iamVjdFNlcSh2YWx1ZSkpO1xuICAgIGlmICghc2VxKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAnRXhwZWN0ZWQgQXJyYXkgb3IgaXRlcmFibGUgb2JqZWN0IG9mIHZhbHVlcywgb3Iga2V5ZWQgb2JqZWN0OiAnICsgdmFsdWVcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBzZXE7XG4gIH1cblxuICBmdW5jdGlvbiBtYXliZUluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgaXNBcnJheUxpa2UodmFsdWUpID8gbmV3IEFycmF5U2VxKHZhbHVlKSA6XG4gICAgICBpc0l0ZXJhdG9yKHZhbHVlKSA/IG5ldyBJdGVyYXRvclNlcSh2YWx1ZSkgOlxuICAgICAgaGFzSXRlcmF0b3IodmFsdWUpID8gbmV3IEl0ZXJhYmxlU2VxKHZhbHVlKSA6XG4gICAgICB1bmRlZmluZWRcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VxSXRlcmF0ZShzZXEsIGZuLCByZXZlcnNlLCB1c2VLZXlzKSB7XG4gICAgdmFyIGNhY2hlID0gc2VxLl9jYWNoZTtcbiAgICBpZiAoY2FjaGUpIHtcbiAgICAgIHZhciBtYXhJbmRleCA9IGNhY2hlLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGNhY2hlW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldO1xuICAgICAgICBpZiAoZm4oZW50cnlbMV0sIHVzZUtleXMgPyBlbnRyeVswXSA6IGlpLCBzZXEpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpaTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcS5fX2l0ZXJhdGVVbmNhY2hlZChmbiwgcmV2ZXJzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXFJdGVyYXRvcihzZXEsIHR5cGUsIHJldmVyc2UsIHVzZUtleXMpIHtcbiAgICB2YXIgY2FjaGUgPSBzZXEuX2NhY2hlO1xuICAgIGlmIChjYWNoZSkge1xuICAgICAgdmFyIG1heEluZGV4ID0gY2FjaGUubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBpaSA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgZW50cnkgPSBjYWNoZVtyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXTtcbiAgICAgICAgcmV0dXJuIGlpKysgPiBtYXhJbmRleCA/XG4gICAgICAgICAgaXRlcmF0b3JEb25lKCkgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgdXNlS2V5cyA/IGVudHJ5WzBdIDogaWkgLSAxLCBlbnRyeVsxXSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcS5fX2l0ZXJhdG9yVW5jYWNoZWQodHlwZSwgcmV2ZXJzZSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhDb2xsZWN0aW9uLCBJdGVyYWJsZSk7XG4gICAgZnVuY3Rpb24gQ29sbGVjdGlvbigpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignQWJzdHJhY3QnKTtcbiAgICB9XG5cblxuICBjcmVhdGVDbGFzcyhLZXllZENvbGxlY3Rpb24sIENvbGxlY3Rpb24pO2Z1bmN0aW9uIEtleWVkQ29sbGVjdGlvbigpIHt9XG5cbiAgY3JlYXRlQ2xhc3MoSW5kZXhlZENvbGxlY3Rpb24sIENvbGxlY3Rpb24pO2Z1bmN0aW9uIEluZGV4ZWRDb2xsZWN0aW9uKCkge31cblxuICBjcmVhdGVDbGFzcyhTZXRDb2xsZWN0aW9uLCBDb2xsZWN0aW9uKTtmdW5jdGlvbiBTZXRDb2xsZWN0aW9uKCkge31cblxuXG4gIENvbGxlY3Rpb24uS2V5ZWQgPSBLZXllZENvbGxlY3Rpb247XG4gIENvbGxlY3Rpb24uSW5kZXhlZCA9IEluZGV4ZWRDb2xsZWN0aW9uO1xuICBDb2xsZWN0aW9uLlNldCA9IFNldENvbGxlY3Rpb247XG5cbiAgLyoqXG4gICAqIEFuIGV4dGVuc2lvbiBvZiB0aGUgXCJzYW1lLXZhbHVlXCIgYWxnb3JpdGhtIGFzIFtkZXNjcmliZWQgZm9yIHVzZSBieSBFUzYgTWFwXG4gICAqIGFuZCBTZXRdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hcCNLZXlfZXF1YWxpdHkpXG4gICAqXG4gICAqIE5hTiBpcyBjb25zaWRlcmVkIHRoZSBzYW1lIGFzIE5hTiwgaG93ZXZlciAtMCBhbmQgMCBhcmUgY29uc2lkZXJlZCB0aGUgc2FtZVxuICAgKiB2YWx1ZSwgd2hpY2ggaXMgZGlmZmVyZW50IGZyb20gdGhlIGFsZ29yaXRobSBkZXNjcmliZWQgYnlcbiAgICogW2BPYmplY3QuaXNgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXMpLlxuICAgKlxuICAgKiBUaGlzIGlzIGV4dGVuZGVkIGZ1cnRoZXIgdG8gYWxsb3cgT2JqZWN0cyB0byBkZXNjcmliZSB0aGUgdmFsdWVzIHRoZXlcbiAgICogcmVwcmVzZW50LCBieSB3YXkgb2YgYHZhbHVlT2ZgIG9yIGBlcXVhbHNgIChhbmQgYGhhc2hDb2RlYCkuXG4gICAqXG4gICAqIE5vdGU6IGJlY2F1c2Ugb2YgdGhpcyBleHRlbnNpb24sIHRoZSBrZXkgZXF1YWxpdHkgb2YgSW1tdXRhYmxlLk1hcCBhbmQgdGhlXG4gICAqIHZhbHVlIGVxdWFsaXR5IG9mIEltbXV0YWJsZS5TZXQgd2lsbCBkaWZmZXIgZnJvbSBFUzYgTWFwIGFuZCBTZXQuXG4gICAqXG4gICAqICMjIyBEZWZpbmluZyBjdXN0b20gdmFsdWVzXG4gICAqXG4gICAqIFRoZSBlYXNpZXN0IHdheSB0byBkZXNjcmliZSB0aGUgdmFsdWUgYW4gb2JqZWN0IHJlcHJlc2VudHMgaXMgYnkgaW1wbGVtZW50aW5nXG4gICAqIGB2YWx1ZU9mYC4gRm9yIGV4YW1wbGUsIGBEYXRlYCByZXByZXNlbnRzIGEgdmFsdWUgYnkgcmV0dXJuaW5nIGEgdW5peFxuICAgKiB0aW1lc3RhbXAgZm9yIGB2YWx1ZU9mYDpcbiAgICpcbiAgICogICAgIHZhciBkYXRlMSA9IG5ldyBEYXRlKDEyMzQ1Njc4OTAwMDApOyAvLyBGcmkgRmViIDEzIDIwMDkgLi4uXG4gICAqICAgICB2YXIgZGF0ZTIgPSBuZXcgRGF0ZSgxMjM0NTY3ODkwMDAwKTtcbiAgICogICAgIGRhdGUxLnZhbHVlT2YoKTsgLy8gMTIzNDU2Nzg5MDAwMFxuICAgKiAgICAgYXNzZXJ0KCBkYXRlMSAhPT0gZGF0ZTIgKTtcbiAgICogICAgIGFzc2VydCggSW1tdXRhYmxlLmlzKCBkYXRlMSwgZGF0ZTIgKSApO1xuICAgKlxuICAgKiBOb3RlOiBvdmVycmlkaW5nIGB2YWx1ZU9mYCBtYXkgaGF2ZSBvdGhlciBpbXBsaWNhdGlvbnMgaWYgeW91IHVzZSB0aGlzIG9iamVjdFxuICAgKiB3aGVyZSBKYXZhU2NyaXB0IGV4cGVjdHMgYSBwcmltaXRpdmUsIHN1Y2ggYXMgaW1wbGljaXQgc3RyaW5nIGNvZXJjaW9uLlxuICAgKlxuICAgKiBGb3IgbW9yZSBjb21wbGV4IHR5cGVzLCBlc3BlY2lhbGx5IGNvbGxlY3Rpb25zLCBpbXBsZW1lbnRpbmcgYHZhbHVlT2ZgIG1heVxuICAgKiBub3QgYmUgcGVyZm9ybWFudC4gQW4gYWx0ZXJuYXRpdmUgaXMgdG8gaW1wbGVtZW50IGBlcXVhbHNgIGFuZCBgaGFzaENvZGVgLlxuICAgKlxuICAgKiBgZXF1YWxzYCB0YWtlcyBhbm90aGVyIG9iamVjdCwgcHJlc3VtYWJseSBvZiBzaW1pbGFyIHR5cGUsIGFuZCByZXR1cm5zIHRydWVcbiAgICogaWYgdGhlIGl0IGlzIGVxdWFsLiBFcXVhbGl0eSBpcyBzeW1tZXRyaWNhbCwgc28gdGhlIHNhbWUgcmVzdWx0IHNob3VsZCBiZVxuICAgKiByZXR1cm5lZCBpZiB0aGlzIGFuZCB0aGUgYXJndW1lbnQgYXJlIGZsaXBwZWQuXG4gICAqXG4gICAqICAgICBhc3NlcnQoIGEuZXF1YWxzKGIpID09PSBiLmVxdWFscyhhKSApO1xuICAgKlxuICAgKiBgaGFzaENvZGVgIHJldHVybnMgYSAzMmJpdCBpbnRlZ2VyIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9iamVjdCB3aGljaCB3aWxsXG4gICAqIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGhvdyB0byBzdG9yZSB0aGUgdmFsdWUgb2JqZWN0IGluIGEgTWFwIG9yIFNldC4gWW91IG11c3RcbiAgICogcHJvdmlkZSBib3RoIG9yIG5laXRoZXIgbWV0aG9kcywgb25lIG11c3Qgbm90IGV4aXN0IHdpdGhvdXQgdGhlIG90aGVyLlxuICAgKlxuICAgKiBBbHNvLCBhbiBpbXBvcnRhbnQgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlc2UgbWV0aG9kcyBtdXN0IGJlIHVwaGVsZDogaWYgdHdvXG4gICAqIHZhbHVlcyBhcmUgZXF1YWwsIHRoZXkgKm11c3QqIHJldHVybiB0aGUgc2FtZSBoYXNoQ29kZS4gSWYgdGhlIHZhbHVlcyBhcmUgbm90XG4gICAqIGVxdWFsLCB0aGV5IG1pZ2h0IGhhdmUgdGhlIHNhbWUgaGFzaENvZGU7IHRoaXMgaXMgY2FsbGVkIGEgaGFzaCBjb2xsaXNpb24sXG4gICAqIGFuZCB3aGlsZSB1bmRlc2lyYWJsZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucywgaXQgaXMgYWNjZXB0YWJsZS5cbiAgICpcbiAgICogICAgIGlmIChhLmVxdWFscyhiKSkge1xuICAgKiAgICAgICBhc3NlcnQoIGEuaGFzaENvZGUoKSA9PT0gYi5oYXNoQ29kZSgpICk7XG4gICAqICAgICB9XG4gICAqXG4gICAqIEFsbCBJbW11dGFibGUgY29sbGVjdGlvbnMgaW1wbGVtZW50IGBlcXVhbHNgIGFuZCBgaGFzaENvZGVgLlxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gaXModmFsdWVBLCB2YWx1ZUIpIHtcbiAgICBpZiAodmFsdWVBID09PSB2YWx1ZUIgfHwgKHZhbHVlQSAhPT0gdmFsdWVBICYmIHZhbHVlQiAhPT0gdmFsdWVCKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghdmFsdWVBIHx8ICF2YWx1ZUIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZUEudmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICB0eXBlb2YgdmFsdWVCLnZhbHVlT2YgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhbHVlQSA9IHZhbHVlQS52YWx1ZU9mKCk7XG4gICAgICB2YWx1ZUIgPSB2YWx1ZUIudmFsdWVPZigpO1xuICAgICAgaWYgKHZhbHVlQSA9PT0gdmFsdWVCIHx8ICh2YWx1ZUEgIT09IHZhbHVlQSAmJiB2YWx1ZUIgIT09IHZhbHVlQikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoIXZhbHVlQSB8fCAhdmFsdWVCKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZUEuZXF1YWxzID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIHR5cGVvZiB2YWx1ZUIuZXF1YWxzID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgIHZhbHVlQS5lcXVhbHModmFsdWVCKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZyb21KUyhqc29uLCBjb252ZXJ0ZXIpIHtcbiAgICByZXR1cm4gY29udmVydGVyID9cbiAgICAgIGZyb21KU1dpdGgoY29udmVydGVyLCBqc29uLCAnJywgeycnOiBqc29ufSkgOlxuICAgICAgZnJvbUpTRGVmYXVsdChqc29uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZyb21KU1dpdGgoY29udmVydGVyLCBqc29uLCBrZXksIHBhcmVudEpTT04pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgcmV0dXJuIGNvbnZlcnRlci5jYWxsKHBhcmVudEpTT04sIGtleSwgSW5kZXhlZFNlcShqc29uKS5tYXAoZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gZnJvbUpTV2l0aChjb252ZXJ0ZXIsIHYsIGssIGpzb24pfSkpO1xuICAgIH1cbiAgICBpZiAoaXNQbGFpbk9iaihqc29uKSkge1xuICAgICAgcmV0dXJuIGNvbnZlcnRlci5jYWxsKHBhcmVudEpTT04sIGtleSwgS2V5ZWRTZXEoanNvbikubWFwKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIGZyb21KU1dpdGgoY29udmVydGVyLCB2LCBrLCBqc29uKX0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICBmdW5jdGlvbiBmcm9tSlNEZWZhdWx0KGpzb24pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgcmV0dXJuIEluZGV4ZWRTZXEoanNvbikubWFwKGZyb21KU0RlZmF1bHQpLnRvTGlzdCgpO1xuICAgIH1cbiAgICBpZiAoaXNQbGFpbk9iaihqc29uKSkge1xuICAgICAgcmV0dXJuIEtleWVkU2VxKGpzb24pLm1hcChmcm9tSlNEZWZhdWx0KS50b01hcCgpO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUGxhaW5PYmoodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgKHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3QgfHwgdmFsdWUuY29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCk7XG4gIH1cblxuICB2YXIgc3JjX01hdGhfX2ltdWwgPVxuICAgIHR5cGVvZiBNYXRoLmltdWwgPT09ICdmdW5jdGlvbicgJiYgTWF0aC5pbXVsKDB4ZmZmZmZmZmYsIDIpID09PSAtMiA/XG4gICAgTWF0aC5pbXVsIDpcbiAgICBmdW5jdGlvbiBpbXVsKGEsIGIpIHtcbiAgICAgIGEgPSBhIHwgMDsgLy8gaW50XG4gICAgICBiID0gYiB8IDA7IC8vIGludFxuICAgICAgdmFyIGMgPSBhICYgMHhmZmZmO1xuICAgICAgdmFyIGQgPSBiICYgMHhmZmZmO1xuICAgICAgLy8gU2hpZnQgYnkgMCBmaXhlcyB0aGUgc2lnbiBvbiB0aGUgaGlnaCBwYXJ0LlxuICAgICAgcmV0dXJuIChjICogZCkgKyAoKCgoYSA+Pj4gMTYpICogZCArIGMgKiAoYiA+Pj4gMTYpKSA8PCAxNikgPj4+IDApIHwgMDsgLy8gaW50XG4gICAgfTtcblxuICAvLyB2OCBoYXMgYW4gb3B0aW1pemF0aW9uIGZvciBzdG9yaW5nIDMxLWJpdCBzaWduZWQgbnVtYmVycy5cbiAgLy8gVmFsdWVzIHdoaWNoIGhhdmUgZWl0aGVyIDAwIG9yIDExIGFzIHRoZSBoaWdoIG9yZGVyIGJpdHMgcXVhbGlmeS5cbiAgLy8gVGhpcyBmdW5jdGlvbiBkcm9wcyB0aGUgaGlnaGVzdCBvcmRlciBiaXQgaW4gYSBzaWduZWQgbnVtYmVyLCBtYWludGFpbmluZ1xuICAvLyB0aGUgc2lnbiBiaXQuXG4gIGZ1bmN0aW9uIHNtaShpMzIpIHtcbiAgICByZXR1cm4gKChpMzIgPj4+IDEpICYgMHg0MDAwMDAwMCkgfCAoaTMyICYgMHhCRkZGRkZGRik7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNoKG8pIHtcbiAgICBpZiAobyA9PT0gZmFsc2UgfHwgbyA9PT0gbnVsbCB8fCBvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG8udmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgbyA9IG8udmFsdWVPZigpO1xuICAgICAgaWYgKG8gPT09IGZhbHNlIHx8IG8gPT09IG51bGwgfHwgbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobyA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIHZhciB0eXBlID0gdHlwZW9mIG87XG4gICAgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICB2YXIgaCA9IG8gfCAwO1xuICAgICAgaWYgKGggIT09IG8pIHtcbiAgICAgICAgaCBePSBvICogMHhGRkZGRkZGRjtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChvID4gMHhGRkZGRkZGRikge1xuICAgICAgICBvIC89IDB4RkZGRkZGRkY7XG4gICAgICAgIGggXj0gbztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzbWkoaCk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG8ubGVuZ3RoID4gU1RSSU5HX0hBU0hfQ0FDSEVfTUlOX1NUUkxFTiA/IGNhY2hlZEhhc2hTdHJpbmcobykgOiBoYXNoU3RyaW5nKG8pO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG8uaGFzaENvZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBvLmhhc2hDb2RlKCk7XG4gICAgfVxuICAgIHJldHVybiBoYXNoSlNPYmoobyk7XG4gIH1cblxuICBmdW5jdGlvbiBjYWNoZWRIYXNoU3RyaW5nKHN0cmluZykge1xuICAgIHZhciBoYXNoID0gc3RyaW5nSGFzaENhY2hlW3N0cmluZ107XG4gICAgaWYgKGhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgaGFzaCA9IGhhc2hTdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID09PSBTVFJJTkdfSEFTSF9DQUNIRV9NQVhfU0laRSkge1xuICAgICAgICBTVFJJTkdfSEFTSF9DQUNIRV9TSVpFID0gMDtcbiAgICAgICAgc3RyaW5nSGFzaENhY2hlID0ge307XG4gICAgICB9XG4gICAgICBTVFJJTkdfSEFTSF9DQUNIRV9TSVpFKys7XG4gICAgICBzdHJpbmdIYXNoQ2FjaGVbc3RyaW5nXSA9IGhhc2g7XG4gICAgfVxuICAgIHJldHVybiBoYXNoO1xuICB9XG5cbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vaGFzaGluZy1zdHJpbmdzXG4gIGZ1bmN0aW9uIGhhc2hTdHJpbmcoc3RyaW5nKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgaGFzaCBmcm9tIEpWTVxuICAgIC8vIFRoZSBoYXNoIGNvZGUgZm9yIGEgc3RyaW5nIGlzIGNvbXB1dGVkIGFzXG4gICAgLy8gc1swXSAqIDMxIF4gKG4gLSAxKSArIHNbMV0gKiAzMSBeIChuIC0gMikgKyAuLi4gKyBzW24gLSAxXSxcbiAgICAvLyB3aGVyZSBzW2ldIGlzIHRoZSBpdGggY2hhcmFjdGVyIG9mIHRoZSBzdHJpbmcgYW5kIG4gaXMgdGhlIGxlbmd0aCBvZlxuICAgIC8vIHRoZSBzdHJpbmcuIFdlIFwibW9kXCIgdGhlIHJlc3VsdCB0byBtYWtlIGl0IGJldHdlZW4gMCAoaW5jbHVzaXZlKSBhbmQgMl4zMVxuICAgIC8vIChleGNsdXNpdmUpIGJ5IGRyb3BwaW5nIGhpZ2ggYml0cy5cbiAgICB2YXIgaGFzaCA9IDA7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHN0cmluZy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIGhhc2ggPSAzMSAqIGhhc2ggKyBzdHJpbmcuY2hhckNvZGVBdChpaSkgfCAwO1xuICAgIH1cbiAgICByZXR1cm4gc21pKGhhc2gpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzaEpTT2JqKG9iaikge1xuICAgIHZhciBoYXNoO1xuICAgIGlmICh1c2luZ1dlYWtNYXApIHtcbiAgICAgIGhhc2ggPSB3ZWFrTWFwLmdldChvYmopO1xuICAgICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBoYXNoID0gb2JqW1VJRF9IQVNIX0tFWV07XG4gICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuXG4gICAgaWYgKCFjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgaGFzaCA9IG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSAmJiBvYmoucHJvcGVydHlJc0VudW1lcmFibGVbVUlEX0hBU0hfS0VZXTtcbiAgICAgIGlmIChoYXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgICB9XG5cbiAgICAgIGhhc2ggPSBnZXRJRU5vZGVIYXNoKG9iaik7XG4gICAgICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgICAgfVxuICAgIH1cblxuICAgIGhhc2ggPSArK29iakhhc2hVSUQ7XG4gICAgaWYgKG9iakhhc2hVSUQgJiAweDQwMDAwMDAwKSB7XG4gICAgICBvYmpIYXNoVUlEID0gMDtcbiAgICB9XG5cbiAgICBpZiAodXNpbmdXZWFrTWFwKSB7XG4gICAgICB3ZWFrTWFwLnNldChvYmosIGhhc2gpO1xuICAgIH0gZWxzZSBpZiAoaXNFeHRlbnNpYmxlICE9PSB1bmRlZmluZWQgJiYgaXNFeHRlbnNpYmxlKG9iaikgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vbi1leHRlbnNpYmxlIG9iamVjdHMgYXJlIG5vdCBhbGxvd2VkIGFzIGtleXMuJyk7XG4gICAgfSBlbHNlIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgVUlEX0hBU0hfS0VZLCB7XG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICdjb25maWd1cmFibGUnOiBmYWxzZSxcbiAgICAgICAgJ3dyaXRhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGhhc2hcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAob2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSA9PT0gb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSkge1xuICAgICAgLy8gU2luY2Ugd2UgY2FuJ3QgZGVmaW5lIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgb24gdGhlIG9iamVjdFxuICAgICAgLy8gd2UnbGwgaGlqYWNrIG9uZSBvZiB0aGUgbGVzcy11c2VkIG5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXMgdG9cbiAgICAgIC8vIHNhdmUgb3VyIGhhc2ggb24gaXQuIFNpbmNlIHRoaXMgaXMgYSBmdW5jdGlvbiBpdCB3aWxsIG5vdCBzaG93IHVwIGluXG4gICAgICAvLyBgSlNPTi5zdHJpbmdpZnlgIHdoaWNoIGlzIHdoYXQgd2Ugd2FudC5cbiAgICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBvYmoucHJvcGVydHlJc0VudW1lcmFibGVbVUlEX0hBU0hfS0VZXSA9IGhhc2g7XG4gICAgfSBlbHNlIGlmIChvYmoubm9kZVR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQXQgdGhpcyBwb2ludCB3ZSBjb3VsZG4ndCBnZXQgdGhlIElFIGB1bmlxdWVJRGAgdG8gdXNlIGFzIGEgaGFzaFxuICAgICAgLy8gYW5kIHdlIGNvdWxkbid0IHVzZSBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IHRvIGV4cGxvaXQgdGhlXG4gICAgICAvLyBkb250RW51bSBidWcgc28gd2Ugc2ltcGx5IGFkZCB0aGUgYFVJRF9IQVNIX0tFWWAgb24gdGhlIG5vZGVcbiAgICAgIC8vIGl0c2VsZi5cbiAgICAgIG9ialtVSURfSEFTSF9LRVldID0gaGFzaDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gc2V0IGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHkgb24gb2JqZWN0LicpO1xuICAgIH1cblxuICAgIHJldHVybiBoYXNoO1xuICB9XG5cbiAgLy8gR2V0IHJlZmVyZW5jZXMgdG8gRVM1IG9iamVjdCBtZXRob2RzLlxuICB2YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZTtcblxuICAvLyBUcnVlIGlmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB3b3JrcyBhcyBleHBlY3RlZC4gSUU4IGZhaWxzIHRoaXMgdGVzdC5cbiAgdmFyIGNhbkRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdAJywge30pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSgpKTtcblxuICAvLyBJRSBoYXMgYSBgdW5pcXVlSURgIHByb3BlcnR5IG9uIERPTSBub2Rlcy4gV2UgY2FuIGNvbnN0cnVjdCB0aGUgaGFzaCBmcm9tIGl0XG4gIC8vIGFuZCBhdm9pZCBtZW1vcnkgbGVha3MgZnJvbSB0aGUgSUUgY2xvbmVOb2RlIGJ1Zy5cbiAgZnVuY3Rpb24gZ2V0SUVOb2RlSGFzaChub2RlKSB7XG4gICAgaWYgKG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA+IDApIHtcbiAgICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgICBjYXNlIDE6IC8vIEVsZW1lbnRcbiAgICAgICAgICByZXR1cm4gbm9kZS51bmlxdWVJRDtcbiAgICAgICAgY2FzZSA5OiAvLyBEb2N1bWVudFxuICAgICAgICAgIHJldHVybiBub2RlLmRvY3VtZW50RWxlbWVudCAmJiBub2RlLmRvY3VtZW50RWxlbWVudC51bmlxdWVJRDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBJZiBwb3NzaWJsZSwgdXNlIGEgV2Vha01hcC5cbiAgdmFyIHVzaW5nV2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nO1xuICB2YXIgd2Vha01hcDtcbiAgaWYgKHVzaW5nV2Vha01hcCkge1xuICAgIHdlYWtNYXAgPSBuZXcgV2Vha01hcCgpO1xuICB9XG5cbiAgdmFyIG9iakhhc2hVSUQgPSAwO1xuXG4gIHZhciBVSURfSEFTSF9LRVkgPSAnX19pbW11dGFibGVoYXNoX18nO1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFVJRF9IQVNIX0tFWSA9IFN5bWJvbChVSURfSEFTSF9LRVkpO1xuICB9XG5cbiAgdmFyIFNUUklOR19IQVNIX0NBQ0hFX01JTl9TVFJMRU4gPSAxNjtcbiAgdmFyIFNUUklOR19IQVNIX0NBQ0hFX01BWF9TSVpFID0gMjU1O1xuICB2YXIgU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSA9IDA7XG4gIHZhciBzdHJpbmdIYXNoQ2FjaGUgPSB7fTtcblxuICBmdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBlcnJvcikge1xuICAgIGlmICghY29uZGl0aW9uKSB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICB9XG5cbiAgZnVuY3Rpb24gYXNzZXJ0Tm90SW5maW5pdGUoc2l6ZSkge1xuICAgIGludmFyaWFudChcbiAgICAgIHNpemUgIT09IEluZmluaXR5LFxuICAgICAgJ0Nhbm5vdCBwZXJmb3JtIHRoaXMgYWN0aW9uIHdpdGggYW4gaW5maW5pdGUgc2l6ZS4nXG4gICAgKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFRvS2V5ZWRTZXF1ZW5jZSwgS2V5ZWRTZXEpO1xuICAgIGZ1bmN0aW9uIFRvS2V5ZWRTZXF1ZW5jZShpbmRleGVkLCB1c2VLZXlzKSB7XG4gICAgICB0aGlzLl9pdGVyID0gaW5kZXhlZDtcbiAgICAgIHRoaXMuX3VzZUtleXMgPSB1c2VLZXlzO1xuICAgICAgdGhpcy5zaXplID0gaW5kZXhlZC5zaXplO1xuICAgIH1cblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuZ2V0KGtleSwgbm90U2V0VmFsdWUpO1xuICAgIH07XG5cbiAgICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuaGFzKGtleSk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUudmFsdWVTZXEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLnZhbHVlU2VxKCk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSByZXZlcnNlRmFjdG9yeSh0aGlzLCB0cnVlKTtcbiAgICAgIGlmICghdGhpcy5fdXNlS2V5cykge1xuICAgICAgICByZXZlcnNlZFNlcXVlbmNlLnZhbHVlU2VxID0gZnVuY3Rpb24oKSAge3JldHVybiB0aGlzJDAuX2l0ZXIudG9TZXEoKS5yZXZlcnNlKCl9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24obWFwcGVyLCBjb250ZXh0KSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgbWFwcGVkU2VxdWVuY2UgPSBtYXBGYWN0b3J5KHRoaXMsIG1hcHBlciwgY29udGV4dCk7XG4gICAgICBpZiAoIXRoaXMuX3VzZUtleXMpIHtcbiAgICAgICAgbWFwcGVkU2VxdWVuY2UudmFsdWVTZXEgPSBmdW5jdGlvbigpICB7cmV0dXJuIHRoaXMkMC5faXRlci50b1NlcSgpLm1hcChtYXBwZXIsIGNvbnRleHQpfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXBwZWRTZXF1ZW5jZTtcbiAgICB9O1xuXG4gICAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGlpO1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKFxuICAgICAgICB0aGlzLl91c2VLZXlzID9cbiAgICAgICAgICBmdW5jdGlvbih2LCBrKSAge3JldHVybiBmbih2LCBrLCB0aGlzJDApfSA6XG4gICAgICAgICAgKChpaSA9IHJldmVyc2UgPyByZXNvbHZlU2l6ZSh0aGlzKSA6IDApLFxuICAgICAgICAgICAgZnVuY3Rpb24odiApIHtyZXR1cm4gZm4odiwgcmV2ZXJzZSA/IC0taWkgOiBpaSsrLCB0aGlzJDApfSksXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgfTtcblxuICAgIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmICh0aGlzLl91c2VLZXlzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGlpID0gcmV2ZXJzZSA/IHJlc29sdmVTaXplKHRoaXMpIDogMDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gc3RlcC5kb25lID8gc3RlcCA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCByZXZlcnNlID8gLS1paSA6IGlpKyssIHN0ZXAudmFsdWUsIHN0ZXApO1xuICAgICAgfSk7XG4gICAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcblxuXG4gIGNyZWF0ZUNsYXNzKFRvSW5kZXhlZFNlcXVlbmNlLCBJbmRleGVkU2VxKTtcbiAgICBmdW5jdGlvbiBUb0luZGV4ZWRTZXF1ZW5jZShpdGVyKSB7XG4gICAgICB0aGlzLl9pdGVyID0gaXRlcjtcbiAgICAgIHRoaXMuc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICB9XG5cbiAgICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuaW5jbHVkZXModmFsdWUpO1xuICAgIH07XG5cbiAgICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLl9faXRlcmF0ZShmdW5jdGlvbih2ICkge3JldHVybiBmbih2LCBpdGVyYXRpb25zKyssIHRoaXMkMCl9LCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9pdGVyLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBzdGVwLmRvbmUgPyBzdGVwIDpcbiAgICAgICAgICBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc3RlcC52YWx1ZSwgc3RlcClcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKFRvU2V0U2VxdWVuY2UsIFNldFNlcSk7XG4gICAgZnVuY3Rpb24gVG9TZXRTZXF1ZW5jZShpdGVyKSB7XG4gICAgICB0aGlzLl9pdGVyID0gaXRlcjtcbiAgICAgIHRoaXMuc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICB9XG5cbiAgICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pdGVyLmluY2x1ZGVzKGtleSk7XG4gICAgfTtcblxuICAgIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24odiApIHtyZXR1cm4gZm4odiwgdiwgdGhpcyQwKX0sIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICByZXR1cm4gc3RlcC5kb25lID8gc3RlcCA6XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBzdGVwLnZhbHVlLCBzdGVwLnZhbHVlLCBzdGVwKTtcbiAgICAgIH0pO1xuICAgIH07XG5cblxuXG4gIGNyZWF0ZUNsYXNzKEZyb21FbnRyaWVzU2VxdWVuY2UsIEtleWVkU2VxKTtcbiAgICBmdW5jdGlvbiBGcm9tRW50cmllc1NlcXVlbmNlKGVudHJpZXMpIHtcbiAgICAgIHRoaXMuX2l0ZXIgPSBlbnRyaWVzO1xuICAgICAgdGhpcy5zaXplID0gZW50cmllcy5zaXplO1xuICAgIH1cblxuICAgIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLmVudHJ5U2VxID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5faXRlci50b1NlcSgpO1xuICAgIH07XG5cbiAgICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uKGVudHJ5ICkge1xuICAgICAgICAvLyBDaGVjayBpZiBlbnRyeSBleGlzdHMgZmlyc3Qgc28gYXJyYXkgYWNjZXNzIGRvZXNuJ3QgdGhyb3cgZm9yIGhvbGVzXG4gICAgICAgIC8vIGluIHRoZSBwYXJlbnQgaXRlcmF0aW9uLlxuICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICB2YWxpZGF0ZUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB2YXIgaW5kZXhlZEl0ZXJhYmxlID0gaXNJdGVyYWJsZShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIGZuKFxuICAgICAgICAgICAgaW5kZXhlZEl0ZXJhYmxlID8gZW50cnkuZ2V0KDEpIDogZW50cnlbMV0sXG4gICAgICAgICAgICBpbmRleGVkSXRlcmFibGUgPyBlbnRyeS5nZXQoMCkgOiBlbnRyeVswXSxcbiAgICAgICAgICAgIHRoaXMkMFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgZW50cnkgZXhpc3RzIGZpcnN0IHNvIGFycmF5IGFjY2VzcyBkb2Vzbid0IHRocm93IGZvciBob2xlc1xuICAgICAgICAgIC8vIGluIHRoZSBwYXJlbnQgaXRlcmF0aW9uLlxuICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgdmFsaWRhdGVFbnRyeShlbnRyeSk7XG4gICAgICAgICAgICB2YXIgaW5kZXhlZEl0ZXJhYmxlID0gaXNJdGVyYWJsZShlbnRyeSk7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgaW5kZXhlZEl0ZXJhYmxlID8gZW50cnkuZ2V0KDApIDogZW50cnlbMF0sXG4gICAgICAgICAgICAgIGluZGV4ZWRJdGVyYWJsZSA/IGVudHJ5LmdldCgxKSA6IGVudHJ5WzFdLFxuICAgICAgICAgICAgICBzdGVwXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuXG4gIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9XG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPVxuICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9XG4gIEZyb21FbnRyaWVzU2VxdWVuY2UucHJvdG90eXBlLmNhY2hlUmVzdWx0ID1cbiAgICBjYWNoZVJlc3VsdFRocm91Z2g7XG5cblxuICBmdW5jdGlvbiBmbGlwRmFjdG9yeShpdGVyYWJsZSkge1xuICAgIHZhciBmbGlwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIGZsaXBTZXF1ZW5jZS5faXRlciA9IGl0ZXJhYmxlO1xuICAgIGZsaXBTZXF1ZW5jZS5zaXplID0gaXRlcmFibGUuc2l6ZTtcbiAgICBmbGlwU2VxdWVuY2UuZmxpcCA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gaXRlcmFibGV9O1xuICAgIGZsaXBTZXF1ZW5jZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSBpdGVyYWJsZS5yZXZlcnNlLmFwcGx5KHRoaXMpOyAvLyBzdXBlci5yZXZlcnNlKClcbiAgICAgIHJldmVyc2VkU2VxdWVuY2UuZmxpcCA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gaXRlcmFibGUucmV2ZXJzZSgpfTtcbiAgICAgIHJldHVybiByZXZlcnNlZFNlcXVlbmNlO1xuICAgIH07XG4gICAgZmxpcFNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uKGtleSApIHtyZXR1cm4gaXRlcmFibGUuaW5jbHVkZXMoa2V5KX07XG4gICAgZmxpcFNlcXVlbmNlLmluY2x1ZGVzID0gZnVuY3Rpb24oa2V5ICkge3JldHVybiBpdGVyYWJsZS5oYXMoa2V5KX07XG4gICAgZmxpcFNlcXVlbmNlLmNhY2hlUmVzdWx0ID0gY2FjaGVSZXN1bHRUaHJvdWdoO1xuICAgIGZsaXBTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAge3JldHVybiBmbihrLCB2LCB0aGlzJDApICE9PSBmYWxzZX0sIHJldmVyc2UpO1xuICAgIH1cbiAgICBmbGlwU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgaWYgKHR5cGUgPT09IElURVJBVEVfRU5UUklFUykge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgIGlmICghc3RlcC5kb25lKSB7XG4gICAgICAgICAgICB2YXIgayA9IHN0ZXAudmFsdWVbMF07XG4gICAgICAgICAgICBzdGVwLnZhbHVlWzBdID0gc3RlcC52YWx1ZVsxXTtcbiAgICAgICAgICAgIHN0ZXAudmFsdWVbMV0gPSBrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmFibGUuX19pdGVyYXRvcihcbiAgICAgICAgdHlwZSA9PT0gSVRFUkFURV9WQUxVRVMgPyBJVEVSQVRFX0tFWVMgOiBJVEVSQVRFX1ZBTFVFUyxcbiAgICAgICAgcmV2ZXJzZVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGZsaXBTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gbWFwRmFjdG9yeShpdGVyYWJsZSwgbWFwcGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIG1hcHBlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICBtYXBwZWRTZXF1ZW5jZS5zaXplID0gaXRlcmFibGUuc2l6ZTtcbiAgICBtYXBwZWRTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbihrZXkgKSB7cmV0dXJuIGl0ZXJhYmxlLmhhcyhrZXkpfTtcbiAgICBtYXBwZWRTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbihrZXksIG5vdFNldFZhbHVlKSAge1xuICAgICAgdmFyIHYgPSBpdGVyYWJsZS5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICAgIHJldHVybiB2ID09PSBOT1RfU0VUID9cbiAgICAgICAgbm90U2V0VmFsdWUgOlxuICAgICAgICBtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrZXksIGl0ZXJhYmxlKTtcbiAgICB9O1xuICAgIG1hcHBlZFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24gKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gaXRlcmFibGUuX19pdGVyYXRlKFxuICAgICAgICBmdW5jdGlvbih2LCBrLCBjKSAge3JldHVybiBmbihtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBjKSwgaywgdGhpcyQwKSAhPT0gZmFsc2V9LFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgIH1cbiAgICBtYXBwZWRTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICB2YXIga2V5ID0gZW50cnlbMF07XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIG1hcHBlci5jYWxsKGNvbnRleHQsIGVudHJ5WzFdLCBrZXksIGl0ZXJhYmxlKSxcbiAgICAgICAgICBzdGVwXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcHBlZFNlcXVlbmNlO1xuICB9XG5cblxuICBmdW5jdGlvbiByZXZlcnNlRmFjdG9yeShpdGVyYWJsZSwgdXNlS2V5cykge1xuICAgIHZhciByZXZlcnNlZFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLl9pdGVyID0gaXRlcmFibGU7XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5zaXplID0gaXRlcmFibGUuc2l6ZTtcbiAgICByZXZlcnNlZFNlcXVlbmNlLnJldmVyc2UgPSBmdW5jdGlvbigpICB7cmV0dXJuIGl0ZXJhYmxlfTtcbiAgICBpZiAoaXRlcmFibGUuZmxpcCkge1xuICAgICAgcmV2ZXJzZWRTZXF1ZW5jZS5mbGlwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZmxpcFNlcXVlbmNlID0gZmxpcEZhY3RvcnkoaXRlcmFibGUpO1xuICAgICAgICBmbGlwU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uKCkgIHtyZXR1cm4gaXRlcmFibGUuZmxpcCgpfTtcbiAgICAgICAgcmV0dXJuIGZsaXBTZXF1ZW5jZTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldmVyc2VkU2VxdWVuY2UuZ2V0ID0gZnVuY3Rpb24oa2V5LCBub3RTZXRWYWx1ZSkgXG4gICAgICB7cmV0dXJuIGl0ZXJhYmxlLmdldCh1c2VLZXlzID8ga2V5IDogLTEgLSBrZXksIG5vdFNldFZhbHVlKX07XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5oYXMgPSBmdW5jdGlvbihrZXkgKVxuICAgICAge3JldHVybiBpdGVyYWJsZS5oYXModXNlS2V5cyA/IGtleSA6IC0xIC0ga2V5KX07XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5pbmNsdWRlcyA9IGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpdGVyYWJsZS5pbmNsdWRlcyh2YWx1ZSl9O1xuICAgIHJldmVyc2VkU2VxdWVuY2UuY2FjaGVSZXN1bHQgPSBjYWNoZVJlc3VsdFRocm91Z2g7XG4gICAgcmV2ZXJzZWRTZXF1ZW5jZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gZm4odiwgaywgdGhpcyQwKX0sICFyZXZlcnNlKTtcbiAgICB9O1xuICAgIHJldmVyc2VkU2VxdWVuY2UuX19pdGVyYXRvciA9XG4gICAgICBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSAge3JldHVybiBpdGVyYWJsZS5fX2l0ZXJhdG9yKHR5cGUsICFyZXZlcnNlKX07XG4gICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGZpbHRlckZhY3RvcnkoaXRlcmFibGUsIHByZWRpY2F0ZSwgY29udGV4dCwgdXNlS2V5cykge1xuICAgIHZhciBmaWx0ZXJTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG4gICAgaWYgKHVzZUtleXMpIHtcbiAgICAgIGZpbHRlclNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uKGtleSApIHtcbiAgICAgICAgdmFyIHYgPSBpdGVyYWJsZS5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICAgICAgcmV0dXJuIHYgIT09IE5PVF9TRVQgJiYgISFwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrZXksIGl0ZXJhYmxlKTtcbiAgICAgIH07XG4gICAgICBmaWx0ZXJTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbihrZXksIG5vdFNldFZhbHVlKSAge1xuICAgICAgICB2YXIgdiA9IGl0ZXJhYmxlLmdldChrZXksIE5PVF9TRVQpO1xuICAgICAgICByZXR1cm4gdiAhPT0gTk9UX1NFVCAmJiBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrZXksIGl0ZXJhYmxlKSA/XG4gICAgICAgICAgdiA6IG5vdFNldFZhbHVlO1xuICAgICAgfTtcbiAgICB9XG4gICAgZmlsdGVyU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIGl0ZXJhYmxlLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSAge1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgICAgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucyAtIDEsIHRoaXMkMCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcbiAgICBmaWx0ZXJTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICB2YXIga2V5ID0gZW50cnlbMF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gZW50cnlbMV07XG4gICAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHZhbHVlLCBrZXksIGl0ZXJhYmxlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgdXNlS2V5cyA/IGtleSA6IGl0ZXJhdGlvbnMrKywgdmFsdWUsIHN0ZXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmaWx0ZXJTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY291bnRCeUZhY3RvcnkoaXRlcmFibGUsIGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgZ3JvdXBzID0gc3JjX01hcF9fTWFwKCkuYXNNdXRhYmxlKCk7XG4gICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICBncm91cHMudXBkYXRlKFxuICAgICAgICBncm91cGVyLmNhbGwoY29udGV4dCwgdiwgaywgaXRlcmFibGUpLFxuICAgICAgICAwLFxuICAgICAgICBmdW5jdGlvbihhICkge3JldHVybiBhICsgMX1cbiAgICAgICk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGdyb3Vwcy5hc0ltbXV0YWJsZSgpO1xuICB9XG5cblxuICBmdW5jdGlvbiBncm91cEJ5RmFjdG9yeShpdGVyYWJsZSwgZ3JvdXBlciwgY29udGV4dCkge1xuICAgIHZhciBpc0tleWVkSXRlciA9IGlzS2V5ZWQoaXRlcmFibGUpO1xuICAgIHZhciBncm91cHMgPSAoaXNPcmRlcmVkKGl0ZXJhYmxlKSA/IE9yZGVyZWRNYXAoKSA6IHNyY19NYXBfX01hcCgpKS5hc011dGFibGUoKTtcbiAgICBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtcbiAgICAgIGdyb3Vwcy51cGRhdGUoXG4gICAgICAgIGdyb3VwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBpdGVyYWJsZSksXG4gICAgICAgIGZ1bmN0aW9uKGEgKSB7cmV0dXJuIChhID0gYSB8fCBbXSwgYS5wdXNoKGlzS2V5ZWRJdGVyID8gW2ssIHZdIDogdiksIGEpfVxuICAgICAgKTtcbiAgICB9KTtcbiAgICB2YXIgY29lcmNlID0gaXRlcmFibGVDbGFzcyhpdGVyYWJsZSk7XG4gICAgcmV0dXJuIGdyb3Vwcy5tYXAoZnVuY3Rpb24oYXJyICkge3JldHVybiByZWlmeShpdGVyYWJsZSwgY29lcmNlKGFycikpfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHNsaWNlRmFjdG9yeShpdGVyYWJsZSwgYmVnaW4sIGVuZCwgdXNlS2V5cykge1xuICAgIHZhciBvcmlnaW5hbFNpemUgPSBpdGVyYWJsZS5zaXplO1xuXG4gICAgLy8gU2FuaXRpemUgYmVnaW4gJiBlbmQgdXNpbmcgdGhpcyBzaG9ydGhhbmQgZm9yIFRvSW50MzIoYXJndW1lbnQpXG4gICAgLy8gaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXRvaW50MzJcbiAgICBpZiAoYmVnaW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgYmVnaW4gPSBiZWdpbiB8IDA7XG4gICAgfVxuICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZW5kID0gZW5kIHwgMDtcbiAgICB9XG5cbiAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCBvcmlnaW5hbFNpemUpKSB7XG4gICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgfVxuXG4gICAgdmFyIHJlc29sdmVkQmVnaW4gPSByZXNvbHZlQmVnaW4oYmVnaW4sIG9yaWdpbmFsU2l6ZSk7XG4gICAgdmFyIHJlc29sdmVkRW5kID0gcmVzb2x2ZUVuZChlbmQsIG9yaWdpbmFsU2l6ZSk7XG5cbiAgICAvLyBiZWdpbiBvciBlbmQgd2lsbCBiZSBOYU4gaWYgdGhleSB3ZXJlIHByb3ZpZGVkIGFzIG5lZ2F0aXZlIG51bWJlcnMgYW5kXG4gICAgLy8gdGhpcyBpdGVyYWJsZSdzIHNpemUgaXMgdW5rbm93bi4gSW4gdGhhdCBjYXNlLCBjYWNoZSBmaXJzdCBzbyB0aGVyZSBpc1xuICAgIC8vIGEga25vd24gc2l6ZSBhbmQgdGhlc2UgZG8gbm90IHJlc29sdmUgdG8gTmFOLlxuICAgIGlmIChyZXNvbHZlZEJlZ2luICE9PSByZXNvbHZlZEJlZ2luIHx8IHJlc29sdmVkRW5kICE9PSByZXNvbHZlZEVuZCkge1xuICAgICAgcmV0dXJuIHNsaWNlRmFjdG9yeShpdGVyYWJsZS50b1NlcSgpLmNhY2hlUmVzdWx0KCksIGJlZ2luLCBlbmQsIHVzZUtleXMpO1xuICAgIH1cblxuICAgIC8vIE5vdGU6IHJlc29sdmVkRW5kIGlzIHVuZGVmaW5lZCB3aGVuIHRoZSBvcmlnaW5hbCBzZXF1ZW5jZSdzIGxlbmd0aCBpc1xuICAgIC8vIHVua25vd24gYW5kIHRoaXMgc2xpY2UgZGlkIG5vdCBzdXBwbHkgYW4gZW5kIGFuZCBzaG91bGQgY29udGFpbiBhbGxcbiAgICAvLyBlbGVtZW50cyBhZnRlciByZXNvbHZlZEJlZ2luLlxuICAgIC8vIEluIHRoYXQgY2FzZSwgcmVzb2x2ZWRTaXplIHdpbGwgYmUgTmFOIGFuZCBzbGljZVNpemUgd2lsbCByZW1haW4gdW5kZWZpbmVkLlxuICAgIHZhciByZXNvbHZlZFNpemUgPSByZXNvbHZlZEVuZCAtIHJlc29sdmVkQmVnaW47XG4gICAgdmFyIHNsaWNlU2l6ZTtcbiAgICBpZiAocmVzb2x2ZWRTaXplID09PSByZXNvbHZlZFNpemUpIHtcbiAgICAgIHNsaWNlU2l6ZSA9IHJlc29sdmVkU2l6ZSA8IDAgPyAwIDogcmVzb2x2ZWRTaXplO1xuICAgIH1cblxuICAgIHZhciBzbGljZVNlcSA9IG1ha2VTZXF1ZW5jZShpdGVyYWJsZSk7XG5cbiAgICAvLyBJZiBpdGVyYWJsZS5zaXplIGlzIHVuZGVmaW5lZCwgdGhlIHNpemUgb2YgdGhlIHJlYWxpemVkIHNsaWNlU2VxIGlzXG4gICAgLy8gdW5rbm93biBhdCB0aGlzIHBvaW50IHVubGVzcyB0aGUgbnVtYmVyIG9mIGl0ZW1zIHRvIHNsaWNlIGlzIDBcbiAgICBzbGljZVNlcS5zaXplID0gc2xpY2VTaXplID09PSAwID8gc2xpY2VTaXplIDogaXRlcmFibGUuc2l6ZSAmJiBzbGljZVNpemUgfHwgdW5kZWZpbmVkO1xuXG4gICAgaWYgKCF1c2VLZXlzICYmIGlzU2VxKGl0ZXJhYmxlKSAmJiBzbGljZVNpemUgPj0gMCkge1xuICAgICAgc2xpY2VTZXEuZ2V0ID0gZnVuY3Rpb24gKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICAgIHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgc2xpY2VTaXplID9cbiAgICAgICAgICBpdGVyYWJsZS5nZXQoaW5kZXggKyByZXNvbHZlZEJlZ2luLCBub3RTZXRWYWx1ZSkgOlxuICAgICAgICAgIG5vdFNldFZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNsaWNlU2VxLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIGlmIChzbGljZVNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgICB9XG4gICAgICB2YXIgc2tpcHBlZCA9IDA7XG4gICAgICB2YXIgaXNTa2lwcGluZyA9IHRydWU7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICBpdGVyYWJsZS5fX2l0ZXJhdGUoZnVuY3Rpb24odiwgaykgIHtcbiAgICAgICAgaWYgKCEoaXNTa2lwcGluZyAmJiAoaXNTa2lwcGluZyA9IHNraXBwZWQrKyA8IHJlc29sdmVkQmVnaW4pKSkge1xuICAgICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgICByZXR1cm4gZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zIC0gMSwgdGhpcyQwKSAhPT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICAgaXRlcmF0aW9ucyAhPT0gc2xpY2VTaXplO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG5cbiAgICBzbGljZVNlcS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICBpZiAoc2xpY2VTaXplICE9PSAwICYmIHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgLy8gRG9uJ3QgYm90aGVyIGluc3RhbnRpYXRpbmcgcGFyZW50IGl0ZXJhdG9yIGlmIHRha2luZyAwLlxuICAgICAgdmFyIGl0ZXJhdG9yID0gc2xpY2VTaXplICE9PSAwICYmIGl0ZXJhYmxlLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICB2YXIgc2tpcHBlZCA9IDA7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB3aGlsZSAoc2tpcHBlZCsrIDwgcmVzb2x2ZWRCZWdpbikge1xuICAgICAgICAgIGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKytpdGVyYXRpb25zID4gc2xpY2VTaXplKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAodXNlS2V5cyB8fCB0eXBlID09PSBJVEVSQVRFX1ZBTFVFUykge1xuICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElURVJBVEVfS0VZUykge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMgLSAxLCB1bmRlZmluZWQsIHN0ZXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMgLSAxLCBzdGVwLnZhbHVlWzFdLCBzdGVwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNsaWNlU2VxO1xuICB9XG5cblxuICBmdW5jdGlvbiB0YWtlV2hpbGVGYWN0b3J5KGl0ZXJhYmxlLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgdGFrZVNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKTtcbiAgICB0YWtlU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpIFxuICAgICAgICB7cmV0dXJuIHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpICYmICsraXRlcmF0aW9ucyAmJiBmbih2LCBrLCB0aGlzJDApfVxuICAgICAgKTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG4gICAgdGFrZVNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBpdGVyYXRpbmcgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgaWYgKCFpdGVyYXRpbmcpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICB2YXIgayA9IGVudHJ5WzBdO1xuICAgICAgICB2YXIgdiA9IGVudHJ5WzFdO1xuICAgICAgICBpZiAoIXByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIHRoaXMkMCkpIHtcbiAgICAgICAgICBpdGVyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGUgPT09IElURVJBVEVfRU5UUklFUyA/IHN0ZXAgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaywgdiwgc3RlcCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiB0YWtlU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHNraXBXaGlsZUZhY3RvcnkoaXRlcmFibGUsIHByZWRpY2F0ZSwgY29udGV4dCwgdXNlS2V5cykge1xuICAgIHZhciBza2lwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIHNraXBTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgICAgfVxuICAgICAgdmFyIGlzU2tpcHBpbmcgPSB0cnVlO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpICB7XG4gICAgICAgIGlmICghKGlzU2tpcHBpbmcgJiYgKGlzU2tpcHBpbmcgPSBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSkpKSB7XG4gICAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICAgIHJldHVybiBmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMgLSAxLCB0aGlzJDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG4gICAgc2tpcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhYmxlLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICAgIHZhciBza2lwcGluZyA9IHRydWU7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gbmV3IHNyY19JdGVyYXRvcl9fSXRlcmF0b3IoZnVuY3Rpb24oKSAge1xuICAgICAgICB2YXIgc3RlcCwgaywgdjtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgaWYgKHVzZUtleXMgfHwgdHlwZSA9PT0gSVRFUkFURV9WQUxVRVMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IElURVJBVEVfS0VZUykge1xuICAgICAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHVuZGVmaW5lZCwgc3RlcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHN0ZXAudmFsdWVbMV0sIHN0ZXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgIGsgPSBlbnRyeVswXTtcbiAgICAgICAgICB2ID0gZW50cnlbMV07XG4gICAgICAgICAgc2tpcHBpbmcgJiYgKHNraXBwaW5nID0gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgdGhpcyQwKSk7XG4gICAgICAgIH0gd2hpbGUgKHNraXBwaW5nKTtcbiAgICAgICAgcmV0dXJuIHR5cGUgPT09IElURVJBVEVfRU5UUklFUyA/IHN0ZXAgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaywgdiwgc3RlcCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBza2lwU2VxdWVuY2U7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGNvbmNhdEZhY3RvcnkoaXRlcmFibGUsIHZhbHVlcykge1xuICAgIHZhciBpc0tleWVkSXRlcmFibGUgPSBpc0tleWVkKGl0ZXJhYmxlKTtcbiAgICB2YXIgaXRlcnMgPSBbaXRlcmFibGVdLmNvbmNhdCh2YWx1ZXMpLm1hcChmdW5jdGlvbih2ICkge1xuICAgICAgaWYgKCFpc0l0ZXJhYmxlKHYpKSB7XG4gICAgICAgIHYgPSBpc0tleWVkSXRlcmFibGUgP1xuICAgICAgICAgIGtleWVkU2VxRnJvbVZhbHVlKHYpIDpcbiAgICAgICAgICBpbmRleGVkU2VxRnJvbVZhbHVlKEFycmF5LmlzQXJyYXkodikgPyB2IDogW3ZdKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNLZXllZEl0ZXJhYmxlKSB7XG4gICAgICAgIHYgPSBLZXllZEl0ZXJhYmxlKHYpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHY7XG4gICAgfSkuZmlsdGVyKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIHYuc2l6ZSAhPT0gMH0pO1xuXG4gICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGl0ZXJhYmxlO1xuICAgIH1cblxuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBzaW5nbGV0b24gPSBpdGVyc1swXTtcbiAgICAgIGlmIChzaW5nbGV0b24gPT09IGl0ZXJhYmxlIHx8XG4gICAgICAgICAgaXNLZXllZEl0ZXJhYmxlICYmIGlzS2V5ZWQoc2luZ2xldG9uKSB8fFxuICAgICAgICAgIGlzSW5kZXhlZChpdGVyYWJsZSkgJiYgaXNJbmRleGVkKHNpbmdsZXRvbikpIHtcbiAgICAgICAgcmV0dXJuIHNpbmdsZXRvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY29uY2F0U2VxID0gbmV3IEFycmF5U2VxKGl0ZXJzKTtcbiAgICBpZiAoaXNLZXllZEl0ZXJhYmxlKSB7XG4gICAgICBjb25jYXRTZXEgPSBjb25jYXRTZXEudG9LZXllZFNlcSgpO1xuICAgIH0gZWxzZSBpZiAoIWlzSW5kZXhlZChpdGVyYWJsZSkpIHtcbiAgICAgIGNvbmNhdFNlcSA9IGNvbmNhdFNlcS50b1NldFNlcSgpO1xuICAgIH1cbiAgICBjb25jYXRTZXEgPSBjb25jYXRTZXEuZmxhdHRlbih0cnVlKTtcbiAgICBjb25jYXRTZXEuc2l6ZSA9IGl0ZXJzLnJlZHVjZShcbiAgICAgIGZ1bmN0aW9uKHN1bSwgc2VxKSAge1xuICAgICAgICBpZiAoc3VtICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB2YXIgc2l6ZSA9IHNlcS5zaXplO1xuICAgICAgICAgIGlmIChzaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdW0gKyBzaXplO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIDBcbiAgICApO1xuICAgIHJldHVybiBjb25jYXRTZXE7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGZsYXR0ZW5GYWN0b3J5KGl0ZXJhYmxlLCBkZXB0aCwgdXNlS2V5cykge1xuICAgIHZhciBmbGF0U2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIGZsYXRTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgZnVuY3Rpb24gZmxhdERlZXAoaXRlciwgY3VycmVudERlcHRoKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICAgIGl0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICAgICAgaWYgKCghZGVwdGggfHwgY3VycmVudERlcHRoIDwgZGVwdGgpICYmIGlzSXRlcmFibGUodikpIHtcbiAgICAgICAgICAgIGZsYXREZWVwKHYsIGN1cnJlbnREZXB0aCArIDEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZm4odiwgdXNlS2V5cyA/IGsgOiBpdGVyYXRpb25zKyssIHRoaXMkMCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICFzdG9wcGVkO1xuICAgICAgICB9LCByZXZlcnNlKTtcbiAgICAgIH1cbiAgICAgIGZsYXREZWVwKGl0ZXJhYmxlLCAwKTtcbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH1cbiAgICBmbGF0U2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgIHZhciBzdGFjayA9IFtdO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgd2hpbGUgKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHYgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgIGlmICh0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMpIHtcbiAgICAgICAgICAgIHYgPSB2WzFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKCFkZXB0aCB8fCBzdGFjay5sZW5ndGggPCBkZXB0aCkgJiYgaXNJdGVyYWJsZSh2KSkge1xuICAgICAgICAgICAgc3RhY2sucHVzaChpdGVyYXRvcik7XG4gICAgICAgICAgICBpdGVyYXRvciA9IHYuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVzZUtleXMgPyBzdGVwIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHYsIHN0ZXApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZsYXRTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gZmxhdE1hcEZhY3RvcnkoaXRlcmFibGUsIG1hcHBlciwgY29udGV4dCkge1xuICAgIHZhciBjb2VyY2UgPSBpdGVyYWJsZUNsYXNzKGl0ZXJhYmxlKTtcbiAgICByZXR1cm4gaXRlcmFibGUudG9TZXEoKS5tYXAoXG4gICAgICBmdW5jdGlvbih2LCBrKSAge3JldHVybiBjb2VyY2UobWFwcGVyLmNhbGwoY29udGV4dCwgdiwgaywgaXRlcmFibGUpKX1cbiAgICApLmZsYXR0ZW4odHJ1ZSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGludGVycG9zZUZhY3RvcnkoaXRlcmFibGUsIHNlcGFyYXRvcikge1xuICAgIHZhciBpbnRlcnBvc2VkU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoaXRlcmFibGUpO1xuICAgIGludGVycG9zZWRTZXF1ZW5jZS5zaXplID0gaXRlcmFibGUuc2l6ZSAmJiBpdGVyYWJsZS5zaXplICogMiAtMTtcbiAgICBpbnRlcnBvc2VkU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgaXRlcmFibGUuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspIFxuICAgICAgICB7cmV0dXJuICghaXRlcmF0aW9ucyB8fCBmbihzZXBhcmF0b3IsIGl0ZXJhdGlvbnMrKywgdGhpcyQwKSAhPT0gZmFsc2UpICYmXG4gICAgICAgIGZuKHYsIGl0ZXJhdGlvbnMrKywgdGhpcyQwKSAhPT0gZmFsc2V9LFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcbiAgICBpbnRlcnBvc2VkU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmFibGUuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIGlmICghc3RlcCB8fCBpdGVyYXRpb25zICUgMikge1xuICAgICAgICAgIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVyYXRpb25zICUgMiA/XG4gICAgICAgICAgaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHNlcGFyYXRvcikgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlLCBzdGVwKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIGludGVycG9zZWRTZXF1ZW5jZTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gc29ydEZhY3RvcnkoaXRlcmFibGUsIGNvbXBhcmF0b3IsIG1hcHBlcikge1xuICAgIGlmICghY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IGRlZmF1bHRDb21wYXJhdG9yO1xuICAgIH1cbiAgICB2YXIgaXNLZXllZEl0ZXJhYmxlID0gaXNLZXllZChpdGVyYWJsZSk7XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgZW50cmllcyA9IGl0ZXJhYmxlLnRvU2VxKCkubWFwKFxuICAgICAgZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gW2ssIHYsIGluZGV4KyssIG1hcHBlciA/IG1hcHBlcih2LCBrLCBpdGVyYWJsZSkgOiB2XX1cbiAgICApLnRvQXJyYXkoKTtcbiAgICBlbnRyaWVzLnNvcnQoZnVuY3Rpb24oYSwgYikgIHtyZXR1cm4gY29tcGFyYXRvcihhWzNdLCBiWzNdKSB8fCBhWzJdIC0gYlsyXX0pLmZvckVhY2goXG4gICAgICBpc0tleWVkSXRlcmFibGUgP1xuICAgICAgZnVuY3Rpb24odiwgaSkgIHsgZW50cmllc1tpXS5sZW5ndGggPSAyOyB9IDpcbiAgICAgIGZ1bmN0aW9uKHYsIGkpICB7IGVudHJpZXNbaV0gPSB2WzFdOyB9XG4gICAgKTtcbiAgICByZXR1cm4gaXNLZXllZEl0ZXJhYmxlID8gS2V5ZWRTZXEoZW50cmllcykgOlxuICAgICAgaXNJbmRleGVkKGl0ZXJhYmxlKSA/IEluZGV4ZWRTZXEoZW50cmllcykgOlxuICAgICAgU2V0U2VxKGVudHJpZXMpO1xuICB9XG5cblxuICBmdW5jdGlvbiBtYXhGYWN0b3J5KGl0ZXJhYmxlLCBjb21wYXJhdG9yLCBtYXBwZXIpIHtcbiAgICBpZiAoIWNvbXBhcmF0b3IpIHtcbiAgICAgIGNvbXBhcmF0b3IgPSBkZWZhdWx0Q29tcGFyYXRvcjtcbiAgICB9XG4gICAgaWYgKG1hcHBlcikge1xuICAgICAgdmFyIGVudHJ5ID0gaXRlcmFibGUudG9TZXEoKVxuICAgICAgICAubWFwKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIFt2LCBtYXBwZXIodiwgaywgaXRlcmFibGUpXX0pXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24oYSwgYikgIHtyZXR1cm4gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhWzFdLCBiWzFdKSA/IGIgOiBhfSk7XG4gICAgICByZXR1cm4gZW50cnkgJiYgZW50cnlbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpdGVyYWJsZS5yZWR1Y2UoZnVuY3Rpb24oYSwgYikgIHtyZXR1cm4gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhLCBiKSA/IGIgOiBhfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWF4Q29tcGFyZShjb21wYXJhdG9yLCBhLCBiKSB7XG4gICAgdmFyIGNvbXAgPSBjb21wYXJhdG9yKGIsIGEpO1xuICAgIC8vIGIgaXMgY29uc2lkZXJlZCB0aGUgbmV3IG1heCBpZiB0aGUgY29tcGFyYXRvciBkZWNsYXJlcyB0aGVtIGVxdWFsLCBidXRcbiAgICAvLyB0aGV5IGFyZSBub3QgZXF1YWwgYW5kIGIgaXMgaW4gZmFjdCBhIG51bGxpc2ggdmFsdWUuXG4gICAgcmV0dXJuIChjb21wID09PSAwICYmIGIgIT09IGEgJiYgKGIgPT09IHVuZGVmaW5lZCB8fCBiID09PSBudWxsIHx8IGIgIT09IGIpKSB8fCBjb21wID4gMDtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gemlwV2l0aEZhY3Rvcnkoa2V5SXRlciwgemlwcGVyLCBpdGVycykge1xuICAgIHZhciB6aXBTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShrZXlJdGVyKTtcbiAgICB6aXBTZXF1ZW5jZS5zaXplID0gbmV3IEFycmF5U2VxKGl0ZXJzKS5tYXAoZnVuY3Rpb24oaSApIHtyZXR1cm4gaS5zaXplfSkubWluKCk7XG4gICAgLy8gTm90ZTogdGhpcyBhIGdlbmVyaWMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBfX2l0ZXJhdGUgaW4gdGVybXMgb2ZcbiAgICAvLyBfX2l0ZXJhdG9yIHdoaWNoIG1heSBiZSBtb3JlIGdlbmVyaWNhbGx5IHVzZWZ1bCBpbiB0aGUgZnV0dXJlLlxuICAgIHppcFNlcXVlbmNlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICAvKiBnZW5lcmljOlxuICAgICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgICBpZiAoZm4oc3RlcC52YWx1ZVsxXSwgc3RlcC52YWx1ZVswXSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgICAgKi9cbiAgICAgIC8vIGluZGV4ZWQ6XG4gICAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMsIHJldmVyc2UpO1xuICAgICAgdmFyIHN0ZXA7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIGlmIChmbihzdGVwLnZhbHVlLCBpdGVyYXRpb25zKyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgICB9O1xuICAgIHppcFNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHZhciBpdGVyYXRvcnMgPSBpdGVycy5tYXAoZnVuY3Rpb24oaSApXG4gICAgICAgIHtyZXR1cm4gKGkgPSBJdGVyYWJsZShpKSwgZ2V0SXRlcmF0b3IocmV2ZXJzZSA/IGkucmV2ZXJzZSgpIDogaSkpfVxuICAgICAgKTtcbiAgICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICAgIHZhciBpc0RvbmUgPSBmYWxzZTtcbiAgICAgIHJldHVybiBuZXcgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcihmdW5jdGlvbigpICB7XG4gICAgICAgIHZhciBzdGVwcztcbiAgICAgICAgaWYgKCFpc0RvbmUpIHtcbiAgICAgICAgICBzdGVwcyA9IGl0ZXJhdG9ycy5tYXAoZnVuY3Rpb24oaSApIHtyZXR1cm4gaS5uZXh0KCl9KTtcbiAgICAgICAgICBpc0RvbmUgPSBzdGVwcy5zb21lKGZ1bmN0aW9uKHMgKSB7cmV0dXJuIHMuZG9uZX0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0RvbmUpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBpdGVyYXRpb25zKyssXG4gICAgICAgICAgemlwcGVyLmFwcGx5KG51bGwsIHN0ZXBzLm1hcChmdW5jdGlvbihzICkge3JldHVybiBzLnZhbHVlfSkpXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiB6aXBTZXF1ZW5jZVxuICB9XG5cblxuICAvLyAjcHJhZ21hIEhlbHBlciBGdW5jdGlvbnNcblxuICBmdW5jdGlvbiByZWlmeShpdGVyLCBzZXEpIHtcbiAgICByZXR1cm4gaXNTZXEoaXRlcikgPyBzZXEgOiBpdGVyLmNvbnN0cnVjdG9yKHNlcSk7XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0ZUVudHJ5KGVudHJ5KSB7XG4gICAgaWYgKGVudHJ5ICE9PSBPYmplY3QoZW50cnkpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBbSywgVl0gdHVwbGU6ICcgKyBlbnRyeSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZVNpemUoaXRlcikge1xuICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgcmV0dXJuIGVuc3VyZVNpemUoaXRlcik7XG4gIH1cblxuICBmdW5jdGlvbiBpdGVyYWJsZUNsYXNzKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIGlzS2V5ZWQoaXRlcmFibGUpID8gS2V5ZWRJdGVyYWJsZSA6XG4gICAgICBpc0luZGV4ZWQoaXRlcmFibGUpID8gSW5kZXhlZEl0ZXJhYmxlIDpcbiAgICAgIFNldEl0ZXJhYmxlO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVNlcXVlbmNlKGl0ZXJhYmxlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUoXG4gICAgICAoXG4gICAgICAgIGlzS2V5ZWQoaXRlcmFibGUpID8gS2V5ZWRTZXEgOlxuICAgICAgICBpc0luZGV4ZWQoaXRlcmFibGUpID8gSW5kZXhlZFNlcSA6XG4gICAgICAgIFNldFNlcVxuICAgICAgKS5wcm90b3R5cGVcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FjaGVSZXN1bHRUaHJvdWdoKCkge1xuICAgIGlmICh0aGlzLl9pdGVyLmNhY2hlUmVzdWx0KSB7XG4gICAgICB0aGlzLl9pdGVyLmNhY2hlUmVzdWx0KCk7XG4gICAgICB0aGlzLnNpemUgPSB0aGlzLl9pdGVyLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFNlcS5wcm90b3R5cGUuY2FjaGVSZXN1bHQuY2FsbCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0Q29tcGFyYXRvcihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9yY2VJdGVyYXRvcihrZXlQYXRoKSB7XG4gICAgdmFyIGl0ZXIgPSBnZXRJdGVyYXRvcihrZXlQYXRoKTtcbiAgICBpZiAoIWl0ZXIpIHtcbiAgICAgIC8vIEFycmF5IG1pZ2h0IG5vdCBiZSBpdGVyYWJsZSBpbiB0aGlzIGVudmlyb25tZW50LCBzbyB3ZSBuZWVkIGEgZmFsbGJhY2tcbiAgICAgIC8vIHRvIG91ciB3cmFwcGVkIHR5cGUuXG4gICAgICBpZiAoIWlzQXJyYXlMaWtlKGtleVBhdGgpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGl0ZXJhYmxlIG9yIGFycmF5LWxpa2U6ICcgKyBrZXlQYXRoKTtcbiAgICAgIH1cbiAgICAgIGl0ZXIgPSBnZXRJdGVyYXRvcihJdGVyYWJsZShrZXlQYXRoKSk7XG4gICAgfVxuICAgIHJldHVybiBpdGVyO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3Moc3JjX01hcF9fTWFwLCBLZXllZENvbGxlY3Rpb24pO1xuXG4gICAgLy8gQHByYWdtYSBDb25zdHJ1Y3Rpb25cblxuICAgIGZ1bmN0aW9uIHNyY19NYXBfX01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eU1hcCgpIDpcbiAgICAgICAgaXNNYXAodmFsdWUpICYmICFpc09yZGVyZWQodmFsdWUpID8gdmFsdWUgOlxuICAgICAgICBlbXB0eU1hcCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24obWFwICkge1xuICAgICAgICAgIHZhciBpdGVyID0gS2V5ZWRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gbWFwLnNldChrLCB2KX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdNYXAgeycsICd9Jyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGssIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcm9vdCA/XG4gICAgICAgIHRoaXMuX3Jvb3QuZ2V0KDAsIHVuZGVmaW5lZCwgaywgbm90U2V0VmFsdWUpIDpcbiAgICAgICAgbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGssIHYpIHtcbiAgICAgIHJldHVybiB1cGRhdGVNYXAodGhpcywgaywgdik7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuc2V0SW4gPSBmdW5jdGlvbihrZXlQYXRoLCB2KSB7XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVJbihrZXlQYXRoLCBOT1RfU0VULCBmdW5jdGlvbigpICB7cmV0dXJuIHZ9KTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihrKSB7XG4gICAgICByZXR1cm4gdXBkYXRlTWFwKHRoaXMsIGssIE5PVF9TRVQpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLmRlbGV0ZUluID0gZnVuY3Rpb24oa2V5UGF0aCkge1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oa2V5UGF0aCwgZnVuY3Rpb24oKSAge3JldHVybiBOT1RfU0VUfSk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oaywgbm90U2V0VmFsdWUsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cbiAgICAgICAgayh0aGlzKSA6XG4gICAgICAgIHRoaXMudXBkYXRlSW4oW2tdLCBub3RTZXRWYWx1ZSwgdXBkYXRlcik7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUudXBkYXRlSW4gPSBmdW5jdGlvbihrZXlQYXRoLCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICAgICAgaWYgKCF1cGRhdGVyKSB7XG4gICAgICAgIHVwZGF0ZXIgPSBub3RTZXRWYWx1ZTtcbiAgICAgICAgbm90U2V0VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgdXBkYXRlZFZhbHVlID0gdXBkYXRlSW5EZWVwTWFwKFxuICAgICAgICB0aGlzLFxuICAgICAgICBmb3JjZUl0ZXJhdG9yKGtleVBhdGgpLFxuICAgICAgICBub3RTZXRWYWx1ZSxcbiAgICAgICAgdXBkYXRlclxuICAgICAgKTtcbiAgICAgIHJldHVybiB1cGRhdGVkVmFsdWUgPT09IE5PVF9TRVQgPyB1bmRlZmluZWQgOiB1cGRhdGVkVmFsdWU7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy5fcm9vdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5TWFwKCk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbigvKi4uLml0ZXJzKi8pIHtcbiAgICAgIHJldHVybiBtZXJnZUludG9NYXBXaXRoKHRoaXMsIHVuZGVmaW5lZCwgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5tZXJnZVdpdGggPSBmdW5jdGlvbihtZXJnZXIpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBtZXJnZUludG9NYXBXaXRoKHRoaXMsIG1lcmdlciwgaXRlcnMpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLm1lcmdlSW4gPSBmdW5jdGlvbihrZXlQYXRoKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVJbihcbiAgICAgICAga2V5UGF0aCxcbiAgICAgICAgZW1wdHlNYXAoKSxcbiAgICAgICAgZnVuY3Rpb24obSApIHtyZXR1cm4gdHlwZW9mIG0ubWVyZ2UgPT09ICdmdW5jdGlvbicgP1xuICAgICAgICAgIG0ubWVyZ2UuYXBwbHkobSwgaXRlcnMpIDpcbiAgICAgICAgICBpdGVyc1tpdGVycy5sZW5ndGggLSAxXX1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUubWVyZ2VEZWVwID0gZnVuY3Rpb24oLyouLi5pdGVycyovKSB7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTWFwV2l0aCh0aGlzLCBkZWVwTWVyZ2VyKHVuZGVmaW5lZCksIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IGZ1bmN0aW9uKG1lcmdlcikge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgZGVlcE1lcmdlcihtZXJnZXIpLCBpdGVycyk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUubWVyZ2VEZWVwSW4gPSBmdW5jdGlvbihrZXlQYXRoKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVJbihcbiAgICAgICAga2V5UGF0aCxcbiAgICAgICAgZW1wdHlNYXAoKSxcbiAgICAgICAgZnVuY3Rpb24obSApIHtyZXR1cm4gdHlwZW9mIG0ubWVyZ2VEZWVwID09PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICBtLm1lcmdlRGVlcC5hcHBseShtLCBpdGVycykgOlxuICAgICAgICAgIGl0ZXJzW2l0ZXJzLmxlbmd0aCAtIDFdfVxuICAgICAgKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgICByZXR1cm4gT3JkZXJlZE1hcChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yKSk7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuc29ydEJ5ID0gZnVuY3Rpb24obWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICAgIHJldHVybiBPcmRlcmVkTWFwKHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcikpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIE11dGFiaWxpdHlcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgICB2YXIgbXV0YWJsZSA9IHRoaXMuYXNNdXRhYmxlKCk7XG4gICAgICBmbihtdXRhYmxlKTtcbiAgICAgIHJldHVybiBtdXRhYmxlLndhc0FsdGVyZWQoKSA/IG11dGFibGUuX19lbnN1cmVPd25lcih0aGlzLl9fb3duZXJJRCkgOiB0aGlzO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLmFzTXV0YWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19vd25lcklEID8gdGhpcyA6IHRoaXMuX19lbnN1cmVPd25lcihuZXcgT3duZXJJRCgpKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19lbnN1cmVPd25lcigpO1xuICAgIH07XG5cbiAgICBzcmNfTWFwX19NYXAucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fYWx0ZXJlZDtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLCB0eXBlLCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgc3JjX01hcF9fTWFwLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdGhpcy5fcm9vdCAmJiB0aGlzLl9yb290Lml0ZXJhdGUoZnVuY3Rpb24oZW50cnkgKSB7XG4gICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgcmV0dXJuIGZuKGVudHJ5WzFdLCBlbnRyeVswXSwgdGhpcyQwKTtcbiAgICAgIH0sIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgfTtcblxuICAgIHNyY19NYXBfX01hcC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uKG93bmVySUQpIHtcbiAgICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGlmICghb3duZXJJRCkge1xuICAgICAgICB0aGlzLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1ha2VNYXAodGhpcy5zaXplLCB0aGlzLl9yb290LCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIGlzTWFwKG1heWJlTWFwKSB7XG4gICAgcmV0dXJuICEhKG1heWJlTWFwICYmIG1heWJlTWFwW0lTX01BUF9TRU5USU5FTF0pO1xuICB9XG5cbiAgc3JjX01hcF9fTWFwLmlzTWFwID0gaXNNYXA7XG5cbiAgdmFyIElTX01BUF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX01BUF9fQEAnO1xuXG4gIHZhciBNYXBQcm90b3R5cGUgPSBzcmNfTWFwX19NYXAucHJvdG90eXBlO1xuICBNYXBQcm90b3R5cGVbSVNfTUFQX1NFTlRJTkVMXSA9IHRydWU7XG4gIE1hcFByb3RvdHlwZVtERUxFVEVdID0gTWFwUHJvdG90eXBlLnJlbW92ZTtcbiAgTWFwUHJvdG90eXBlLnJlbW92ZUluID0gTWFwUHJvdG90eXBlLmRlbGV0ZUluO1xuXG5cbiAgLy8gI3ByYWdtYSBUcmllIE5vZGVzXG5cblxuXG4gICAgZnVuY3Rpb24gQXJyYXlNYXBOb2RlKG93bmVySUQsIGVudHJpZXMpIHtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLmVudHJpZXMgPSBlbnRyaWVzO1xuICAgIH1cblxuICAgIEFycmF5TWFwTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgICAgZm9yICh2YXIgaWkgPSAwLCBsZW4gPSBlbnRyaWVzLmxlbmd0aDsgaWkgPCBsZW47IGlpKyspIHtcbiAgICAgICAgaWYgKGlzKGtleSwgZW50cmllc1tpaV1bMF0pKSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJpZXNbaWldWzFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIEFycmF5TWFwTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24ob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gICAgICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuXG4gICAgICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgICAgIHZhciBpZHggPSAwO1xuICAgICAgZm9yICh2YXIgbGVuID0gZW50cmllcy5sZW5ndGg7IGlkeCA8IGxlbjsgaWR4KyspIHtcbiAgICAgICAgaWYgKGlzKGtleSwgZW50cmllc1tpZHhdWzBdKSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgZXhpc3RzID0gaWR4IDwgbGVuO1xuXG4gICAgICBpZiAoZXhpc3RzID8gZW50cmllc1tpZHhdWzFdID09PSB2YWx1ZSA6IHJlbW92ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIFNldFJlZihkaWRBbHRlcik7XG4gICAgICAocmVtb3ZlZCB8fCAhZXhpc3RzKSAmJiBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG5cbiAgICAgIGlmIChyZW1vdmVkICYmIGVudHJpZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gICAgICB9XG5cbiAgICAgIGlmICghZXhpc3RzICYmICFyZW1vdmVkICYmIGVudHJpZXMubGVuZ3RoID49IE1BWF9BUlJBWV9NQVBfU0laRSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTm9kZXMob3duZXJJRCwgZW50cmllcywga2V5LCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gICAgICB2YXIgbmV3RW50cmllcyA9IGlzRWRpdGFibGUgPyBlbnRyaWVzIDogYXJyQ29weShlbnRyaWVzKTtcblxuICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgICAgIGlkeCA9PT0gbGVuIC0gMSA/IG5ld0VudHJpZXMucG9wKCkgOiAobmV3RW50cmllc1tpZHhdID0gbmV3RW50cmllcy5wb3AoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3RW50cmllc1tpZHhdID0gW2tleSwgdmFsdWVdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdFbnRyaWVzLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gbmV3RW50cmllcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQXJyYXlNYXBOb2RlKG93bmVySUQsIG5ld0VudHJpZXMpO1xuICAgIH07XG5cblxuXG5cbiAgICBmdW5jdGlvbiBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCBiaXRtYXAsIG5vZGVzKSB7XG4gICAgICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5iaXRtYXAgPSBiaXRtYXA7XG4gICAgICB0aGlzLm5vZGVzID0gbm9kZXM7XG4gICAgfVxuXG4gICAgQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gICAgICB9XG4gICAgICB2YXIgYml0ID0gKDEgPDwgKChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLKSk7XG4gICAgICB2YXIgYml0bWFwID0gdGhpcy5iaXRtYXA7XG4gICAgICByZXR1cm4gKGJpdG1hcCAmIGJpdCkgPT09IDAgPyBub3RTZXRWYWx1ZSA6XG4gICAgICAgIHRoaXMubm9kZXNbcG9wQ291bnQoYml0bWFwICYgKGJpdCAtIDEpKV0uZ2V0KHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpO1xuICAgIH07XG5cbiAgICBCaXRtYXBJbmRleGVkTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24ob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gICAgICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gICAgICB9XG4gICAgICB2YXIga2V5SGFzaEZyYWcgPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgICAgIHZhciBiaXQgPSAxIDw8IGtleUhhc2hGcmFnO1xuICAgICAgdmFyIGJpdG1hcCA9IHRoaXMuYml0bWFwO1xuICAgICAgdmFyIGV4aXN0cyA9IChiaXRtYXAgJiBiaXQpICE9PSAwO1xuXG4gICAgICBpZiAoIWV4aXN0cyAmJiB2YWx1ZSA9PT0gTk9UX1NFVCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIGlkeCA9IHBvcENvdW50KGJpdG1hcCAmIChiaXQgLSAxKSk7XG4gICAgICB2YXIgbm9kZXMgPSB0aGlzLm5vZGVzO1xuICAgICAgdmFyIG5vZGUgPSBleGlzdHMgPyBub2Rlc1tpZHhdIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIG5ld05vZGUgPSB1cGRhdGVOb2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKTtcblxuICAgICAgaWYgKG5ld05vZGUgPT09IG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmICghZXhpc3RzICYmIG5ld05vZGUgJiYgbm9kZXMubGVuZ3RoID49IE1BWF9CSVRNQVBfSU5ERVhFRF9TSVpFKSB7XG4gICAgICAgIHJldHVybiBleHBhbmROb2Rlcyhvd25lcklELCBub2RlcywgYml0bWFwLCBrZXlIYXNoRnJhZywgbmV3Tm9kZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChleGlzdHMgJiYgIW5ld05vZGUgJiYgbm9kZXMubGVuZ3RoID09PSAyICYmIGlzTGVhZk5vZGUobm9kZXNbaWR4IF4gMV0pKSB7XG4gICAgICAgIHJldHVybiBub2Rlc1tpZHggXiAxXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGV4aXN0cyAmJiBuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA9PT0gMSAmJiBpc0xlYWZOb2RlKG5ld05vZGUpKSB7XG4gICAgICAgIHJldHVybiBuZXdOb2RlO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICAgICAgdmFyIG5ld0JpdG1hcCA9IGV4aXN0cyA/IG5ld05vZGUgPyBiaXRtYXAgOiBiaXRtYXAgXiBiaXQgOiBiaXRtYXAgfCBiaXQ7XG4gICAgICB2YXIgbmV3Tm9kZXMgPSBleGlzdHMgPyBuZXdOb2RlID9cbiAgICAgICAgc2V0SW4obm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSkgOlxuICAgICAgICBzcGxpY2VPdXQobm9kZXMsIGlkeCwgaXNFZGl0YWJsZSkgOlxuICAgICAgICBzcGxpY2VJbihub2RlcywgaWR4LCBuZXdOb2RlLCBpc0VkaXRhYmxlKTtcblxuICAgICAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICAgICAgdGhpcy5iaXRtYXAgPSBuZXdCaXRtYXA7XG4gICAgICAgIHRoaXMubm9kZXMgPSBuZXdOb2RlcztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgQml0bWFwSW5kZXhlZE5vZGUob3duZXJJRCwgbmV3Qml0bWFwLCBuZXdOb2Rlcyk7XG4gICAgfTtcblxuXG5cblxuICAgIGZ1bmN0aW9uIEhhc2hBcnJheU1hcE5vZGUob3duZXJJRCwgY291bnQsIG5vZGVzKSB7XG4gICAgICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5jb3VudCA9IGNvdW50O1xuICAgICAgdGhpcy5ub2RlcyA9IG5vZGVzO1xuICAgIH1cblxuICAgIEhhc2hBcnJheU1hcE5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gICAgICB9XG4gICAgICB2YXIgaWR4ID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZXNbaWR4XTtcbiAgICAgIHJldHVybiBub2RlID8gbm9kZS5nZXQoc2hpZnQgKyBTSElGVCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkgOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgSGFzaEFycmF5TWFwTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24ob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gICAgICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gICAgICB9XG4gICAgICB2YXIgaWR4ID0gKHNoaWZ0ID09PSAwID8ga2V5SGFzaCA6IGtleUhhc2ggPj4+IHNoaWZ0KSAmIE1BU0s7XG4gICAgICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuICAgICAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgICAgIHZhciBub2RlID0gbm9kZXNbaWR4XTtcblxuICAgICAgaWYgKHJlbW92ZWQgJiYgIW5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdOb2RlID0gdXBkYXRlTm9kZShub2RlLCBvd25lcklELCBzaGlmdCArIFNISUZULCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcik7XG4gICAgICBpZiAobmV3Tm9kZSA9PT0gbm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIG5ld0NvdW50ID0gdGhpcy5jb3VudDtcbiAgICAgIGlmICghbm9kZSkge1xuICAgICAgICBuZXdDb3VudCsrO1xuICAgICAgfSBlbHNlIGlmICghbmV3Tm9kZSkge1xuICAgICAgICBuZXdDb3VudC0tO1xuICAgICAgICBpZiAobmV3Q291bnQgPCBNSU5fSEFTSF9BUlJBWV9NQVBfU0laRSkge1xuICAgICAgICAgIHJldHVybiBwYWNrTm9kZXMob3duZXJJRCwgbm9kZXMsIG5ld0NvdW50LCBpZHgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gICAgICB2YXIgbmV3Tm9kZXMgPSBzZXRJbihub2RlcywgaWR4LCBuZXdOb2RlLCBpc0VkaXRhYmxlKTtcblxuICAgICAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICAgICAgdGhpcy5jb3VudCA9IG5ld0NvdW50O1xuICAgICAgICB0aGlzLm5vZGVzID0gbmV3Tm9kZXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IEhhc2hBcnJheU1hcE5vZGUob3duZXJJRCwgbmV3Q291bnQsIG5ld05vZGVzKTtcbiAgICB9O1xuXG5cblxuXG4gICAgZnVuY3Rpb24gSGFzaENvbGxpc2lvbk5vZGUob3duZXJJRCwga2V5SGFzaCwgZW50cmllcykge1xuICAgICAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMua2V5SGFzaCA9IGtleUhhc2g7XG4gICAgICB0aGlzLmVudHJpZXMgPSBlbnRyaWVzO1xuICAgIH1cblxuICAgIEhhc2hDb2xsaXNpb25Ob2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihzaGlmdCwga2V5SGFzaCwga2V5LCBub3RTZXRWYWx1ZSkge1xuICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gICAgICBmb3IgKHZhciBpaSA9IDAsIGxlbiA9IGVudHJpZXMubGVuZ3RoOyBpaSA8IGxlbjsgaWkrKykge1xuICAgICAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lpXVswXSkpIHtcbiAgICAgICAgICByZXR1cm4gZW50cmllc1tpaV1bMV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgSGFzaENvbGxpc2lvbk5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVtb3ZlZCA9IHZhbHVlID09PSBOT1RfU0VUO1xuXG4gICAgICBpZiAoa2V5SGFzaCAhPT0gdGhpcy5rZXlIYXNoKSB7XG4gICAgICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgICAgICAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICAgICAgICByZXR1cm4gbWVyZ2VJbnRvTm9kZSh0aGlzLCBvd25lcklELCBzaGlmdCwga2V5SGFzaCwgW2tleSwgdmFsdWVdKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gICAgICB2YXIgaWR4ID0gMDtcbiAgICAgIGZvciAodmFyIGxlbiA9IGVudHJpZXMubGVuZ3RoOyBpZHggPCBsZW47IGlkeCsrKSB7XG4gICAgICAgIGlmIChpcyhrZXksIGVudHJpZXNbaWR4XVswXSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGV4aXN0cyA9IGlkeCA8IGxlbjtcblxuICAgICAgaWYgKGV4aXN0cyA/IGVudHJpZXNbaWR4XVsxXSA9PT0gdmFsdWUgOiByZW1vdmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuICAgICAgKHJlbW92ZWQgfHwgIWV4aXN0cykgJiYgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuXG4gICAgICBpZiAocmVtb3ZlZCAmJiBsZW4gPT09IDIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWYWx1ZU5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBlbnRyaWVzW2lkeCBeIDFdKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGlzRWRpdGFibGUgPSBvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRDtcbiAgICAgIHZhciBuZXdFbnRyaWVzID0gaXNFZGl0YWJsZSA/IGVudHJpZXMgOiBhcnJDb3B5KGVudHJpZXMpO1xuXG4gICAgICBpZiAoZXhpc3RzKSB7XG4gICAgICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICAgICAgaWR4ID09PSBsZW4gLSAxID8gbmV3RW50cmllcy5wb3AoKSA6IChuZXdFbnRyaWVzW2lkeF0gPSBuZXdFbnRyaWVzLnBvcCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdFbnRyaWVzW2lkeF0gPSBba2V5LCB2YWx1ZV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0VudHJpZXMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgICB0aGlzLmVudHJpZXMgPSBuZXdFbnRyaWVzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBIYXNoQ29sbGlzaW9uTm9kZShvd25lcklELCB0aGlzLmtleUhhc2gsIG5ld0VudHJpZXMpO1xuICAgIH07XG5cblxuXG5cbiAgICBmdW5jdGlvbiBWYWx1ZU5vZGUob3duZXJJRCwga2V5SGFzaCwgZW50cnkpIHtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgICB0aGlzLmtleUhhc2ggPSBrZXlIYXNoO1xuICAgICAgdGhpcy5lbnRyeSA9IGVudHJ5O1xuICAgIH1cblxuICAgIFZhbHVlTm9kZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiBpcyhrZXksIHRoaXMuZW50cnlbMF0pID8gdGhpcy5lbnRyeVsxXSA6IG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBWYWx1ZU5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgICAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcbiAgICAgIHZhciBrZXlNYXRjaCA9IGlzKGtleSwgdGhpcy5lbnRyeVswXSk7XG4gICAgICBpZiAoa2V5TWF0Y2ggPyB2YWx1ZSA9PT0gdGhpcy5lbnRyeVsxXSA6IHJlbW92ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIFNldFJlZihkaWRBbHRlcik7XG5cbiAgICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICAgICAgcmV0dXJuOyAvLyB1bmRlZmluZWRcbiAgICAgIH1cblxuICAgICAgaWYgKGtleU1hdGNoKSB7XG4gICAgICAgIGlmIChvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRCkge1xuICAgICAgICAgIHRoaXMuZW50cnlbMV0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFZhbHVlTm9kZShvd25lcklELCB0aGlzLmtleUhhc2gsIFtrZXksIHZhbHVlXSk7XG4gICAgICB9XG5cbiAgICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICAgIHJldHVybiBtZXJnZUludG9Ob2RlKHRoaXMsIG93bmVySUQsIHNoaWZ0LCBoYXNoKGtleSksIFtrZXksIHZhbHVlXSk7XG4gICAgfTtcblxuXG5cbiAgLy8gI3ByYWdtYSBJdGVyYXRvcnNcblxuICBBcnJheU1hcE5vZGUucHJvdG90eXBlLml0ZXJhdGUgPVxuICBIYXNoQ29sbGlzaW9uTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9IGZ1bmN0aW9uIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciBlbnRyaWVzID0gdGhpcy5lbnRyaWVzO1xuICAgIGZvciAodmFyIGlpID0gMCwgbWF4SW5kZXggPSBlbnRyaWVzLmxlbmd0aCAtIDE7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICBpZiAoZm4oZW50cmllc1tyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBCaXRtYXBJbmRleGVkTm9kZS5wcm90b3R5cGUuaXRlcmF0ZSA9XG4gIEhhc2hBcnJheU1hcE5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgbm9kZXMgPSB0aGlzLm5vZGVzO1xuICAgIGZvciAodmFyIGlpID0gMCwgbWF4SW5kZXggPSBub2Rlcy5sZW5ndGggLSAxOyBpaSA8PSBtYXhJbmRleDsgaWkrKykge1xuICAgICAgdmFyIG5vZGUgPSBub2Rlc1tyZXZlcnNlID8gbWF4SW5kZXggLSBpaSA6IGlpXTtcbiAgICAgIGlmIChub2RlICYmIG5vZGUuaXRlcmF0ZShmbiwgcmV2ZXJzZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBWYWx1ZU5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbiAoZm4sIHJldmVyc2UpIHtcbiAgICByZXR1cm4gZm4odGhpcy5lbnRyeSk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhNYXBJdGVyYXRvciwgc3JjX0l0ZXJhdG9yX19JdGVyYXRvcik7XG5cbiAgICBmdW5jdGlvbiBNYXBJdGVyYXRvcihtYXAsIHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuICAgICAgdGhpcy5fcmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgICB0aGlzLl9zdGFjayA9IG1hcC5fcm9vdCAmJiBtYXBJdGVyYXRvckZyYW1lKG1hcC5fcm9vdCk7XG4gICAgfVxuXG4gICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB0eXBlID0gdGhpcy5fdHlwZTtcbiAgICAgIHZhciBzdGFjayA9IHRoaXMuX3N0YWNrO1xuICAgICAgd2hpbGUgKHN0YWNrKSB7XG4gICAgICAgIHZhciBub2RlID0gc3RhY2subm9kZTtcbiAgICAgICAgdmFyIGluZGV4ID0gc3RhY2suaW5kZXgrKztcbiAgICAgICAgdmFyIG1heEluZGV4O1xuICAgICAgICBpZiAobm9kZS5lbnRyeSkge1xuICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgbm9kZS5lbnRyeSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5vZGUuZW50cmllcykge1xuICAgICAgICAgIG1heEluZGV4ID0gbm9kZS5lbnRyaWVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgaWYgKGluZGV4IDw9IG1heEluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBub2RlLmVudHJpZXNbdGhpcy5fcmV2ZXJzZSA/IG1heEluZGV4IC0gaW5kZXggOiBpbmRleF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXhJbmRleCA9IG5vZGUubm9kZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpZiAoaW5kZXggPD0gbWF4SW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBzdWJOb2RlID0gbm9kZS5ub2Rlc1t0aGlzLl9yZXZlcnNlID8gbWF4SW5kZXggLSBpbmRleCA6IGluZGV4XTtcbiAgICAgICAgICAgIGlmIChzdWJOb2RlKSB7XG4gICAgICAgICAgICAgIGlmIChzdWJOb2RlLmVudHJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgc3ViTm9kZS5lbnRyeSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3RhY2sgPSB0aGlzLl9zdGFjayA9IG1hcEl0ZXJhdG9yRnJhbWUoc3ViTm9kZSwgc3RhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YWNrID0gdGhpcy5fc3RhY2sgPSB0aGlzLl9zdGFjay5fX3ByZXY7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgZW50cnkpIHtcbiAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFwSXRlcmF0b3JGcmFtZShub2RlLCBwcmV2KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vZGU6IG5vZGUsXG4gICAgICBpbmRleDogMCxcbiAgICAgIF9fcHJldjogcHJldlxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlTWFwKHNpemUsIHJvb3QsIG93bmVySUQsIGhhc2gpIHtcbiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShNYXBQcm90b3R5cGUpO1xuICAgIG1hcC5zaXplID0gc2l6ZTtcbiAgICBtYXAuX3Jvb3QgPSByb290O1xuICAgIG1hcC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIG1hcC5fX2hhc2ggPSBoYXNoO1xuICAgIG1hcC5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gbWFwO1xuICB9XG5cbiAgdmFyIEVNUFRZX01BUDtcbiAgZnVuY3Rpb24gZW1wdHlNYXAoKSB7XG4gICAgcmV0dXJuIEVNUFRZX01BUCB8fCAoRU1QVFlfTUFQID0gbWFrZU1hcCgwKSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNYXAobWFwLCBrLCB2KSB7XG4gICAgdmFyIG5ld1Jvb3Q7XG4gICAgdmFyIG5ld1NpemU7XG4gICAgaWYgKCFtYXAuX3Jvb3QpIHtcbiAgICAgIGlmICh2ID09PSBOT1RfU0VUKSB7XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgICB9XG4gICAgICBuZXdTaXplID0gMTtcbiAgICAgIG5ld1Jvb3QgPSBuZXcgQXJyYXlNYXBOb2RlKG1hcC5fX293bmVySUQsIFtbaywgdl1dKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGRpZENoYW5nZVNpemUgPSBNYWtlUmVmKENIQU5HRV9MRU5HVEgpO1xuICAgICAgdmFyIGRpZEFsdGVyID0gTWFrZVJlZihESURfQUxURVIpO1xuICAgICAgbmV3Um9vdCA9IHVwZGF0ZU5vZGUobWFwLl9yb290LCBtYXAuX19vd25lcklELCAwLCB1bmRlZmluZWQsIGssIHYsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKTtcbiAgICAgIGlmICghZGlkQWx0ZXIudmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG1hcDtcbiAgICAgIH1cbiAgICAgIG5ld1NpemUgPSBtYXAuc2l6ZSArIChkaWRDaGFuZ2VTaXplLnZhbHVlID8gdiA9PT0gTk9UX1NFVCA/IC0xIDogMSA6IDApO1xuICAgIH1cbiAgICBpZiAobWFwLl9fb3duZXJJRCkge1xuICAgICAgbWFwLnNpemUgPSBuZXdTaXplO1xuICAgICAgbWFwLl9yb290ID0gbmV3Um9vdDtcbiAgICAgIG1hcC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICBtYXAuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuICAgIHJldHVybiBuZXdSb290ID8gbWFrZU1hcChuZXdTaXplLCBuZXdSb290KSA6IGVtcHR5TWFwKCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVOb2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICAgIGlmICghbm9kZSkge1xuICAgICAgaWYgKHZhbHVlID09PSBOT1RfU0VUKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgICAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICAgIHJldHVybiBuZXcgVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIFtrZXksIHZhbHVlXSk7XG4gICAgfVxuICAgIHJldHVybiBub2RlLnVwZGF0ZShvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNMZWFmTm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuY29uc3RydWN0b3IgPT09IFZhbHVlTm9kZSB8fCBub2RlLmNvbnN0cnVjdG9yID09PSBIYXNoQ29sbGlzaW9uTm9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lcmdlSW50b05vZGUobm9kZSwgb3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGVudHJ5KSB7XG4gICAgaWYgKG5vZGUua2V5SGFzaCA9PT0ga2V5SGFzaCkge1xuICAgICAgcmV0dXJuIG5ldyBIYXNoQ29sbGlzaW9uTm9kZShvd25lcklELCBrZXlIYXNoLCBbbm9kZS5lbnRyeSwgZW50cnldKTtcbiAgICB9XG5cbiAgICB2YXIgaWR4MSA9IChzaGlmdCA9PT0gMCA/IG5vZGUua2V5SGFzaCA6IG5vZGUua2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgICB2YXIgaWR4MiA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuXG4gICAgdmFyIG5ld05vZGU7XG4gICAgdmFyIG5vZGVzID0gaWR4MSA9PT0gaWR4MiA/XG4gICAgICBbbWVyZ2VJbnRvTm9kZShub2RlLCBvd25lcklELCBzaGlmdCArIFNISUZULCBrZXlIYXNoLCBlbnRyeSldIDpcbiAgICAgICgobmV3Tm9kZSA9IG5ldyBWYWx1ZU5vZGUob3duZXJJRCwga2V5SGFzaCwgZW50cnkpKSwgaWR4MSA8IGlkeDIgPyBbbm9kZSwgbmV3Tm9kZV0gOiBbbmV3Tm9kZSwgbm9kZV0pO1xuXG4gICAgcmV0dXJuIG5ldyBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCAoMSA8PCBpZHgxKSB8ICgxIDw8IGlkeDIpLCBub2Rlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVOb2Rlcyhvd25lcklELCBlbnRyaWVzLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKCFvd25lcklEKSB7XG4gICAgICBvd25lcklEID0gbmV3IE93bmVySUQoKTtcbiAgICB9XG4gICAgdmFyIG5vZGUgPSBuZXcgVmFsdWVOb2RlKG93bmVySUQsIGhhc2goa2V5KSwgW2tleSwgdmFsdWVdKTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgZW50cmllcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaWldO1xuICAgICAgbm9kZSA9IG5vZGUudXBkYXRlKG93bmVySUQsIDAsIHVuZGVmaW5lZCwgZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICBmdW5jdGlvbiBwYWNrTm9kZXMob3duZXJJRCwgbm9kZXMsIGNvdW50LCBleGNsdWRpbmcpIHtcbiAgICB2YXIgYml0bWFwID0gMDtcbiAgICB2YXIgcGFja2VkSUkgPSAwO1xuICAgIHZhciBwYWNrZWROb2RlcyA9IG5ldyBBcnJheShjb3VudCk7XG4gICAgZm9yICh2YXIgaWkgPSAwLCBiaXQgPSAxLCBsZW4gPSBub2Rlcy5sZW5ndGg7IGlpIDwgbGVuOyBpaSsrLCBiaXQgPDw9IDEpIHtcbiAgICAgIHZhciBub2RlID0gbm9kZXNbaWldO1xuICAgICAgaWYgKG5vZGUgIT09IHVuZGVmaW5lZCAmJiBpaSAhPT0gZXhjbHVkaW5nKSB7XG4gICAgICAgIGJpdG1hcCB8PSBiaXQ7XG4gICAgICAgIHBhY2tlZE5vZGVzW3BhY2tlZElJKytdID0gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCBiaXRtYXAsIHBhY2tlZE5vZGVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4cGFuZE5vZGVzKG93bmVySUQsIG5vZGVzLCBiaXRtYXAsIGluY2x1ZGluZywgbm9kZSkge1xuICAgIHZhciBjb3VudCA9IDA7XG4gICAgdmFyIGV4cGFuZGVkTm9kZXMgPSBuZXcgQXJyYXkoU0laRSk7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBiaXRtYXAgIT09IDA7IGlpKyssIGJpdG1hcCA+Pj49IDEpIHtcbiAgICAgIGV4cGFuZGVkTm9kZXNbaWldID0gYml0bWFwICYgMSA/IG5vZGVzW2NvdW50KytdIDogdW5kZWZpbmVkO1xuICAgIH1cbiAgICBleHBhbmRlZE5vZGVzW2luY2x1ZGluZ10gPSBub2RlO1xuICAgIHJldHVybiBuZXcgSGFzaEFycmF5TWFwTm9kZShvd25lcklELCBjb3VudCArIDEsIGV4cGFuZGVkTm9kZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvTWFwV2l0aChtYXAsIG1lcmdlciwgaXRlcmFibGVzKSB7XG4gICAgdmFyIGl0ZXJzID0gW107XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGl0ZXJhYmxlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGl0ZXJhYmxlc1tpaV07XG4gICAgICB2YXIgaXRlciA9IEtleWVkSXRlcmFibGUodmFsdWUpO1xuICAgICAgaWYgKCFpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgICBpdGVyID0gaXRlci5tYXAoZnVuY3Rpb24odiApIHtyZXR1cm4gZnJvbUpTKHYpfSk7XG4gICAgICB9XG4gICAgICBpdGVycy5wdXNoKGl0ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2VJbnRvQ29sbGVjdGlvbldpdGgobWFwLCBtZXJnZXIsIGl0ZXJzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZXBNZXJnZXIobWVyZ2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGV4aXN0aW5nLCB2YWx1ZSwga2V5KSBcbiAgICAgIHtyZXR1cm4gZXhpc3RpbmcgJiYgZXhpc3RpbmcubWVyZ2VEZWVwV2l0aCAmJiBpc0l0ZXJhYmxlKHZhbHVlKSA/XG4gICAgICAgIGV4aXN0aW5nLm1lcmdlRGVlcFdpdGgobWVyZ2VyLCB2YWx1ZSkgOlxuICAgICAgICBtZXJnZXIgPyBtZXJnZXIoZXhpc3RpbmcsIHZhbHVlLCBrZXkpIDogdmFsdWV9O1xuICB9XG5cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvQ29sbGVjdGlvbldpdGgoY29sbGVjdGlvbiwgbWVyZ2VyLCBpdGVycykge1xuICAgIGl0ZXJzID0gaXRlcnMuZmlsdGVyKGZ1bmN0aW9uKHggKSB7cmV0dXJuIHguc2l6ZSAhPT0gMH0pO1xuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgIH1cbiAgICBpZiAoY29sbGVjdGlvbi5zaXplID09PSAwICYmICFjb2xsZWN0aW9uLl9fb3duZXJJRCAmJiBpdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBjb2xsZWN0aW9uLmNvbnN0cnVjdG9yKGl0ZXJzWzBdKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24ud2l0aE11dGF0aW9ucyhmdW5jdGlvbihjb2xsZWN0aW9uICkge1xuICAgICAgdmFyIG1lcmdlSW50b01hcCA9IG1lcmdlciA/XG4gICAgICAgIGZ1bmN0aW9uKHZhbHVlLCBrZXkpICB7XG4gICAgICAgICAgY29sbGVjdGlvbi51cGRhdGUoa2V5LCBOT1RfU0VULCBmdW5jdGlvbihleGlzdGluZyApXG4gICAgICAgICAgICB7cmV0dXJuIGV4aXN0aW5nID09PSBOT1RfU0VUID8gdmFsdWUgOiBtZXJnZXIoZXhpc3RpbmcsIHZhbHVlLCBrZXkpfVxuICAgICAgICAgICk7XG4gICAgICAgIH0gOlxuICAgICAgICBmdW5jdGlvbih2YWx1ZSwga2V5KSAge1xuICAgICAgICAgIGNvbGxlY3Rpb24uc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgaXRlcnMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgIGl0ZXJzW2lpXS5mb3JFYWNoKG1lcmdlSW50b01hcCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVJbkRlZXBNYXAoZXhpc3RpbmcsIGtleVBhdGhJdGVyLCBub3RTZXRWYWx1ZSwgdXBkYXRlcikge1xuICAgIHZhciBpc05vdFNldCA9IGV4aXN0aW5nID09PSBOT1RfU0VUO1xuICAgIHZhciBzdGVwID0ga2V5UGF0aEl0ZXIubmV4dCgpO1xuICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgIHZhciBleGlzdGluZ1ZhbHVlID0gaXNOb3RTZXQgPyBub3RTZXRWYWx1ZSA6IGV4aXN0aW5nO1xuICAgICAgdmFyIG5ld1ZhbHVlID0gdXBkYXRlcihleGlzdGluZ1ZhbHVlKTtcbiAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gZXhpc3RpbmdWYWx1ZSA/IGV4aXN0aW5nIDogbmV3VmFsdWU7XG4gICAgfVxuICAgIGludmFyaWFudChcbiAgICAgIGlzTm90U2V0IHx8IChleGlzdGluZyAmJiBleGlzdGluZy5zZXQpLFxuICAgICAgJ2ludmFsaWQga2V5UGF0aCdcbiAgICApO1xuICAgIHZhciBrZXkgPSBzdGVwLnZhbHVlO1xuICAgIHZhciBuZXh0RXhpc3RpbmcgPSBpc05vdFNldCA/IE5PVF9TRVQgOiBleGlzdGluZy5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICB2YXIgbmV4dFVwZGF0ZWQgPSB1cGRhdGVJbkRlZXBNYXAoXG4gICAgICBuZXh0RXhpc3RpbmcsXG4gICAgICBrZXlQYXRoSXRlcixcbiAgICAgIG5vdFNldFZhbHVlLFxuICAgICAgdXBkYXRlclxuICAgICk7XG4gICAgcmV0dXJuIG5leHRVcGRhdGVkID09PSBuZXh0RXhpc3RpbmcgPyBleGlzdGluZyA6XG4gICAgICBuZXh0VXBkYXRlZCA9PT0gTk9UX1NFVCA/IGV4aXN0aW5nLnJlbW92ZShrZXkpIDpcbiAgICAgIChpc05vdFNldCA/IGVtcHR5TWFwKCkgOiBleGlzdGluZykuc2V0KGtleSwgbmV4dFVwZGF0ZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9wQ291bnQoeCkge1xuICAgIHggPSB4IC0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSk7XG4gICAgeCA9ICh4ICYgMHgzMzMzMzMzMykgKyAoKHggPj4gMikgJiAweDMzMzMzMzMzKTtcbiAgICB4ID0gKHggKyAoeCA+PiA0KSkgJiAweDBmMGYwZjBmO1xuICAgIHggPSB4ICsgKHggPj4gOCk7XG4gICAgeCA9IHggKyAoeCA+PiAxNik7XG4gICAgcmV0dXJuIHggJiAweDdmO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW4oYXJyYXksIGlkeCwgdmFsLCBjYW5FZGl0KSB7XG4gICAgdmFyIG5ld0FycmF5ID0gY2FuRWRpdCA/IGFycmF5IDogYXJyQ29weShhcnJheSk7XG4gICAgbmV3QXJyYXlbaWR4XSA9IHZhbDtcbiAgICByZXR1cm4gbmV3QXJyYXk7XG4gIH1cblxuICBmdW5jdGlvbiBzcGxpY2VJbihhcnJheSwgaWR4LCB2YWwsIGNhbkVkaXQpIHtcbiAgICB2YXIgbmV3TGVuID0gYXJyYXkubGVuZ3RoICsgMTtcbiAgICBpZiAoY2FuRWRpdCAmJiBpZHggKyAxID09PSBuZXdMZW4pIHtcbiAgICAgIGFycmF5W2lkeF0gPSB2YWw7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuICAgIHZhciBuZXdBcnJheSA9IG5ldyBBcnJheShuZXdMZW4pO1xuICAgIHZhciBhZnRlciA9IDA7XG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG5ld0xlbjsgaWkrKykge1xuICAgICAgaWYgKGlpID09PSBpZHgpIHtcbiAgICAgICAgbmV3QXJyYXlbaWldID0gdmFsO1xuICAgICAgICBhZnRlciA9IC0xO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3QXJyYXlbaWldID0gYXJyYXlbaWkgKyBhZnRlcl07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXdBcnJheTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNwbGljZU91dChhcnJheSwgaWR4LCBjYW5FZGl0KSB7XG4gICAgdmFyIG5ld0xlbiA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgaWYgKGNhbkVkaXQgJiYgaWR4ID09PSBuZXdMZW4pIHtcbiAgICAgIGFycmF5LnBvcCgpO1xuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cbiAgICB2YXIgbmV3QXJyYXkgPSBuZXcgQXJyYXkobmV3TGVuKTtcbiAgICB2YXIgYWZ0ZXIgPSAwO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBuZXdMZW47IGlpKyspIHtcbiAgICAgIGlmIChpaSA9PT0gaWR4KSB7XG4gICAgICAgIGFmdGVyID0gMTtcbiAgICAgIH1cbiAgICAgIG5ld0FycmF5W2lpXSA9IGFycmF5W2lpICsgYWZ0ZXJdO1xuICAgIH1cbiAgICByZXR1cm4gbmV3QXJyYXk7XG4gIH1cblxuICB2YXIgTUFYX0FSUkFZX01BUF9TSVpFID0gU0laRSAvIDQ7XG4gIHZhciBNQVhfQklUTUFQX0lOREVYRURfU0laRSA9IFNJWkUgLyAyO1xuICB2YXIgTUlOX0hBU0hfQVJSQVlfTUFQX1NJWkUgPSBTSVpFIC8gNDtcblxuICBjcmVhdGVDbGFzcyhMaXN0LCBJbmRleGVkQ29sbGVjdGlvbik7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gTGlzdCh2YWx1ZSkge1xuICAgICAgdmFyIGVtcHR5ID0gZW1wdHlMaXN0KCk7XG4gICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgICB9XG4gICAgICBpZiAoaXNMaXN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgaXRlciA9IEluZGV4ZWRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICB2YXIgc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICAgIGlmIChzaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBlbXB0eTtcbiAgICAgIH1cbiAgICAgIGFzc2VydE5vdEluZmluaXRlKHNpemUpO1xuICAgICAgaWYgKHNpemUgPiAwICYmIHNpemUgPCBTSVpFKSB7XG4gICAgICAgIHJldHVybiBtYWtlTGlzdCgwLCBzaXplLCBTSElGVCwgbnVsbCwgbmV3IFZOb2RlKGl0ZXIudG9BcnJheSgpKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihsaXN0ICkge1xuICAgICAgICBsaXN0LnNldFNpemUoc2l6ZSk7XG4gICAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbih2LCBpKSAge3JldHVybiBsaXN0LnNldChpLCB2KX0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgTGlzdC5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdMaXN0IFsnLCAnXScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgTGlzdC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuc2l6ZSkge1xuICAgICAgICBpbmRleCArPSB0aGlzLl9vcmlnaW47XG4gICAgICAgIHZhciBub2RlID0gbGlzdE5vZGVGb3IodGhpcywgaW5kZXgpO1xuICAgICAgICByZXR1cm4gbm9kZSAmJiBub2RlLmFycmF5W2luZGV4ICYgTUFTS107XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBMaXN0LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB1cGRhdGVMaXN0KHRoaXMsIGluZGV4LCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICByZXR1cm4gIXRoaXMuaGFzKGluZGV4KSA/IHRoaXMgOlxuICAgICAgICBpbmRleCA9PT0gMCA/IHRoaXMuc2hpZnQoKSA6XG4gICAgICAgIGluZGV4ID09PSB0aGlzLnNpemUgLSAxID8gdGhpcy5wb3AoKSA6XG4gICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gdGhpcy5fb3JpZ2luID0gdGhpcy5fY2FwYWNpdHkgPSAwO1xuICAgICAgICB0aGlzLl9sZXZlbCA9IFNISUZUO1xuICAgICAgICB0aGlzLl9yb290ID0gdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5TGlzdCgpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24oLyouLi52YWx1ZXMqLykge1xuICAgICAgdmFyIHZhbHVlcyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBvbGRTaXplID0gdGhpcy5zaXplO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihsaXN0ICkge1xuICAgICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIDAsIG9sZFNpemUgKyB2YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHZhbHVlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICBsaXN0LnNldChvbGRTaXplICsgaWksIHZhbHVlc1tpaV0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAwLCAtMSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICB2YXIgdmFsdWVzID0gYXJndW1lbnRzO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihsaXN0ICkge1xuICAgICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIC12YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHZhbHVlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICBsaXN0LnNldChpaSwgdmFsdWVzW2lpXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNldExpc3RCb3VuZHModGhpcywgMSk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICAgIExpc3QucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24oLyouLi5pdGVycyovKSB7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgdW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5tZXJnZVdpdGggPSBmdW5jdGlvbihtZXJnZXIpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiBtZXJnZUludG9MaXN0V2l0aCh0aGlzLCBtZXJnZXIsIGl0ZXJzKTtcbiAgICB9O1xuXG4gICAgTGlzdC5wcm90b3R5cGUubWVyZ2VEZWVwID0gZnVuY3Rpb24oLyouLi5pdGVycyovKSB7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgZGVlcE1lcmdlcih1bmRlZmluZWQpLCBhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBMaXN0LnByb3RvdHlwZS5tZXJnZURlZXBXaXRoID0gZnVuY3Rpb24obWVyZ2VyKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgZGVlcE1lcmdlcihtZXJnZXIpLCBpdGVycyk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbihzaXplKSB7XG4gICAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAwLCBzaXplKTtcbiAgICB9O1xuXG4gICAgLy8gQHByYWdtYSBJdGVyYXRpb25cblxuICAgIExpc3QucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCBzaXplKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKFxuICAgICAgICB0aGlzLFxuICAgICAgICByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpLFxuICAgICAgICByZXNvbHZlRW5kKGVuZCwgc2l6ZSlcbiAgICAgICk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHZhbHVlcyA9IGl0ZXJhdGVMaXN0KHRoaXMsIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzKCk7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gRE9ORSA/XG4gICAgICAgICAgaXRlcmF0b3JEb25lKCkgOlxuICAgICAgICAgIGl0ZXJhdG9yVmFsdWUodHlwZSwgaW5kZXgrKywgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHZhbHVlcyA9IGl0ZXJhdGVMaXN0KHRoaXMsIHJldmVyc2UpO1xuICAgICAgdmFyIHZhbHVlO1xuICAgICAgd2hpbGUgKCh2YWx1ZSA9IHZhbHVlcygpKSAhPT0gRE9ORSkge1xuICAgICAgICBpZiAoZm4odmFsdWUsIGluZGV4KyssIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcblxuICAgIExpc3QucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlTGlzdCh0aGlzLl9vcmlnaW4sIHRoaXMuX2NhcGFjaXR5LCB0aGlzLl9sZXZlbCwgdGhpcy5fcm9vdCwgdGhpcy5fdGFpbCwgb3duZXJJRCwgdGhpcy5fX2hhc2gpO1xuICAgIH07XG5cblxuICBmdW5jdGlvbiBpc0xpc3QobWF5YmVMaXN0KSB7XG4gICAgcmV0dXJuICEhKG1heWJlTGlzdCAmJiBtYXliZUxpc3RbSVNfTElTVF9TRU5USU5FTF0pO1xuICB9XG5cbiAgTGlzdC5pc0xpc3QgPSBpc0xpc3Q7XG5cbiAgdmFyIElTX0xJU1RfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9MSVNUX19AQCc7XG5cbiAgdmFyIExpc3RQcm90b3R5cGUgPSBMaXN0LnByb3RvdHlwZTtcbiAgTGlzdFByb3RvdHlwZVtJU19MSVNUX1NFTlRJTkVMXSA9IHRydWU7XG4gIExpc3RQcm90b3R5cGVbREVMRVRFXSA9IExpc3RQcm90b3R5cGUucmVtb3ZlO1xuICBMaXN0UHJvdG90eXBlLnNldEluID0gTWFwUHJvdG90eXBlLnNldEluO1xuICBMaXN0UHJvdG90eXBlLmRlbGV0ZUluID1cbiAgTGlzdFByb3RvdHlwZS5yZW1vdmVJbiA9IE1hcFByb3RvdHlwZS5yZW1vdmVJbjtcbiAgTGlzdFByb3RvdHlwZS51cGRhdGUgPSBNYXBQcm90b3R5cGUudXBkYXRlO1xuICBMaXN0UHJvdG90eXBlLnVwZGF0ZUluID0gTWFwUHJvdG90eXBlLnVwZGF0ZUluO1xuICBMaXN0UHJvdG90eXBlLm1lcmdlSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VJbjtcbiAgTGlzdFByb3RvdHlwZS5tZXJnZURlZXBJbiA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXBJbjtcbiAgTGlzdFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG4gIExpc3RQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcbiAgTGlzdFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcbiAgTGlzdFByb3RvdHlwZS53YXNBbHRlcmVkID0gTWFwUHJvdG90eXBlLndhc0FsdGVyZWQ7XG5cblxuXG4gICAgZnVuY3Rpb24gVk5vZGUoYXJyYXksIG93bmVySUQpIHtcbiAgICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbiAgICAgIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogc2VlbXMgbGlrZSB0aGVzZSBtZXRob2RzIGFyZSB2ZXJ5IHNpbWlsYXJcblxuICAgIFZOb2RlLnByb3RvdHlwZS5yZW1vdmVCZWZvcmUgPSBmdW5jdGlvbihvd25lcklELCBsZXZlbCwgaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gbGV2ZWwgPyAxIDw8IGxldmVsIDogMCB8fCB0aGlzLmFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBvcmlnaW5JbmRleCA9IChpbmRleCA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICAgIGlmIChvcmlnaW5JbmRleCA+PSB0aGlzLmFycmF5Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV3IFZOb2RlKFtdLCBvd25lcklEKTtcbiAgICAgIH1cbiAgICAgIHZhciByZW1vdmluZ0ZpcnN0ID0gb3JpZ2luSW5kZXggPT09IDA7XG4gICAgICB2YXIgbmV3Q2hpbGQ7XG4gICAgICBpZiAobGV2ZWwgPiAwKSB7XG4gICAgICAgIHZhciBvbGRDaGlsZCA9IHRoaXMuYXJyYXlbb3JpZ2luSW5kZXhdO1xuICAgICAgICBuZXdDaGlsZCA9IG9sZENoaWxkICYmIG9sZENoaWxkLnJlbW92ZUJlZm9yZShvd25lcklELCBsZXZlbCAtIFNISUZULCBpbmRleCk7XG4gICAgICAgIGlmIChuZXdDaGlsZCA9PT0gb2xkQ2hpbGQgJiYgcmVtb3ZpbmdGaXJzdCkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVtb3ZpbmdGaXJzdCAmJiAhbmV3Q2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgZWRpdGFibGUgPSBlZGl0YWJsZVZOb2RlKHRoaXMsIG93bmVySUQpO1xuICAgICAgaWYgKCFyZW1vdmluZ0ZpcnN0KSB7XG4gICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBvcmlnaW5JbmRleDsgaWkrKykge1xuICAgICAgICAgIGVkaXRhYmxlLmFycmF5W2lpXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5ld0NoaWxkKSB7XG4gICAgICAgIGVkaXRhYmxlLmFycmF5W29yaWdpbkluZGV4XSA9IG5ld0NoaWxkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVkaXRhYmxlO1xuICAgIH07XG5cbiAgICBWTm9kZS5wcm90b3R5cGUucmVtb3ZlQWZ0ZXIgPSBmdW5jdGlvbihvd25lcklELCBsZXZlbCwgaW5kZXgpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gKGxldmVsID8gMSA8PCBsZXZlbCA6IDApIHx8IHRoaXMuYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIHNpemVJbmRleCA9ICgoaW5kZXggLSAxKSA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICAgIGlmIChzaXplSW5kZXggPj0gdGhpcy5hcnJheS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdDaGlsZDtcbiAgICAgIGlmIChsZXZlbCA+IDApIHtcbiAgICAgICAgdmFyIG9sZENoaWxkID0gdGhpcy5hcnJheVtzaXplSW5kZXhdO1xuICAgICAgICBuZXdDaGlsZCA9IG9sZENoaWxkICYmIG9sZENoaWxkLnJlbW92ZUFmdGVyKG93bmVySUQsIGxldmVsIC0gU0hJRlQsIGluZGV4KTtcbiAgICAgICAgaWYgKG5ld0NoaWxkID09PSBvbGRDaGlsZCAmJiBzaXplSW5kZXggPT09IHRoaXMuYXJyYXkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRhYmxlVk5vZGUodGhpcywgb3duZXJJRCk7XG4gICAgICBlZGl0YWJsZS5hcnJheS5zcGxpY2Uoc2l6ZUluZGV4ICsgMSk7XG4gICAgICBpZiAobmV3Q2hpbGQpIHtcbiAgICAgICAgZWRpdGFibGUuYXJyYXlbc2l6ZUluZGV4XSA9IG5ld0NoaWxkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVkaXRhYmxlO1xuICAgIH07XG5cblxuXG4gIHZhciBET05FID0ge307XG5cbiAgZnVuY3Rpb24gaXRlcmF0ZUxpc3QobGlzdCwgcmV2ZXJzZSkge1xuICAgIHZhciBsZWZ0ID0gbGlzdC5fb3JpZ2luO1xuICAgIHZhciByaWdodCA9IGxpc3QuX2NhcGFjaXR5O1xuICAgIHZhciB0YWlsUG9zID0gZ2V0VGFpbE9mZnNldChyaWdodCk7XG4gICAgdmFyIHRhaWwgPSBsaXN0Ll90YWlsO1xuXG4gICAgcmV0dXJuIGl0ZXJhdGVOb2RlT3JMZWFmKGxpc3QuX3Jvb3QsIGxpc3QuX2xldmVsLCAwKTtcblxuICAgIGZ1bmN0aW9uIGl0ZXJhdGVOb2RlT3JMZWFmKG5vZGUsIGxldmVsLCBvZmZzZXQpIHtcbiAgICAgIHJldHVybiBsZXZlbCA9PT0gMCA/XG4gICAgICAgIGl0ZXJhdGVMZWFmKG5vZGUsIG9mZnNldCkgOlxuICAgICAgICBpdGVyYXRlTm9kZShub2RlLCBsZXZlbCwgb2Zmc2V0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpdGVyYXRlTGVhZihub2RlLCBvZmZzZXQpIHtcbiAgICAgIHZhciBhcnJheSA9IG9mZnNldCA9PT0gdGFpbFBvcyA/IHRhaWwgJiYgdGFpbC5hcnJheSA6IG5vZGUgJiYgbm9kZS5hcnJheTtcbiAgICAgIHZhciBmcm9tID0gb2Zmc2V0ID4gbGVmdCA/IDAgOiBsZWZ0IC0gb2Zmc2V0O1xuICAgICAgdmFyIHRvID0gcmlnaHQgLSBvZmZzZXQ7XG4gICAgICBpZiAodG8gPiBTSVpFKSB7XG4gICAgICAgIHRvID0gU0laRTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpICB7XG4gICAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICAgIHJldHVybiBET05FO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpZHggPSByZXZlcnNlID8gLS10byA6IGZyb20rKztcbiAgICAgICAgcmV0dXJuIGFycmF5ICYmIGFycmF5W2lkeF07XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGl0ZXJhdGVOb2RlKG5vZGUsIGxldmVsLCBvZmZzZXQpIHtcbiAgICAgIHZhciB2YWx1ZXM7XG4gICAgICB2YXIgYXJyYXkgPSBub2RlICYmIG5vZGUuYXJyYXk7XG4gICAgICB2YXIgZnJvbSA9IG9mZnNldCA+IGxlZnQgPyAwIDogKGxlZnQgLSBvZmZzZXQpID4+IGxldmVsO1xuICAgICAgdmFyIHRvID0gKChyaWdodCAtIG9mZnNldCkgPj4gbGV2ZWwpICsgMTtcbiAgICAgIGlmICh0byA+IFNJWkUpIHtcbiAgICAgICAgdG8gPSBTSVpFO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlcygpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBET05FKSB7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlcyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICAgICAgcmV0dXJuIERPTkU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBpZHggPSByZXZlcnNlID8gLS10byA6IGZyb20rKztcbiAgICAgICAgICB2YWx1ZXMgPSBpdGVyYXRlTm9kZU9yTGVhZihcbiAgICAgICAgICAgIGFycmF5ICYmIGFycmF5W2lkeF0sIGxldmVsIC0gU0hJRlQsIG9mZnNldCArIChpZHggPDwgbGV2ZWwpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSB3aGlsZSAodHJ1ZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VMaXN0KG9yaWdpbiwgY2FwYWNpdHksIGxldmVsLCByb290LCB0YWlsLCBvd25lcklELCBoYXNoKSB7XG4gICAgdmFyIGxpc3QgPSBPYmplY3QuY3JlYXRlKExpc3RQcm90b3R5cGUpO1xuICAgIGxpc3Quc2l6ZSA9IGNhcGFjaXR5IC0gb3JpZ2luO1xuICAgIGxpc3QuX29yaWdpbiA9IG9yaWdpbjtcbiAgICBsaXN0Ll9jYXBhY2l0eSA9IGNhcGFjaXR5O1xuICAgIGxpc3QuX2xldmVsID0gbGV2ZWw7XG4gICAgbGlzdC5fcm9vdCA9IHJvb3Q7XG4gICAgbGlzdC5fdGFpbCA9IHRhaWw7XG4gICAgbGlzdC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIGxpc3QuX19oYXNoID0gaGFzaDtcbiAgICBsaXN0Ll9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgdmFyIEVNUFRZX0xJU1Q7XG4gIGZ1bmN0aW9uIGVtcHR5TGlzdCgpIHtcbiAgICByZXR1cm4gRU1QVFlfTElTVCB8fCAoRU1QVFlfTElTVCA9IG1ha2VMaXN0KDAsIDAsIFNISUZUKSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMaXN0KGxpc3QsIGluZGV4LCB2YWx1ZSkge1xuICAgIGluZGV4ID0gd3JhcEluZGV4KGxpc3QsIGluZGV4KTtcblxuICAgIGlmIChpbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIGlmIChpbmRleCA+PSBsaXN0LnNpemUgfHwgaW5kZXggPCAwKSB7XG4gICAgICByZXR1cm4gbGlzdC53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKGxpc3QgKSB7XG4gICAgICAgIGluZGV4IDwgMCA/XG4gICAgICAgICAgc2V0TGlzdEJvdW5kcyhsaXN0LCBpbmRleCkuc2V0KDAsIHZhbHVlKSA6XG4gICAgICAgICAgc2V0TGlzdEJvdW5kcyhsaXN0LCAwLCBpbmRleCArIDEpLnNldChpbmRleCwgdmFsdWUpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpbmRleCArPSBsaXN0Ll9vcmlnaW47XG5cbiAgICB2YXIgbmV3VGFpbCA9IGxpc3QuX3RhaWw7XG4gICAgdmFyIG5ld1Jvb3QgPSBsaXN0Ll9yb290O1xuICAgIHZhciBkaWRBbHRlciA9IE1ha2VSZWYoRElEX0FMVEVSKTtcbiAgICBpZiAoaW5kZXggPj0gZ2V0VGFpbE9mZnNldChsaXN0Ll9jYXBhY2l0eSkpIHtcbiAgICAgIG5ld1RhaWwgPSB1cGRhdGVWTm9kZShuZXdUYWlsLCBsaXN0Ll9fb3duZXJJRCwgMCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1Jvb3QgPSB1cGRhdGVWTm9kZShuZXdSb290LCBsaXN0Ll9fb3duZXJJRCwgbGlzdC5fbGV2ZWwsIGluZGV4LCB2YWx1ZSwgZGlkQWx0ZXIpO1xuICAgIH1cblxuICAgIGlmICghZGlkQWx0ZXIudmFsdWUpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIGlmIChsaXN0Ll9fb3duZXJJRCkge1xuICAgICAgbGlzdC5fcm9vdCA9IG5ld1Jvb3Q7XG4gICAgICBsaXN0Ll90YWlsID0gbmV3VGFpbDtcbiAgICAgIGxpc3QuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgbGlzdC5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuICAgIHJldHVybiBtYWtlTGlzdChsaXN0Ll9vcmlnaW4sIGxpc3QuX2NhcGFjaXR5LCBsaXN0Ll9sZXZlbCwgbmV3Um9vdCwgbmV3VGFpbCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVWTm9kZShub2RlLCBvd25lcklELCBsZXZlbCwgaW5kZXgsIHZhbHVlLCBkaWRBbHRlcikge1xuICAgIHZhciBpZHggPSAoaW5kZXggPj4+IGxldmVsKSAmIE1BU0s7XG4gICAgdmFyIG5vZGVIYXMgPSBub2RlICYmIGlkeCA8IG5vZGUuYXJyYXkubGVuZ3RoO1xuICAgIGlmICghbm9kZUhhcyAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICB2YXIgbmV3Tm9kZTtcblxuICAgIGlmIChsZXZlbCA+IDApIHtcbiAgICAgIHZhciBsb3dlck5vZGUgPSBub2RlICYmIG5vZGUuYXJyYXlbaWR4XTtcbiAgICAgIHZhciBuZXdMb3dlck5vZGUgPSB1cGRhdGVWTm9kZShsb3dlck5vZGUsIG93bmVySUQsIGxldmVsIC0gU0hJRlQsIGluZGV4LCB2YWx1ZSwgZGlkQWx0ZXIpO1xuICAgICAgaWYgKG5ld0xvd2VyTm9kZSA9PT0gbG93ZXJOb2RlKSB7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgICAgbmV3Tm9kZSA9IGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCk7XG4gICAgICBuZXdOb2RlLmFycmF5W2lkeF0gPSBuZXdMb3dlck5vZGU7XG4gICAgICByZXR1cm4gbmV3Tm9kZTtcbiAgICB9XG5cbiAgICBpZiAobm9kZUhhcyAmJiBub2RlLmFycmF5W2lkeF0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICBTZXRSZWYoZGlkQWx0ZXIpO1xuXG4gICAgbmV3Tm9kZSA9IGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCk7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgaWR4ID09PSBuZXdOb2RlLmFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIG5ld05vZGUuYXJyYXkucG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld05vZGUuYXJyYXlbaWR4XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Tm9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCkge1xuICAgIGlmIChvd25lcklEICYmIG5vZGUgJiYgb3duZXJJRCA9PT0gbm9kZS5vd25lcklEKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBWTm9kZShub2RlID8gbm9kZS5hcnJheS5zbGljZSgpIDogW10sIG93bmVySUQpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdE5vZGVGb3IobGlzdCwgcmF3SW5kZXgpIHtcbiAgICBpZiAocmF3SW5kZXggPj0gZ2V0VGFpbE9mZnNldChsaXN0Ll9jYXBhY2l0eSkpIHtcbiAgICAgIHJldHVybiBsaXN0Ll90YWlsO1xuICAgIH1cbiAgICBpZiAocmF3SW5kZXggPCAxIDw8IChsaXN0Ll9sZXZlbCArIFNISUZUKSkge1xuICAgICAgdmFyIG5vZGUgPSBsaXN0Ll9yb290O1xuICAgICAgdmFyIGxldmVsID0gbGlzdC5fbGV2ZWw7XG4gICAgICB3aGlsZSAobm9kZSAmJiBsZXZlbCA+IDApIHtcbiAgICAgICAgbm9kZSA9IG5vZGUuYXJyYXlbKHJhd0luZGV4ID4+PiBsZXZlbCkgJiBNQVNLXTtcbiAgICAgICAgbGV2ZWwgLT0gU0hJRlQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRMaXN0Qm91bmRzKGxpc3QsIGJlZ2luLCBlbmQpIHtcbiAgICAvLyBTYW5pdGl6ZSBiZWdpbiAmIGVuZCB1c2luZyB0aGlzIHNob3J0aGFuZCBmb3IgVG9JbnQzMihhcmd1bWVudClcbiAgICAvLyBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtdG9pbnQzMlxuICAgIGlmIChiZWdpbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBiZWdpbiA9IGJlZ2luIHwgMDtcbiAgICB9XG4gICAgaWYgKGVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBlbmQgPSBlbmQgfCAwO1xuICAgIH1cbiAgICB2YXIgb3duZXIgPSBsaXN0Ll9fb3duZXJJRCB8fCBuZXcgT3duZXJJRCgpO1xuICAgIHZhciBvbGRPcmlnaW4gPSBsaXN0Ll9vcmlnaW47XG4gICAgdmFyIG9sZENhcGFjaXR5ID0gbGlzdC5fY2FwYWNpdHk7XG4gICAgdmFyIG5ld09yaWdpbiA9IG9sZE9yaWdpbiArIGJlZ2luO1xuICAgIHZhciBuZXdDYXBhY2l0eSA9IGVuZCA9PT0gdW5kZWZpbmVkID8gb2xkQ2FwYWNpdHkgOiBlbmQgPCAwID8gb2xkQ2FwYWNpdHkgKyBlbmQgOiBvbGRPcmlnaW4gKyBlbmQ7XG4gICAgaWYgKG5ld09yaWdpbiA9PT0gb2xkT3JpZ2luICYmIG5ld0NhcGFjaXR5ID09PSBvbGRDYXBhY2l0eSkge1xuICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgfVxuXG4gICAgLy8gSWYgaXQncyBnb2luZyB0byBlbmQgYWZ0ZXIgaXQgc3RhcnRzLCBpdCdzIGVtcHR5LlxuICAgIGlmIChuZXdPcmlnaW4gPj0gbmV3Q2FwYWNpdHkpIHtcbiAgICAgIHJldHVybiBsaXN0LmNsZWFyKCk7XG4gICAgfVxuXG4gICAgdmFyIG5ld0xldmVsID0gbGlzdC5fbGV2ZWw7XG4gICAgdmFyIG5ld1Jvb3QgPSBsaXN0Ll9yb290O1xuXG4gICAgLy8gTmV3IG9yaWdpbiBtaWdodCBuZWVkIGNyZWF0aW5nIGEgaGlnaGVyIHJvb3QuXG4gICAgdmFyIG9mZnNldFNoaWZ0ID0gMDtcbiAgICB3aGlsZSAobmV3T3JpZ2luICsgb2Zmc2V0U2hpZnQgPCAwKSB7XG4gICAgICBuZXdSb290ID0gbmV3IFZOb2RlKG5ld1Jvb3QgJiYgbmV3Um9vdC5hcnJheS5sZW5ndGggPyBbdW5kZWZpbmVkLCBuZXdSb290XSA6IFtdLCBvd25lcik7XG4gICAgICBuZXdMZXZlbCArPSBTSElGVDtcbiAgICAgIG9mZnNldFNoaWZ0ICs9IDEgPDwgbmV3TGV2ZWw7XG4gICAgfVxuICAgIGlmIChvZmZzZXRTaGlmdCkge1xuICAgICAgbmV3T3JpZ2luICs9IG9mZnNldFNoaWZ0O1xuICAgICAgb2xkT3JpZ2luICs9IG9mZnNldFNoaWZ0O1xuICAgICAgbmV3Q2FwYWNpdHkgKz0gb2Zmc2V0U2hpZnQ7XG4gICAgICBvbGRDYXBhY2l0eSArPSBvZmZzZXRTaGlmdDtcbiAgICB9XG5cbiAgICB2YXIgb2xkVGFpbE9mZnNldCA9IGdldFRhaWxPZmZzZXQob2xkQ2FwYWNpdHkpO1xuICAgIHZhciBuZXdUYWlsT2Zmc2V0ID0gZ2V0VGFpbE9mZnNldChuZXdDYXBhY2l0eSk7XG5cbiAgICAvLyBOZXcgc2l6ZSBtaWdodCBuZWVkIGNyZWF0aW5nIGEgaGlnaGVyIHJvb3QuXG4gICAgd2hpbGUgKG5ld1RhaWxPZmZzZXQgPj0gMSA8PCAobmV3TGV2ZWwgKyBTSElGVCkpIHtcbiAgICAgIG5ld1Jvb3QgPSBuZXcgVk5vZGUobmV3Um9vdCAmJiBuZXdSb290LmFycmF5Lmxlbmd0aCA/IFtuZXdSb290XSA6IFtdLCBvd25lcik7XG4gICAgICBuZXdMZXZlbCArPSBTSElGVDtcbiAgICB9XG5cbiAgICAvLyBMb2NhdGUgb3IgY3JlYXRlIHRoZSBuZXcgdGFpbC5cbiAgICB2YXIgb2xkVGFpbCA9IGxpc3QuX3RhaWw7XG4gICAgdmFyIG5ld1RhaWwgPSBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldCA/XG4gICAgICBsaXN0Tm9kZUZvcihsaXN0LCBuZXdDYXBhY2l0eSAtIDEpIDpcbiAgICAgIG5ld1RhaWxPZmZzZXQgPiBvbGRUYWlsT2Zmc2V0ID8gbmV3IFZOb2RlKFtdLCBvd25lcikgOiBvbGRUYWlsO1xuXG4gICAgLy8gTWVyZ2UgVGFpbCBpbnRvIHRyZWUuXG4gICAgaWYgKG9sZFRhaWwgJiYgbmV3VGFpbE9mZnNldCA+IG9sZFRhaWxPZmZzZXQgJiYgbmV3T3JpZ2luIDwgb2xkQ2FwYWNpdHkgJiYgb2xkVGFpbC5hcnJheS5sZW5ndGgpIHtcbiAgICAgIG5ld1Jvb3QgPSBlZGl0YWJsZVZOb2RlKG5ld1Jvb3QsIG93bmVyKTtcbiAgICAgIHZhciBub2RlID0gbmV3Um9vdDtcbiAgICAgIGZvciAodmFyIGxldmVsID0gbmV3TGV2ZWw7IGxldmVsID4gU0hJRlQ7IGxldmVsIC09IFNISUZUKSB7XG4gICAgICAgIHZhciBpZHggPSAob2xkVGFpbE9mZnNldCA+Pj4gbGV2ZWwpICYgTUFTSztcbiAgICAgICAgbm9kZSA9IG5vZGUuYXJyYXlbaWR4XSA9IGVkaXRhYmxlVk5vZGUobm9kZS5hcnJheVtpZHhdLCBvd25lcik7XG4gICAgICB9XG4gICAgICBub2RlLmFycmF5WyhvbGRUYWlsT2Zmc2V0ID4+PiBTSElGVCkgJiBNQVNLXSA9IG9sZFRhaWw7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIHNpemUgaGFzIGJlZW4gcmVkdWNlZCwgdGhlcmUncyBhIGNoYW5jZSB0aGUgdGFpbCBuZWVkcyB0byBiZSB0cmltbWVkLlxuICAgIGlmIChuZXdDYXBhY2l0eSA8IG9sZENhcGFjaXR5KSB7XG4gICAgICBuZXdUYWlsID0gbmV3VGFpbCAmJiBuZXdUYWlsLnJlbW92ZUFmdGVyKG93bmVyLCAwLCBuZXdDYXBhY2l0eSk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlIG5ldyBvcmlnaW4gaXMgd2l0aGluIHRoZSB0YWlsLCB0aGVuIHdlIGRvIG5vdCBuZWVkIGEgcm9vdC5cbiAgICBpZiAobmV3T3JpZ2luID49IG5ld1RhaWxPZmZzZXQpIHtcbiAgICAgIG5ld09yaWdpbiAtPSBuZXdUYWlsT2Zmc2V0O1xuICAgICAgbmV3Q2FwYWNpdHkgLT0gbmV3VGFpbE9mZnNldDtcbiAgICAgIG5ld0xldmVsID0gU0hJRlQ7XG4gICAgICBuZXdSb290ID0gbnVsbDtcbiAgICAgIG5ld1RhaWwgPSBuZXdUYWlsICYmIG5ld1RhaWwucmVtb3ZlQmVmb3JlKG93bmVyLCAwLCBuZXdPcmlnaW4pO1xuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiB0aGUgcm9vdCBoYXMgYmVlbiB0cmltbWVkLCBnYXJiYWdlIGNvbGxlY3QuXG4gICAgfSBlbHNlIGlmIChuZXdPcmlnaW4gPiBvbGRPcmlnaW4gfHwgbmV3VGFpbE9mZnNldCA8IG9sZFRhaWxPZmZzZXQpIHtcbiAgICAgIG9mZnNldFNoaWZ0ID0gMDtcblxuICAgICAgLy8gSWRlbnRpZnkgdGhlIG5ldyB0b3Agcm9vdCBub2RlIG9mIHRoZSBzdWJ0cmVlIG9mIHRoZSBvbGQgcm9vdC5cbiAgICAgIHdoaWxlIChuZXdSb290KSB7XG4gICAgICAgIHZhciBiZWdpbkluZGV4ID0gKG5ld09yaWdpbiA+Pj4gbmV3TGV2ZWwpICYgTUFTSztcbiAgICAgICAgaWYgKGJlZ2luSW5kZXggIT09IChuZXdUYWlsT2Zmc2V0ID4+PiBuZXdMZXZlbCkgJiBNQVNLKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJlZ2luSW5kZXgpIHtcbiAgICAgICAgICBvZmZzZXRTaGlmdCArPSAoMSA8PCBuZXdMZXZlbCkgKiBiZWdpbkluZGV4O1xuICAgICAgICB9XG4gICAgICAgIG5ld0xldmVsIC09IFNISUZUO1xuICAgICAgICBuZXdSb290ID0gbmV3Um9vdC5hcnJheVtiZWdpbkluZGV4XTtcbiAgICAgIH1cblxuICAgICAgLy8gVHJpbSB0aGUgbmV3IHNpZGVzIG9mIHRoZSBuZXcgcm9vdC5cbiAgICAgIGlmIChuZXdSb290ICYmIG5ld09yaWdpbiA+IG9sZE9yaWdpbikge1xuICAgICAgICBuZXdSb290ID0gbmV3Um9vdC5yZW1vdmVCZWZvcmUob3duZXIsIG5ld0xldmVsLCBuZXdPcmlnaW4gLSBvZmZzZXRTaGlmdCk7XG4gICAgICB9XG4gICAgICBpZiAobmV3Um9vdCAmJiBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldCkge1xuICAgICAgICBuZXdSb290ID0gbmV3Um9vdC5yZW1vdmVBZnRlcihvd25lciwgbmV3TGV2ZWwsIG5ld1RhaWxPZmZzZXQgLSBvZmZzZXRTaGlmdCk7XG4gICAgICB9XG4gICAgICBpZiAob2Zmc2V0U2hpZnQpIHtcbiAgICAgICAgbmV3T3JpZ2luIC09IG9mZnNldFNoaWZ0O1xuICAgICAgICBuZXdDYXBhY2l0eSAtPSBvZmZzZXRTaGlmdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobGlzdC5fX293bmVySUQpIHtcbiAgICAgIGxpc3Quc2l6ZSA9IG5ld0NhcGFjaXR5IC0gbmV3T3JpZ2luO1xuICAgICAgbGlzdC5fb3JpZ2luID0gbmV3T3JpZ2luO1xuICAgICAgbGlzdC5fY2FwYWNpdHkgPSBuZXdDYXBhY2l0eTtcbiAgICAgIGxpc3QuX2xldmVsID0gbmV3TGV2ZWw7XG4gICAgICBsaXN0Ll9yb290ID0gbmV3Um9vdDtcbiAgICAgIGxpc3QuX3RhaWwgPSBuZXdUYWlsO1xuICAgICAgbGlzdC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICBsaXN0Ll9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VMaXN0KG5ld09yaWdpbiwgbmV3Q2FwYWNpdHksIG5ld0xldmVsLCBuZXdSb290LCBuZXdUYWlsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lcmdlSW50b0xpc3RXaXRoKGxpc3QsIG1lcmdlciwgaXRlcmFibGVzKSB7XG4gICAgdmFyIGl0ZXJzID0gW107XG4gICAgdmFyIG1heFNpemUgPSAwO1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVyYWJsZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpdGVyYWJsZXNbaWldO1xuICAgICAgdmFyIGl0ZXIgPSBJbmRleGVkSXRlcmFibGUodmFsdWUpO1xuICAgICAgaWYgKGl0ZXIuc2l6ZSA+IG1heFNpemUpIHtcbiAgICAgICAgbWF4U2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNJdGVyYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgaXRlciA9IGl0ZXIubWFwKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIGZyb21KUyh2KX0pO1xuICAgICAgfVxuICAgICAgaXRlcnMucHVzaChpdGVyKTtcbiAgICB9XG4gICAgaWYgKG1heFNpemUgPiBsaXN0LnNpemUpIHtcbiAgICAgIGxpc3QgPSBsaXN0LnNldFNpemUobWF4U2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiBtZXJnZUludG9Db2xsZWN0aW9uV2l0aChsaXN0LCBtZXJnZXIsIGl0ZXJzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhaWxPZmZzZXQoc2l6ZSkge1xuICAgIHJldHVybiBzaXplIDwgU0laRSA/IDAgOiAoKChzaXplIC0gMSkgPj4+IFNISUZUKSA8PCBTSElGVCk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhPcmRlcmVkTWFwLCBzcmNfTWFwX19NYXApO1xuXG4gICAgLy8gQHByYWdtYSBDb25zdHJ1Y3Rpb25cblxuICAgIGZ1bmN0aW9uIE9yZGVyZWRNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlPcmRlcmVkTWFwKCkgOlxuICAgICAgICBpc09yZGVyZWRNYXAodmFsdWUpID8gdmFsdWUgOlxuICAgICAgICBlbXB0eU9yZGVyZWRNYXAoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uKG1hcCApIHtcbiAgICAgICAgICB2YXIgaXRlciA9IEtleWVkSXRlcmFibGUodmFsdWUpO1xuICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uKHYsIGspICB7cmV0dXJuIG1hcC5zZXQoaywgdil9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgT3JkZXJlZE1hcC5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdPcmRlcmVkTWFwIHsnLCAnfScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaywgbm90U2V0VmFsdWUpIHtcbiAgICAgIHZhciBpbmRleCA9IHRoaXMuX21hcC5nZXQoayk7XG4gICAgICByZXR1cm4gaW5kZXggIT09IHVuZGVmaW5lZCA/IHRoaXMuX2xpc3QuZ2V0KGluZGV4KVsxXSA6IG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy5fbWFwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2xpc3QuY2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHlPcmRlcmVkTWFwKCk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGssIHYpIHtcbiAgICAgIHJldHVybiB1cGRhdGVPcmRlcmVkTWFwKHRoaXMsIGssIHYpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihrKSB7XG4gICAgICByZXR1cm4gdXBkYXRlT3JkZXJlZE1hcCh0aGlzLCBrLCBOT1RfU0VUKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC53YXNBbHRlcmVkKCkgfHwgdGhpcy5fbGlzdC53YXNBbHRlcmVkKCk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5fbGlzdC5fX2l0ZXJhdGUoXG4gICAgICAgIGZ1bmN0aW9uKGVudHJ5ICkge3JldHVybiBlbnRyeSAmJiBmbihlbnRyeVsxXSwgZW50cnlbMF0sIHRoaXMkMCl9LFxuICAgICAgICByZXZlcnNlXG4gICAgICApO1xuICAgIH07XG5cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2xpc3QuZnJvbUVudHJ5U2VxKCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uKG93bmVySUQpIHtcbiAgICAgIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgICAgIHZhciBuZXdMaXN0ID0gdGhpcy5fbGlzdC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgICAgaWYgKCFvd25lcklEKSB7XG4gICAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3TWFwO1xuICAgICAgICB0aGlzLl9saXN0ID0gbmV3TGlzdDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZU9yZGVyZWRNYXAobmV3TWFwLCBuZXdMaXN0LCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIGlzT3JkZXJlZE1hcChtYXliZU9yZGVyZWRNYXApIHtcbiAgICByZXR1cm4gaXNNYXAobWF5YmVPcmRlcmVkTWFwKSAmJiBpc09yZGVyZWQobWF5YmVPcmRlcmVkTWFwKTtcbiAgfVxuXG4gIE9yZGVyZWRNYXAuaXNPcmRlcmVkTWFwID0gaXNPcmRlcmVkTWFwO1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcbiAgT3JkZXJlZE1hcC5wcm90b3R5cGVbREVMRVRFXSA9IE9yZGVyZWRNYXAucHJvdG90eXBlLnJlbW92ZTtcblxuXG5cbiAgZnVuY3Rpb24gbWFrZU9yZGVyZWRNYXAobWFwLCBsaXN0LCBvd25lcklELCBoYXNoKSB7XG4gICAgdmFyIG9tYXAgPSBPYmplY3QuY3JlYXRlKE9yZGVyZWRNYXAucHJvdG90eXBlKTtcbiAgICBvbWFwLnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gICAgb21hcC5fbWFwID0gbWFwO1xuICAgIG9tYXAuX2xpc3QgPSBsaXN0O1xuICAgIG9tYXAuX19vd25lcklEID0gb3duZXJJRDtcbiAgICBvbWFwLl9faGFzaCA9IGhhc2g7XG4gICAgcmV0dXJuIG9tYXA7XG4gIH1cblxuICB2YXIgRU1QVFlfT1JERVJFRF9NQVA7XG4gIGZ1bmN0aW9uIGVtcHR5T3JkZXJlZE1hcCgpIHtcbiAgICByZXR1cm4gRU1QVFlfT1JERVJFRF9NQVAgfHwgKEVNUFRZX09SREVSRURfTUFQID0gbWFrZU9yZGVyZWRNYXAoZW1wdHlNYXAoKSwgZW1wdHlMaXN0KCkpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU9yZGVyZWRNYXAob21hcCwgaywgdikge1xuICAgIHZhciBtYXAgPSBvbWFwLl9tYXA7XG4gICAgdmFyIGxpc3QgPSBvbWFwLl9saXN0O1xuICAgIHZhciBpID0gbWFwLmdldChrKTtcbiAgICB2YXIgaGFzID0gaSAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBuZXdNYXA7XG4gICAgdmFyIG5ld0xpc3Q7XG4gICAgaWYgKHYgPT09IE5PVF9TRVQpIHsgLy8gcmVtb3ZlZFxuICAgICAgaWYgKCFoYXMpIHtcbiAgICAgICAgcmV0dXJuIG9tYXA7XG4gICAgICB9XG4gICAgICBpZiAobGlzdC5zaXplID49IFNJWkUgJiYgbGlzdC5zaXplID49IG1hcC5zaXplICogMikge1xuICAgICAgICBuZXdMaXN0ID0gbGlzdC5maWx0ZXIoZnVuY3Rpb24oZW50cnksIGlkeCkgIHtyZXR1cm4gZW50cnkgIT09IHVuZGVmaW5lZCAmJiBpICE9PSBpZHh9KTtcbiAgICAgICAgbmV3TWFwID0gbmV3TGlzdC50b0tleWVkU2VxKCkubWFwKGZ1bmN0aW9uKGVudHJ5ICkge3JldHVybiBlbnRyeVswXX0pLmZsaXAoKS50b01hcCgpO1xuICAgICAgICBpZiAob21hcC5fX293bmVySUQpIHtcbiAgICAgICAgICBuZXdNYXAuX19vd25lcklEID0gbmV3TGlzdC5fX293bmVySUQgPSBvbWFwLl9fb3duZXJJRDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3TWFwID0gbWFwLnJlbW92ZShrKTtcbiAgICAgICAgbmV3TGlzdCA9IGkgPT09IGxpc3Quc2l6ZSAtIDEgPyBsaXN0LnBvcCgpIDogbGlzdC5zZXQoaSwgdW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGhhcykge1xuICAgICAgICBpZiAodiA9PT0gbGlzdC5nZXQoaSlbMV0pIHtcbiAgICAgICAgICByZXR1cm4gb21hcDtcbiAgICAgICAgfVxuICAgICAgICBuZXdNYXAgPSBtYXA7XG4gICAgICAgIG5ld0xpc3QgPSBsaXN0LnNldChpLCBbaywgdl0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3TWFwID0gbWFwLnNldChrLCBsaXN0LnNpemUpO1xuICAgICAgICBuZXdMaXN0ID0gbGlzdC5zZXQobGlzdC5zaXplLCBbaywgdl0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob21hcC5fX293bmVySUQpIHtcbiAgICAgIG9tYXAuc2l6ZSA9IG5ld01hcC5zaXplO1xuICAgICAgb21hcC5fbWFwID0gbmV3TWFwO1xuICAgICAgb21hcC5fbGlzdCA9IG5ld0xpc3Q7XG4gICAgICBvbWFwLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBvbWFwO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZU9yZGVyZWRNYXAobmV3TWFwLCBuZXdMaXN0KTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFN0YWNrLCBJbmRleGVkQ29sbGVjdGlvbik7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gU3RhY2sodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gZW1wdHlTdGFjaygpIDpcbiAgICAgICAgaXNTdGFjayh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5U3RhY2soKS51bnNoaWZ0QWxsKHZhbHVlKTtcbiAgICB9XG5cbiAgICBTdGFjay5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU3RhY2sgWycsICddJyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgaGVhZCA9IHRoaXMuX2hlYWQ7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICB3aGlsZSAoaGVhZCAmJiBpbmRleC0tKSB7XG4gICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGVhZCA/IGhlYWQudmFsdWUgOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnBlZWsgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oZWFkICYmIHRoaXMuX2hlYWQudmFsdWU7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBTdGFjay5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1NpemUgPSB0aGlzLnNpemUgKyBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgZm9yICh2YXIgaWkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaWkgPj0gMDsgaWktLSkge1xuICAgICAgICBoZWFkID0ge1xuICAgICAgICAgIHZhbHVlOiBhcmd1bWVudHNbaWldLFxuICAgICAgICAgIG5leHQ6IGhlYWRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUucHVzaEFsbCA9IGZ1bmN0aW9uKGl0ZXIpIHtcbiAgICAgIGl0ZXIgPSBJbmRleGVkSXRlcmFibGUoaXRlcik7XG4gICAgICBpZiAoaXRlci5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgIHZhciBuZXdTaXplID0gdGhpcy5zaXplO1xuICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgaXRlci5yZXZlcnNlKCkuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSApIHtcbiAgICAgICAgbmV3U2l6ZSsrO1xuICAgICAgICBoZWFkID0ge1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBuZXh0OiBoZWFkXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgICB0aGlzLl9oZWFkID0gaGVhZDtcbiAgICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgxKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gdGhpcy5wdXNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFN0YWNrLnByb3RvdHlwZS51bnNoaWZ0QWxsID0gZnVuY3Rpb24oaXRlcikge1xuICAgICAgcmV0dXJuIHRoaXMucHVzaEFsbChpdGVyKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5wb3AuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX2hlYWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5U3RhY2soKTtcbiAgICB9O1xuXG4gICAgU3RhY2sucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgdGhpcy5zaXplKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciByZXNvbHZlZEJlZ2luID0gcmVzb2x2ZUJlZ2luKGJlZ2luLCB0aGlzLnNpemUpO1xuICAgICAgdmFyIHJlc29sdmVkRW5kID0gcmVzb2x2ZUVuZChlbmQsIHRoaXMuc2l6ZSk7XG4gICAgICBpZiAocmVzb2x2ZWRFbmQgIT09IHRoaXMuc2l6ZSkge1xuICAgICAgICAvLyBzdXBlci5zbGljZShiZWdpbiwgZW5kKTtcbiAgICAgICAgcmV0dXJuIEluZGV4ZWRDb2xsZWN0aW9uLnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMsIGJlZ2luLCBlbmQpO1xuICAgICAgfVxuICAgICAgdmFyIG5ld1NpemUgPSB0aGlzLnNpemUgLSByZXNvbHZlZEJlZ2luO1xuICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgICAgd2hpbGUgKHJlc29sdmVkQmVnaW4tLSkge1xuICAgICAgICBoZWFkID0gaGVhZC5uZXh0O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBoZWFkO1xuICAgICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlU3RhY2sobmV3U2l6ZSwgaGVhZCk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTXV0YWJpbGl0eVxuXG4gICAgU3RhY2sucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9fYWx0ZXJlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlU3RhY2sodGhpcy5zaXplLCB0aGlzLl9oZWFkLCBvd25lcklELCB0aGlzLl9faGFzaCk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgSXRlcmF0aW9uXG5cbiAgICBTdGFjay5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS5fX2l0ZXJhdGUoZm4pO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKGZuKG5vZGUudmFsdWUsIGl0ZXJhdGlvbnMrKywgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRpb25zO1xuICAgIH07XG5cbiAgICBTdGFjay5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS5fX2l0ZXJhdG9yKHR5cGUpO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBub2RlLnZhbHVlO1xuICAgICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIGlzU3RhY2sobWF5YmVTdGFjaykge1xuICAgIHJldHVybiAhIShtYXliZVN0YWNrICYmIG1heWJlU3RhY2tbSVNfU1RBQ0tfU0VOVElORUxdKTtcbiAgfVxuXG4gIFN0YWNrLmlzU3RhY2sgPSBpc1N0YWNrO1xuXG4gIHZhciBJU19TVEFDS19TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1NUQUNLX19AQCc7XG5cbiAgdmFyIFN0YWNrUHJvdG90eXBlID0gU3RhY2sucHJvdG90eXBlO1xuICBTdGFja1Byb3RvdHlwZVtJU19TVEFDS19TRU5USU5FTF0gPSB0cnVlO1xuICBTdGFja1Byb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG4gIFN0YWNrUHJvdG90eXBlLmFzTXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc011dGFibGU7XG4gIFN0YWNrUHJvdG90eXBlLmFzSW1tdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzSW1tdXRhYmxlO1xuICBTdGFja1Byb3RvdHlwZS53YXNBbHRlcmVkID0gTWFwUHJvdG90eXBlLndhc0FsdGVyZWQ7XG5cblxuICBmdW5jdGlvbiBtYWtlU3RhY2soc2l6ZSwgaGVhZCwgb3duZXJJRCwgaGFzaCkge1xuICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKFN0YWNrUHJvdG90eXBlKTtcbiAgICBtYXAuc2l6ZSA9IHNpemU7XG4gICAgbWFwLl9oZWFkID0gaGVhZDtcbiAgICBtYXAuX19vd25lcklEID0gb3duZXJJRDtcbiAgICBtYXAuX19oYXNoID0gaGFzaDtcbiAgICBtYXAuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgcmV0dXJuIG1hcDtcbiAgfVxuXG4gIHZhciBFTVBUWV9TVEFDSztcbiAgZnVuY3Rpb24gZW1wdHlTdGFjaygpIHtcbiAgICByZXR1cm4gRU1QVFlfU1RBQ0sgfHwgKEVNUFRZX1NUQUNLID0gbWFrZVN0YWNrKDApKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKHNyY19TZXRfX1NldCwgU2V0Q29sbGVjdGlvbik7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gc3JjX1NldF9fU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IGVtcHR5U2V0KCkgOlxuICAgICAgICBpc1NldCh2YWx1ZSkgJiYgIWlzT3JkZXJlZCh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5U2V0KCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgICAgdmFyIGl0ZXIgPSBTZXRJdGVyYWJsZSh2YWx1ZSk7XG4gICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24odiApIHtyZXR1cm4gc2V0LmFkZCh2KX0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzcmNfU2V0X19TZXQub2YgPSBmdW5jdGlvbigvKi4uLnZhbHVlcyovKSB7XG4gICAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQuZnJvbUtleXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMoS2V5ZWRJdGVyYWJsZSh2YWx1ZSkua2V5U2VxKCkpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTZXQgeycsICd9Jyk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLmhhcyh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdXBkYXRlU2V0KHRoaXMsIHRoaXMuX21hcC5zZXQodmFsdWUsIHRydWUpKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHVwZGF0ZVNldCh0aGlzLCB0aGlzLl9tYXAucmVtb3ZlKHZhbHVlKSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB1cGRhdGVTZXQodGhpcywgdGhpcy5fbWFwLmNsZWFyKCkpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIENvbXBvc2l0aW9uXG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLnVuaW9uID0gZnVuY3Rpb24oKSB7dmFyIGl0ZXJzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICBpdGVycyA9IGl0ZXJzLmZpbHRlcihmdW5jdGlvbih4ICkge3JldHVybiB4LnNpemUgIT09IDB9KTtcbiAgICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwICYmICF0aGlzLl9fb3duZXJJRCAmJiBpdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IoaXRlcnNbMF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVycy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICBTZXRJdGVyYWJsZShpdGVyc1tpaV0pLmZvckVhY2goZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIHNldC5hZGQodmFsdWUpfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLmludGVyc2VjdCA9IGZ1bmN0aW9uKCkge3ZhciBpdGVycyA9IFNMSUNFJDAuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGl0ZXJzID0gaXRlcnMubWFwKGZ1bmN0aW9uKGl0ZXIgKSB7cmV0dXJuIFNldEl0ZXJhYmxlKGl0ZXIpfSk7XG4gICAgICB2YXIgb3JpZ2luYWxTZXQgPSB0aGlzO1xuICAgICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbihzZXQgKSB7XG4gICAgICAgIG9yaWdpbmFsU2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUgKSB7XG4gICAgICAgICAgaWYgKCFpdGVycy5ldmVyeShmdW5jdGlvbihpdGVyICkge3JldHVybiBpdGVyLmluY2x1ZGVzKHZhbHVlKX0pKSB7XG4gICAgICAgICAgICBzZXQucmVtb3ZlKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuc3VidHJhY3QgPSBmdW5jdGlvbigpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBpdGVycyA9IGl0ZXJzLm1hcChmdW5jdGlvbihpdGVyICkge3JldHVybiBTZXRJdGVyYWJsZShpdGVyKX0pO1xuICAgICAgdmFyIG9yaWdpbmFsU2V0ID0gdGhpcztcbiAgICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oc2V0ICkge1xuICAgICAgICBvcmlnaW5hbFNldC5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlICkge1xuICAgICAgICAgIGlmIChpdGVycy5zb21lKGZ1bmN0aW9uKGl0ZXIgKSB7cmV0dXJuIGl0ZXIuaW5jbHVkZXModmFsdWUpfSkpIHtcbiAgICAgICAgICAgIHNldC5yZW1vdmUodmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudW5pb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5tZXJnZVdpdGggPSBmdW5jdGlvbihtZXJnZXIpIHt2YXIgaXRlcnMgPSBTTElDRSQwLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHJldHVybiB0aGlzLnVuaW9uLmFwcGx5KHRoaXMsIGl0ZXJzKTtcbiAgICB9O1xuXG4gICAgc3JjX1NldF9fU2V0LnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgICByZXR1cm4gT3JkZXJlZFNldChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yKSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuc29ydEJ5ID0gZnVuY3Rpb24obWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICAgIHJldHVybiBPcmRlcmVkU2V0KHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcikpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAud2FzQWx0ZXJlZCgpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLl9faXRlcmF0ZShmdW5jdGlvbihfLCBrKSAge3JldHVybiBmbihrLCBrLCB0aGlzJDApfSwgcmV2ZXJzZSk7XG4gICAgfTtcblxuICAgIHNyY19TZXRfX1NldC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAubWFwKGZ1bmN0aW9uKF8sIGspICB7cmV0dXJuIGt9KS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBzcmNfU2V0X19TZXQucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwLl9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgICB0aGlzLl9tYXAgPSBuZXdNYXA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX19tYWtlKG5ld01hcCwgb3duZXJJRCk7XG4gICAgfTtcblxuXG4gIGZ1bmN0aW9uIGlzU2V0KG1heWJlU2V0KSB7XG4gICAgcmV0dXJuICEhKG1heWJlU2V0ICYmIG1heWJlU2V0W0lTX1NFVF9TRU5USU5FTF0pO1xuICB9XG5cbiAgc3JjX1NldF9fU2V0LmlzU2V0ID0gaXNTZXQ7XG5cbiAgdmFyIElTX1NFVF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1NFVF9fQEAnO1xuXG4gIHZhciBTZXRQcm90b3R5cGUgPSBzcmNfU2V0X19TZXQucHJvdG90eXBlO1xuICBTZXRQcm90b3R5cGVbSVNfU0VUX1NFTlRJTkVMXSA9IHRydWU7XG4gIFNldFByb3RvdHlwZVtERUxFVEVdID0gU2V0UHJvdG90eXBlLnJlbW92ZTtcbiAgU2V0UHJvdG90eXBlLm1lcmdlRGVlcCA9IFNldFByb3RvdHlwZS5tZXJnZTtcbiAgU2V0UHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBTZXRQcm90b3R5cGUubWVyZ2VXaXRoO1xuICBTZXRQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IE1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zO1xuICBTZXRQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcbiAgU2V0UHJvdG90eXBlLmFzSW1tdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzSW1tdXRhYmxlO1xuXG4gIFNldFByb3RvdHlwZS5fX2VtcHR5ID0gZW1wdHlTZXQ7XG4gIFNldFByb3RvdHlwZS5fX21ha2UgPSBtYWtlU2V0O1xuXG4gIGZ1bmN0aW9uIHVwZGF0ZVNldChzZXQsIG5ld01hcCkge1xuICAgIGlmIChzZXQuX19vd25lcklEKSB7XG4gICAgICBzZXQuc2l6ZSA9IG5ld01hcC5zaXplO1xuICAgICAgc2V0Ll9tYXAgPSBuZXdNYXA7XG4gICAgICByZXR1cm4gc2V0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3TWFwID09PSBzZXQuX21hcCA/IHNldCA6XG4gICAgICBuZXdNYXAuc2l6ZSA9PT0gMCA/IHNldC5fX2VtcHR5KCkgOlxuICAgICAgc2V0Ll9fbWFrZShuZXdNYXApO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVNldChtYXAsIG93bmVySUQpIHtcbiAgICB2YXIgc2V0ID0gT2JqZWN0LmNyZWF0ZShTZXRQcm90b3R5cGUpO1xuICAgIHNldC5zaXplID0gbWFwID8gbWFwLnNpemUgOiAwO1xuICAgIHNldC5fbWFwID0gbWFwO1xuICAgIHNldC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIHJldHVybiBzZXQ7XG4gIH1cblxuICB2YXIgRU1QVFlfU0VUO1xuICBmdW5jdGlvbiBlbXB0eVNldCgpIHtcbiAgICByZXR1cm4gRU1QVFlfU0VUIHx8IChFTVBUWV9TRVQgPSBtYWtlU2V0KGVtcHR5TWFwKCkpKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKE9yZGVyZWRTZXQsIHNyY19TZXRfX1NldCk7XG5cbiAgICAvLyBAcHJhZ21hIENvbnN0cnVjdGlvblxuXG4gICAgZnVuY3Rpb24gT3JkZXJlZFNldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQgPyBlbXB0eU9yZGVyZWRTZXQoKSA6XG4gICAgICAgIGlzT3JkZXJlZFNldCh2YWx1ZSkgPyB2YWx1ZSA6XG4gICAgICAgIGVtcHR5T3JkZXJlZFNldCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24oc2V0ICkge1xuICAgICAgICAgIHZhciBpdGVyID0gU2V0SXRlcmFibGUodmFsdWUpO1xuICAgICAgICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uKHYgKSB7cmV0dXJuIHNldC5hZGQodil9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgT3JkZXJlZFNldC5vZiA9IGZ1bmN0aW9uKC8qLi4udmFsdWVzKi8pIHtcbiAgICAgIHJldHVybiB0aGlzKGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIE9yZGVyZWRTZXQuZnJvbUtleXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMoS2V5ZWRJdGVyYWJsZSh2YWx1ZSkua2V5U2VxKCkpO1xuICAgIH07XG5cbiAgICBPcmRlcmVkU2V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnT3JkZXJlZFNldCB7JywgJ30nKTtcbiAgICB9O1xuXG5cbiAgZnVuY3Rpb24gaXNPcmRlcmVkU2V0KG1heWJlT3JkZXJlZFNldCkge1xuICAgIHJldHVybiBpc1NldChtYXliZU9yZGVyZWRTZXQpICYmIGlzT3JkZXJlZChtYXliZU9yZGVyZWRTZXQpO1xuICB9XG5cbiAgT3JkZXJlZFNldC5pc09yZGVyZWRTZXQgPSBpc09yZGVyZWRTZXQ7XG5cbiAgdmFyIE9yZGVyZWRTZXRQcm90b3R5cGUgPSBPcmRlcmVkU2V0LnByb3RvdHlwZTtcbiAgT3JkZXJlZFNldFByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5cbiAgT3JkZXJlZFNldFByb3RvdHlwZS5fX2VtcHR5ID0gZW1wdHlPcmRlcmVkU2V0O1xuICBPcmRlcmVkU2V0UHJvdG90eXBlLl9fbWFrZSA9IG1ha2VPcmRlcmVkU2V0O1xuXG4gIGZ1bmN0aW9uIG1ha2VPcmRlcmVkU2V0KG1hcCwgb3duZXJJRCkge1xuICAgIHZhciBzZXQgPSBPYmplY3QuY3JlYXRlKE9yZGVyZWRTZXRQcm90b3R5cGUpO1xuICAgIHNldC5zaXplID0gbWFwID8gbWFwLnNpemUgOiAwO1xuICAgIHNldC5fbWFwID0gbWFwO1xuICAgIHNldC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIHJldHVybiBzZXQ7XG4gIH1cblxuICB2YXIgRU1QVFlfT1JERVJFRF9TRVQ7XG4gIGZ1bmN0aW9uIGVtcHR5T3JkZXJlZFNldCgpIHtcbiAgICByZXR1cm4gRU1QVFlfT1JERVJFRF9TRVQgfHwgKEVNUFRZX09SREVSRURfU0VUID0gbWFrZU9yZGVyZWRTZXQoZW1wdHlPcmRlcmVkTWFwKCkpKTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFJlY29yZCwgS2V5ZWRDb2xsZWN0aW9uKTtcblxuICAgIGZ1bmN0aW9uIFJlY29yZChkZWZhdWx0VmFsdWVzLCBuYW1lKSB7XG4gICAgICB2YXIgaGFzSW5pdGlhbGl6ZWQ7XG5cbiAgICAgIHZhciBSZWNvcmRUeXBlID0gZnVuY3Rpb24gUmVjb3JkKHZhbHVlcykge1xuICAgICAgICBpZiAodmFsdWVzIGluc3RhbmNlb2YgUmVjb3JkVHlwZSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlY29yZFR5cGUpKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZWNvcmRUeXBlKHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNJbml0aWFsaXplZCkge1xuICAgICAgICAgIGhhc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRlZmF1bHRWYWx1ZXMpO1xuICAgICAgICAgIHNldFByb3BzKFJlY29yZFR5cGVQcm90b3R5cGUsIGtleXMpO1xuICAgICAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuc2l6ZSA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX25hbWUgPSBuYW1lO1xuICAgICAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX2tleXMgPSBrZXlzO1xuICAgICAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX2RlZmF1bHRWYWx1ZXMgPSBkZWZhdWx0VmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcCA9IHNyY19NYXBfX01hcCh2YWx1ZXMpO1xuICAgICAgfTtcblxuICAgICAgdmFyIFJlY29yZFR5cGVQcm90b3R5cGUgPSBSZWNvcmRUeXBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUmVjb3JkUHJvdG90eXBlKTtcbiAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZWNvcmRUeXBlO1xuXG4gICAgICByZXR1cm4gUmVjb3JkVHlwZTtcbiAgICB9XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKHJlY29yZE5hbWUodGhpcykgKyAnIHsnLCAnfScpO1xuICAgIH07XG5cbiAgICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFZhbHVlcy5oYXNPd25Qcm9wZXJ0eShrKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihrLCBub3RTZXRWYWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLmhhcyhrKSkge1xuICAgICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgICB9XG4gICAgICB2YXIgZGVmYXVsdFZhbCA9IHRoaXMuX2RlZmF1bHRWYWx1ZXNba107XG4gICAgICByZXR1cm4gdGhpcy5fbWFwID8gdGhpcy5fbWFwLmdldChrLCBkZWZhdWx0VmFsKSA6IGRlZmF1bHRWYWw7XG4gICAgfTtcblxuICAgIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgICBSZWNvcmQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgdGhpcy5fbWFwICYmIHRoaXMuX21hcC5jbGVhcigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBSZWNvcmRUeXBlID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgIHJldHVybiBSZWNvcmRUeXBlLl9lbXB0eSB8fCAoUmVjb3JkVHlwZS5fZW1wdHkgPSBtYWtlUmVjb3JkKHRoaXMsIGVtcHR5TWFwKCkpKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihrLCB2KSB7XG4gICAgICBpZiAoIXRoaXMuaGFzKGspKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHNldCB1bmtub3duIGtleSBcIicgKyBrICsgJ1wiIG9uICcgKyByZWNvcmROYW1lKHRoaXMpKTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAgJiYgdGhpcy5fbWFwLnNldChrLCB2KTtcbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCB8fCBuZXdNYXAgPT09IHRoaXMuX21hcCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlUmVjb3JkKHRoaXMsIG5ld01hcCk7XG4gICAgfTtcblxuICAgIFJlY29yZC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaykge1xuICAgICAgaWYgKCF0aGlzLmhhcyhrKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBuZXdNYXAgPSB0aGlzLl9tYXAgJiYgdGhpcy5fbWFwLnJlbW92ZShrKTtcbiAgICAgIGlmICh0aGlzLl9fb3duZXJJRCB8fCBuZXdNYXAgPT09IHRoaXMuX21hcCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlUmVjb3JkKHRoaXMsIG5ld01hcCk7XG4gICAgfTtcblxuICAgIFJlY29yZC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC53YXNBbHRlcmVkKCk7XG4gICAgfTtcblxuICAgIFJlY29yZC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHt2YXIgdGhpcyQwID0gdGhpcztcbiAgICAgIHJldHVybiBLZXllZEl0ZXJhYmxlKHRoaXMuX2RlZmF1bHRWYWx1ZXMpLm1hcChmdW5jdGlvbihfLCBrKSAge3JldHVybiB0aGlzJDAuZ2V0KGspfSkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9O1xuXG4gICAgUmVjb3JkLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge3ZhciB0aGlzJDAgPSB0aGlzO1xuICAgICAgcmV0dXJuIEtleWVkSXRlcmFibGUodGhpcy5fZGVmYXVsdFZhbHVlcykubWFwKGZ1bmN0aW9uKF8sIGspICB7cmV0dXJuIHRoaXMkMC5nZXQoayl9KS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgIH07XG5cbiAgICBSZWNvcmQucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbihvd25lcklEKSB7XG4gICAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwICYmIHRoaXMuX21hcC5fX2Vuc3VyZU93bmVyKG93bmVySUQpO1xuICAgICAgaWYgKCFvd25lcklEKSB7XG4gICAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3TWFwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYWtlUmVjb3JkKHRoaXMsIG5ld01hcCwgb3duZXJJRCk7XG4gICAgfTtcblxuXG4gIHZhciBSZWNvcmRQcm90b3R5cGUgPSBSZWNvcmQucHJvdG90eXBlO1xuICBSZWNvcmRQcm90b3R5cGVbREVMRVRFXSA9IFJlY29yZFByb3RvdHlwZS5yZW1vdmU7XG4gIFJlY29yZFByb3RvdHlwZS5kZWxldGVJbiA9XG4gIFJlY29yZFByb3RvdHlwZS5yZW1vdmVJbiA9IE1hcFByb3RvdHlwZS5yZW1vdmVJbjtcbiAgUmVjb3JkUHJvdG90eXBlLm1lcmdlID0gTWFwUHJvdG90eXBlLm1lcmdlO1xuICBSZWNvcmRQcm90b3R5cGUubWVyZ2VXaXRoID0gTWFwUHJvdG90eXBlLm1lcmdlV2l0aDtcbiAgUmVjb3JkUHJvdG90eXBlLm1lcmdlSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VJbjtcbiAgUmVjb3JkUHJvdG90eXBlLm1lcmdlRGVlcCA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXA7XG4gIFJlY29yZFByb3RvdHlwZS5tZXJnZURlZXBXaXRoID0gTWFwUHJvdG90eXBlLm1lcmdlRGVlcFdpdGg7XG4gIFJlY29yZFByb3RvdHlwZS5tZXJnZURlZXBJbiA9IE1hcFByb3RvdHlwZS5tZXJnZURlZXBJbjtcbiAgUmVjb3JkUHJvdG90eXBlLnNldEluID0gTWFwUHJvdG90eXBlLnNldEluO1xuICBSZWNvcmRQcm90b3R5cGUudXBkYXRlID0gTWFwUHJvdG90eXBlLnVwZGF0ZTtcbiAgUmVjb3JkUHJvdG90eXBlLnVwZGF0ZUluID0gTWFwUHJvdG90eXBlLnVwZGF0ZUluO1xuICBSZWNvcmRQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IE1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zO1xuICBSZWNvcmRQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcbiAgUmVjb3JkUHJvdG90eXBlLmFzSW1tdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzSW1tdXRhYmxlO1xuXG5cbiAgZnVuY3Rpb24gbWFrZVJlY29yZChsaWtlUmVjb3JkLCBtYXAsIG93bmVySUQpIHtcbiAgICB2YXIgcmVjb3JkID0gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YobGlrZVJlY29yZCkpO1xuICAgIHJlY29yZC5fbWFwID0gbWFwO1xuICAgIHJlY29yZC5fX293bmVySUQgPSBvd25lcklEO1xuICAgIHJldHVybiByZWNvcmQ7XG4gIH1cblxuICBmdW5jdGlvbiByZWNvcmROYW1lKHJlY29yZCkge1xuICAgIHJldHVybiByZWNvcmQuX25hbWUgfHwgcmVjb3JkLmNvbnN0cnVjdG9yLm5hbWUgfHwgJ1JlY29yZCc7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRQcm9wcyhwcm90b3R5cGUsIG5hbWVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIG5hbWVzLmZvckVhY2goc2V0UHJvcC5iaW5kKHVuZGVmaW5lZCwgcHJvdG90eXBlKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBmYWlsZWQuIFByb2JhYmx5IElFOC5cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRQcm9wKHByb3RvdHlwZSwgbmFtZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsIG5hbWUsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChuYW1lKTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGludmFyaWFudCh0aGlzLl9fb3duZXJJRCwgJ0Nhbm5vdCBzZXQgb24gYW4gaW1tdXRhYmxlIHJlY29yZC4nKTtcbiAgICAgICAgdGhpcy5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIpIHtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIWlzSXRlcmFibGUoYikgfHxcbiAgICAgIGEuc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGIuc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGEuc2l6ZSAhPT0gYi5zaXplIHx8XG4gICAgICBhLl9faGFzaCAhPT0gdW5kZWZpbmVkICYmIGIuX19oYXNoICE9PSB1bmRlZmluZWQgJiYgYS5fX2hhc2ggIT09IGIuX19oYXNoIHx8XG4gICAgICBpc0tleWVkKGEpICE9PSBpc0tleWVkKGIpIHx8XG4gICAgICBpc0luZGV4ZWQoYSkgIT09IGlzSW5kZXhlZChiKSB8fFxuICAgICAgaXNPcmRlcmVkKGEpICE9PSBpc09yZGVyZWQoYilcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYS5zaXplID09PSAwICYmIGIuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIG5vdEFzc29jaWF0aXZlID0gIWlzQXNzb2NpYXRpdmUoYSk7XG5cbiAgICBpZiAoaXNPcmRlcmVkKGEpKSB7XG4gICAgICB2YXIgZW50cmllcyA9IGEuZW50cmllcygpO1xuICAgICAgcmV0dXJuIGIuZXZlcnkoZnVuY3Rpb24odiwgaykgIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllcy5uZXh0KCkudmFsdWU7XG4gICAgICAgIHJldHVybiBlbnRyeSAmJiBpcyhlbnRyeVsxXSwgdikgJiYgKG5vdEFzc29jaWF0aXZlIHx8IGlzKGVudHJ5WzBdLCBrKSk7XG4gICAgICB9KSAmJiBlbnRyaWVzLm5leHQoKS5kb25lO1xuICAgIH1cblxuICAgIHZhciBmbGlwcGVkID0gZmFsc2U7XG5cbiAgICBpZiAoYS5zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChiLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mIGEuY2FjaGVSZXN1bHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBhLmNhY2hlUmVzdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZsaXBwZWQgPSB0cnVlO1xuICAgICAgICB2YXIgXyA9IGE7XG4gICAgICAgIGEgPSBiO1xuICAgICAgICBiID0gXztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgYWxsRXF1YWwgPSB0cnVlO1xuICAgIHZhciBiU2l6ZSA9IGIuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGspICB7XG4gICAgICBpZiAobm90QXNzb2NpYXRpdmUgPyAhYS5oYXModikgOlxuICAgICAgICAgIGZsaXBwZWQgPyAhaXModiwgYS5nZXQoaywgTk9UX1NFVCkpIDogIWlzKGEuZ2V0KGssIE5PVF9TRVQpLCB2KSkge1xuICAgICAgICBhbGxFcXVhbCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWxsRXF1YWwgJiYgYS5zaXplID09PSBiU2l6ZTtcbiAgfVxuXG4gIGNyZWF0ZUNsYXNzKFJhbmdlLCBJbmRleGVkU2VxKTtcblxuICAgIGZ1bmN0aW9uIFJhbmdlKHN0YXJ0LCBlbmQsIHN0ZXApIHtcbiAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSYW5nZSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydCwgZW5kLCBzdGVwKTtcbiAgICAgIH1cbiAgICAgIGludmFyaWFudChzdGVwICE9PSAwLCAnQ2Fubm90IHN0ZXAgYSBSYW5nZSBieSAwJyk7XG4gICAgICBzdGFydCA9IHN0YXJ0IHx8IDA7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gSW5maW5pdHk7XG4gICAgICB9XG4gICAgICBzdGVwID0gc3RlcCA9PT0gdW5kZWZpbmVkID8gMSA6IE1hdGguYWJzKHN0ZXApO1xuICAgICAgaWYgKGVuZCA8IHN0YXJ0KSB7XG4gICAgICAgIHN0ZXAgPSAtc3RlcDtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3N0YXJ0ID0gc3RhcnQ7XG4gICAgICB0aGlzLl9lbmQgPSBlbmQ7XG4gICAgICB0aGlzLl9zdGVwID0gc3RlcDtcbiAgICAgIHRoaXMuc2l6ZSA9IE1hdGgubWF4KDAsIE1hdGguY2VpbCgoZW5kIC0gc3RhcnQpIC8gc3RlcCAtIDEpICsgMSk7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIGlmIChFTVBUWV9SQU5HRSkge1xuICAgICAgICAgIHJldHVybiBFTVBUWV9SQU5HRTtcbiAgICAgICAgfVxuICAgICAgICBFTVBUWV9SQU5HRSA9IHRoaXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgUmFuZ2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnUmFuZ2UgW10nO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdSYW5nZSBbICcgK1xuICAgICAgICB0aGlzLl9zdGFydCArICcuLi4nICsgdGhpcy5fZW5kICtcbiAgICAgICAgKHRoaXMuX3N0ZXAgPiAxID8gJyBieSAnICsgdGhpcy5fc3RlcCA6ICcnKSArXG4gICAgICAnIF0nO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXMoaW5kZXgpID9cbiAgICAgICAgdGhpcy5fc3RhcnQgKyB3cmFwSW5kZXgodGhpcywgaW5kZXgpICogdGhpcy5fc3RlcCA6XG4gICAgICAgIG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBSYW5nZS5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgdmFyIHBvc3NpYmxlSW5kZXggPSAoc2VhcmNoVmFsdWUgLSB0aGlzLl9zdGFydCkgLyB0aGlzLl9zdGVwO1xuICAgICAgcmV0dXJuIHBvc3NpYmxlSW5kZXggPj0gMCAmJlxuICAgICAgICBwb3NzaWJsZUluZGV4IDwgdGhpcy5zaXplICYmXG4gICAgICAgIHBvc3NpYmxlSW5kZXggPT09IE1hdGguZmxvb3IocG9zc2libGVJbmRleCk7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uKGJlZ2luLCBlbmQpIHtcbiAgICAgIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIHRoaXMuc2l6ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBiZWdpbiA9IHJlc29sdmVCZWdpbihiZWdpbiwgdGhpcy5zaXplKTtcbiAgICAgIGVuZCA9IHJlc29sdmVFbmQoZW5kLCB0aGlzLnNpemUpO1xuICAgICAgaWYgKGVuZCA8PSBiZWdpbikge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKDAsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLmdldChiZWdpbiwgdGhpcy5fZW5kKSwgdGhpcy5nZXQoZW5kLCB0aGlzLl9lbmQpLCB0aGlzLl9zdGVwKTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgdmFyIG9mZnNldFZhbHVlID0gc2VhcmNoVmFsdWUgLSB0aGlzLl9zdGFydDtcbiAgICAgIGlmIChvZmZzZXRWYWx1ZSAlIHRoaXMuX3N0ZXAgPT09IDApIHtcbiAgICAgICAgdmFyIGluZGV4ID0gb2Zmc2V0VmFsdWUgLyB0aGlzLl9zdGVwO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuc2l6ZSkge1xuICAgICAgICAgIHJldHVybiBpbmRleFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcblxuICAgIFJhbmdlLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbmRleE9mKHNlYXJjaFZhbHVlKTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgICB2YXIgbWF4SW5kZXggPSB0aGlzLnNpemUgLSAxO1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLl9zdGVwO1xuICAgICAgdmFyIHZhbHVlID0gcmV2ZXJzZSA/IHRoaXMuX3N0YXJ0ICsgbWF4SW5kZXggKiBzdGVwIDogdGhpcy5fc3RhcnQ7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgICAgIGlmIChmbih2YWx1ZSwgaWksIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBpaSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgKz0gcmV2ZXJzZSA/IC1zdGVwIDogc3RlcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpaTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgICB2YXIgbWF4SW5kZXggPSB0aGlzLnNpemUgLSAxO1xuICAgICAgdmFyIHN0ZXAgPSB0aGlzLl9zdGVwO1xuICAgICAgdmFyIHZhbHVlID0gcmV2ZXJzZSA/IHRoaXMuX3N0YXJ0ICsgbWF4SW5kZXggKiBzdGVwIDogdGhpcy5fc3RhcnQ7XG4gICAgICB2YXIgaWkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgIHtcbiAgICAgICAgdmFyIHYgPSB2YWx1ZTtcbiAgICAgICAgdmFsdWUgKz0gcmV2ZXJzZSA/IC1zdGVwIDogc3RlcDtcbiAgICAgICAgcmV0dXJuIGlpID4gbWF4SW5kZXggPyBpdGVyYXRvckRvbmUoKSA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaWkrKywgdik7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgUmFuZ2UucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBSYW5nZSA/XG4gICAgICAgIHRoaXMuX3N0YXJ0ID09PSBvdGhlci5fc3RhcnQgJiZcbiAgICAgICAgdGhpcy5fZW5kID09PSBvdGhlci5fZW5kICYmXG4gICAgICAgIHRoaXMuX3N0ZXAgPT09IG90aGVyLl9zdGVwIDpcbiAgICAgICAgZGVlcEVxdWFsKHRoaXMsIG90aGVyKTtcbiAgICB9O1xuXG5cbiAgdmFyIEVNUFRZX1JBTkdFO1xuXG4gIGNyZWF0ZUNsYXNzKFJlcGVhdCwgSW5kZXhlZFNlcSk7XG5cbiAgICBmdW5jdGlvbiBSZXBlYXQodmFsdWUsIHRpbWVzKSB7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVwZWF0KSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlcGVhdCh2YWx1ZSwgdGltZXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRoaXMuc2l6ZSA9IHRpbWVzID09PSB1bmRlZmluZWQgPyBJbmZpbml0eSA6IE1hdGgubWF4KDAsIHRpbWVzKTtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgaWYgKEVNUFRZX1JFUEVBVCkge1xuICAgICAgICAgIHJldHVybiBFTVBUWV9SRVBFQVQ7XG4gICAgICAgIH1cbiAgICAgICAgRU1QVFlfUkVQRUFUID0gdGhpcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnUmVwZWF0IFtdJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnUmVwZWF0IFsgJyArIHRoaXMuX3ZhbHVlICsgJyAnICsgdGhpcy5zaXplICsgJyB0aW1lcyBdJztcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmhhcyhpbmRleCkgPyB0aGlzLl92YWx1ZSA6IG5vdFNldFZhbHVlO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLmluY2x1ZGVzID0gZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiBpcyh0aGlzLl92YWx1ZSwgc2VhcmNoVmFsdWUpO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgICByZXR1cm4gd2hvbGVTbGljZShiZWdpbiwgZW5kLCBzaXplKSA/IHRoaXMgOlxuICAgICAgICBuZXcgUmVwZWF0KHRoaXMuX3ZhbHVlLCByZXNvbHZlRW5kKGVuZCwgc2l6ZSkgLSByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpKTtcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgUmVwZWF0LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIGlmIChpcyh0aGlzLl92YWx1ZSwgc2VhcmNoVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLmxhc3RJbmRleE9mID0gZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIGlmIChpcyh0aGlzLl92YWx1ZSwgc2VhcmNoVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpemU7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCB0aGlzLnNpemU7IGlpKyspIHtcbiAgICAgICAgaWYgKGZuKHRoaXMuX3ZhbHVlLCBpaSwgdGhpcykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmV0dXJuIGlpICsgMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlpO1xuICAgIH07XG5cbiAgICBSZXBlYXQucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgaWkgPSAwO1xuICAgICAgcmV0dXJuIG5ldyBzcmNfSXRlcmF0b3JfX0l0ZXJhdG9yKGZ1bmN0aW9uKCkgXG4gICAgICAgIHtyZXR1cm4gaWkgPCB0aGlzJDAuc2l6ZSA/IGl0ZXJhdG9yVmFsdWUodHlwZSwgaWkrKywgdGhpcyQwLl92YWx1ZSkgOiBpdGVyYXRvckRvbmUoKX1cbiAgICAgICk7XG4gICAgfTtcblxuICAgIFJlcGVhdC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIFJlcGVhdCA/XG4gICAgICAgIGlzKHRoaXMuX3ZhbHVlLCBvdGhlci5fdmFsdWUpIDpcbiAgICAgICAgZGVlcEVxdWFsKG90aGVyKTtcbiAgICB9O1xuXG5cbiAgdmFyIEVNUFRZX1JFUEVBVDtcblxuICAvKipcbiAgICogQ29udHJpYnV0ZXMgYWRkaXRpb25hbCBtZXRob2RzIHRvIGEgY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIG1peGluKGN0b3IsIG1ldGhvZHMpIHtcbiAgICB2YXIga2V5Q29waWVyID0gZnVuY3Rpb24oa2V5ICkgeyBjdG9yLnByb3RvdHlwZVtrZXldID0gbWV0aG9kc1trZXldOyB9O1xuICAgIE9iamVjdC5rZXlzKG1ldGhvZHMpLmZvckVhY2goa2V5Q29waWVyKTtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICYmXG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG1ldGhvZHMpLmZvckVhY2goa2V5Q29waWVyKTtcbiAgICByZXR1cm4gY3RvcjtcbiAgfVxuXG4gIEl0ZXJhYmxlLkl0ZXJhdG9yID0gc3JjX0l0ZXJhdG9yX19JdGVyYXRvcjtcblxuICBtaXhpbihJdGVyYWJsZSwge1xuXG4gICAgLy8gIyMjIENvbnZlcnNpb24gdG8gb3RoZXIgdHlwZXNcblxuICAgIHRvQXJyYXk6IGZ1bmN0aW9uKCkge1xuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICAgIHZhciBhcnJheSA9IG5ldyBBcnJheSh0aGlzLnNpemUgfHwgMCk7XG4gICAgICB0aGlzLnZhbHVlU2VxKCkuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGkpICB7IGFycmF5W2ldID0gdjsgfSk7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfSxcblxuICAgIHRvSW5kZXhlZFNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IFRvSW5kZXhlZFNlcXVlbmNlKHRoaXMpO1xuICAgIH0sXG5cbiAgICB0b0pTOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkubWFwKFxuICAgICAgICBmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnRvSlMgPT09ICdmdW5jdGlvbicgPyB2YWx1ZS50b0pTKCkgOiB2YWx1ZX1cbiAgICAgICkuX190b0pTKCk7XG4gICAgfSxcblxuICAgIHRvSlNPTjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLm1hcChcbiAgICAgICAgZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50b0pTT04gPT09ICdmdW5jdGlvbicgPyB2YWx1ZS50b0pTT04oKSA6IHZhbHVlfVxuICAgICAgKS5fX3RvSlMoKTtcbiAgICB9LFxuXG4gICAgdG9LZXllZFNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IFRvS2V5ZWRTZXF1ZW5jZSh0aGlzLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgdG9NYXA6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgICAgcmV0dXJuIHNyY19NYXBfX01hcCh0aGlzLnRvS2V5ZWRTZXEoKSk7XG4gICAgfSxcblxuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrKSAgeyBvYmplY3Rba10gPSB2OyB9KTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcblxuICAgIHRvT3JkZXJlZE1hcDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICByZXR1cm4gT3JkZXJlZE1hcCh0aGlzLnRvS2V5ZWRTZXEoKSk7XG4gICAgfSxcblxuICAgIHRvT3JkZXJlZFNldDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICByZXR1cm4gT3JkZXJlZFNldChpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gICAgfSxcblxuICAgIHRvU2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgIHJldHVybiBzcmNfU2V0X19TZXQoaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICAgIH0sXG5cbiAgICB0b1NldFNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IFRvU2V0U2VxdWVuY2UodGhpcyk7XG4gICAgfSxcblxuICAgIHRvU2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpc0luZGV4ZWQodGhpcykgPyB0aGlzLnRvSW5kZXhlZFNlcSgpIDpcbiAgICAgICAgaXNLZXllZCh0aGlzKSA/IHRoaXMudG9LZXllZFNlcSgpIDpcbiAgICAgICAgdGhpcy50b1NldFNlcSgpO1xuICAgIH0sXG5cbiAgICB0b1N0YWNrOiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICAgIHJldHVybiBTdGFjayhpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gICAgfSxcblxuICAgIHRvTGlzdDogZnVuY3Rpb24oKSB7XG4gICAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgICByZXR1cm4gTGlzdChpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIENvbW1vbiBKYXZhU2NyaXB0IG1ldGhvZHMgYW5kIHByb3BlcnRpZXNcblxuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnW0l0ZXJhYmxlXSc7XG4gICAgfSxcblxuICAgIF9fdG9TdHJpbmc6IGZ1bmN0aW9uKGhlYWQsIHRhaWwpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGhlYWQgKyB0YWlsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhlYWQgKyAnICcgKyB0aGlzLnRvU2VxKCkubWFwKHRoaXMuX190b1N0cmluZ01hcHBlcikuam9pbignLCAnKSArICcgJyArIHRhaWw7XG4gICAgfSxcblxuXG4gICAgLy8gIyMjIEVTNiBDb2xsZWN0aW9uIG1ldGhvZHMgKEVTNiBBcnJheSBhbmQgTWFwKVxuXG4gICAgY29uY2F0OiBmdW5jdGlvbigpIHt2YXIgdmFsdWVzID0gU0xJQ0UkMC5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgY29uY2F0RmFjdG9yeSh0aGlzLCB2YWx1ZXMpKTtcbiAgICB9LFxuXG4gICAgaW5jbHVkZXM6IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zb21lKGZ1bmN0aW9uKHZhbHVlICkge3JldHVybiBpcyh2YWx1ZSwgc2VhcmNoVmFsdWUpfSk7XG4gICAgfSxcblxuICAgIGVudHJpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMpO1xuICAgIH0sXG5cbiAgICBldmVyeTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgdmFyIHJldHVyblZhbHVlID0gdHJ1ZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpICB7XG4gICAgICAgIGlmICghcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgICByZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfSxcblxuICAgIGZpbHRlcjogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgZmlsdGVyRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIHRydWUpKTtcbiAgICB9LFxuXG4gICAgZmluZDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBlbnRyeSA/IGVudHJ5WzFdIDogbm90U2V0VmFsdWU7XG4gICAgfSxcblxuICAgIGZpbmRFbnRyeTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgZm91bmQ7XG4gICAgICB0aGlzLl9faXRlcmF0ZShmdW5jdGlvbih2LCBrLCBjKSAge1xuICAgICAgICBpZiAocHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgICBmb3VuZCA9IFtrLCB2XTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH0sXG5cbiAgICBmaW5kTGFzdEVudHJ5OiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBmb3JFYWNoOiBmdW5jdGlvbihzaWRlRWZmZWN0LCBjb250ZXh0KSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRlKGNvbnRleHQgPyBzaWRlRWZmZWN0LmJpbmQoY29udGV4dCkgOiBzaWRlRWZmZWN0KTtcbiAgICB9LFxuXG4gICAgam9pbjogZnVuY3Rpb24oc2VwYXJhdG9yKSB7XG4gICAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgICAgc2VwYXJhdG9yID0gc2VwYXJhdG9yICE9PSB1bmRlZmluZWQgPyAnJyArIHNlcGFyYXRvciA6ICcsJztcbiAgICAgIHZhciBqb2luZWQgPSAnJztcbiAgICAgIHZhciBpc0ZpcnN0ID0gdHJ1ZTtcbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYgKSB7XG4gICAgICAgIGlzRmlyc3QgPyAoaXNGaXJzdCA9IGZhbHNlKSA6IChqb2luZWQgKz0gc2VwYXJhdG9yKTtcbiAgICAgICAgam9pbmVkICs9IHYgIT09IG51bGwgJiYgdiAhPT0gdW5kZWZpbmVkID8gdi50b1N0cmluZygpIDogJyc7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBqb2luZWQ7XG4gICAgfSxcblxuICAgIGtleXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0tFWVMpO1xuICAgIH0sXG5cbiAgICBtYXA6IGZ1bmN0aW9uKG1hcHBlciwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIG1hcEZhY3RvcnkodGhpcywgbWFwcGVyLCBjb250ZXh0KSk7XG4gICAgfSxcblxuICAgIHJlZHVjZTogZnVuY3Rpb24ocmVkdWNlciwgaW5pdGlhbFJlZHVjdGlvbiwgY29udGV4dCkge1xuICAgICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICAgIHZhciByZWR1Y3Rpb247XG4gICAgICB2YXIgdXNlRmlyc3Q7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgdXNlRmlyc3QgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVkdWN0aW9uID0gaW5pdGlhbFJlZHVjdGlvbjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uKHYsIGssIGMpICB7XG4gICAgICAgIGlmICh1c2VGaXJzdCkge1xuICAgICAgICAgIHVzZUZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgcmVkdWN0aW9uID0gdjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWR1Y3Rpb24gPSByZWR1Y2VyLmNhbGwoY29udGV4dCwgcmVkdWN0aW9uLCB2LCBrLCBjKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVkdWN0aW9uO1xuICAgIH0sXG5cbiAgICByZWR1Y2VSaWdodDogZnVuY3Rpb24ocmVkdWNlciwgaW5pdGlhbFJlZHVjdGlvbiwgY29udGV4dCkge1xuICAgICAgdmFyIHJldmVyc2VkID0gdGhpcy50b0tleWVkU2VxKCkucmV2ZXJzZSgpO1xuICAgICAgcmV0dXJuIHJldmVyc2VkLnJlZHVjZS5hcHBseShyZXZlcnNlZCwgYXJndW1lbnRzKTtcbiAgICB9LFxuXG4gICAgcmV2ZXJzZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgcmV2ZXJzZUZhY3RvcnkodGhpcywgdHJ1ZSkpO1xuICAgIH0sXG5cbiAgICBzbGljZTogZnVuY3Rpb24oYmVnaW4sIGVuZCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNsaWNlRmFjdG9yeSh0aGlzLCBiZWdpbiwgZW5kLCB0cnVlKSk7XG4gICAgfSxcblxuICAgIHNvbWU6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuICF0aGlzLmV2ZXJ5KG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgc29ydDogZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgICB9LFxuXG4gICAgdmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9WQUxVRVMpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gICAgYnV0TGFzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgwLCAtMSk7XG4gICAgfSxcblxuICAgIGlzRW1wdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2l6ZSAhPT0gdW5kZWZpbmVkID8gdGhpcy5zaXplID09PSAwIDogIXRoaXMuc29tZShmdW5jdGlvbigpICB7cmV0dXJuIHRydWV9KTtcbiAgICB9LFxuXG4gICAgY291bnQ6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIGVuc3VyZVNpemUoXG4gICAgICAgIHByZWRpY2F0ZSA/IHRoaXMudG9TZXEoKS5maWx0ZXIocHJlZGljYXRlLCBjb250ZXh0KSA6IHRoaXNcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGNvdW50Qnk6IGZ1bmN0aW9uKGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBjb3VudEJ5RmFjdG9yeSh0aGlzLCBncm91cGVyLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgZXF1YWxzOiBmdW5jdGlvbihvdGhlcikge1xuICAgICAgcmV0dXJuIGRlZXBFcXVhbCh0aGlzLCBvdGhlcik7XG4gICAgfSxcblxuICAgIGVudHJ5U2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpdGVyYWJsZSA9IHRoaXM7XG4gICAgICBpZiAoaXRlcmFibGUuX2NhY2hlKSB7XG4gICAgICAgIC8vIFdlIGNhY2hlIGFzIGFuIGVudHJpZXMgYXJyYXksIHNvIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgY2FjaGUhXG4gICAgICAgIHJldHVybiBuZXcgQXJyYXlTZXEoaXRlcmFibGUuX2NhY2hlKTtcbiAgICAgIH1cbiAgICAgIHZhciBlbnRyaWVzU2VxdWVuY2UgPSBpdGVyYWJsZS50b1NlcSgpLm1hcChlbnRyeU1hcHBlcikudG9JbmRleGVkU2VxKCk7XG4gICAgICBlbnRyaWVzU2VxdWVuY2UuZnJvbUVudHJ5U2VxID0gZnVuY3Rpb24oKSAge3JldHVybiBpdGVyYWJsZS50b1NlcSgpfTtcbiAgICAgIHJldHVybiBlbnRyaWVzU2VxdWVuY2U7XG4gICAgfSxcblxuICAgIGZpbHRlck5vdDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBmaW5kTGFzdDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudG9LZXllZFNlcSgpLnJldmVyc2UoKS5maW5kKHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpO1xuICAgIH0sXG5cbiAgICBmaXJzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5maW5kKHJldHVyblRydWUpO1xuICAgIH0sXG5cbiAgICBmbGF0TWFwOiBmdW5jdGlvbihtYXBwZXIsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGF0TWFwRmFjdG9yeSh0aGlzLCBtYXBwZXIsIGNvbnRleHQpKTtcbiAgICB9LFxuXG4gICAgZmxhdHRlbjogZnVuY3Rpb24oZGVwdGgpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGF0dGVuRmFjdG9yeSh0aGlzLCBkZXB0aCwgdHJ1ZSkpO1xuICAgIH0sXG5cbiAgICBmcm9tRW50cnlTZXE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBGcm9tRW50cmllc1NlcXVlbmNlKHRoaXMpO1xuICAgIH0sXG5cbiAgICBnZXQ6IGZ1bmN0aW9uKHNlYXJjaEtleSwgbm90U2V0VmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbmQoZnVuY3Rpb24oXywga2V5KSAge3JldHVybiBpcyhrZXksIHNlYXJjaEtleSl9LCB1bmRlZmluZWQsIG5vdFNldFZhbHVlKTtcbiAgICB9LFxuXG4gICAgZ2V0SW46IGZ1bmN0aW9uKHNlYXJjaEtleVBhdGgsIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgbmVzdGVkID0gdGhpcztcbiAgICAgIC8vIE5vdGU6IGluIGFuIEVTNiBlbnZpcm9ubWVudCwgd2Ugd291bGQgcHJlZmVyOlxuICAgICAgLy8gZm9yICh2YXIga2V5IG9mIHNlYXJjaEtleVBhdGgpIHtcbiAgICAgIHZhciBpdGVyID0gZm9yY2VJdGVyYXRvcihzZWFyY2hLZXlQYXRoKTtcbiAgICAgIHZhciBzdGVwO1xuICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXIubmV4dCgpKS5kb25lKSB7XG4gICAgICAgIHZhciBrZXkgPSBzdGVwLnZhbHVlO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWQgJiYgbmVzdGVkLmdldCA/IG5lc3RlZC5nZXQoa2V5LCBOT1RfU0VUKSA6IE5PVF9TRVQ7XG4gICAgICAgIGlmIChuZXN0ZWQgPT09IE5PVF9TRVQpIHtcbiAgICAgICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXN0ZWQ7XG4gICAgfSxcblxuICAgIGdyb3VwQnk6IGZ1bmN0aW9uKGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBncm91cEJ5RmFjdG9yeSh0aGlzLCBncm91cGVyLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgaGFzOiBmdW5jdGlvbihzZWFyY2hLZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldChzZWFyY2hLZXksIE5PVF9TRVQpICE9PSBOT1RfU0VUO1xuICAgIH0sXG5cbiAgICBoYXNJbjogZnVuY3Rpb24oc2VhcmNoS2V5UGF0aCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW4oc2VhcmNoS2V5UGF0aCwgTk9UX1NFVCkgIT09IE5PVF9TRVQ7XG4gICAgfSxcblxuICAgIGlzU3Vic2V0OiBmdW5jdGlvbihpdGVyKSB7XG4gICAgICBpdGVyID0gdHlwZW9mIGl0ZXIuaW5jbHVkZXMgPT09ICdmdW5jdGlvbicgPyBpdGVyIDogSXRlcmFibGUoaXRlcik7XG4gICAgICByZXR1cm4gdGhpcy5ldmVyeShmdW5jdGlvbih2YWx1ZSApIHtyZXR1cm4gaXRlci5pbmNsdWRlcyh2YWx1ZSl9KTtcbiAgICB9LFxuXG4gICAgaXNTdXBlcnNldDogZnVuY3Rpb24oaXRlcikge1xuICAgICAgaXRlciA9IHR5cGVvZiBpdGVyLmlzU3Vic2V0ID09PSAnZnVuY3Rpb24nID8gaXRlciA6IEl0ZXJhYmxlKGl0ZXIpO1xuICAgICAgcmV0dXJuIGl0ZXIuaXNTdWJzZXQodGhpcyk7XG4gICAgfSxcblxuICAgIGtleVNlcTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50b1NlcSgpLm1hcChrZXlNYXBwZXIpLnRvSW5kZXhlZFNlcSgpO1xuICAgIH0sXG5cbiAgICBsYXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvU2VxKCkucmV2ZXJzZSgpLmZpcnN0KCk7XG4gICAgfSxcblxuICAgIG1heDogZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvcik7XG4gICAgfSxcblxuICAgIG1heEJ5OiBmdW5jdGlvbihtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBtYXhGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcik7XG4gICAgfSxcblxuICAgIG1pbjogZnVuY3Rpb24oY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvciA/IG5lZyhjb21wYXJhdG9yKSA6IGRlZmF1bHROZWdDb21wYXJhdG9yKTtcbiAgICB9LFxuXG4gICAgbWluQnk6IGZ1bmN0aW9uKG1hcHBlciwgY29tcGFyYXRvcikge1xuICAgICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvciA/IG5lZyhjb21wYXJhdG9yKSA6IGRlZmF1bHROZWdDb21wYXJhdG9yLCBtYXBwZXIpO1xuICAgIH0sXG5cbiAgICByZXN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNsaWNlKDEpO1xuICAgIH0sXG5cbiAgICBza2lwOiBmdW5jdGlvbihhbW91bnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnNsaWNlKE1hdGgubWF4KDAsIGFtb3VudCkpO1xuICAgIH0sXG5cbiAgICBza2lwTGFzdDogZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgdGhpcy50b1NlcSgpLnJldmVyc2UoKS5za2lwKGFtb3VudCkucmV2ZXJzZSgpKTtcbiAgICB9LFxuXG4gICAgc2tpcFdoaWxlOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBza2lwV2hpbGVGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgdHJ1ZSkpO1xuICAgIH0sXG5cbiAgICBza2lwVW50aWw6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2tpcFdoaWxlKG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgICB9LFxuXG4gICAgc29ydEJ5OiBmdW5jdGlvbihtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpKTtcbiAgICB9LFxuXG4gICAgdGFrZTogZnVuY3Rpb24oYW1vdW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5zbGljZSgwLCBNYXRoLm1heCgwLCBhbW91bnQpKTtcbiAgICB9LFxuXG4gICAgdGFrZUxhc3Q6IGZ1bmN0aW9uKGFtb3VudCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkudGFrZShhbW91bnQpLnJldmVyc2UoKSk7XG4gICAgfSxcblxuICAgIHRha2VXaGlsZTogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgdGFrZVdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQpKTtcbiAgICB9LFxuXG4gICAgdGFrZVVudGlsOiBmdW5jdGlvbihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRha2VXaGlsZShub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gICAgfSxcblxuICAgIHZhbHVlU2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvSW5kZXhlZFNlcSgpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBIYXNoYWJsZSBPYmplY3RcblxuICAgIGhhc2hDb2RlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9faGFzaCB8fCAodGhpcy5fX2hhc2ggPSBoYXNoSXRlcmFibGUodGhpcykpO1xuICAgIH1cblxuXG4gICAgLy8gIyMjIEludGVybmFsXG5cbiAgICAvLyBhYnN0cmFjdCBfX2l0ZXJhdGUoZm4sIHJldmVyc2UpXG5cbiAgICAvLyBhYnN0cmFjdCBfX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpXG4gIH0pO1xuXG4gIC8vIHZhciBJU19JVEVSQUJMRV9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0lURVJBQkxFX19AQCc7XG4gIC8vIHZhciBJU19LRVlFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0tFWUVEX19AQCc7XG4gIC8vIHZhciBJU19JTkRFWEVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfSU5ERVhFRF9fQEAnO1xuICAvLyB2YXIgSVNfT1JERVJFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX09SREVSRURfX0BAJztcblxuICB2YXIgSXRlcmFibGVQcm90b3R5cGUgPSBJdGVyYWJsZS5wcm90b3R5cGU7XG4gIEl0ZXJhYmxlUHJvdG90eXBlW0lTX0lURVJBQkxFX1NFTlRJTkVMXSA9IHRydWU7XG4gIEl0ZXJhYmxlUHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBJdGVyYWJsZVByb3RvdHlwZS52YWx1ZXM7XG4gIEl0ZXJhYmxlUHJvdG90eXBlLl9fdG9KUyA9IEl0ZXJhYmxlUHJvdG90eXBlLnRvQXJyYXk7XG4gIEl0ZXJhYmxlUHJvdG90eXBlLl9fdG9TdHJpbmdNYXBwZXIgPSBxdW90ZVN0cmluZztcbiAgSXRlcmFibGVQcm90b3R5cGUuaW5zcGVjdCA9XG4gIEl0ZXJhYmxlUHJvdG90eXBlLnRvU291cmNlID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnRvU3RyaW5nKCk7IH07XG4gIEl0ZXJhYmxlUHJvdG90eXBlLmNoYWluID0gSXRlcmFibGVQcm90b3R5cGUuZmxhdE1hcDtcbiAgSXRlcmFibGVQcm90b3R5cGUuY29udGFpbnMgPSBJdGVyYWJsZVByb3RvdHlwZS5pbmNsdWRlcztcblxuICAvLyBUZW1wb3Jhcnkgd2FybmluZyBhYm91dCB1c2luZyBsZW5ndGhcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEl0ZXJhYmxlUHJvdG90eXBlLCAnbGVuZ3RoJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIUl0ZXJhYmxlLm5vTGVuZ3RoV2FybmluZykge1xuICAgICAgICAgICAgdmFyIHN0YWNrO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBzdGFjayA9IGVycm9yLnN0YWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YWNrLmluZGV4T2YoJ193cmFwT2JqZWN0JykgPT09IC0xKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUgJiYgY29uc29sZS53YXJuICYmIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAnaXRlcmFibGUubGVuZ3RoIGhhcyBiZWVuIGRlcHJlY2F0ZWQsICcrXG4gICAgICAgICAgICAgICAgJ3VzZSBpdGVyYWJsZS5zaXplIG9yIGl0ZXJhYmxlLmNvdW50KCkuICcrXG4gICAgICAgICAgICAgICAgJ1RoaXMgd2FybmluZyB3aWxsIGJlY29tZSBhIHNpbGVudCBlcnJvciBpbiBhIGZ1dHVyZSB2ZXJzaW9uLiAnICtcbiAgICAgICAgICAgICAgICBzdGFja1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSkoKTtcblxuXG5cbiAgbWl4aW4oS2V5ZWRJdGVyYWJsZSwge1xuXG4gICAgLy8gIyMjIE1vcmUgc2VxdWVudGlhbCBtZXRob2RzXG5cbiAgICBmbGlwOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGlwRmFjdG9yeSh0aGlzKSk7XG4gICAgfSxcblxuICAgIGZpbmRLZXk6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeVswXTtcbiAgICB9LFxuXG4gICAgZmluZExhc3RLZXk6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkuZmluZEtleShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH0sXG5cbiAgICBrZXlPZjogZnVuY3Rpb24oc2VhcmNoVmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbmRLZXkoZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIGlzKHZhbHVlLCBzZWFyY2hWYWx1ZSl9KTtcbiAgICB9LFxuXG4gICAgbGFzdEtleU9mOiBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZmluZExhc3RLZXkoZnVuY3Rpb24odmFsdWUgKSB7cmV0dXJuIGlzKHZhbHVlLCBzZWFyY2hWYWx1ZSl9KTtcbiAgICB9LFxuXG4gICAgbWFwRW50cmllczogZnVuY3Rpb24obWFwcGVyLCBjb250ZXh0KSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcyxcbiAgICAgICAgdGhpcy50b1NlcSgpLm1hcChcbiAgICAgICAgICBmdW5jdGlvbih2LCBrKSAge3JldHVybiBtYXBwZXIuY2FsbChjb250ZXh0LCBbaywgdl0sIGl0ZXJhdGlvbnMrKywgdGhpcyQwKX1cbiAgICAgICAgKS5mcm9tRW50cnlTZXEoKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgbWFwS2V5czogZnVuY3Rpb24obWFwcGVyLCBjb250ZXh0KSB7dmFyIHRoaXMkMCA9IHRoaXM7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcyxcbiAgICAgICAgdGhpcy50b1NlcSgpLmZsaXAoKS5tYXAoXG4gICAgICAgICAgZnVuY3Rpb24oaywgdikgIHtyZXR1cm4gbWFwcGVyLmNhbGwoY29udGV4dCwgaywgdiwgdGhpcyQwKX1cbiAgICAgICAgKS5mbGlwKClcbiAgICAgICk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIHZhciBLZXllZEl0ZXJhYmxlUHJvdG90eXBlID0gS2V5ZWRJdGVyYWJsZS5wcm90b3R5cGU7XG4gIEtleWVkSXRlcmFibGVQcm90b3R5cGVbSVNfS0VZRURfU0VOVElORUxdID0gdHJ1ZTtcbiAgS2V5ZWRJdGVyYWJsZVByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gSXRlcmFibGVQcm90b3R5cGUuZW50cmllcztcbiAgS2V5ZWRJdGVyYWJsZVByb3RvdHlwZS5fX3RvSlMgPSBJdGVyYWJsZVByb3RvdHlwZS50b09iamVjdDtcbiAgS2V5ZWRJdGVyYWJsZVByb3RvdHlwZS5fX3RvU3RyaW5nTWFwcGVyID0gZnVuY3Rpb24odiwgaykgIHtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoaykgKyAnOiAnICsgcXVvdGVTdHJpbmcodil9O1xuXG5cblxuICBtaXhpbihJbmRleGVkSXRlcmFibGUsIHtcblxuICAgIC8vICMjIyBDb252ZXJzaW9uIHRvIG90aGVyIHR5cGVzXG5cbiAgICB0b0tleWVkU2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgVG9LZXllZFNlcXVlbmNlKHRoaXMsIGZhbHNlKTtcbiAgICB9LFxuXG5cbiAgICAvLyAjIyMgRVM2IENvbGxlY3Rpb24gbWV0aG9kcyAoRVM2IEFycmF5IGFuZCBNYXApXG5cbiAgICBmaWx0ZXI6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGZpbHRlckZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCBmYWxzZSkpO1xuICAgIH0sXG5cbiAgICBmaW5kSW5kZXg6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBlbnRyeSA/IGVudHJ5WzBdIDogLTE7XG4gICAgfSxcblxuICAgIGluZGV4T2Y6IGZ1bmN0aW9uKHNlYXJjaFZhbHVlKSB7XG4gICAgICB2YXIga2V5ID0gdGhpcy50b0tleWVkU2VxKCkua2V5T2Yoc2VhcmNoVmFsdWUpO1xuICAgICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gLTEgOiBrZXk7XG4gICAgfSxcblxuICAgIGxhc3RJbmRleE9mOiBmdW5jdGlvbihzZWFyY2hWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkuaW5kZXhPZihzZWFyY2hWYWx1ZSk7XG4gICAgfSxcblxuICAgIHJldmVyc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHJldmVyc2VGYWN0b3J5KHRoaXMsIGZhbHNlKSk7XG4gICAgfSxcblxuICAgIHNsaWNlOiBmdW5jdGlvbihiZWdpbiwgZW5kKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgc2xpY2VGYWN0b3J5KHRoaXMsIGJlZ2luLCBlbmQsIGZhbHNlKSk7XG4gICAgfSxcblxuICAgIHNwbGljZTogZnVuY3Rpb24oaW5kZXgsIHJlbW92ZU51bSAvKiwgLi4udmFsdWVzKi8pIHtcbiAgICAgIHZhciBudW1BcmdzID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIHJlbW92ZU51bSA9IE1hdGgubWF4KHJlbW92ZU51bSB8IDAsIDApO1xuICAgICAgaWYgKG51bUFyZ3MgPT09IDAgfHwgKG51bUFyZ3MgPT09IDIgJiYgIXJlbW92ZU51bSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICAvLyBJZiBpbmRleCBpcyBuZWdhdGl2ZSwgaXQgc2hvdWxkIHJlc29sdmUgcmVsYXRpdmUgdG8gdGhlIHNpemUgb2YgdGhlXG4gICAgICAvLyBjb2xsZWN0aW9uLiBIb3dldmVyIHNpemUgbWF5IGJlIGV4cGVuc2l2ZSB0byBjb21wdXRlIGlmIG5vdCBjYWNoZWQsIHNvXG4gICAgICAvLyBvbmx5IGNhbGwgY291bnQoKSBpZiB0aGUgbnVtYmVyIGlzIGluIGZhY3QgbmVnYXRpdmUuXG4gICAgICBpbmRleCA9IHJlc29sdmVCZWdpbihpbmRleCwgaW5kZXggPCAwID8gdGhpcy5jb3VudCgpIDogdGhpcy5zaXplKTtcbiAgICAgIHZhciBzcGxpY2VkID0gdGhpcy5zbGljZSgwLCBpbmRleCk7XG4gICAgICByZXR1cm4gcmVpZnkoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIG51bUFyZ3MgPT09IDEgP1xuICAgICAgICAgIHNwbGljZWQgOlxuICAgICAgICAgIHNwbGljZWQuY29uY2F0KGFyckNvcHkoYXJndW1lbnRzLCAyKSwgdGhpcy5zbGljZShpbmRleCArIHJlbW92ZU51bSkpXG4gICAgICApO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBNb3JlIGNvbGxlY3Rpb24gbWV0aG9kc1xuXG4gICAgZmluZExhc3RJbmRleDogZnVuY3Rpb24ocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICB2YXIga2V5ID0gdGhpcy50b0tleWVkU2VxKCkuZmluZExhc3RLZXkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/IC0xIDoga2V5O1xuICAgIH0sXG5cbiAgICBmaXJzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoMCk7XG4gICAgfSxcblxuICAgIGZsYXR0ZW46IGZ1bmN0aW9uKGRlcHRoKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgZmxhdHRlbkZhY3RvcnkodGhpcywgZGVwdGgsIGZhbHNlKSk7XG4gICAgfSxcblxuICAgIGdldDogZnVuY3Rpb24oaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICByZXR1cm4gKGluZGV4IDwgMCB8fCAodGhpcy5zaXplID09PSBJbmZpbml0eSB8fFxuICAgICAgICAgICh0aGlzLnNpemUgIT09IHVuZGVmaW5lZCAmJiBpbmRleCA+IHRoaXMuc2l6ZSkpKSA/XG4gICAgICAgIG5vdFNldFZhbHVlIDpcbiAgICAgICAgdGhpcy5maW5kKGZ1bmN0aW9uKF8sIGtleSkgIHtyZXR1cm4ga2V5ID09PSBpbmRleH0sIHVuZGVmaW5lZCwgbm90U2V0VmFsdWUpO1xuICAgIH0sXG5cbiAgICBoYXM6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgICByZXR1cm4gaW5kZXggPj0gMCAmJiAodGhpcy5zaXplICE9PSB1bmRlZmluZWQgP1xuICAgICAgICB0aGlzLnNpemUgPT09IEluZmluaXR5IHx8IGluZGV4IDwgdGhpcy5zaXplIDpcbiAgICAgICAgdGhpcy5pbmRleE9mKGluZGV4KSAhPT0gLTFcbiAgICAgICk7XG4gICAgfSxcblxuICAgIGludGVycG9zZTogZnVuY3Rpb24oc2VwYXJhdG9yKSB7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgaW50ZXJwb3NlRmFjdG9yeSh0aGlzLCBzZXBhcmF0b3IpKTtcbiAgICB9LFxuXG4gICAgaW50ZXJsZWF2ZTogZnVuY3Rpb24oLyouLi5pdGVyYWJsZXMqLykge1xuICAgICAgdmFyIGl0ZXJhYmxlcyA9IFt0aGlzXS5jb25jYXQoYXJyQ29weShhcmd1bWVudHMpKTtcbiAgICAgIHZhciB6aXBwZWQgPSB6aXBXaXRoRmFjdG9yeSh0aGlzLnRvU2VxKCksIEluZGV4ZWRTZXEub2YsIGl0ZXJhYmxlcyk7XG4gICAgICB2YXIgaW50ZXJsZWF2ZWQgPSB6aXBwZWQuZmxhdHRlbih0cnVlKTtcbiAgICAgIGlmICh6aXBwZWQuc2l6ZSkge1xuICAgICAgICBpbnRlcmxlYXZlZC5zaXplID0gemlwcGVkLnNpemUgKiBpdGVyYWJsZXMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGludGVybGVhdmVkKTtcbiAgICB9LFxuXG4gICAgbGFzdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoLTEpO1xuICAgIH0sXG5cbiAgICBza2lwV2hpbGU6IGZ1bmN0aW9uKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNraXBXaGlsZUZhY3RvcnkodGhpcywgcHJlZGljYXRlLCBjb250ZXh0LCBmYWxzZSkpO1xuICAgIH0sXG5cbiAgICB6aXA6IGZ1bmN0aW9uKC8qLCAuLi5pdGVyYWJsZXMgKi8pIHtcbiAgICAgIHZhciBpdGVyYWJsZXMgPSBbdGhpc10uY29uY2F0KGFyckNvcHkoYXJndW1lbnRzKSk7XG4gICAgICByZXR1cm4gcmVpZnkodGhpcywgemlwV2l0aEZhY3RvcnkodGhpcywgZGVmYXVsdFppcHBlciwgaXRlcmFibGVzKSk7XG4gICAgfSxcblxuICAgIHppcFdpdGg6IGZ1bmN0aW9uKHppcHBlci8qLCAuLi5pdGVyYWJsZXMgKi8pIHtcbiAgICAgIHZhciBpdGVyYWJsZXMgPSBhcnJDb3B5KGFyZ3VtZW50cyk7XG4gICAgICBpdGVyYWJsZXNbMF0gPSB0aGlzO1xuICAgICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHppcFdpdGhGYWN0b3J5KHRoaXMsIHppcHBlciwgaXRlcmFibGVzKSk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIEluZGV4ZWRJdGVyYWJsZS5wcm90b3R5cGVbSVNfSU5ERVhFRF9TRU5USU5FTF0gPSB0cnVlO1xuICBJbmRleGVkSXRlcmFibGUucHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcblxuXG5cbiAgbWl4aW4oU2V0SXRlcmFibGUsIHtcblxuICAgIC8vICMjIyBFUzYgQ29sbGVjdGlvbiBtZXRob2RzIChFUzYgQXJyYXkgYW5kIE1hcClcblxuICAgIGdldDogZnVuY3Rpb24odmFsdWUsIG5vdFNldFZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXModmFsdWUpID8gdmFsdWUgOiBub3RTZXRWYWx1ZTtcbiAgICB9LFxuXG4gICAgaW5jbHVkZXM6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5oYXModmFsdWUpO1xuICAgIH0sXG5cblxuICAgIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gICAga2V5U2VxOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlU2VxKCk7XG4gICAgfVxuXG4gIH0pO1xuXG4gIFNldEl0ZXJhYmxlLnByb3RvdHlwZS5oYXMgPSBJdGVyYWJsZVByb3RvdHlwZS5pbmNsdWRlcztcblxuXG4gIC8vIE1peGluIHN1YmNsYXNzZXNcblxuICBtaXhpbihLZXllZFNlcSwgS2V5ZWRJdGVyYWJsZS5wcm90b3R5cGUpO1xuICBtaXhpbihJbmRleGVkU2VxLCBJbmRleGVkSXRlcmFibGUucHJvdG90eXBlKTtcbiAgbWl4aW4oU2V0U2VxLCBTZXRJdGVyYWJsZS5wcm90b3R5cGUpO1xuXG4gIG1peGluKEtleWVkQ29sbGVjdGlvbiwgS2V5ZWRJdGVyYWJsZS5wcm90b3R5cGUpO1xuICBtaXhpbihJbmRleGVkQ29sbGVjdGlvbiwgSW5kZXhlZEl0ZXJhYmxlLnByb3RvdHlwZSk7XG4gIG1peGluKFNldENvbGxlY3Rpb24sIFNldEl0ZXJhYmxlLnByb3RvdHlwZSk7XG5cblxuICAvLyAjcHJhZ21hIEhlbHBlciBmdW5jdGlvbnNcblxuICBmdW5jdGlvbiBrZXlNYXBwZXIodiwgaykge1xuICAgIHJldHVybiBrO1xuICB9XG5cbiAgZnVuY3Rpb24gZW50cnlNYXBwZXIodiwgaykge1xuICAgIHJldHVybiBbaywgdl07XG4gIH1cblxuICBmdW5jdGlvbiBub3QocHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBuZWcocHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIC1wcmVkaWNhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBxdW90ZVN0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0WmlwcGVyKCkge1xuICAgIHJldHVybiBhcnJDb3B5KGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0TmVnQ29tcGFyYXRvcihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPCBiID8gMSA6IGEgPiBiID8gLTEgOiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzaEl0ZXJhYmxlKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlLnNpemUgPT09IEluZmluaXR5KSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIG9yZGVyZWQgPSBpc09yZGVyZWQoaXRlcmFibGUpO1xuICAgIHZhciBrZXllZCA9IGlzS2V5ZWQoaXRlcmFibGUpO1xuICAgIHZhciBoID0gb3JkZXJlZCA/IDEgOiAwO1xuICAgIHZhciBzaXplID0gaXRlcmFibGUuX19pdGVyYXRlKFxuICAgICAga2V5ZWQgP1xuICAgICAgICBvcmRlcmVkID9cbiAgICAgICAgICBmdW5jdGlvbih2LCBrKSAgeyBoID0gMzEgKiBoICsgaGFzaE1lcmdlKGhhc2godiksIGhhc2goaykpIHwgMDsgfSA6XG4gICAgICAgICAgZnVuY3Rpb24odiwgaykgIHsgaCA9IGggKyBoYXNoTWVyZ2UoaGFzaCh2KSwgaGFzaChrKSkgfCAwOyB9IDpcbiAgICAgICAgb3JkZXJlZCA/XG4gICAgICAgICAgZnVuY3Rpb24odiApIHsgaCA9IDMxICogaCArIGhhc2godikgfCAwOyB9IDpcbiAgICAgICAgICBmdW5jdGlvbih2ICkgeyBoID0gaCArIGhhc2godikgfCAwOyB9XG4gICAgKTtcbiAgICByZXR1cm4gbXVybXVySGFzaE9mU2l6ZShzaXplLCBoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG11cm11ckhhc2hPZlNpemUoc2l6ZSwgaCkge1xuICAgIGggPSBzcmNfTWF0aF9faW11bChoLCAweENDOUUyRDUxKTtcbiAgICBoID0gc3JjX01hdGhfX2ltdWwoaCA8PCAxNSB8IGggPj4+IC0xNSwgMHgxQjg3MzU5Myk7XG4gICAgaCA9IHNyY19NYXRoX19pbXVsKGggPDwgMTMgfCBoID4+PiAtMTMsIDUpO1xuICAgIGggPSAoaCArIDB4RTY1NDZCNjQgfCAwKSBeIHNpemU7XG4gICAgaCA9IHNyY19NYXRoX19pbXVsKGggXiBoID4+PiAxNiwgMHg4NUVCQ0E2Qik7XG4gICAgaCA9IHNyY19NYXRoX19pbXVsKGggXiBoID4+PiAxMywgMHhDMkIyQUUzNSk7XG4gICAgaCA9IHNtaShoIF4gaCA+Pj4gMTYpO1xuICAgIHJldHVybiBoO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzaE1lcmdlKGEsIGIpIHtcbiAgICByZXR1cm4gYSBeIGIgKyAweDlFMzc3OUI5ICsgKGEgPDwgNikgKyAoYSA+PiAyKSB8IDA7IC8vIGludFxuICB9XG5cbiAgdmFyIEltbXV0YWJsZSA9IHtcblxuICAgIEl0ZXJhYmxlOiBJdGVyYWJsZSxcblxuICAgIFNlcTogU2VxLFxuICAgIENvbGxlY3Rpb246IENvbGxlY3Rpb24sXG4gICAgTWFwOiBzcmNfTWFwX19NYXAsXG4gICAgT3JkZXJlZE1hcDogT3JkZXJlZE1hcCxcbiAgICBMaXN0OiBMaXN0LFxuICAgIFN0YWNrOiBTdGFjayxcbiAgICBTZXQ6IHNyY19TZXRfX1NldCxcbiAgICBPcmRlcmVkU2V0OiBPcmRlcmVkU2V0LFxuXG4gICAgUmVjb3JkOiBSZWNvcmQsXG4gICAgUmFuZ2U6IFJhbmdlLFxuICAgIFJlcGVhdDogUmVwZWF0LFxuXG4gICAgaXM6IGlzLFxuICAgIGZyb21KUzogZnJvbUpTXG5cbiAgfTtcblxuICByZXR1cm4gSW1tdXRhYmxlO1xuXG59KSk7IiwibW9kdWxlLmV4cG9ydHM9W1xuICAgIFwiYmlhdGNoXCIsXG4gICAgXCJiaXRjaFwiLFxuICAgIFwiY2hpbmFtYW5cIixcbiAgICBcImNoaW5hbWVuXCIsXG4gICAgXCJjaGlua1wiLFxuICAgIFwiY3JpcFwiLFxuICAgIFwiY3VudFwiLFxuICAgIFwiZGFnb1wiLFxuICAgIFwiZGF5Z29cIixcbiAgICBcImRlZ29cIixcbiAgICBcImRpY2tcIixcbiAgICBcImRvdWNoZWJhZ1wiLFxuICAgIFwiZHlrZVwiLFxuICAgIFwiZmFnXCIsXG4gICAgXCJmYXRhc3NcIixcbiAgICBcImZhdHNvXCIsXG4gICAgXCJnYXNoXCIsXG4gICAgXCJnaW1wXCIsXG4gICAgXCJnb2xsaXdvZ1wiLFxuICAgIFwiZ29va1wiLFxuICAgIFwiZ3lwXCIsXG4gICAgXCJob21vXCIsXG4gICAgXCJob29rZXJcIixcbiAgICBcImphcFwiLFxuICAgIFwia2lrZVwiLFxuICAgIFwia3JhdXRcIixcbiAgICBcImxhcmRhc3NcIixcbiAgICBcImxlc2JvXCIsXG4gICAgXCJuZWdyb1wiLFxuICAgIFwibmlnZ2VyXCIsXG4gICAgXCJwYWtpXCIsXG4gICAgXCJwdXNzeVwiLFxuICAgIFwicmFnaGVhZFwiLFxuICAgIFwicmV0YXJkXCIsXG4gICAgXCJzaGVtYWxlXCIsXG4gICAgXCJza2Fua1wiLFxuICAgIFwic2x1dFwiLFxuICAgIFwic3BpY1wiLFxuICAgIFwidGFyZFwiLFxuICAgIFwidGl0c1wiLFxuICAgIFwidGl0dFwiLFxuICAgIFwidHJhbm5pZXNcIixcbiAgICBcInRyYW5ueVwiLFxuICAgIFwidHdhdFwiLFxuICAgIFwid2V0YmFja1wiLFxuICAgIFwid2hvcmVcIixcbiAgICBcIndvcFwiXG5dXG4iLCIvKlxuICogd29yZGZpbHRlclxuICogaHR0cHM6Ly9naXRodWIuY29tL2Rhcml1c2svd29yZGZpbHRlclxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMyBEYXJpdXMgS2F6ZW1pXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmxhY2tsaXN0LCByZWdleDtcblxuZnVuY3Rpb24gcmVidWlsZCgpIHtcbiAgcmVnZXggPSBuZXcgUmVnRXhwKGJsYWNrbGlzdC5qb2luKCd8JyksICdpJyk7XG59XG5cbmJsYWNrbGlzdCA9IHJlcXVpcmUoJy4vYmFkd29yZHMuanNvbicpO1xucmVidWlsZCgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYmxhY2tsaXN0ZWQ6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHJldHVybiAhIWJsYWNrbGlzdC5sZW5ndGggJiYgcmVnZXgudGVzdChzdHJpbmcpO1xuICB9LFxuICBhZGRXb3JkczogZnVuY3Rpb24oYXJyYXkpIHtcbiAgICBibGFja2xpc3QgPSBibGFja2xpc3QuY29uY2F0KGFycmF5KTtcbiAgICByZWJ1aWxkKCk7XG4gIH0sXG4gIHJlbW92ZVdvcmQ6IGZ1bmN0aW9uKHdvcmQpIHtcbiAgICB2YXIgaW5kZXggPSBibGFja2xpc3QuaW5kZXhPZih3b3JkKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgYmxhY2tsaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgICByZWJ1aWxkKCk7XG4gICAgfVxuICB9LFxuICBjbGVhckxpc3Q6IGZ1bmN0aW9uKCkge1xuICAgIGJsYWNrbGlzdCA9IFtdO1xuICAgIHJlYnVpbGQoKTtcbiAgfSxcbn07XG4iLCJcbi8qKlxuICogTW9kdWxlIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBkZXByZWNhdGU7XG5cbi8qKlxuICogTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbiAqIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS5ub0RlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG4gKlxuICogSWYgYGxvY2FsU3RvcmFnZS50aHJvd0RlcHJlY2F0aW9uID0gdHJ1ZWAgaXMgc2V0LCB0aGVuIGRlcHJlY2F0ZWQgZnVuY3Rpb25zXG4gKiB3aWxsIHRocm93IGFuIEVycm9yIHdoZW4gaW52b2tlZC5cbiAqXG4gKiBJZiBgbG9jYWxTdG9yYWdlLnRyYWNlRGVwcmVjYXRpb24gPSB0cnVlYCBpcyBzZXQsIHRoZW4gZGVwcmVjYXRlZCBmdW5jdGlvbnNcbiAqIHdpbGwgaW52b2tlIGBjb25zb2xlLnRyYWNlKClgIGluc3RlYWQgb2YgYGNvbnNvbGUuZXJyb3IoKWAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSB0aGUgZnVuY3Rpb24gdG8gZGVwcmVjYXRlXG4gKiBAcGFyYW0ge1N0cmluZ30gbXNnIC0gdGhlIHN0cmluZyB0byBwcmludCB0byB0aGUgY29uc29sZSB3aGVuIGBmbmAgaXMgaW52b2tlZFxuICogQHJldHVybnMge0Z1bmN0aW9ufSBhIG5ldyBcImRlcHJlY2F0ZWRcIiB2ZXJzaW9uIG9mIGBmbmBcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZGVwcmVjYXRlIChmbiwgbXNnKSB7XG4gIGlmIChjb25maWcoJ25vRGVwcmVjYXRpb24nKSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHtcbiAgICBpZiAoIXdhcm5lZCkge1xuICAgICAgaWYgKGNvbmZpZygndGhyb3dEZXByZWNhdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChjb25maWcoJ3RyYWNlRGVwcmVjYXRpb24nKSkge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4obXNnKTtcbiAgICAgIH1cbiAgICAgIHdhcm5lZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgcmV0dXJuIGRlcHJlY2F0ZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGBsb2NhbFN0b3JhZ2VgIGZvciBib29sZWFuIHZhbHVlcyBmb3IgdGhlIGdpdmVuIGBuYW1lYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb25maWcgKG5hbWUpIHtcbiAgLy8gYWNjZXNzaW5nIGdsb2JhbC5sb2NhbFN0b3JhZ2UgY2FuIHRyaWdnZXIgYSBET01FeGNlcHRpb24gaW4gc2FuZGJveGVkIGlmcmFtZXNcbiAgdHJ5IHtcbiAgICBpZiAoIWdsb2JhbC5sb2NhbFN0b3JhZ2UpIHJldHVybiBmYWxzZTtcbiAgfSBjYXRjaCAoXykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdmFsID0gZ2xvYmFsLmxvY2FsU3RvcmFnZVtuYW1lXTtcbiAgaWYgKG51bGwgPT0gdmFsKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBTdHJpbmcodmFsKS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuIiwidmFyIHBpY2sgPSByZXF1aXJlKCdwaWNrLXJhbmRvbScpXG52YXIgaW1hZ2VNYXAgPSByZXF1aXJlKCcuL2ltYWdlTWFwJylcbnZhciBjYXAgPSByZXF1aXJlKCdjYXBpdGFsaXplJylcblxudmFyIGFic2VuY2UgPSByZXF1aXJlKCcuL2FjdG9ycy9hYnNlbmNlJylcbnZhciBiYWVzID0gcmVxdWlyZSgnLi9hY3RvcnMvYmFlcycpXG52YXIgc25ha2Vfb2lsID0gcmVxdWlyZSgnLi9hY3RvcnMvc25ha2Vfb2lsJylcbnZhciBzbm93YmFsbGVyID0gcmVxdWlyZSgnLi9hY3RvcnMvc25vd2JhbGxlcicpXG5cbnZhciBpbWFnZU1hcCA9IHJlcXVpcmUoJy4vaW1hZ2VNYXAnKVxuXG52YXIgYWN0b3JzID0gW2Fic2VuY2UsIGJhZXMsIHNuYWtlX29pbCwgc25vd2JhbGxlcl1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUsIG51bSwgdG9waWNzKSB7XG4gIHZhciBzZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpIC8vIG5pY2Ugc2VtYW50aWNzIGhlcmVcbiAgc2VjdGlvbi5jbGFzc05hbWUgPSAnc2VjdGlvbidcblxuXG4gIHZhciBjb3ZlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NlbnRlcicpIC8vIG5pY2Ugc2VtYW50aWNzIGhlcmVcbiAgY292ZXIuY2xhc3NOYW1lID0gJ3BhZ2UnXG5cbiAgdmFyIGhlYWRpbmcgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKVxuICBoZWFkaW5nLnRleHRDb250ZW50ID0gbmFtZVxuICBjb3Zlci5hcHBlbmRDaGlsZChoZWFkaW5nKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgdmFyIHN1YkltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICBzdWJJbWFnZS5jbGFzc05hbWUgPSAnc2VjdGlvbi0taW1nJ1xuICAgIHN1YkltYWdlLnNyYyA9IHBpY2socGljayhpbWFnZU1hcClbMF0pWzBdXG4gICAgY292ZXIuYXBwZW5kQ2hpbGQoc3ViSW1hZ2UpXG5cbiAgICBpZiAoaSA9PSAxKSB7XG4gICAgICBjb3Zlci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpKVxuICAgIH1cbiAgfVxuXG5cbiAgc2VjdGlvbi5hcHBlbmRDaGlsZChjb3ZlcilcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IDc7IGkrKykge1xuICAgIHZhciBwYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2VudGVyJykgLy8gbmljZSBzZW1hbnRpY3MgaGVyZVxuICAgIHBhZ2UuY2xhc3NOYW1lID0gJ3BhZ2UnXG5cblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgMjA7IGorKykge1xuICAgICAgdmFyIGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgaXRlbS5jbGFzc05hbWUgPSAnaXRlbSdcblxuICAgICAgdmFyIGFjdG9yID0gcGljayhhY3RvcnMpWzBdXG4gICAgICB2YXIgaXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gICAgICBpdGVtSW1nLmNsYXNzTmFtZSA9ICdpdGVtLS1pbWcnXG4gICAgICBpdGVtSW1nLnNyYyA9IHBpY2socGljayhpbWFnZU1hcClbMF0pWzBdXG4gICAgICBpdGVtLmFwcGVuZENoaWxkKGl0ZW1JbWcpXG5cbiAgICAgIHZhciB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaCcgKyAofn4oTWF0aC5yYW5kb20oKSAqIDUpICsgMikpXG4gICAgICB0ZXh0LnRleHRDb250ZW50ID0gYWN0b3IoKH5+KE1hdGgucmFuZG9tKCkgKiA3KSArIDMpKVxuICAgICAgaXRlbS5hcHBlbmRDaGlsZChpdGVtSW1nKVxuICAgICAgaXRlbS5hcHBlbmRDaGlsZCh0ZXh0KVxuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjc1KSB7XG4gICAgICAgIHZhciBzdW1tYXJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2VudGVyJylcbiAgICAgICAgc3VtbWFyeS50ZXh0Q29udGVudCA9IGFjdG9yKCh+fihNYXRoLnJhbmRvbSgpICogMTIpICsgNykpXG4gICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoc3VtbWFyeSlcbiAgICAgIH0gZWxzZSBpZiAoTWF0aC5yYW5kb20oKSA8IDAuNSkge1xuICAgICAgICB2YXIgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29sJylcbiAgICAgICAgbGlzdC5jbGFzc05hbWUgPSAnaXRlbS0tbGlzdCdcbiAgICAgICAgdG9waWNzLmZvckVhY2goZnVuY3Rpb24gKHRvcGljKSB7XG4gICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxuICAgICAgICAgIGVsLnRleHRDb250ZW50ID0gYWN0b3IoKH5+KE1hdGgucmFuZG9tKCkgKiAxMikgKyA3KSlcbiAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGVsKVxuICAgICAgICB9KVxuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKGxpc3QpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYXV0aG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDUnKVxuICAgICAgICBhdXRob3IudGV4dENvbnRlbnQgPSAnYnkgJyArIGFjdG9yKDMpLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uICh3KSB7cmV0dXJuIGNhcCh3KX0pXG4gICAgICAgIHZhciBvcEVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgb3BFZC50ZXh0Q29udGVudCA9IFsxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMl0ubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgcmV0dXJuIGFjdG9yKGkgKyB+fihNYXRoLnJhbmRvbSgpICogMjUpKVxuICAgICAgICB9KS5qb2luKCcuICcpXG4gICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQoYXV0aG9yKVxuICAgICAgICBpdGVtLmFwcGVuZENoaWxkKG9wRWQpXG4gICAgICB9XG4gICAgICBwYWdlLmFwcGVuZENoaWxkKGl0ZW0pXG4gICAgfVxuICAgIHNlY3Rpb24uYXBwZW5kQ2hpbGQocGFnZSlcbiAgfVxuICByZXR1cm4gc2VjdGlvblxufVxuIiwidmFyIHEgPSByZXF1aXJlKCdxdWVuZWF1LWJ1Y2tldHMnKSgpXG5xLnNlZWQocmVxdWlyZSgnLi9jb3JwdXNlcy9zdWJ0aXRsZXMnKSlcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBxLmZpbGwofn4oTWF0aC5yYW5kb20oKSAqIDMpICsgMikudG9VcHBlckNhc2UoKVxufVxuIiwidmFyIHEgPSByZXF1aXJlKCdxdWVuZWF1LWJ1Y2tldHMnKSgpXG5xLnNlZWQocmVxdWlyZSgnLi9jb3JwdXNlcy9UT0MnKSlcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBbMSwgMiwgMywgNCwgNSwgNiwgN10ubWFwKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VjID0gcS5maWxsKH5+KE1hdGgucmFuZG9tKCkgKiAzKSArIDIpXG4gICAgY29uc29sZS5sb2coc2VjKVxuICAgIHJldHVybiBzZWMudG9VcHBlckNhc2UoKVxuICB9KVxufVxuIiwiXG52YXIgcGljayA9IHJlcXVpcmUoJ3BpY2stcmFuZG9tJylcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHRvcGljcykge1xuXG5cbiAgdmFyIHRvY1BhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJylcbiAgdG9jUGFnZS5jbGFzc05hbWUgPSAndG9jIHBhZ2UnXG4gIHZhciBjZW50b2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjZW50ZXInKVxuICB2YXIgaGVhZGxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpXG4gIGhlYWRsaW5lLmNsYXNzTmFtZSA9ICd0b2MtLWhlYWRsaW5lJ1xuICBoZWFkbGluZS50ZXh0Q29udGVudCA9ICdUSEVFIE5VTExFIEVBUlRIRSBDQVRBTE9HRSdcbiAgY2VudG9jLmFwcGVuZENoaWxkKGhlYWRsaW5lKVxuXG5cbiAgdmFyIGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvbCcpXG4gIGxpc3QuY2xhc3NOYW1lID0gJ3RvYy0tbGlzdCdcblxuICB0b3BpY3MuZm9yRWFjaChmdW5jdGlvbiAodG9waWMpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXG4gICAgZWwuY2xhc3NOYW1lID0gJ3RvYy0taGVhZGVyJ1xuICAgIGVsLnRleHRDb250ZW50ID0gdG9waWMudG9VcHBlckNhc2UoKVxuICAgIGxpc3QuYXBwZW5kQ2hpbGQoZWwpXG4gIH0pXG5cblxuICBjZW50b2MuYXBwZW5kQ2hpbGQobGlzdClcbiAgdG9jUGFnZS5hcHBlbmRDaGlsZChjZW50b2MpXG4gIHJldHVybiB0b2NQYWdlXG59IiwiXG52YXIgcGljayA9IHJlcXVpcmUoJ3BpY2stcmFuZG9tJylcbnZhciBpbWFnZU1hcCA9IHJlcXVpcmUoJy4vaW1hZ2VNYXAnKVxudmFyIG1pc3Npb25TdGF0ZW1lbnQgPSByZXF1aXJlKCcuL21pc3Npb25TdGF0ZW1lbnQnKSgpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VzKSB7XG5cblxuICB2YXIgdXNlUGFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlY3Rpb24nKVxuICB1c2VQYWdlLmNsYXNzTmFtZSA9ICd1c2UgcGFnZSdcblxuXG5cbiAgdmFyIGNlbnRvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2VudGVyJylcbiAgdmFyIGhlYWRsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKVxuICBoZWFkbGluZS5jbGFzc05hbWUgPSAndXNlLS1oZWFkbGluZSdcbiAgaGVhZGxpbmUudGV4dENvbnRlbnQgPSAnSE9XIDIgVVNFIFRISVMgVEVYVCdcbiAgY2VudG8uYXBwZW5kQ2hpbGQoaGVhZGxpbmUpXG5cblxuICB2YXIgbGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29sJylcbiAgbGlzdC5jbGFzc05hbWUgPSAndXNlLS1saXN0J1xuXG4gIHVzZXMuZm9yRWFjaChmdW5jdGlvbiAodXNlKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKVxuICAgIGVsLmNsYXNzTmFtZSA9ICd1c2UtLWhlYWRlcidcbiAgICBlbC50ZXh0Q29udGVudCA9IHVzZS50b1VwcGVyQ2FzZSgpXG4gICAgbGlzdC5hcHBlbmRDaGlsZChlbClcbiAgfSlcblxuICBjZW50by5hcHBlbmRDaGlsZChsaXN0KVxuXG4gIHZhciBzdWJJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpXG4gIHN1YkltYWdlLmNsYXNzTmFtZSA9ICd1c2UtLWltZydcbiAgc3ViSW1hZ2Uuc3JjID0gcGljayhwaWNrKGltYWdlTWFwKVswXSlbMF1cbiAgY2VudG8uYXBwZW5kQ2hpbGQoc3ViSW1hZ2UpXG5cbiAgdmFyIHRoZU1pc3Npb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICB0aGVNaXNzaW9uLmNsYXNzTmFtZSA9ICd1c2UtLW1pc3Npb24nXG4gIHRoZU1pc3Npb24udGV4dENvbnRlbnQgPSBtaXNzaW9uU3RhdGVtZW50XG4gIGNlbnRvLmFwcGVuZENoaWxkKHRoZU1pc3Npb24pXG4gIHVzZVBhZ2UuYXBwZW5kQ2hpbGQoY2VudG8pXG4gIHJldHVybiB1c2VQYWdlXG59IiwidmFyIHBpY2sgPSByZXF1aXJlKCdwaWNrLXJhbmRvbScpXG5cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBwaWNrKFtcIlBVUlBPU0VcIiwgXCJGVU5DVElPTlwiLCBcIlVTRVwiLCBcIkhPUEVTXCIsIFwiRkVBUlNcIiwgXCJEUkVBTVNcIiwgXCJDQVRTXCIsIFwiUE9SUE9JU0VcIiwgXCJNQUdJQ1wiLFxuICAgICAgICAgICAgICAgXCJBQlNUUkFDVC1FWFBSRVNTSU9OSVNNXCIsIFwiQU5USS1DQVBJVEFMSVNNXCIsIFwiTkVUIEFSVFwiLCBcIlRJUFMgRk9SIFRXSVRURVJcIiwgXCJFTVBBVEhZXCIsXG4gICAgICAgICAgICAgICBcIkxJQkVSQVRJT05cIiwgXCJNQVJYSVNNXCIsIFwiVE9QIDQwIFBPUCBTVEFSU1wiXSwge2NvdW50OiAzfSlcbn0iXX0=
